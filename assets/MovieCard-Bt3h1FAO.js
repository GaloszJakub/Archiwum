import{r,j as e,m as u}from"./index-DmLfijxt.js";import{A as k}from"./AddToCollectionButton-Cop-8Urs.js";const X=r.memo(({id:Y,title:o,posterUrl:m,year:i,rating:n,layoutId:h,tmdbId:c,type:l,posterPath:g,onClick:a})=>{const[x,d]=r.useState(0),[f,p]=r.useState(0),v=t=>{const s=t.currentTarget.getBoundingClientRect(),j=s.left+s.width/2,w=s.top+s.height/2,N=(t.clientX-j)/(s.width/2),M=(t.clientY-w)/(s.height/2);p(N*10),d(-M*10)},y=()=>{d(0),p(0)},b=t=>{a&&(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),a())};return e.jsx(u.div,{layoutId:h,className:"group relative aspect-[2/3] overflow-hidden rounded-lg bg-background-secondary cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary",style:{transformStyle:"preserve-3d",perspective:"1000px"},onMouseMove:v,onMouseLeave:y,onClick:a,onKeyDown:b,role:"button",tabIndex:0,whileHover:{scale:1.05},whileFocus:{scale:1.05},transition:{type:"spring",stiffness:300,damping:20},children:e.jsxs(u.div,{style:{rotateX:x,rotateY:f},transition:{type:"spring",stiffness:400,damping:30},className:"w-full h-full",children:[e.jsx("img",{src:m,alt:o,className:"w-full h-full object-cover",loading:"lazy"}),c&&l&&e.jsx("div",{className:"absolute top-2 right-2 z-10 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity",onClick:t=>t.stopPropagation(),role:"button",tabIndex:0,onKeyDown:t=>t.stopPropagation(),children:e.jsx(k,{tmdbId:c,type:l,title:o,posterPath:g||null})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:o}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-foreground-secondary",children:[i&&e.jsx("span",{children:i}),n&&n>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:["⭐ ",n.toFixed(1)]})]})]})]})})]})})});X.displayName="MovieCard";export{X as M};
