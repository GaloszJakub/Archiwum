function B3(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function wN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sx={exports:{}},yf={},ix={exports:{}},mt={};var bP;function W3(){if(bP)return mt;bP=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,x={};function S(W,Q,ie){this.props=W,this.context=Q,this.refs=x,this.updater=ie||w}S.prototype.isReactComponent={},S.prototype.setState=function(W,Q){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Q,"setState")},S.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function R(){}R.prototype=S.prototype;function k(W,Q,ie){this.props=W,this.context=Q,this.refs=x,this.updater=ie||w}var j=k.prototype=new R;j.constructor=k,T(j,S.prototype),j.isPureReactComponent=!0;var I=Array.isArray,L=Object.prototype.hasOwnProperty,z={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(W,Q,ie){var ue,Z={},me=null,ce=null;if(Q!=null)for(ue in Q.ref!==void 0&&(ce=Q.ref),Q.key!==void 0&&(me=""+Q.key),Q)L.call(Q,ue)&&!P.hasOwnProperty(ue)&&(Z[ue]=Q[ue]);var xe=arguments.length-2;if(xe===1)Z.children=ie;else if(1<xe){for(var Ee=Array(xe),Fe=0;Fe<xe;Fe++)Ee[Fe]=arguments[Fe+2];Z.children=Ee}if(W&&W.defaultProps)for(ue in xe=W.defaultProps,xe)Z[ue]===void 0&&(Z[ue]=xe[ue]);return{$$typeof:n,type:W,key:me,ref:ce,props:Z,_owner:z.current}}function D(W,Q){return{$$typeof:n,type:W.type,key:Q,ref:W.ref,props:W.props,_owner:W._owner}}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function V(W){var Q={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ie){return Q[ie]})}var F=/\/+/g;function U(W,Q){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):Q.toString(36)}function X(W,Q,ie,ue,Z){var me=typeof W;(me==="undefined"||me==="boolean")&&(W=null);var ce=!1;if(W===null)ce=!0;else switch(me){case"string":case"number":ce=!0;break;case"object":switch(W.$$typeof){case n:case e:ce=!0}}if(ce)return ce=W,Z=Z(ce),W=ue===""?"."+U(ce,0):ue,I(Z)?(ie="",W!=null&&(ie=W.replace(F,"$&/")+"/"),X(Z,Q,ie,"",function(Fe){return Fe})):Z!=null&&(O(Z)&&(Z=D(Z,ie+(!Z.key||ce&&ce.key===Z.key?"":(""+Z.key).replace(F,"$&/")+"/")+W)),Q.push(Z)),1;if(ce=0,ue=ue===""?".":ue+":",I(W))for(var xe=0;xe<W.length;xe++){me=W[xe];var Ee=ue+U(me,xe);ce+=X(me,Q,ie,Ee,Z)}else if(Ee=v(W),typeof Ee=="function")for(W=Ee.call(W),xe=0;!(me=W.next()).done;)me=me.value,Ee=ue+U(me,xe++),ce+=X(me,Q,ie,Ee,Z);else if(me==="object")throw Q=String(W),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ce}function se(W,Q,ie){if(W==null)return W;var ue=[],Z=0;return X(W,ue,"","",function(me){return Q.call(ie,me,Z++)}),ue}function re(W){if(W._status===-1){var Q=W._result;Q=Q(),Q.then(function(ie){(W._status===0||W._status===-1)&&(W._status=1,W._result=ie)},function(ie){(W._status===0||W._status===-1)&&(W._status=2,W._result=ie)}),W._status===-1&&(W._status=0,W._result=Q)}if(W._status===1)return W._result.default;throw W._result}var J={current:null},q={transition:null},G={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:q,ReactCurrentOwner:z};function B(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:se,forEach:function(W,Q,ie){se(W,function(){Q.apply(this,arguments)},ie)},count:function(W){var Q=0;return se(W,function(){Q++}),Q},toArray:function(W){return se(W,function(Q){return Q})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},mt.Component=S,mt.Fragment=t,mt.Profiler=s,mt.PureComponent=k,mt.StrictMode=r,mt.Suspense=u,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,mt.act=B,mt.cloneElement=function(W,Q,ie){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ue=T({},W.props),Z=W.key,me=W.ref,ce=W._owner;if(Q!=null){if(Q.ref!==void 0&&(me=Q.ref,ce=z.current),Q.key!==void 0&&(Z=""+Q.key),W.type&&W.type.defaultProps)var xe=W.type.defaultProps;for(Ee in Q)L.call(Q,Ee)&&!P.hasOwnProperty(Ee)&&(ue[Ee]=Q[Ee]===void 0&&xe!==void 0?xe[Ee]:Q[Ee])}var Ee=arguments.length-2;if(Ee===1)ue.children=ie;else if(1<Ee){xe=Array(Ee);for(var Fe=0;Fe<Ee;Fe++)xe[Fe]=arguments[Fe+2];ue.children=xe}return{$$typeof:n,type:W.type,key:Z,ref:me,props:ue,_owner:ce}},mt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},mt.createElement=A,mt.createFactory=function(W){var Q=A.bind(null,W);return Q.type=W,Q},mt.createRef=function(){return{current:null}},mt.forwardRef=function(W){return{$$typeof:l,render:W}},mt.isValidElement=O,mt.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:re}},mt.memo=function(W,Q){return{$$typeof:d,type:W,compare:Q===void 0?null:Q}},mt.startTransition=function(W){var Q=q.transition;q.transition={};try{W()}finally{q.transition=Q}},mt.unstable_act=B,mt.useCallback=function(W,Q){return J.current.useCallback(W,Q)},mt.useContext=function(W){return J.current.useContext(W)},mt.useDebugValue=function(){},mt.useDeferredValue=function(W){return J.current.useDeferredValue(W)},mt.useEffect=function(W,Q){return J.current.useEffect(W,Q)},mt.useId=function(){return J.current.useId()},mt.useImperativeHandle=function(W,Q,ie){return J.current.useImperativeHandle(W,Q,ie)},mt.useInsertionEffect=function(W,Q){return J.current.useInsertionEffect(W,Q)},mt.useLayoutEffect=function(W,Q){return J.current.useLayoutEffect(W,Q)},mt.useMemo=function(W,Q){return J.current.useMemo(W,Q)},mt.useReducer=function(W,Q,ie){return J.current.useReducer(W,Q,ie)},mt.useRef=function(W){return J.current.useRef(W)},mt.useState=function(W){return J.current.useState(W)},mt.useSyncExternalStore=function(W,Q,ie){return J.current.useSyncExternalStore(W,Q,ie)},mt.useTransition=function(){return J.current.useTransition()},mt.version="18.3.1",mt}var SP;function Dv(){return SP||(SP=1,ix.exports=W3()),ix.exports}var TP;function q3(){if(TP)return yf;TP=1;var n=Dv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var h,m={},v=null,w=null;d!==void 0&&(v=""+d),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(h in u)r.call(u,h)&&!i.hasOwnProperty(h)&&(m[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:e,type:l,key:v,ref:w,props:m,_owner:s.current}}return yf.Fragment=t,yf.jsx=o,yf.jsxs=o,yf}var EP;function H3(){return EP||(EP=1,sx.exports=q3()),sx.exports}var p=H3(),vg={},ox={exports:{}},As={},ax={exports:{}},lx={};var CP;function K3(){return CP||(CP=1,(function(n){function e(q,G){var B=q.length;q.push(G);e:for(;0<B;){var W=B-1>>>1,Q=q[W];if(0<s(Q,G))q[W]=G,q[B]=Q,B=W;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],B=q.pop();if(B!==G){q[0]=B;e:for(var W=0,Q=q.length,ie=Q>>>1;W<ie;){var ue=2*(W+1)-1,Z=q[ue],me=ue+1,ce=q[me];if(0>s(Z,B))me<Q&&0>s(ce,Z)?(q[W]=ce,q[me]=B,W=me):(q[W]=Z,q[ue]=B,W=ue);else if(me<Q&&0>s(ce,B))q[W]=ce,q[me]=B,W=me;else break e}}return G}function s(q,G){var B=q.sortIndex-G.sortIndex;return B!==0?B:q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,m=null,v=3,w=!1,T=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(q){for(var G=t(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=q)r(d),G.sortIndex=G.expirationTime,e(u,G);else break;G=t(d)}}function I(q){if(x=!1,j(q),!T)if(t(u)!==null)T=!0,re(L);else{var G=t(d);G!==null&&J(I,G.startTime-q)}}function L(q,G){T=!1,x&&(x=!1,R(A),A=-1),w=!0;var B=v;try{for(j(G),m=t(u);m!==null&&(!(m.expirationTime>G)||q&&!V());){var W=m.callback;if(typeof W=="function"){m.callback=null,v=m.priorityLevel;var Q=W(m.expirationTime<=G);G=n.unstable_now(),typeof Q=="function"?m.callback=Q:m===t(u)&&r(u),j(G)}else r(u);m=t(u)}if(m!==null)var ie=!0;else{var ue=t(d);ue!==null&&J(I,ue.startTime-G),ie=!1}return ie}finally{m=null,v=B,w=!1}}var z=!1,P=null,A=-1,D=5,O=-1;function V(){return!(n.unstable_now()-O<D)}function F(){if(P!==null){var q=n.unstable_now();O=q;var G=!0;try{G=P(!0,q)}finally{G?U():(z=!1,P=null)}}else z=!1}var U;if(typeof k=="function")U=function(){k(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,se=X.port2;X.port1.onmessage=F,U=function(){se.postMessage(null)}}else U=function(){S(F,0)};function re(q){P=q,z||(z=!0,U())}function J(q,G){A=S(function(){q(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){T||w||(T=!0,re(L))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(q){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var B=v;v=G;try{return q()}finally{v=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var B=v;v=q;try{return G()}finally{v=B}},n.unstable_scheduleCallback=function(q,G,B){var W=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,q){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=B+Q,q={id:h++,callback:G,priorityLevel:q,startTime:B,expirationTime:Q,sortIndex:-1},B>W?(q.sortIndex=B,e(d,q),t(u)===null&&q===t(d)&&(x?(R(A),A=-1):x=!0,J(I,B-W))):(q.sortIndex=Q,e(u,q),T||w||(T=!0,re(L))),q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(q){var G=v;return function(){var B=v;v=G;try{return q.apply(this,arguments)}finally{v=B}}}})(lx)),lx}var PP;function G3(){return PP||(PP=1,ax.exports=K3()),ax.exports}var kP;function Y3(){if(kP)return As;kP=1;var n=Dv(),e=G3();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(s[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(a){return u.call(m,a)?!0:u.call(h,a)?!1:d.test(a)?m[a]=!0:(h[a]=!0,!1)}function w(a,c,f,y){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,c,f,y){if(c===null||typeof c>"u"||w(a,c,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function x(a,c,f,y,_,E,M){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=a,this.type=c,this.sanitizeURL=E,this.removeEmptyString=M}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){S[a]=new x(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];S[c]=new x(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){S[a]=new x(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){S[a]=new x(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){S[a]=new x(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){S[a]=new x(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){S[a]=new x(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){S[a]=new x(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){S[a]=new x(a,5,!1,a.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(R,k);S[c]=new x(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(R,k);S[c]=new x(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(R,k);S[c]=new x(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){S[a]=new x(a,1,!1,a.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){S[a]=new x(a,1,!1,a.toLowerCase(),null,!0,!0)});function j(a,c,f,y){var _=S.hasOwnProperty(c)?S[c]:null;(_!==null?_.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(T(c,f,_,y)&&(f=null),y||_===null?v(c)&&(f===null?a.removeAttribute(c):a.setAttribute(c,""+f)):_.mustUseProperty?a[_.propertyName]=f===null?_.type===3?!1:"":f:(c=_.attributeName,y=_.attributeNamespace,f===null?a.removeAttribute(c):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,y?a.setAttributeNS(y,c,f):a.setAttribute(c,f))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),z=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),q=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var B=Object.assign,W;function Q(a){if(W===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);W=c&&c[1]||""}return`
`+W+a}var ie=!1;function ue(a,c){if(!a||ie)return"";ie=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ae){var y=ae}Reflect.construct(a,[],c)}else{try{c.call()}catch(ae){y=ae}a.call(c.prototype)}else{try{throw Error()}catch(ae){y=ae}a()}}catch(ae){if(ae&&y&&typeof ae.stack=="string"){for(var _=ae.stack.split(`
`),E=y.stack.split(`
`),M=_.length-1,H=E.length-1;1<=M&&0<=H&&_[M]!==E[H];)H--;for(;1<=M&&0<=H;M--,H--)if(_[M]!==E[H]){if(M!==1||H!==1)do if(M--,H--,0>H||_[M]!==E[H]){var K=`
`+_[M].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),K}while(1<=M&&0<=H);break}}}finally{ie=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?Q(a):""}function Z(a){switch(a.tag){case 5:return Q(a.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return a=ue(a.type,!1),a;case 11:return a=ue(a.type.render,!1),a;case 1:return a=ue(a.type,!0),a;default:return""}}function me(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case z:return"Portal";case D:return"Profiler";case A:return"StrictMode";case U:return"Suspense";case X:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case O:return(a._context.displayName||"Context")+".Provider";case F:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case se:return c=a.displayName||null,c!==null?c:me(a.type)||"Memo";case re:c=a._payload,a=a._init;try{return me(a(c))}catch{}}return null}function ce(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(c);case 8:return c===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function xe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ee(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Fe(a){var c=Ee(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),y=""+a[c];if(!a.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,E=f.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return _.call(this)},set:function(M){y=""+M,E.call(this,M)}}),Object.defineProperty(a,c,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(M){y=""+M},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function ze(a){a._valueTracker||(a._valueTracker=Fe(a))}function Ze(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var f=c.getValue(),y="";return a&&(y=Ee(a)?a.checked?"true":"false":a.value),a=y,a!==f?(c.setValue(a),!0):!1}function Oe(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ft(a,c){var f=c.checked;return B({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function nn(a,c){var f=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;f=xe(c.value!=null?c.value:f),a._wrapperState={initialChecked:y,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function qt(a,c){c=c.checked,c!=null&&j(a,"checked",c,!1)}function oe(a,c){qt(a,c);var f=xe(c.value),y=c.type;if(f!=null)y==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Dt(a,c.type,f):c.hasOwnProperty("defaultValue")&&Dt(a,c.type,xe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function pn(a,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,f||c===a.value||(a.value=c),a.defaultValue=c}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Dt(a,c,f){(c!=="number"||Oe(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var It=Array.isArray;function ct(a,c,f,y){if(a=a.options,c){c={};for(var _=0;_<f.length;_++)c["$"+f[_]]=!0;for(f=0;f<a.length;f++)_=c.hasOwnProperty("$"+a[f].value),a[f].selected!==_&&(a[f].selected=_),_&&y&&(a[f].defaultSelected=!0)}else{for(f=""+xe(f),c=null,_=0;_<a.length;_++){if(a[_].value===f){a[_].selected=!0,y&&(a[_].defaultSelected=!0);return}c!==null||a[_].disabled||(c=a[_])}c!==null&&(c.selected=!0)}}function cr(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return B({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Cn(a,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(t(92));if(It(f)){if(1<f.length)throw Error(t(93));f=f[0]}c=f}c==null&&(c=""),f=c}a._wrapperState={initialValue:xe(f)}}function Ss(a,c){var f=xe(c.value),y=xe(c.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),c.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),y!=null&&(a.defaultValue=""+y)}function zt(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Ht(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Ht(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Pn,er=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,y,_){MSApp.execUnsafeLocalFunction(function(){return a(c,f,y,_)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Pn=Pn||document.createElement("div"),Pn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Pn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function kn(a,c){if(c){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=c;return}}a.textContent=c}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bt=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(a){Bt.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),$r[c]=$r[a]})});function Er(a,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||$r.hasOwnProperty(a)&&$r[a]?(""+c).trim():c+"px"}function mn(a,c){a=a.style;for(var f in c)if(c.hasOwnProperty(f)){var y=f.indexOf("--")===0,_=Er(f,c[f],y);f==="float"&&(f="cssFloat"),y?a.setProperty(f,_):a[f]=_}}var os=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(a,c){if(c){if(os[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function Cr(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ur=null;function Qe(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Un=null,gn=null,pt=null;function Jt(a){if(a=tf(a)){if(typeof Un!="function")throw Error(t(280));var c=a.stateNode;c&&(c=Dm(c),Un(a.stateNode,a.type,c))}}function dr(a){gn?pt?pt.push(a):pt=[a]:gn=a}function Ve(){if(gn){var a=gn,c=pt;if(pt=gn=null,Jt(a),c)for(a=0;a<c.length;a++)Jt(c[a])}}function st(a,c){return a(c)}function Et(){}var Ae=!1;function Pe(a,c,f){if(Ae)return a(c,f);Ae=!0;try{return st(a,c,f)}finally{Ae=!1,(gn!==null||pt!==null)&&(Et(),Ve())}}function Ke(a,c){var f=a.stateNode;if(f===null)return null;var y=Dm(f);if(y===null)return null;f=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(t(231,c,typeof f));return f}var ye=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){ye=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch{ye=!1}function ke(a,c,f,y,_,E,M,H,K){var ae=Array.prototype.slice.call(arguments,3);try{c.apply(f,ae)}catch(pe){this.onError(pe)}}var Be=!1,Ut=null,ot=!1,Rt=null,Nn={onError:function(a){Be=!0,Ut=a}};function Kt(a,c,f,y,_,E,M,H,K){Be=!1,Ut=null,ke.apply(Nn,arguments)}function Lt(a,c,f,y,_,E,M,H,K){if(Kt.apply(this,arguments),Be){if(Be){var ae=Ut;Be=!1,Ut=null}else throw Error(t(198));ot||(ot=!0,Rt=ae)}}function ut(a){var c=a,f=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(f=c.return),a=c.return;while(a)}return c.tag===3?f:null}function Pr(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Wt(a){if(ut(a)!==a)throw Error(t(188))}function hr(a){var c=a.alternate;if(!c){if(c=ut(a),c===null)throw Error(t(188));return c!==a?null:a}for(var f=a,y=c;;){var _=f.return;if(_===null)break;var E=_.alternate;if(E===null){if(y=_.return,y!==null){f=y;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===f)return Wt(_),a;if(E===y)return Wt(_),c;E=E.sibling}throw Error(t(188))}if(f.return!==y.return)f=_,y=E;else{for(var M=!1,H=_.child;H;){if(H===f){M=!0,f=_,y=E;break}if(H===y){M=!0,y=_,f=E;break}H=H.sibling}if(!M){for(H=E.child;H;){if(H===f){M=!0,f=E,y=_;break}if(H===y){M=!0,y=E,f=_;break}H=H.sibling}if(!M)throw Error(t(189))}}if(f.alternate!==y)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?a:c}function as(a){return a=hr(a),a!==null?sn(a):null}function sn(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=sn(a);if(c!==null)return c;a=a.sibling}return null}var yn=e.unstable_scheduleCallback,vn=e.unstable_cancelCallback,ls=e.unstable_shouldYield,Ts=e.unstable_requestPaint,at=e.unstable_now,wn=e.unstable_getCurrentPriorityLevel,kr=e.unstable_ImmediatePriority,Zo=e.unstable_UserBlockingPriority,oo=e.unstable_NormalPriority,Mi=e.unstable_LowPriority,Rr=e.unstable_IdlePriority,Bs=null,fr=null;function Ws(a){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Bs,a,void 0,(a.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:ic,ao=Math.log,fi=Math.LN2;function ic(a){return a>>>=0,a===0?32:31-(ao(a)/fi|0)|0}var lo=64,Ua=4194304;function Mt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ea(a,c){var f=a.pendingLanes;if(f===0)return 0;var y=0,_=a.suspendedLanes,E=a.pingedLanes,M=f&268435455;if(M!==0){var H=M&~_;H!==0?y=Mt(H):(E&=M,E!==0&&(y=Mt(E)))}else M=f&~_,M!==0?y=Mt(M):E!==0&&(y=Mt(E));if(y===0)return 0;if(c!==0&&c!==y&&(c&_)===0&&(_=y&-y,E=c&-c,_>=E||_===16&&(E&4194240)!==0))return c;if((y&4)!==0&&(y|=f&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=y;0<c;)f=31-qs(c),_=1<<f,y|=a[f],c&=~_;return y}function oc(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ac(a,c){for(var f=a.suspendedLanes,y=a.pingedLanes,_=a.expirationTimes,E=a.pendingLanes;0<E;){var M=31-qs(E),H=1<<M,K=_[M];K===-1?((H&f)===0||(H&y)!==0)&&(_[M]=oc(H,c)):K<=c&&(a.expiredLanes|=H),E&=~H}}function jh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Oh(){var a=lo;return lo<<=1,(lo&4194240)===0&&(lo=64),a}function Mh(a){for(var c=[],f=0;31>f;f++)c.push(a);return c}function lc(a,c,f){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-qs(c),a[c]=f}function Mw(a,c){var f=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<f;){var _=31-qs(f),E=1<<_;c[_]=0,y[_]=-1,a[_]=-1,f&=~E}}function Lh(a,c){var f=a.entangledLanes|=c;for(a=a.entanglements;f;){var y=31-qs(f),_=1<<y;_&c|a[y]&c&&(a[y]|=c),f&=~_}}var Ct=0;function co(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Vh,Eu,Fh,zh,Uh,uo=!1,Cu=[],ho=null,fo=null,Ar=null,cc=new Map,ta=new Map,Hs=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $a(a,c){switch(a){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":cc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(c.pointerId)}}function Li(a,c,f,y,_,E){return a===null||a.nativeEvent!==E?(a={blockedOn:c,domEventName:f,eventSystemFlags:y,nativeEvent:E,targetContainers:[_]},c!==null&&(c=tf(c),c!==null&&Eu(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),a)}function vm(a,c,f,y,_){switch(c){case"focusin":return ho=Li(ho,a,c,f,y,_),!0;case"dragenter":return fo=Li(fo,a,c,f,y,_),!0;case"mouseover":return Ar=Li(Ar,a,c,f,y,_),!0;case"pointerover":var E=_.pointerId;return cc.set(E,Li(cc.get(E)||null,a,c,f,y,_)),!0;case"gotpointercapture":return E=_.pointerId,ta.set(E,Li(ta.get(E)||null,a,c,f,y,_)),!0}return!1}function Pu(a){var c=fc(a.target);if(c!==null){var f=ut(c);if(f!==null){if(c=f.tag,c===13){if(c=Pr(f),c!==null){a.blockedOn=c,Uh(a.priority,function(){Fh(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Gt(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var f=ku(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var y=new f.constructor(f.type,f);ur=y,f.target.dispatchEvent(y),ur=null}else return c=tf(f),c!==null&&Eu(c),a.blockedOn=f,!1;c.shift()}return!0}function wm(a,c,f){Gt(a)&&f.delete(c)}function Lw(){uo=!1,ho!==null&&Gt(ho)&&(ho=null),fo!==null&&Gt(fo)&&(fo=null),Ar!==null&&Gt(Ar)&&(Ar=null),cc.forEach(wm),ta.forEach(wm)}function Ba(a,c){a.blockedOn===c&&(a.blockedOn=null,uo||(uo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lw)))}function Wa(a){function c(_){return Ba(_,a)}if(0<Cu.length){Ba(Cu[0],a);for(var f=1;f<Cu.length;f++){var y=Cu[f];y.blockedOn===a&&(y.blockedOn=null)}}for(ho!==null&&Ba(ho,a),fo!==null&&Ba(fo,a),Ar!==null&&Ba(Ar,a),cc.forEach(c),ta.forEach(c),f=0;f<Hs.length;f++)y=Hs[f],y.blockedOn===a&&(y.blockedOn=null);for(;0<Hs.length&&(f=Hs[0],f.blockedOn===null);)Pu(f),f.blockedOn===null&&Hs.shift()}var na=I.ReactCurrentBatchConfig,ra=!0;function po(a,c,f,y){var _=Ct,E=na.transition;na.transition=null;try{Ct=1,$h(a,c,f,y)}finally{Ct=_,na.transition=E}}function xm(a,c,f,y){var _=Ct,E=na.transition;na.transition=null;try{Ct=4,$h(a,c,f,y)}finally{Ct=_,na.transition=E}}function $h(a,c,f,y){if(ra){var _=ku(a,c,f,y);if(_===null)Gw(a,c,y,mo,f),$a(a,y);else if(vm(_,a,c,f,y))y.stopPropagation();else if($a(a,y),c&4&&-1<ym.indexOf(a)){for(;_!==null;){var E=tf(_);if(E!==null&&Vh(E),E=ku(a,c,f,y),E===null&&Gw(a,c,y,mo,f),E===_)break;_=E}_!==null&&y.stopPropagation()}else Gw(a,c,y,null,f)}}var mo=null;function ku(a,c,f,y){if(mo=null,a=Qe(y),a=fc(a),a!==null)if(c=ut(a),c===null)a=null;else if(f=c.tag,f===13){if(a=Pr(c),a!==null)return a;a=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return mo=a,null}function Ru(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wn()){case kr:return 1;case Zo:return 4;case oo:case Mi:return 16;case Rr:return 536870912;default:return 16}default:return 16}}var Ks=null,Au=null,sa=null;function _m(){if(sa)return sa;var a,c=Au,f=c.length,y,_="value"in Ks?Ks.value:Ks.textContent,E=_.length;for(a=0;a<f&&c[a]===_[a];a++);var M=f-a;for(y=1;y<=M&&c[f-y]===_[E-y];y++);return sa=_.slice(a,1<y?1-y:void 0)}function uc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function go(){return!0}function Bh(){return!1}function Br(a){function c(f,y,_,E,M){this._reactName=f,this._targetInst=_,this.type=y,this.nativeEvent=E,this.target=M,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(f=a[H],this[H]=f?f(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?go:Bh,this.isPropagationStopped=Bh,this}return B(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),c}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=Br(yo),qa=B({},yo,{view:0,detail:0}),Iu=Br(qa),Nu,Du,Gs,hc=B({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nt,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Gs&&(Gs&&a.type==="mousemove"?(Nu=a.screenX-Gs.screenX,Du=a.screenY-Gs.screenY):Du=Nu=0,Gs=a),Nu)},movementY:function(a){return"movementY"in a?a.movementY:Du}}),Wh=Br(hc),bm=B({},hc,{dataTransfer:0}),Sm=Br(bm),ju=B({},qa,{relatedTarget:0}),Ir=Br(ju),Tm=B({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),Em=Br(Tm),Ha=B({},yo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),g=Br(Ha),C=B({},yo,{data:0}),N=Br(C),$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},te={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},le={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function be(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=le[a])?!!c[a]:!1}function nt(){return be}var Dn=B({},qa,{key:function(a){if(a.key){var c=$[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=uc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?te[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nt,charCode:function(a){return a.type==="keypress"?uc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?uc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$t=Br(Dn),$n=B({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=Br($n),ia=B({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nt}),vo=Br(ia),wo=B({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=Br(wo),qh=B({},hc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Lz=Br(qh),Vz=[9,13,27,32],Vw=l&&"CompositionEvent"in window,Hh=null;l&&"documentMode"in document&&(Hh=document.documentMode);var Fz=l&&"TextEvent"in window&&!Hh,pE=l&&(!Vw||Hh&&8<Hh&&11>=Hh),mE=" ",gE=!1;function yE(a,c){switch(a){case"keyup":return Vz.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Mu=!1;function zz(a,c){switch(a){case"compositionend":return vE(c);case"keypress":return c.which!==32?null:(gE=!0,mE);case"textInput":return a=c.data,a===mE&&gE?null:a;default:return null}}function Uz(a,c){if(Mu)return a==="compositionend"||!Vw&&yE(a,c)?(a=_m(),sa=Au=Ks=null,Mu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return pE&&c.locale!=="ko"?null:c.data;default:return null}}var $z={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wE(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!$z[a.type]:c==="textarea"}function xE(a,c,f,y){dr(y),c=Am(c,"onChange"),0<c.length&&(f=new dc("onChange","change",null,f,y),a.push({event:f,listeners:c}))}var Kh=null,Gh=null;function Bz(a){VE(a,0)}function Cm(a){var c=Uu(a);if(Ze(c))return a}function Wz(a,c){if(a==="change")return c}var _E=!1;if(l){var Fw;if(l){var zw="oninput"in document;if(!zw){var bE=document.createElement("div");bE.setAttribute("oninput","return;"),zw=typeof bE.oninput=="function"}Fw=zw}else Fw=!1;_E=Fw&&(!document.documentMode||9<document.documentMode)}function SE(){Kh&&(Kh.detachEvent("onpropertychange",TE),Gh=Kh=null)}function TE(a){if(a.propertyName==="value"&&Cm(Gh)){var c=[];xE(c,Gh,a,Qe(a)),Pe(Bz,c)}}function qz(a,c,f){a==="focusin"?(SE(),Kh=c,Gh=f,Kh.attachEvent("onpropertychange",TE)):a==="focusout"&&SE()}function Hz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Cm(Gh)}function Kz(a,c){if(a==="click")return Cm(c)}function Gz(a,c){if(a==="input"||a==="change")return Cm(c)}function Yz(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Vi=typeof Object.is=="function"?Object.is:Yz;function Yh(a,c){if(Vi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var f=Object.keys(a),y=Object.keys(c);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var _=f[y];if(!u.call(c,_)||!Vi(a[_],c[_]))return!1}return!0}function EE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function CE(a,c){var f=EE(a);a=0;for(var y;f;){if(f.nodeType===3){if(y=a+f.textContent.length,a<=c&&y>=c)return{node:f,offset:c-a};a=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=EE(f)}}function PE(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?PE(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function kE(){for(var a=window,c=Oe();c instanceof a.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)a=c.contentWindow;else break;c=Oe(a.document)}return c}function Uw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function Qz(a){var c=kE(),f=a.focusedElem,y=a.selectionRange;if(c!==f&&f&&f.ownerDocument&&PE(f.ownerDocument.documentElement,f)){if(y!==null&&Uw(f)){if(c=y.start,a=y.end,a===void 0&&(a=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(a,f.value.length);else if(a=(c=f.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var _=f.textContent.length,E=Math.min(y.start,_);y=y.end===void 0?E:Math.min(y.end,_),!a.extend&&E>y&&(_=y,y=E,E=_),_=CE(f,E);var M=CE(f,y);_&&M&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==M.node||a.focusOffset!==M.offset)&&(c=c.createRange(),c.setStart(_.node,_.offset),a.removeAllRanges(),E>y?(a.addRange(c),a.extend(M.node,M.offset)):(c.setEnd(M.node,M.offset),a.addRange(c)))}}for(c=[],a=f;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)a=c[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Xz=l&&"documentMode"in document&&11>=document.documentMode,Lu=null,$w=null,Qh=null,Bw=!1;function RE(a,c,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Bw||Lu==null||Lu!==Oe(y)||(y=Lu,"selectionStart"in y&&Uw(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Qh&&Yh(Qh,y)||(Qh=y,y=Am($w,"onSelect"),0<y.length&&(c=new dc("onSelect","select",null,c,f),a.push({event:c,listeners:y}),c.target=Lu)))}function Pm(a,c){var f={};return f[a.toLowerCase()]=c.toLowerCase(),f["Webkit"+a]="webkit"+c,f["Moz"+a]="moz"+c,f}var Vu={animationend:Pm("Animation","AnimationEnd"),animationiteration:Pm("Animation","AnimationIteration"),animationstart:Pm("Animation","AnimationStart"),transitionend:Pm("Transition","TransitionEnd")},Ww={},AE={};l&&(AE=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function km(a){if(Ww[a])return Ww[a];if(!Vu[a])return a;var c=Vu[a],f;for(f in c)if(c.hasOwnProperty(f)&&f in AE)return Ww[a]=c[f];return a}var IE=km("animationend"),NE=km("animationiteration"),DE=km("animationstart"),jE=km("transitionend"),OE=new Map,ME="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(a,c){OE.set(a,c),i(c,[a])}for(var qw=0;qw<ME.length;qw++){var Hw=ME[qw],Jz=Hw.toLowerCase(),Zz=Hw[0].toUpperCase()+Hw.slice(1);Ka(Jz,"on"+Zz)}Ka(IE,"onAnimationEnd"),Ka(NE,"onAnimationIteration"),Ka(DE,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(jE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xh));function LE(a,c,f){var y=a.type||"unknown-event";a.currentTarget=f,Lt(y,c,void 0,a),a.currentTarget=null}function VE(a,c){c=(c&4)!==0;for(var f=0;f<a.length;f++){var y=a[f],_=y.event;y=y.listeners;e:{var E=void 0;if(c)for(var M=y.length-1;0<=M;M--){var H=y[M],K=H.instance,ae=H.currentTarget;if(H=H.listener,K!==E&&_.isPropagationStopped())break e;LE(_,H,ae),E=K}else for(M=0;M<y.length;M++){if(H=y[M],K=H.instance,ae=H.currentTarget,H=H.listener,K!==E&&_.isPropagationStopped())break e;LE(_,H,ae),E=K}}}if(ot)throw a=Rt,ot=!1,Rt=null,a}function on(a,c){var f=c[e0];f===void 0&&(f=c[e0]=new Set);var y=a+"__bubble";f.has(y)||(FE(c,a,2,!1),f.add(y))}function Kw(a,c,f){var y=0;c&&(y|=4),FE(f,a,y,c)}var Rm="_reactListening"+Math.random().toString(36).slice(2);function Jh(a){if(!a[Rm]){a[Rm]=!0,r.forEach(function(f){f!=="selectionchange"&&(e3.has(f)||Kw(f,!1,a),Kw(f,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Rm]||(c[Rm]=!0,Kw("selectionchange",!1,c))}}function FE(a,c,f,y){switch(Ru(c)){case 1:var _=po;break;case 4:_=xm;break;default:_=$h}f=_.bind(null,c,f,a),_=void 0,!ye||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),y?_!==void 0?a.addEventListener(c,f,{capture:!0,passive:_}):a.addEventListener(c,f,!0):_!==void 0?a.addEventListener(c,f,{passive:_}):a.addEventListener(c,f,!1)}function Gw(a,c,f,y,_){var E=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var M=y.tag;if(M===3||M===4){var H=y.stateNode.containerInfo;if(H===_||H.nodeType===8&&H.parentNode===_)break;if(M===4)for(M=y.return;M!==null;){var K=M.tag;if((K===3||K===4)&&(K=M.stateNode.containerInfo,K===_||K.nodeType===8&&K.parentNode===_))return;M=M.return}for(;H!==null;){if(M=fc(H),M===null)return;if(K=M.tag,K===5||K===6){y=E=M;continue e}H=H.parentNode}}y=y.return}Pe(function(){var ae=E,pe=Qe(f),ge=[];e:{var fe=OE.get(a);if(fe!==void 0){var Te=dc,De=a;switch(a){case"keypress":if(uc(f)===0)break e;case"keydown":case"keyup":Te=$t;break;case"focusin":De="focus",Te=Ir;break;case"focusout":De="blur",Te=Ir;break;case"beforeblur":case"afterblur":Te=Ir;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=vo;break;case IE:case NE:case DE:Te=Em;break;case jE:Te=Ou;break;case"scroll":Te=Iu;break;case"wheel":Te=Lz;break;case"copy":case"cut":case"paste":Te=g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Ys}var je=(c&4)!==0,jn=!je&&a==="scroll",ee=je?fe!==null?fe+"Capture":null:fe;je=[];for(var Y=ae,ne;Y!==null;){ne=Y;var ve=ne.stateNode;if(ne.tag===5&&ve!==null&&(ne=ve,ee!==null&&(ve=Ke(Y,ee),ve!=null&&je.push(Zh(Y,ve,ne)))),jn)break;Y=Y.return}0<je.length&&(fe=new Te(fe,De,null,f,pe),ge.push({event:fe,listeners:je}))}}if((c&7)===0){e:{if(fe=a==="mouseover"||a==="pointerover",Te=a==="mouseout"||a==="pointerout",fe&&f!==ur&&(De=f.relatedTarget||f.fromElement)&&(fc(De)||De[oa]))break e;if((Te||fe)&&(fe=pe.window===pe?pe:(fe=pe.ownerDocument)?fe.defaultView||fe.parentWindow:window,Te?(De=f.relatedTarget||f.toElement,Te=ae,De=De?fc(De):null,De!==null&&(jn=ut(De),De!==jn||De.tag!==5&&De.tag!==6)&&(De=null)):(Te=null,De=ae),Te!==De)){if(je=Wh,ve="onMouseLeave",ee="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(je=Ys,ve="onPointerLeave",ee="onPointerEnter",Y="pointer"),jn=Te==null?fe:Uu(Te),ne=De==null?fe:Uu(De),fe=new je(ve,Y+"leave",Te,f,pe),fe.target=jn,fe.relatedTarget=ne,ve=null,fc(pe)===ae&&(je=new je(ee,Y+"enter",De,f,pe),je.target=ne,je.relatedTarget=jn,ve=je),jn=ve,Te&&De)t:{for(je=Te,ee=De,Y=0,ne=je;ne;ne=Fu(ne))Y++;for(ne=0,ve=ee;ve;ve=Fu(ve))ne++;for(;0<Y-ne;)je=Fu(je),Y--;for(;0<ne-Y;)ee=Fu(ee),ne--;for(;Y--;){if(je===ee||ee!==null&&je===ee.alternate)break t;je=Fu(je),ee=Fu(ee)}je=null}else je=null;Te!==null&&zE(ge,fe,Te,je,!1),De!==null&&jn!==null&&zE(ge,jn,De,je,!0)}}e:{if(fe=ae?Uu(ae):window,Te=fe.nodeName&&fe.nodeName.toLowerCase(),Te==="select"||Te==="input"&&fe.type==="file")var Me=Wz;else if(wE(fe))if(_E)Me=Gz;else{Me=Hz;var We=qz}else(Te=fe.nodeName)&&Te.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Me=Kz);if(Me&&(Me=Me(a,ae))){xE(ge,Me,f,pe);break e}We&&We(a,fe,ae),a==="focusout"&&(We=fe._wrapperState)&&We.controlled&&fe.type==="number"&&Dt(fe,"number",fe.value)}switch(We=ae?Uu(ae):window,a){case"focusin":(wE(We)||We.contentEditable==="true")&&(Lu=We,$w=ae,Qh=null);break;case"focusout":Qh=$w=Lu=null;break;case"mousedown":Bw=!0;break;case"contextmenu":case"mouseup":case"dragend":Bw=!1,RE(ge,f,pe);break;case"selectionchange":if(Xz)break;case"keydown":case"keyup":RE(ge,f,pe)}var qe;if(Vw)e:{switch(a){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Mu?yE(a,f)&&(Xe="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Xe="onCompositionStart");Xe&&(pE&&f.locale!=="ko"&&(Mu||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Mu&&(qe=_m()):(Ks=pe,Au="value"in Ks?Ks.value:Ks.textContent,Mu=!0)),We=Am(ae,Xe),0<We.length&&(Xe=new N(Xe,a,null,f,pe),ge.push({event:Xe,listeners:We}),qe?Xe.data=qe:(qe=vE(f),qe!==null&&(Xe.data=qe)))),(qe=Fz?zz(a,f):Uz(a,f))&&(ae=Am(ae,"onBeforeInput"),0<ae.length&&(pe=new N("onBeforeInput","beforeinput",null,f,pe),ge.push({event:pe,listeners:ae}),pe.data=qe))}VE(ge,c)})}function Zh(a,c,f){return{instance:a,listener:c,currentTarget:f}}function Am(a,c){for(var f=c+"Capture",y=[];a!==null;){var _=a,E=_.stateNode;_.tag===5&&E!==null&&(_=E,E=Ke(a,f),E!=null&&y.unshift(Zh(a,E,_)),E=Ke(a,c),E!=null&&y.push(Zh(a,E,_))),a=a.return}return y}function Fu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function zE(a,c,f,y,_){for(var E=c._reactName,M=[];f!==null&&f!==y;){var H=f,K=H.alternate,ae=H.stateNode;if(K!==null&&K===y)break;H.tag===5&&ae!==null&&(H=ae,_?(K=Ke(f,E),K!=null&&M.unshift(Zh(f,K,H))):_||(K=Ke(f,E),K!=null&&M.push(Zh(f,K,H)))),f=f.return}M.length!==0&&a.push({event:c,listeners:M})}var t3=/\r\n?/g,n3=/\u0000|\uFFFD/g;function UE(a){return(typeof a=="string"?a:""+a).replace(t3,`
`).replace(n3,"")}function Im(a,c,f){if(c=UE(c),UE(a)!==c&&f)throw Error(t(425))}function Nm(){}var Yw=null,Qw=null;function Xw(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Jw=typeof setTimeout=="function"?setTimeout:void 0,r3=typeof clearTimeout=="function"?clearTimeout:void 0,$E=typeof Promise=="function"?Promise:void 0,s3=typeof queueMicrotask=="function"?queueMicrotask:typeof $E<"u"?function(a){return $E.resolve(null).then(a).catch(i3)}:Jw;function i3(a){setTimeout(function(){throw a})}function Zw(a,c){var f=c,y=0;do{var _=f.nextSibling;if(a.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(y===0){a.removeChild(_),Wa(c);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=_}while(f);Wa(c)}function Ga(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function BE(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return a;c--}else f==="/$"&&c++}a=a.previousSibling}return null}var zu=Math.random().toString(36).slice(2),xo="__reactFiber$"+zu,ef="__reactProps$"+zu,oa="__reactContainer$"+zu,e0="__reactEvents$"+zu,o3="__reactListeners$"+zu,a3="__reactHandles$"+zu;function fc(a){var c=a[xo];if(c)return c;for(var f=a.parentNode;f;){if(c=f[oa]||f[xo]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(a=BE(a);a!==null;){if(f=a[xo])return f;a=BE(a)}return c}a=f,f=a.parentNode}return null}function tf(a){return a=a[xo]||a[oa],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Uu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Dm(a){return a[ef]||null}var t0=[],$u=-1;function Ya(a){return{current:a}}function an(a){0>$u||(a.current=t0[$u],t0[$u]=null,$u--)}function Zt(a,c){$u++,t0[$u]=a.current,a.current=c}var Qa={},Wr=Ya(Qa),Es=Ya(!1),pc=Qa;function Bu(a,c){var f=a.type.contextTypes;if(!f)return Qa;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var _={},E;for(E in f)_[E]=c[E];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=_),_}function Cs(a){return a=a.childContextTypes,a!=null}function jm(){an(Es),an(Wr)}function WE(a,c,f){if(Wr.current!==Qa)throw Error(t(168));Zt(Wr,c),Zt(Es,f)}function qE(a,c,f){var y=a.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var _ in y)if(!(_ in c))throw Error(t(108,ce(a)||"Unknown",_));return B({},f,y)}function Om(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Qa,pc=Wr.current,Zt(Wr,a),Zt(Es,Es.current),!0}function HE(a,c,f){var y=a.stateNode;if(!y)throw Error(t(169));f?(a=qE(a,c,pc),y.__reactInternalMemoizedMergedChildContext=a,an(Es),an(Wr),Zt(Wr,a)):an(Es),Zt(Es,f)}var aa=null,Mm=!1,n0=!1;function KE(a){aa===null?aa=[a]:aa.push(a)}function l3(a){Mm=!0,KE(a)}function Xa(){if(!n0&&aa!==null){n0=!0;var a=0,c=Ct;try{var f=aa;for(Ct=1;a<f.length;a++){var y=f[a];do y=y(!0);while(y!==null)}aa=null,Mm=!1}catch(_){throw aa!==null&&(aa=aa.slice(a+1)),yn(kr,Xa),_}finally{Ct=c,n0=!1}}return null}var Wu=[],qu=0,Lm=null,Vm=0,pi=[],mi=0,mc=null,la=1,ca="";function gc(a,c){Wu[qu++]=Vm,Wu[qu++]=Lm,Lm=a,Vm=c}function GE(a,c,f){pi[mi++]=la,pi[mi++]=ca,pi[mi++]=mc,mc=a;var y=la;a=ca;var _=32-qs(y)-1;y&=~(1<<_),f+=1;var E=32-qs(c)+_;if(30<E){var M=_-_%5;E=(y&(1<<M)-1).toString(32),y>>=M,_-=M,la=1<<32-qs(c)+_|f<<_|y,ca=E+a}else la=1<<E|f<<_|y,ca=a}function r0(a){a.return!==null&&(gc(a,1),GE(a,1,0))}function s0(a){for(;a===Lm;)Lm=Wu[--qu],Wu[qu]=null,Vm=Wu[--qu],Wu[qu]=null;for(;a===mc;)mc=pi[--mi],pi[mi]=null,ca=pi[--mi],pi[mi]=null,la=pi[--mi],pi[mi]=null}var Qs=null,Xs=null,un=!1,Fi=null;function YE(a,c){var f=wi(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=a,c=a.deletions,c===null?(a.deletions=[f],a.flags|=16):c.push(f)}function QE(a,c){switch(a.tag){case 5:var f=a.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Qs=a,Xs=Ga(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Qs=a,Xs=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=mc!==null?{id:la,overflow:ca}:null,a.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=wi(18,null,null,0),f.stateNode=c,f.return=a,a.child=f,Qs=a,Xs=null,!0):!1;default:return!1}}function i0(a){return(a.mode&1)!==0&&(a.flags&128)===0}function o0(a){if(un){var c=Xs;if(c){var f=c;if(!QE(a,c)){if(i0(a))throw Error(t(418));c=Ga(f.nextSibling);var y=Qs;c&&QE(a,c)?YE(y,f):(a.flags=a.flags&-4097|2,un=!1,Qs=a)}}else{if(i0(a))throw Error(t(418));a.flags=a.flags&-4097|2,un=!1,Qs=a}}}function XE(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Qs=a}function Fm(a){if(a!==Qs)return!1;if(!un)return XE(a),un=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Xw(a.type,a.memoizedProps)),c&&(c=Xs)){if(i0(a))throw JE(),Error(t(418));for(;c;)YE(a,c),c=Ga(c.nextSibling)}if(XE(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(c===0){Xs=Ga(a.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}a=a.nextSibling}Xs=null}}else Xs=Qs?Ga(a.stateNode.nextSibling):null;return!0}function JE(){for(var a=Xs;a;)a=Ga(a.nextSibling)}function Hu(){Xs=Qs=null,un=!1}function a0(a){Fi===null?Fi=[a]:Fi.push(a)}var c3=I.ReactCurrentBatchConfig;function nf(a,c,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var y=f.stateNode}if(!y)throw Error(t(147,a));var _=y,E=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===E?c.ref:(c=function(M){var H=_.refs;M===null?delete H[E]:H[E]=M},c._stringRef=E,c)}if(typeof a!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,a))}return a}function zm(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function ZE(a){var c=a._init;return c(a._payload)}function eC(a){function c(ee,Y){if(a){var ne=ee.deletions;ne===null?(ee.deletions=[Y],ee.flags|=16):ne.push(Y)}}function f(ee,Y){if(!a)return null;for(;Y!==null;)c(ee,Y),Y=Y.sibling;return null}function y(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function _(ee,Y){return ee=il(ee,Y),ee.index=0,ee.sibling=null,ee}function E(ee,Y,ne){return ee.index=ne,a?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<Y?(ee.flags|=2,Y):ne):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function M(ee){return a&&ee.alternate===null&&(ee.flags|=2),ee}function H(ee,Y,ne,ve){return Y===null||Y.tag!==6?(Y=J0(ne,ee.mode,ve),Y.return=ee,Y):(Y=_(Y,ne),Y.return=ee,Y)}function K(ee,Y,ne,ve){var Me=ne.type;return Me===P?pe(ee,Y,ne.props.children,ve,ne.key):Y!==null&&(Y.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===re&&ZE(Me)===Y.type)?(ve=_(Y,ne.props),ve.ref=nf(ee,Y,ne),ve.return=ee,ve):(ve=ug(ne.type,ne.key,ne.props,null,ee.mode,ve),ve.ref=nf(ee,Y,ne),ve.return=ee,ve)}function ae(ee,Y,ne,ve){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=Z0(ne,ee.mode,ve),Y.return=ee,Y):(Y=_(Y,ne.children||[]),Y.return=ee,Y)}function pe(ee,Y,ne,ve,Me){return Y===null||Y.tag!==7?(Y=Tc(ne,ee.mode,ve,Me),Y.return=ee,Y):(Y=_(Y,ne),Y.return=ee,Y)}function ge(ee,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=J0(""+Y,ee.mode,ne),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return ne=ug(Y.type,Y.key,Y.props,null,ee.mode,ne),ne.ref=nf(ee,null,Y),ne.return=ee,ne;case z:return Y=Z0(Y,ee.mode,ne),Y.return=ee,Y;case re:var ve=Y._init;return ge(ee,ve(Y._payload),ne)}if(It(Y)||G(Y))return Y=Tc(Y,ee.mode,ne,null),Y.return=ee,Y;zm(ee,Y)}return null}function fe(ee,Y,ne,ve){var Me=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Me!==null?null:H(ee,Y,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case L:return ne.key===Me?K(ee,Y,ne,ve):null;case z:return ne.key===Me?ae(ee,Y,ne,ve):null;case re:return Me=ne._init,fe(ee,Y,Me(ne._payload),ve)}if(It(ne)||G(ne))return Me!==null?null:pe(ee,Y,ne,ve,null);zm(ee,ne)}return null}function Te(ee,Y,ne,ve,Me){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ee=ee.get(ne)||null,H(Y,ee,""+ve,Me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case L:return ee=ee.get(ve.key===null?ne:ve.key)||null,K(Y,ee,ve,Me);case z:return ee=ee.get(ve.key===null?ne:ve.key)||null,ae(Y,ee,ve,Me);case re:var We=ve._init;return Te(ee,Y,ne,We(ve._payload),Me)}if(It(ve)||G(ve))return ee=ee.get(ne)||null,pe(Y,ee,ve,Me,null);zm(Y,ve)}return null}function De(ee,Y,ne,ve){for(var Me=null,We=null,qe=Y,Xe=Y=0,gr=null;qe!==null&&Xe<ne.length;Xe++){qe.index>Xe?(gr=qe,qe=null):gr=qe.sibling;var jt=fe(ee,qe,ne[Xe],ve);if(jt===null){qe===null&&(qe=gr);break}a&&qe&&jt.alternate===null&&c(ee,qe),Y=E(jt,Y,Xe),We===null?Me=jt:We.sibling=jt,We=jt,qe=gr}if(Xe===ne.length)return f(ee,qe),un&&gc(ee,Xe),Me;if(qe===null){for(;Xe<ne.length;Xe++)qe=ge(ee,ne[Xe],ve),qe!==null&&(Y=E(qe,Y,Xe),We===null?Me=qe:We.sibling=qe,We=qe);return un&&gc(ee,Xe),Me}for(qe=y(ee,qe);Xe<ne.length;Xe++)gr=Te(qe,ee,Xe,ne[Xe],ve),gr!==null&&(a&&gr.alternate!==null&&qe.delete(gr.key===null?Xe:gr.key),Y=E(gr,Y,Xe),We===null?Me=gr:We.sibling=gr,We=gr);return a&&qe.forEach(function(ol){return c(ee,ol)}),un&&gc(ee,Xe),Me}function je(ee,Y,ne,ve){var Me=G(ne);if(typeof Me!="function")throw Error(t(150));if(ne=Me.call(ne),ne==null)throw Error(t(151));for(var We=Me=null,qe=Y,Xe=Y=0,gr=null,jt=ne.next();qe!==null&&!jt.done;Xe++,jt=ne.next()){qe.index>Xe?(gr=qe,qe=null):gr=qe.sibling;var ol=fe(ee,qe,jt.value,ve);if(ol===null){qe===null&&(qe=gr);break}a&&qe&&ol.alternate===null&&c(ee,qe),Y=E(ol,Y,Xe),We===null?Me=ol:We.sibling=ol,We=ol,qe=gr}if(jt.done)return f(ee,qe),un&&gc(ee,Xe),Me;if(qe===null){for(;!jt.done;Xe++,jt=ne.next())jt=ge(ee,jt.value,ve),jt!==null&&(Y=E(jt,Y,Xe),We===null?Me=jt:We.sibling=jt,We=jt);return un&&gc(ee,Xe),Me}for(qe=y(ee,qe);!jt.done;Xe++,jt=ne.next())jt=Te(qe,ee,Xe,jt.value,ve),jt!==null&&(a&&jt.alternate!==null&&qe.delete(jt.key===null?Xe:jt.key),Y=E(jt,Y,Xe),We===null?Me=jt:We.sibling=jt,We=jt);return a&&qe.forEach(function($3){return c(ee,$3)}),un&&gc(ee,Xe),Me}function jn(ee,Y,ne,ve){if(typeof ne=="object"&&ne!==null&&ne.type===P&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case L:e:{for(var Me=ne.key,We=Y;We!==null;){if(We.key===Me){if(Me=ne.type,Me===P){if(We.tag===7){f(ee,We.sibling),Y=_(We,ne.props.children),Y.return=ee,ee=Y;break e}}else if(We.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===re&&ZE(Me)===We.type){f(ee,We.sibling),Y=_(We,ne.props),Y.ref=nf(ee,We,ne),Y.return=ee,ee=Y;break e}f(ee,We);break}else c(ee,We);We=We.sibling}ne.type===P?(Y=Tc(ne.props.children,ee.mode,ve,ne.key),Y.return=ee,ee=Y):(ve=ug(ne.type,ne.key,ne.props,null,ee.mode,ve),ve.ref=nf(ee,Y,ne),ve.return=ee,ee=ve)}return M(ee);case z:e:{for(We=ne.key;Y!==null;){if(Y.key===We)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){f(ee,Y.sibling),Y=_(Y,ne.children||[]),Y.return=ee,ee=Y;break e}else{f(ee,Y);break}else c(ee,Y);Y=Y.sibling}Y=Z0(ne,ee.mode,ve),Y.return=ee,ee=Y}return M(ee);case re:return We=ne._init,jn(ee,Y,We(ne._payload),ve)}if(It(ne))return De(ee,Y,ne,ve);if(G(ne))return je(ee,Y,ne,ve);zm(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(f(ee,Y.sibling),Y=_(Y,ne),Y.return=ee,ee=Y):(f(ee,Y),Y=J0(ne,ee.mode,ve),Y.return=ee,ee=Y),M(ee)):f(ee,Y)}return jn}var Ku=eC(!0),tC=eC(!1),Um=Ya(null),$m=null,Gu=null,l0=null;function c0(){l0=Gu=$m=null}function u0(a){var c=Um.current;an(Um),a._currentValue=c}function d0(a,c,f){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===f)break;a=a.return}}function Yu(a,c){$m=a,l0=Gu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Ps=!0),a.firstContext=null)}function gi(a){var c=a._currentValue;if(l0!==a)if(a={context:a,memoizedValue:c,next:null},Gu===null){if($m===null)throw Error(t(308));Gu=a,$m.dependencies={lanes:0,firstContext:a}}else Gu=Gu.next=a;return c}var yc=null;function h0(a){yc===null?yc=[a]:yc.push(a)}function nC(a,c,f,y){var _=c.interleaved;return _===null?(f.next=f,h0(c)):(f.next=_.next,_.next=f),c.interleaved=f,ua(a,y)}function ua(a,c){a.lanes|=c;var f=a.alternate;for(f!==null&&(f.lanes|=c),f=a,a=a.return;a!==null;)a.childLanes|=c,f=a.alternate,f!==null&&(f.childLanes|=c),f=a,a=a.return;return f.tag===3?f.stateNode:null}var Ja=!1;function f0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rC(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function da(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Za(a,c,f){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Nt&2)!==0){var _=y.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),y.pending=c,ua(a,f)}return _=y.interleaved,_===null?(c.next=c,h0(y)):(c.next=_.next,_.next=c),y.interleaved=c,ua(a,f)}function Bm(a,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var y=c.lanes;y&=a.pendingLanes,f|=y,c.lanes=f,Lh(a,f)}}function sC(a,c){var f=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var _=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var M={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?_=E=M:E=E.next=M,f=f.next}while(f!==null);E===null?_=E=c:E=E.next=c}else _=E=c;f={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:y.shared,effects:y.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=c}function Wm(a,c,f,y){var _=a.updateQueue;Ja=!1;var E=_.firstBaseUpdate,M=_.lastBaseUpdate,H=_.shared.pending;if(H!==null){_.shared.pending=null;var K=H,ae=K.next;K.next=null,M===null?E=ae:M.next=ae,M=K;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,H=pe.lastBaseUpdate,H!==M&&(H===null?pe.firstBaseUpdate=ae:H.next=ae,pe.lastBaseUpdate=K))}if(E!==null){var ge=_.baseState;M=0,pe=ae=K=null,H=E;do{var fe=H.lane,Te=H.eventTime;if((y&fe)===fe){pe!==null&&(pe=pe.next={eventTime:Te,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var De=a,je=H;switch(fe=c,Te=f,je.tag){case 1:if(De=je.payload,typeof De=="function"){ge=De.call(Te,ge,fe);break e}ge=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=je.payload,fe=typeof De=="function"?De.call(Te,ge,fe):De,fe==null)break e;ge=B({},ge,fe);break e;case 2:Ja=!0}}H.callback!==null&&H.lane!==0&&(a.flags|=64,fe=_.effects,fe===null?_.effects=[H]:fe.push(H))}else Te={eventTime:Te,lane:fe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},pe===null?(ae=pe=Te,K=ge):pe=pe.next=Te,M|=fe;if(H=H.next,H===null){if(H=_.shared.pending,H===null)break;fe=H,H=fe.next,fe.next=null,_.lastBaseUpdate=fe,_.shared.pending=null}}while(!0);if(pe===null&&(K=ge),_.baseState=K,_.firstBaseUpdate=ae,_.lastBaseUpdate=pe,c=_.shared.interleaved,c!==null){_=c;do M|=_.lane,_=_.next;while(_!==c)}else E===null&&(_.shared.lanes=0);xc|=M,a.lanes=M,a.memoizedState=ge}}function iC(a,c,f){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var y=a[c],_=y.callback;if(_!==null){if(y.callback=null,y=f,typeof _!="function")throw Error(t(191,_));_.call(y)}}}var rf={},_o=Ya(rf),sf=Ya(rf),of=Ya(rf);function vc(a){if(a===rf)throw Error(t(174));return a}function p0(a,c){switch(Zt(of,c),Zt(sf,a),Zt(_o,rf),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Tt(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Tt(c,a)}an(_o),Zt(_o,c)}function Qu(){an(_o),an(sf),an(of)}function oC(a){vc(of.current);var c=vc(_o.current),f=Tt(c,a.type);c!==f&&(Zt(sf,a),Zt(_o,f))}function m0(a){sf.current===a&&(an(_o),an(sf))}var xn=Ya(0);function qm(a){for(var c=a;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var g0=[];function y0(){for(var a=0;a<g0.length;a++)g0[a]._workInProgressVersionPrimary=null;g0.length=0}var Hm=I.ReactCurrentDispatcher,v0=I.ReactCurrentBatchConfig,wc=0,_n=null,tr=null,pr=null,Km=!1,af=!1,lf=0,u3=0;function qr(){throw Error(t(321))}function w0(a,c){if(c===null)return!1;for(var f=0;f<c.length&&f<a.length;f++)if(!Vi(a[f],c[f]))return!1;return!0}function x0(a,c,f,y,_,E){if(wc=E,_n=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Hm.current=a===null||a.memoizedState===null?p3:m3,a=f(y,_),af){E=0;do{if(af=!1,lf=0,25<=E)throw Error(t(301));E+=1,pr=tr=null,c.updateQueue=null,Hm.current=g3,a=f(y,_)}while(af)}if(Hm.current=Qm,c=tr!==null&&tr.next!==null,wc=0,pr=tr=_n=null,Km=!1,c)throw Error(t(300));return a}function _0(){var a=lf!==0;return lf=0,a}function bo(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?_n.memoizedState=pr=a:pr=pr.next=a,pr}function yi(){if(tr===null){var a=_n.alternate;a=a!==null?a.memoizedState:null}else a=tr.next;var c=pr===null?_n.memoizedState:pr.next;if(c!==null)pr=c,tr=a;else{if(a===null)throw Error(t(310));tr=a,a={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},pr===null?_n.memoizedState=pr=a:pr=pr.next=a}return pr}function cf(a,c){return typeof c=="function"?c(a):c}function b0(a){var c=yi(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var y=tr,_=y.baseQueue,E=f.pending;if(E!==null){if(_!==null){var M=_.next;_.next=E.next,E.next=M}y.baseQueue=_=E,f.pending=null}if(_!==null){E=_.next,y=y.baseState;var H=M=null,K=null,ae=E;do{var pe=ae.lane;if((wc&pe)===pe)K!==null&&(K=K.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),y=ae.hasEagerState?ae.eagerState:a(y,ae.action);else{var ge={lane:pe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};K===null?(H=K=ge,M=y):K=K.next=ge,_n.lanes|=pe,xc|=pe}ae=ae.next}while(ae!==null&&ae!==E);K===null?M=y:K.next=H,Vi(y,c.memoizedState)||(Ps=!0),c.memoizedState=y,c.baseState=M,c.baseQueue=K,f.lastRenderedState=y}if(a=f.interleaved,a!==null){_=a;do E=_.lane,_n.lanes|=E,xc|=E,_=_.next;while(_!==a)}else _===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function S0(a){var c=yi(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var y=f.dispatch,_=f.pending,E=c.memoizedState;if(_!==null){f.pending=null;var M=_=_.next;do E=a(E,M.action),M=M.next;while(M!==_);Vi(E,c.memoizedState)||(Ps=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),f.lastRenderedState=E}return[E,y]}function aC(){}function lC(a,c){var f=_n,y=yi(),_=c(),E=!Vi(y.memoizedState,_);if(E&&(y.memoizedState=_,Ps=!0),y=y.queue,T0(dC.bind(null,f,y,a),[a]),y.getSnapshot!==c||E||pr!==null&&pr.memoizedState.tag&1){if(f.flags|=2048,uf(9,uC.bind(null,f,y,_,c),void 0,null),mr===null)throw Error(t(349));(wc&30)!==0||cC(f,c,_)}return _}function cC(a,c,f){a.flags|=16384,a={getSnapshot:c,value:f},c=_n.updateQueue,c===null?(c={lastEffect:null,stores:null},_n.updateQueue=c,c.stores=[a]):(f=c.stores,f===null?c.stores=[a]:f.push(a))}function uC(a,c,f,y){c.value=f,c.getSnapshot=y,hC(c)&&fC(a)}function dC(a,c,f){return f(function(){hC(c)&&fC(a)})}function hC(a){var c=a.getSnapshot;a=a.value;try{var f=c();return!Vi(a,f)}catch{return!0}}function fC(a){var c=ua(a,1);c!==null&&Bi(c,a,1,-1)}function pC(a){var c=bo();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cf,lastRenderedState:a},c.queue=a,a=a.dispatch=f3.bind(null,_n,a),[c.memoizedState,a]}function uf(a,c,f,y){return a={tag:a,create:c,destroy:f,deps:y,next:null},c=_n.updateQueue,c===null?(c={lastEffect:null,stores:null},_n.updateQueue=c,c.lastEffect=a.next=a):(f=c.lastEffect,f===null?c.lastEffect=a.next=a:(y=f.next,f.next=a,a.next=y,c.lastEffect=a)),a}function mC(){return yi().memoizedState}function Gm(a,c,f,y){var _=bo();_n.flags|=a,_.memoizedState=uf(1|c,f,void 0,y===void 0?null:y)}function Ym(a,c,f,y){var _=yi();y=y===void 0?null:y;var E=void 0;if(tr!==null){var M=tr.memoizedState;if(E=M.destroy,y!==null&&w0(y,M.deps)){_.memoizedState=uf(c,f,E,y);return}}_n.flags|=a,_.memoizedState=uf(1|c,f,E,y)}function gC(a,c){return Gm(8390656,8,a,c)}function T0(a,c){return Ym(2048,8,a,c)}function yC(a,c){return Ym(4,2,a,c)}function vC(a,c){return Ym(4,4,a,c)}function wC(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function xC(a,c,f){return f=f!=null?f.concat([a]):null,Ym(4,4,wC.bind(null,c,a),f)}function E0(){}function _C(a,c){var f=yi();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&w0(c,y[1])?y[0]:(f.memoizedState=[a,c],a)}function bC(a,c){var f=yi();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&w0(c,y[1])?y[0]:(a=a(),f.memoizedState=[a,c],a)}function SC(a,c,f){return(wc&21)===0?(a.baseState&&(a.baseState=!1,Ps=!0),a.memoizedState=f):(Vi(f,c)||(f=Oh(),_n.lanes|=f,xc|=f,a.baseState=!0),c)}function d3(a,c){var f=Ct;Ct=f!==0&&4>f?f:4,a(!0);var y=v0.transition;v0.transition={};try{a(!1),c()}finally{Ct=f,v0.transition=y}}function TC(){return yi().memoizedState}function h3(a,c,f){var y=rl(a);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},EC(a))CC(c,f);else if(f=nC(a,c,f,y),f!==null){var _=us();Bi(f,a,y,_),PC(f,c,y)}}function f3(a,c,f){var y=rl(a),_={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(EC(a))CC(c,_);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var M=c.lastRenderedState,H=E(M,f);if(_.hasEagerState=!0,_.eagerState=H,Vi(H,M)){var K=c.interleaved;K===null?(_.next=_,h0(c)):(_.next=K.next,K.next=_),c.interleaved=_;return}}catch{}finally{}f=nC(a,c,_,y),f!==null&&(_=us(),Bi(f,a,y,_),PC(f,c,y))}}function EC(a){var c=a.alternate;return a===_n||c!==null&&c===_n}function CC(a,c){af=Km=!0;var f=a.pending;f===null?c.next=c:(c.next=f.next,f.next=c),a.pending=c}function PC(a,c,f){if((f&4194240)!==0){var y=c.lanes;y&=a.pendingLanes,f|=y,c.lanes=f,Lh(a,f)}}var Qm={readContext:gi,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},p3={readContext:gi,useCallback:function(a,c){return bo().memoizedState=[a,c===void 0?null:c],a},useContext:gi,useEffect:gC,useImperativeHandle:function(a,c,f){return f=f!=null?f.concat([a]):null,Gm(4194308,4,wC.bind(null,c,a),f)},useLayoutEffect:function(a,c){return Gm(4194308,4,a,c)},useInsertionEffect:function(a,c){return Gm(4,2,a,c)},useMemo:function(a,c){var f=bo();return c=c===void 0?null:c,a=a(),f.memoizedState=[a,c],a},useReducer:function(a,c,f){var y=bo();return c=f!==void 0?f(c):c,y.memoizedState=y.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},y.queue=a,a=a.dispatch=h3.bind(null,_n,a),[y.memoizedState,a]},useRef:function(a){var c=bo();return a={current:a},c.memoizedState=a},useState:pC,useDebugValue:E0,useDeferredValue:function(a){return bo().memoizedState=a},useTransition:function(){var a=pC(!1),c=a[0];return a=d3.bind(null,a[1]),bo().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,f){var y=_n,_=bo();if(un){if(f===void 0)throw Error(t(407));f=f()}else{if(f=c(),mr===null)throw Error(t(349));(wc&30)!==0||cC(y,c,f)}_.memoizedState=f;var E={value:f,getSnapshot:c};return _.queue=E,gC(dC.bind(null,y,E,a),[a]),y.flags|=2048,uf(9,uC.bind(null,y,E,f,c),void 0,null),f},useId:function(){var a=bo(),c=mr.identifierPrefix;if(un){var f=ca,y=la;f=(y&~(1<<32-qs(y)-1)).toString(32)+f,c=":"+c+"R"+f,f=lf++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=u3++,c=":"+c+"r"+f.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},m3={readContext:gi,useCallback:_C,useContext:gi,useEffect:T0,useImperativeHandle:xC,useInsertionEffect:yC,useLayoutEffect:vC,useMemo:bC,useReducer:b0,useRef:mC,useState:function(){return b0(cf)},useDebugValue:E0,useDeferredValue:function(a){var c=yi();return SC(c,tr.memoizedState,a)},useTransition:function(){var a=b0(cf)[0],c=yi().memoizedState;return[a,c]},useMutableSource:aC,useSyncExternalStore:lC,useId:TC,unstable_isNewReconciler:!1},g3={readContext:gi,useCallback:_C,useContext:gi,useEffect:T0,useImperativeHandle:xC,useInsertionEffect:yC,useLayoutEffect:vC,useMemo:bC,useReducer:S0,useRef:mC,useState:function(){return S0(cf)},useDebugValue:E0,useDeferredValue:function(a){var c=yi();return tr===null?c.memoizedState=a:SC(c,tr.memoizedState,a)},useTransition:function(){var a=S0(cf)[0],c=yi().memoizedState;return[a,c]},useMutableSource:aC,useSyncExternalStore:lC,useId:TC,unstable_isNewReconciler:!1};function zi(a,c){if(a&&a.defaultProps){c=B({},c),a=a.defaultProps;for(var f in a)c[f]===void 0&&(c[f]=a[f]);return c}return c}function C0(a,c,f,y){c=a.memoizedState,f=f(y,c),f=f==null?c:B({},c,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Xm={isMounted:function(a){return(a=a._reactInternals)?ut(a)===a:!1},enqueueSetState:function(a,c,f){a=a._reactInternals;var y=us(),_=rl(a),E=da(y,_);E.payload=c,f!=null&&(E.callback=f),c=Za(a,E,_),c!==null&&(Bi(c,a,_,y),Bm(c,a,_))},enqueueReplaceState:function(a,c,f){a=a._reactInternals;var y=us(),_=rl(a),E=da(y,_);E.tag=1,E.payload=c,f!=null&&(E.callback=f),c=Za(a,E,_),c!==null&&(Bi(c,a,_,y),Bm(c,a,_))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var f=us(),y=rl(a),_=da(f,y);_.tag=2,c!=null&&(_.callback=c),c=Za(a,_,y),c!==null&&(Bi(c,a,y,f),Bm(c,a,y))}};function kC(a,c,f,y,_,E,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,E,M):c.prototype&&c.prototype.isPureReactComponent?!Yh(f,y)||!Yh(_,E):!0}function RC(a,c,f){var y=!1,_=Qa,E=c.contextType;return typeof E=="object"&&E!==null?E=gi(E):(_=Cs(c)?pc:Wr.current,y=c.contextTypes,E=(y=y!=null)?Bu(a,_):Qa),c=new c(f,E),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Xm,a.stateNode=c,c._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=E),c}function AC(a,c,f,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,y),c.state!==a&&Xm.enqueueReplaceState(c,c.state,null)}function P0(a,c,f,y){var _=a.stateNode;_.props=f,_.state=a.memoizedState,_.refs={},f0(a);var E=c.contextType;typeof E=="object"&&E!==null?_.context=gi(E):(E=Cs(c)?pc:Wr.current,_.context=Bu(a,E)),_.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(C0(a,c,E,f),_.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(c=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),c!==_.state&&Xm.enqueueReplaceState(_,_.state,null),Wm(a,f,_,y),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Xu(a,c){try{var f="",y=c;do f+=Z(y),y=y.return;while(y);var _=f}catch(E){_=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:c,stack:_,digest:null}}function k0(a,c,f){return{value:a,source:null,stack:f??null,digest:c??null}}function R0(a,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var y3=typeof WeakMap=="function"?WeakMap:Map;function IC(a,c,f){f=da(-1,f),f.tag=3,f.payload={element:null};var y=c.value;return f.callback=function(){sg||(sg=!0,W0=y),R0(a,c)},f}function NC(a,c,f){f=da(-1,f),f.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var _=c.value;f.payload=function(){return y(_)},f.callback=function(){R0(a,c)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){R0(a,c),typeof y!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})}),f}function DC(a,c,f){var y=a.pingCache;if(y===null){y=a.pingCache=new y3;var _=new Set;y.set(c,_)}else _=y.get(c),_===void 0&&(_=new Set,y.set(c,_));_.has(f)||(_.add(f),a=I3.bind(null,a,c,f),c.then(a,a))}function jC(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function OC(a,c,f,y,_){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=da(-1,1),c.tag=2,Za(f,c,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=_,a)}var v3=I.ReactCurrentOwner,Ps=!1;function cs(a,c,f,y){c.child=a===null?tC(c,null,f,y):Ku(c,a.child,f,y)}function MC(a,c,f,y,_){f=f.render;var E=c.ref;return Yu(c,_),y=x0(a,c,f,y,E,_),f=_0(),a!==null&&!Ps?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~_,ha(a,c,_)):(un&&f&&r0(c),c.flags|=1,cs(a,c,y,_),c.child)}function LC(a,c,f,y,_){if(a===null){var E=f.type;return typeof E=="function"&&!X0(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=E,VC(a,c,E,y,_)):(a=ug(f.type,null,y,c,c.mode,_),a.ref=c.ref,a.return=c,c.child=a)}if(E=a.child,(a.lanes&_)===0){var M=E.memoizedProps;if(f=f.compare,f=f!==null?f:Yh,f(M,y)&&a.ref===c.ref)return ha(a,c,_)}return c.flags|=1,a=il(E,y),a.ref=c.ref,a.return=c,c.child=a}function VC(a,c,f,y,_){if(a!==null){var E=a.memoizedProps;if(Yh(E,y)&&a.ref===c.ref)if(Ps=!1,c.pendingProps=y=E,(a.lanes&_)!==0)(a.flags&131072)!==0&&(Ps=!0);else return c.lanes=a.lanes,ha(a,c,_)}return A0(a,c,f,y,_)}function FC(a,c,f){var y=c.pendingProps,_=y.children,E=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Zu,Js),Js|=f;else{if((f&1073741824)===0)return a=E!==null?E.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,Zt(Zu,Js),Js|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:f,Zt(Zu,Js),Js|=y}else E!==null?(y=E.baseLanes|f,c.memoizedState=null):y=f,Zt(Zu,Js),Js|=y;return cs(a,c,_,f),c.child}function zC(a,c){var f=c.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function A0(a,c,f,y,_){var E=Cs(f)?pc:Wr.current;return E=Bu(c,E),Yu(c,_),f=x0(a,c,f,y,E,_),y=_0(),a!==null&&!Ps?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~_,ha(a,c,_)):(un&&y&&r0(c),c.flags|=1,cs(a,c,f,_),c.child)}function UC(a,c,f,y,_){if(Cs(f)){var E=!0;Om(c)}else E=!1;if(Yu(c,_),c.stateNode===null)Zm(a,c),RC(c,f,y),P0(c,f,y,_),y=!0;else if(a===null){var M=c.stateNode,H=c.memoizedProps;M.props=H;var K=M.context,ae=f.contextType;typeof ae=="object"&&ae!==null?ae=gi(ae):(ae=Cs(f)?pc:Wr.current,ae=Bu(c,ae));var pe=f.getDerivedStateFromProps,ge=typeof pe=="function"||typeof M.getSnapshotBeforeUpdate=="function";ge||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==y||K!==ae)&&AC(c,M,y,ae),Ja=!1;var fe=c.memoizedState;M.state=fe,Wm(c,y,M,_),K=c.memoizedState,H!==y||fe!==K||Es.current||Ja?(typeof pe=="function"&&(C0(c,f,pe,y),K=c.memoizedState),(H=Ja||kC(c,f,H,y,fe,K,ae))?(ge||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(c.flags|=4194308)):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=K),M.props=y,M.state=K,M.context=ae,y=H):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{M=c.stateNode,rC(a,c),H=c.memoizedProps,ae=c.type===c.elementType?H:zi(c.type,H),M.props=ae,ge=c.pendingProps,fe=M.context,K=f.contextType,typeof K=="object"&&K!==null?K=gi(K):(K=Cs(f)?pc:Wr.current,K=Bu(c,K));var Te=f.getDerivedStateFromProps;(pe=typeof Te=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==ge||fe!==K)&&AC(c,M,y,K),Ja=!1,fe=c.memoizedState,M.state=fe,Wm(c,y,M,_);var De=c.memoizedState;H!==ge||fe!==De||Es.current||Ja?(typeof Te=="function"&&(C0(c,f,Te,y),De=c.memoizedState),(ae=Ja||kC(c,f,ae,y,fe,De,K)||!1)?(pe||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,De,K),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,De,K)),typeof M.componentDidUpdate=="function"&&(c.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&fe===a.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&fe===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=De),M.props=y,M.state=De,M.context=K,y=ae):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&fe===a.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&fe===a.memoizedState||(c.flags|=1024),y=!1)}return I0(a,c,f,y,E,_)}function I0(a,c,f,y,_,E){zC(a,c);var M=(c.flags&128)!==0;if(!y&&!M)return _&&HE(c,f,!1),ha(a,c,E);y=c.stateNode,v3.current=c;var H=M&&typeof f.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,a!==null&&M?(c.child=Ku(c,a.child,null,E),c.child=Ku(c,null,H,E)):cs(a,c,H,E),c.memoizedState=y.state,_&&HE(c,f,!0),c.child}function $C(a){var c=a.stateNode;c.pendingContext?WE(a,c.pendingContext,c.pendingContext!==c.context):c.context&&WE(a,c.context,!1),p0(a,c.containerInfo)}function BC(a,c,f,y,_){return Hu(),a0(_),c.flags|=256,cs(a,c,f,y),c.child}var N0={dehydrated:null,treeContext:null,retryLane:0};function D0(a){return{baseLanes:a,cachePool:null,transitions:null}}function WC(a,c,f){var y=c.pendingProps,_=xn.current,E=!1,M=(c.flags&128)!==0,H;if((H=M)||(H=a!==null&&a.memoizedState===null?!1:(_&2)!==0),H?(E=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),Zt(xn,_&1),a===null)return o0(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(M=y.children,a=y.fallback,E?(y=c.mode,E=c.child,M={mode:"hidden",children:M},(y&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=M):E=dg(M,y,0,null),a=Tc(a,y,f,null),E.return=c,a.return=c,E.sibling=a,c.child=E,c.child.memoizedState=D0(f),c.memoizedState=N0,a):j0(c,M));if(_=a.memoizedState,_!==null&&(H=_.dehydrated,H!==null))return w3(a,c,M,y,H,_,f);if(E){E=y.fallback,M=c.mode,_=a.child,H=_.sibling;var K={mode:"hidden",children:y.children};return(M&1)===0&&c.child!==_?(y=c.child,y.childLanes=0,y.pendingProps=K,c.deletions=null):(y=il(_,K),y.subtreeFlags=_.subtreeFlags&14680064),H!==null?E=il(H,E):(E=Tc(E,M,f,null),E.flags|=2),E.return=c,y.return=c,y.sibling=E,c.child=y,y=E,E=c.child,M=a.child.memoizedState,M=M===null?D0(f):{baseLanes:M.baseLanes|f,cachePool:null,transitions:M.transitions},E.memoizedState=M,E.childLanes=a.childLanes&~f,c.memoizedState=N0,y}return E=a.child,a=E.sibling,y=il(E,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=f),y.return=c,y.sibling=null,a!==null&&(f=c.deletions,f===null?(c.deletions=[a],c.flags|=16):f.push(a)),c.child=y,c.memoizedState=null,y}function j0(a,c){return c=dg({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Jm(a,c,f,y){return y!==null&&a0(y),Ku(c,a.child,null,f),a=j0(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function w3(a,c,f,y,_,E,M){if(f)return c.flags&256?(c.flags&=-257,y=k0(Error(t(422))),Jm(a,c,M,y)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(E=y.fallback,_=c.mode,y=dg({mode:"visible",children:y.children},_,0,null),E=Tc(E,_,M,null),E.flags|=2,y.return=c,E.return=c,y.sibling=E,c.child=y,(c.mode&1)!==0&&Ku(c,a.child,null,M),c.child.memoizedState=D0(M),c.memoizedState=N0,E);if((c.mode&1)===0)return Jm(a,c,M,null);if(_.data==="$!"){if(y=_.nextSibling&&_.nextSibling.dataset,y)var H=y.dgst;return y=H,E=Error(t(419)),y=k0(E,y,void 0),Jm(a,c,M,y)}if(H=(M&a.childLanes)!==0,Ps||H){if(y=mr,y!==null){switch(M&-M){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(y.suspendedLanes|M))!==0?0:_,_!==0&&_!==E.retryLane&&(E.retryLane=_,ua(a,_),Bi(y,a,_,-1))}return Q0(),y=k0(Error(t(421))),Jm(a,c,M,y)}return _.data==="$?"?(c.flags|=128,c.child=a.child,c=N3.bind(null,a),_._reactRetry=c,null):(a=E.treeContext,Xs=Ga(_.nextSibling),Qs=c,un=!0,Fi=null,a!==null&&(pi[mi++]=la,pi[mi++]=ca,pi[mi++]=mc,la=a.id,ca=a.overflow,mc=c),c=j0(c,y.children),c.flags|=4096,c)}function qC(a,c,f){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),d0(a.return,c,f)}function O0(a,c,f,y,_){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:_}:(E.isBackwards=c,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=f,E.tailMode=_)}function HC(a,c,f){var y=c.pendingProps,_=y.revealOrder,E=y.tail;if(cs(a,c,y.children,f),y=xn.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&qC(a,f,c);else if(a.tag===19)qC(a,f,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(Zt(xn,y),(c.mode&1)===0)c.memoizedState=null;else switch(_){case"forwards":for(f=c.child,_=null;f!==null;)a=f.alternate,a!==null&&qm(a)===null&&(_=f),f=f.sibling;f=_,f===null?(_=c.child,c.child=null):(_=f.sibling,f.sibling=null),O0(c,!1,_,f,E);break;case"backwards":for(f=null,_=c.child,c.child=null;_!==null;){if(a=_.alternate,a!==null&&qm(a)===null){c.child=_;break}a=_.sibling,_.sibling=f,f=_,_=a}O0(c,!0,f,null,E);break;case"together":O0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Zm(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function ha(a,c,f){if(a!==null&&(c.dependencies=a.dependencies),xc|=c.lanes,(f&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,f=il(a,a.pendingProps),c.child=f,f.return=c;a.sibling!==null;)a=a.sibling,f=f.sibling=il(a,a.pendingProps),f.return=c;f.sibling=null}return c.child}function x3(a,c,f){switch(c.tag){case 3:$C(c),Hu();break;case 5:oC(c);break;case 1:Cs(c.type)&&Om(c);break;case 4:p0(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,_=c.memoizedProps.value;Zt(Um,y._currentValue),y._currentValue=_;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(Zt(xn,xn.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?WC(a,c,f):(Zt(xn,xn.current&1),a=ha(a,c,f),a!==null?a.sibling:null);Zt(xn,xn.current&1);break;case 19:if(y=(f&c.childLanes)!==0,(a.flags&128)!==0){if(y)return HC(a,c,f);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Zt(xn,xn.current),y)break;return null;case 22:case 23:return c.lanes=0,FC(a,c,f)}return ha(a,c,f)}var KC,M0,GC,YC;KC=function(a,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},M0=function(){},GC=function(a,c,f,y){var _=a.memoizedProps;if(_!==y){a=c.stateNode,vc(_o.current);var E=null;switch(f){case"input":_=ft(a,_),y=ft(a,y),E=[];break;case"select":_=B({},_,{value:void 0}),y=B({},y,{value:void 0}),E=[];break;case"textarea":_=cr(a,_),y=cr(a,y),E=[];break;default:typeof _.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Nm)}rn(f,y);var M;f=null;for(ae in _)if(!y.hasOwnProperty(ae)&&_.hasOwnProperty(ae)&&_[ae]!=null)if(ae==="style"){var H=_[ae];for(M in H)H.hasOwnProperty(M)&&(f||(f={}),f[M]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(s.hasOwnProperty(ae)?E||(E=[]):(E=E||[]).push(ae,null));for(ae in y){var K=y[ae];if(H=_?.[ae],y.hasOwnProperty(ae)&&K!==H&&(K!=null||H!=null))if(ae==="style")if(H){for(M in H)!H.hasOwnProperty(M)||K&&K.hasOwnProperty(M)||(f||(f={}),f[M]="");for(M in K)K.hasOwnProperty(M)&&H[M]!==K[M]&&(f||(f={}),f[M]=K[M])}else f||(E||(E=[]),E.push(ae,f)),f=K;else ae==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,H=H?H.__html:void 0,K!=null&&H!==K&&(E=E||[]).push(ae,K)):ae==="children"?typeof K!="string"&&typeof K!="number"||(E=E||[]).push(ae,""+K):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(ae)?(K!=null&&ae==="onScroll"&&on("scroll",a),E||H===K||(E=[])):(E=E||[]).push(ae,K))}f&&(E=E||[]).push("style",f);var ae=E;(c.updateQueue=ae)&&(c.flags|=4)}},YC=function(a,c,f,y){f!==y&&(c.flags|=4)};function df(a,c){if(!un)switch(a.tailMode){case"hidden":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Hr(a){var c=a.alternate!==null&&a.alternate.child===a.child,f=0,y=0;if(c)for(var _=a.child;_!==null;)f|=_.lanes|_.childLanes,y|=_.subtreeFlags&14680064,y|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)f|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=y,a.childLanes=f,c}function _3(a,c,f){var y=c.pendingProps;switch(s0(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(c),null;case 1:return Cs(c.type)&&jm(),Hr(c),null;case 3:return y=c.stateNode,Qu(),an(Es),an(Wr),y0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(Fm(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Fi!==null&&(K0(Fi),Fi=null))),M0(a,c),Hr(c),null;case 5:m0(c);var _=vc(of.current);if(f=c.type,a!==null&&c.stateNode!=null)GC(a,c,f,y,_),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(t(166));return Hr(c),null}if(a=vc(_o.current),Fm(c)){y=c.stateNode,f=c.type;var E=c.memoizedProps;switch(y[xo]=c,y[ef]=E,a=(c.mode&1)!==0,f){case"dialog":on("cancel",y),on("close",y);break;case"iframe":case"object":case"embed":on("load",y);break;case"video":case"audio":for(_=0;_<Xh.length;_++)on(Xh[_],y);break;case"source":on("error",y);break;case"img":case"image":case"link":on("error",y),on("load",y);break;case"details":on("toggle",y);break;case"input":nn(y,E),on("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!E.multiple},on("invalid",y);break;case"textarea":Cn(y,E),on("invalid",y)}rn(f,E),_=null;for(var M in E)if(E.hasOwnProperty(M)){var H=E[M];M==="children"?typeof H=="string"?y.textContent!==H&&(E.suppressHydrationWarning!==!0&&Im(y.textContent,H,a),_=["children",H]):typeof H=="number"&&y.textContent!==""+H&&(E.suppressHydrationWarning!==!0&&Im(y.textContent,H,a),_=["children",""+H]):s.hasOwnProperty(M)&&H!=null&&M==="onScroll"&&on("scroll",y)}switch(f){case"input":ze(y),pn(y,E,!0);break;case"textarea":ze(y),zt(y);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(y.onclick=Nm)}y=_,c.updateQueue=y,y!==null&&(c.flags|=4)}else{M=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ht(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=M.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=M.createElement(f,{is:y.is}):(a=M.createElement(f),f==="select"&&(M=a,y.multiple?M.multiple=!0:y.size&&(M.size=y.size))):a=M.createElementNS(a,f),a[xo]=c,a[ef]=y,KC(a,c,!1,!1),c.stateNode=a;e:{switch(M=Cr(f,y),f){case"dialog":on("cancel",a),on("close",a),_=y;break;case"iframe":case"object":case"embed":on("load",a),_=y;break;case"video":case"audio":for(_=0;_<Xh.length;_++)on(Xh[_],a);_=y;break;case"source":on("error",a),_=y;break;case"img":case"image":case"link":on("error",a),on("load",a),_=y;break;case"details":on("toggle",a),_=y;break;case"input":nn(a,y),_=ft(a,y),on("invalid",a);break;case"option":_=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},_=B({},y,{value:void 0}),on("invalid",a);break;case"textarea":Cn(a,y),_=cr(a,y),on("invalid",a);break;default:_=y}rn(f,_),H=_;for(E in H)if(H.hasOwnProperty(E)){var K=H[E];E==="style"?mn(a,K):E==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&er(a,K)):E==="children"?typeof K=="string"?(f!=="textarea"||K!=="")&&kn(a,K):typeof K=="number"&&kn(a,""+K):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?K!=null&&E==="onScroll"&&on("scroll",a):K!=null&&j(a,E,K,M))}switch(f){case"input":ze(a),pn(a,y,!1);break;case"textarea":ze(a),zt(a);break;case"option":y.value!=null&&a.setAttribute("value",""+xe(y.value));break;case"select":a.multiple=!!y.multiple,E=y.value,E!=null?ct(a,!!y.multiple,E,!1):y.defaultValue!=null&&ct(a,!!y.multiple,y.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=Nm)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Hr(c),null;case 6:if(a&&c.stateNode!=null)YC(a,c,a.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(t(166));if(f=vc(of.current),vc(_o.current),Fm(c)){if(y=c.stateNode,f=c.memoizedProps,y[xo]=c,(E=y.nodeValue!==f)&&(a=Qs,a!==null))switch(a.tag){case 3:Im(y.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Im(y.nodeValue,f,(a.mode&1)!==0)}E&&(c.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[xo]=c,c.stateNode=y}return Hr(c),null;case 13:if(an(xn),y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(un&&Xs!==null&&(c.mode&1)!==0&&(c.flags&128)===0)JE(),Hu(),c.flags|=98560,E=!1;else if(E=Fm(c),y!==null&&y.dehydrated!==null){if(a===null){if(!E)throw Error(t(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[xo]=c}else Hu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Hr(c),E=!1}else Fi!==null&&(K0(Fi),Fi=null),E=!0;if(!E)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(xn.current&1)!==0?nr===0&&(nr=3):Q0())),c.updateQueue!==null&&(c.flags|=4),Hr(c),null);case 4:return Qu(),M0(a,c),a===null&&Jh(c.stateNode.containerInfo),Hr(c),null;case 10:return u0(c.type._context),Hr(c),null;case 17:return Cs(c.type)&&jm(),Hr(c),null;case 19:if(an(xn),E=c.memoizedState,E===null)return Hr(c),null;if(y=(c.flags&128)!==0,M=E.rendering,M===null)if(y)df(E,!1);else{if(nr!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(M=qm(a),M!==null){for(c.flags|=128,df(E,!1),y=M.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=f,f=c.child;f!==null;)E=f,a=y,E.flags&=14680066,M=E.alternate,M===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=M.childLanes,E.lanes=M.lanes,E.child=M.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=M.memoizedProps,E.memoizedState=M.memoizedState,E.updateQueue=M.updateQueue,E.type=M.type,a=M.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return Zt(xn,xn.current&1|2),c.child}a=a.sibling}E.tail!==null&&at()>ed&&(c.flags|=128,y=!0,df(E,!1),c.lanes=4194304)}else{if(!y)if(a=qm(M),a!==null){if(c.flags|=128,y=!0,f=a.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),df(E,!0),E.tail===null&&E.tailMode==="hidden"&&!M.alternate&&!un)return Hr(c),null}else 2*at()-E.renderingStartTime>ed&&f!==1073741824&&(c.flags|=128,y=!0,df(E,!1),c.lanes=4194304);E.isBackwards?(M.sibling=c.child,c.child=M):(f=E.last,f!==null?f.sibling=M:c.child=M,E.last=M)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=at(),c.sibling=null,f=xn.current,Zt(xn,y?f&1|2:f&1),c):(Hr(c),null);case 22:case 23:return Y0(),y=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(Js&1073741824)!==0&&(Hr(c),c.subtreeFlags&6&&(c.flags|=8192)):Hr(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function b3(a,c){switch(s0(c),c.tag){case 1:return Cs(c.type)&&jm(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Qu(),an(Es),an(Wr),y0(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return m0(c),null;case 13:if(an(xn),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Hu()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return an(xn),null;case 4:return Qu(),null;case 10:return u0(c.type._context),null;case 22:case 23:return Y0(),null;case 24:return null;default:return null}}var eg=!1,Kr=!1,S3=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Ju(a,c){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){Rn(a,c,y)}else f.current=null}function L0(a,c,f){try{f()}catch(y){Rn(a,c,y)}}var QC=!1;function T3(a,c){if(Yw=ra,a=kE(),Uw(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var _=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var M=0,H=-1,K=-1,ae=0,pe=0,ge=a,fe=null;t:for(;;){for(var Te;ge!==f||_!==0&&ge.nodeType!==3||(H=M+_),ge!==E||y!==0&&ge.nodeType!==3||(K=M+y),ge.nodeType===3&&(M+=ge.nodeValue.length),(Te=ge.firstChild)!==null;)fe=ge,ge=Te;for(;;){if(ge===a)break t;if(fe===f&&++ae===_&&(H=M),fe===E&&++pe===y&&(K=M),(Te=ge.nextSibling)!==null)break;ge=fe,fe=ge.parentNode}ge=Te}f=H===-1||K===-1?null:{start:H,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(Qw={focusedElem:a,selectionRange:f},ra=!1,Re=c;Re!==null;)if(c=Re,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Re=a;else for(;Re!==null;){c=Re;try{var De=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var je=De.memoizedProps,jn=De.memoizedState,ee=c.stateNode,Y=ee.getSnapshotBeforeUpdate(c.elementType===c.type?je:zi(c.type,je),jn);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=c.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ve){Rn(c,c.return,ve)}if(a=c.sibling,a!==null){a.return=c.return,Re=a;break}Re=c.return}return De=QC,QC=!1,De}function hf(a,c,f){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var _=y=y.next;do{if((_.tag&a)===a){var E=_.destroy;_.destroy=void 0,E!==void 0&&L0(c,f,E)}_=_.next}while(_!==y)}}function tg(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&a)===a){var y=f.create;f.destroy=y()}f=f.next}while(f!==c)}}function V0(a){var c=a.ref;if(c!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof c=="function"?c(a):c.current=a}}function XC(a){var c=a.alternate;c!==null&&(a.alternate=null,XC(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[xo],delete c[ef],delete c[e0],delete c[o3],delete c[a3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function JC(a){return a.tag===5||a.tag===3||a.tag===4}function ZC(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||JC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function F0(a,c,f){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(a,c):f.insertBefore(a,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(a,f)):(c=f,c.appendChild(a)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Nm));else if(y!==4&&(a=a.child,a!==null))for(F0(a,c,f),a=a.sibling;a!==null;)F0(a,c,f),a=a.sibling}function z0(a,c,f){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?f.insertBefore(a,c):f.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(z0(a,c,f),a=a.sibling;a!==null;)z0(a,c,f),a=a.sibling}var Nr=null,Ui=!1;function el(a,c,f){for(f=f.child;f!==null;)eP(a,c,f),f=f.sibling}function eP(a,c,f){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Bs,f)}catch{}switch(f.tag){case 5:Kr||Ju(f,c);case 6:var y=Nr,_=Ui;Nr=null,el(a,c,f),Nr=y,Ui=_,Nr!==null&&(Ui?(a=Nr,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Nr.removeChild(f.stateNode));break;case 18:Nr!==null&&(Ui?(a=Nr,f=f.stateNode,a.nodeType===8?Zw(a.parentNode,f):a.nodeType===1&&Zw(a,f),Wa(a)):Zw(Nr,f.stateNode));break;case 4:y=Nr,_=Ui,Nr=f.stateNode.containerInfo,Ui=!0,el(a,c,f),Nr=y,Ui=_;break;case 0:case 11:case 14:case 15:if(!Kr&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){_=y=y.next;do{var E=_,M=E.destroy;E=E.tag,M!==void 0&&((E&2)!==0||(E&4)!==0)&&L0(f,c,M),_=_.next}while(_!==y)}el(a,c,f);break;case 1:if(!Kr&&(Ju(f,c),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(H){Rn(f,c,H)}el(a,c,f);break;case 21:el(a,c,f);break;case 22:f.mode&1?(Kr=(y=Kr)||f.memoizedState!==null,el(a,c,f),Kr=y):el(a,c,f);break;default:el(a,c,f)}}function tP(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new S3),c.forEach(function(y){var _=D3.bind(null,a,y);f.has(y)||(f.add(y),y.then(_,_))})}}function $i(a,c){var f=c.deletions;if(f!==null)for(var y=0;y<f.length;y++){var _=f[y];try{var E=a,M=c,H=M;e:for(;H!==null;){switch(H.tag){case 5:Nr=H.stateNode,Ui=!1;break e;case 3:Nr=H.stateNode.containerInfo,Ui=!0;break e;case 4:Nr=H.stateNode.containerInfo,Ui=!0;break e}H=H.return}if(Nr===null)throw Error(t(160));eP(E,M,_),Nr=null,Ui=!1;var K=_.alternate;K!==null&&(K.return=null),_.return=null}catch(ae){Rn(_,c,ae)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)nP(c,a),c=c.sibling}function nP(a,c){var f=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if($i(c,a),So(a),y&4){try{hf(3,a,a.return),tg(3,a)}catch(je){Rn(a,a.return,je)}try{hf(5,a,a.return)}catch(je){Rn(a,a.return,je)}}break;case 1:$i(c,a),So(a),y&512&&f!==null&&Ju(f,f.return);break;case 5:if($i(c,a),So(a),y&512&&f!==null&&Ju(f,f.return),a.flags&32){var _=a.stateNode;try{kn(_,"")}catch(je){Rn(a,a.return,je)}}if(y&4&&(_=a.stateNode,_!=null)){var E=a.memoizedProps,M=f!==null?f.memoizedProps:E,H=a.type,K=a.updateQueue;if(a.updateQueue=null,K!==null)try{H==="input"&&E.type==="radio"&&E.name!=null&&qt(_,E),Cr(H,M);var ae=Cr(H,E);for(M=0;M<K.length;M+=2){var pe=K[M],ge=K[M+1];pe==="style"?mn(_,ge):pe==="dangerouslySetInnerHTML"?er(_,ge):pe==="children"?kn(_,ge):j(_,pe,ge,ae)}switch(H){case"input":oe(_,E);break;case"textarea":Ss(_,E);break;case"select":var fe=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?ct(_,!!E.multiple,Te,!1):fe!==!!E.multiple&&(E.defaultValue!=null?ct(_,!!E.multiple,E.defaultValue,!0):ct(_,!!E.multiple,E.multiple?[]:"",!1))}_[ef]=E}catch(je){Rn(a,a.return,je)}}break;case 6:if($i(c,a),So(a),y&4){if(a.stateNode===null)throw Error(t(162));_=a.stateNode,E=a.memoizedProps;try{_.nodeValue=E}catch(je){Rn(a,a.return,je)}}break;case 3:if($i(c,a),So(a),y&4&&f!==null&&f.memoizedState.isDehydrated)try{Wa(c.containerInfo)}catch(je){Rn(a,a.return,je)}break;case 4:$i(c,a),So(a);break;case 13:$i(c,a),So(a),_=a.child,_.flags&8192&&(E=_.memoizedState!==null,_.stateNode.isHidden=E,!E||_.alternate!==null&&_.alternate.memoizedState!==null||(B0=at())),y&4&&tP(a);break;case 22:if(pe=f!==null&&f.memoizedState!==null,a.mode&1?(Kr=(ae=Kr)||pe,$i(c,a),Kr=ae):$i(c,a),So(a),y&8192){if(ae=a.memoizedState!==null,(a.stateNode.isHidden=ae)&&!pe&&(a.mode&1)!==0)for(Re=a,pe=a.child;pe!==null;){for(ge=Re=pe;Re!==null;){switch(fe=Re,Te=fe.child,fe.tag){case 0:case 11:case 14:case 15:hf(4,fe,fe.return);break;case 1:Ju(fe,fe.return);var De=fe.stateNode;if(typeof De.componentWillUnmount=="function"){y=fe,f=fe.return;try{c=y,De.props=c.memoizedProps,De.state=c.memoizedState,De.componentWillUnmount()}catch(je){Rn(y,f,je)}}break;case 5:Ju(fe,fe.return);break;case 22:if(fe.memoizedState!==null){iP(ge);continue}}Te!==null?(Te.return=fe,Re=Te):iP(ge)}pe=pe.sibling}e:for(pe=null,ge=a;;){if(ge.tag===5){if(pe===null){pe=ge;try{_=ge.stateNode,ae?(E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(H=ge.stateNode,K=ge.memoizedProps.style,M=K!=null&&K.hasOwnProperty("display")?K.display:null,H.style.display=Er("display",M))}catch(je){Rn(a,a.return,je)}}}else if(ge.tag===6){if(pe===null)try{ge.stateNode.nodeValue=ae?"":ge.memoizedProps}catch(je){Rn(a,a.return,je)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===a)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===a)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===a)break e;pe===ge&&(pe=null),ge=ge.return}pe===ge&&(pe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:$i(c,a),So(a),y&4&&tP(a);break;case 21:break;default:$i(c,a),So(a)}}function So(a){var c=a.flags;if(c&2){try{e:{for(var f=a.return;f!==null;){if(JC(f)){var y=f;break e}f=f.return}throw Error(t(160))}switch(y.tag){case 5:var _=y.stateNode;y.flags&32&&(kn(_,""),y.flags&=-33);var E=ZC(a);z0(a,E,_);break;case 3:case 4:var M=y.stateNode.containerInfo,H=ZC(a);F0(a,H,M);break;default:throw Error(t(161))}}catch(K){Rn(a,a.return,K)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function E3(a,c,f){Re=a,rP(a)}function rP(a,c,f){for(var y=(a.mode&1)!==0;Re!==null;){var _=Re,E=_.child;if(_.tag===22&&y){var M=_.memoizedState!==null||eg;if(!M){var H=_.alternate,K=H!==null&&H.memoizedState!==null||Kr;H=eg;var ae=Kr;if(eg=M,(Kr=K)&&!ae)for(Re=_;Re!==null;)M=Re,K=M.child,M.tag===22&&M.memoizedState!==null?oP(_):K!==null?(K.return=M,Re=K):oP(_);for(;E!==null;)Re=E,rP(E),E=E.sibling;Re=_,eg=H,Kr=ae}sP(a)}else(_.subtreeFlags&8772)!==0&&E!==null?(E.return=_,Re=E):sP(a)}}function sP(a){for(;Re!==null;){var c=Re;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Kr||tg(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!Kr)if(f===null)y.componentDidMount();else{var _=c.elementType===c.type?f.memoizedProps:zi(c.type,f.memoizedProps);y.componentDidUpdate(_,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=c.updateQueue;E!==null&&iC(c,E,y);break;case 3:var M=c.updateQueue;if(M!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}iC(c,M,f)}break;case 5:var H=c.stateNode;if(f===null&&c.flags&4){f=H;var K=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&f.focus();break;case"img":K.src&&(f.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ae=c.alternate;if(ae!==null){var pe=ae.memoizedState;if(pe!==null){var ge=pe.dehydrated;ge!==null&&Wa(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kr||c.flags&512&&V0(c)}catch(fe){Rn(c,c.return,fe)}}if(c===a){Re=null;break}if(f=c.sibling,f!==null){f.return=c.return,Re=f;break}Re=c.return}}function iP(a){for(;Re!==null;){var c=Re;if(c===a){Re=null;break}var f=c.sibling;if(f!==null){f.return=c.return,Re=f;break}Re=c.return}}function oP(a){for(;Re!==null;){var c=Re;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{tg(4,c)}catch(K){Rn(c,f,K)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var _=c.return;try{y.componentDidMount()}catch(K){Rn(c,_,K)}}var E=c.return;try{V0(c)}catch(K){Rn(c,E,K)}break;case 5:var M=c.return;try{V0(c)}catch(K){Rn(c,M,K)}}}catch(K){Rn(c,c.return,K)}if(c===a){Re=null;break}var H=c.sibling;if(H!==null){H.return=c.return,Re=H;break}Re=c.return}}var C3=Math.ceil,ng=I.ReactCurrentDispatcher,U0=I.ReactCurrentOwner,vi=I.ReactCurrentBatchConfig,Nt=0,mr=null,Bn=null,Dr=0,Js=0,Zu=Ya(0),nr=0,ff=null,xc=0,rg=0,$0=0,pf=null,ks=null,B0=0,ed=1/0,fa=null,sg=!1,W0=null,tl=null,ig=!1,nl=null,og=0,mf=0,q0=null,ag=-1,lg=0;function us(){return(Nt&6)!==0?at():ag!==-1?ag:ag=at()}function rl(a){return(a.mode&1)===0?1:(Nt&2)!==0&&Dr!==0?Dr&-Dr:c3.transition!==null?(lg===0&&(lg=Oh()),lg):(a=Ct,a!==0||(a=window.event,a=a===void 0?16:Ru(a.type)),a)}function Bi(a,c,f,y){if(50<mf)throw mf=0,q0=null,Error(t(185));lc(a,f,y),((Nt&2)===0||a!==mr)&&(a===mr&&((Nt&2)===0&&(rg|=f),nr===4&&sl(a,Dr)),Rs(a,y),f===1&&Nt===0&&(c.mode&1)===0&&(ed=at()+500,Mm&&Xa()))}function Rs(a,c){var f=a.callbackNode;ac(a,c);var y=ea(a,a===mr?Dr:0);if(y===0)f!==null&&vn(f),a.callbackNode=null,a.callbackPriority=0;else if(c=y&-y,a.callbackPriority!==c){if(f!=null&&vn(f),c===1)a.tag===0?l3(lP.bind(null,a)):KE(lP.bind(null,a)),s3(function(){(Nt&6)===0&&Xa()}),f=null;else{switch(co(y)){case 1:f=kr;break;case 4:f=Zo;break;case 16:f=oo;break;case 536870912:f=Rr;break;default:f=oo}f=gP(f,aP.bind(null,a))}a.callbackPriority=c,a.callbackNode=f}}function aP(a,c){if(ag=-1,lg=0,(Nt&6)!==0)throw Error(t(327));var f=a.callbackNode;if(td()&&a.callbackNode!==f)return null;var y=ea(a,a===mr?Dr:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||c)c=cg(a,y);else{c=y;var _=Nt;Nt|=2;var E=uP();(mr!==a||Dr!==c)&&(fa=null,ed=at()+500,bc(a,c));do try{R3();break}catch(H){cP(a,H)}while(!0);c0(),ng.current=E,Nt=_,Bn!==null?c=0:(mr=null,Dr=0,c=nr)}if(c!==0){if(c===2&&(_=jh(a),_!==0&&(y=_,c=H0(a,_))),c===1)throw f=ff,bc(a,0),sl(a,y),Rs(a,at()),f;if(c===6)sl(a,y);else{if(_=a.current.alternate,(y&30)===0&&!P3(_)&&(c=cg(a,y),c===2&&(E=jh(a),E!==0&&(y=E,c=H0(a,E))),c===1))throw f=ff,bc(a,0),sl(a,y),Rs(a,at()),f;switch(a.finishedWork=_,a.finishedLanes=y,c){case 0:case 1:throw Error(t(345));case 2:Sc(a,ks,fa);break;case 3:if(sl(a,y),(y&130023424)===y&&(c=B0+500-at(),10<c)){if(ea(a,0)!==0)break;if(_=a.suspendedLanes,(_&y)!==y){us(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=Jw(Sc.bind(null,a,ks,fa),c);break}Sc(a,ks,fa);break;case 4:if(sl(a,y),(y&4194240)===y)break;for(c=a.eventTimes,_=-1;0<y;){var M=31-qs(y);E=1<<M,M=c[M],M>_&&(_=M),y&=~E}if(y=_,y=at()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*C3(y/1960))-y,10<y){a.timeoutHandle=Jw(Sc.bind(null,a,ks,fa),y);break}Sc(a,ks,fa);break;case 5:Sc(a,ks,fa);break;default:throw Error(t(329))}}}return Rs(a,at()),a.callbackNode===f?aP.bind(null,a):null}function H0(a,c){var f=pf;return a.current.memoizedState.isDehydrated&&(bc(a,c).flags|=256),a=cg(a,c),a!==2&&(c=ks,ks=f,c!==null&&K0(c)),a}function K0(a){ks===null?ks=a:ks.push.apply(ks,a)}function P3(a){for(var c=a;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var _=f[y],E=_.getSnapshot;_=_.value;try{if(!Vi(E(),_))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function sl(a,c){for(c&=~$0,c&=~rg,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var f=31-qs(c),y=1<<f;a[f]=-1,c&=~y}}function lP(a){if((Nt&6)!==0)throw Error(t(327));td();var c=ea(a,0);if((c&1)===0)return Rs(a,at()),null;var f=cg(a,c);if(a.tag!==0&&f===2){var y=jh(a);y!==0&&(c=y,f=H0(a,y))}if(f===1)throw f=ff,bc(a,0),sl(a,c),Rs(a,at()),f;if(f===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Sc(a,ks,fa),Rs(a,at()),null}function G0(a,c){var f=Nt;Nt|=1;try{return a(c)}finally{Nt=f,Nt===0&&(ed=at()+500,Mm&&Xa())}}function _c(a){nl!==null&&nl.tag===0&&(Nt&6)===0&&td();var c=Nt;Nt|=1;var f=vi.transition,y=Ct;try{if(vi.transition=null,Ct=1,a)return a()}finally{Ct=y,vi.transition=f,Nt=c,(Nt&6)===0&&Xa()}}function Y0(){Js=Zu.current,an(Zu)}function bc(a,c){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,r3(f)),Bn!==null)for(f=Bn.return;f!==null;){var y=f;switch(s0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&jm();break;case 3:Qu(),an(Es),an(Wr),y0();break;case 5:m0(y);break;case 4:Qu();break;case 13:an(xn);break;case 19:an(xn);break;case 10:u0(y.type._context);break;case 22:case 23:Y0()}f=f.return}if(mr=a,Bn=a=il(a.current,null),Dr=Js=c,nr=0,ff=null,$0=rg=xc=0,ks=pf=null,yc!==null){for(c=0;c<yc.length;c++)if(f=yc[c],y=f.interleaved,y!==null){f.interleaved=null;var _=y.next,E=f.pending;if(E!==null){var M=E.next;E.next=_,y.next=M}f.pending=y}yc=null}return a}function cP(a,c){do{var f=Bn;try{if(c0(),Hm.current=Qm,Km){for(var y=_n.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}Km=!1}if(wc=0,pr=tr=_n=null,af=!1,lf=0,U0.current=null,f===null||f.return===null){nr=1,ff=c,Bn=null;break}e:{var E=a,M=f.return,H=f,K=c;if(c=Dr,H.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ae=K,pe=H,ge=pe.tag;if((pe.mode&1)===0&&(ge===0||ge===11||ge===15)){var fe=pe.alternate;fe?(pe.updateQueue=fe.updateQueue,pe.memoizedState=fe.memoizedState,pe.lanes=fe.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Te=jC(M);if(Te!==null){Te.flags&=-257,OC(Te,M,H,E,c),Te.mode&1&&DC(E,ae,c),c=Te,K=ae;var De=c.updateQueue;if(De===null){var je=new Set;je.add(K),c.updateQueue=je}else De.add(K);break e}else{if((c&1)===0){DC(E,ae,c),Q0();break e}K=Error(t(426))}}else if(un&&H.mode&1){var jn=jC(M);if(jn!==null){(jn.flags&65536)===0&&(jn.flags|=256),OC(jn,M,H,E,c),a0(Xu(K,H));break e}}E=K=Xu(K,H),nr!==4&&(nr=2),pf===null?pf=[E]:pf.push(E),E=M;do{switch(E.tag){case 3:E.flags|=65536,c&=-c,E.lanes|=c;var ee=IC(E,K,c);sC(E,ee);break e;case 1:H=K;var Y=E.type,ne=E.stateNode;if((E.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(tl===null||!tl.has(ne)))){E.flags|=65536,c&=-c,E.lanes|=c;var ve=NC(E,H,c);sC(E,ve);break e}}E=E.return}while(E!==null)}hP(f)}catch(Me){c=Me,Bn===f&&f!==null&&(Bn=f=f.return);continue}break}while(!0)}function uP(){var a=ng.current;return ng.current=Qm,a===null?Qm:a}function Q0(){(nr===0||nr===3||nr===2)&&(nr=4),mr===null||(xc&268435455)===0&&(rg&268435455)===0||sl(mr,Dr)}function cg(a,c){var f=Nt;Nt|=2;var y=uP();(mr!==a||Dr!==c)&&(fa=null,bc(a,c));do try{k3();break}catch(_){cP(a,_)}while(!0);if(c0(),Nt=f,ng.current=y,Bn!==null)throw Error(t(261));return mr=null,Dr=0,nr}function k3(){for(;Bn!==null;)dP(Bn)}function R3(){for(;Bn!==null&&!ls();)dP(Bn)}function dP(a){var c=mP(a.alternate,a,Js);a.memoizedProps=a.pendingProps,c===null?hP(a):Bn=c,U0.current=null}function hP(a){var c=a;do{var f=c.alternate;if(a=c.return,(c.flags&32768)===0){if(f=_3(f,c,Js),f!==null){Bn=f;return}}else{if(f=b3(f,c),f!==null){f.flags&=32767,Bn=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{nr=6,Bn=null;return}}if(c=c.sibling,c!==null){Bn=c;return}Bn=c=a}while(c!==null);nr===0&&(nr=5)}function Sc(a,c,f){var y=Ct,_=vi.transition;try{vi.transition=null,Ct=1,A3(a,c,f,y)}finally{vi.transition=_,Ct=y}return null}function A3(a,c,f,y){do td();while(nl!==null);if((Nt&6)!==0)throw Error(t(327));f=a.finishedWork;var _=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var E=f.lanes|f.childLanes;if(Mw(a,E),a===mr&&(Bn=mr=null,Dr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||ig||(ig=!0,gP(oo,function(){return td(),null})),E=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||E){E=vi.transition,vi.transition=null;var M=Ct;Ct=1;var H=Nt;Nt|=4,U0.current=null,T3(a,f),nP(f,a),Qz(Qw),ra=!!Yw,Qw=Yw=null,a.current=f,E3(f),Ts(),Nt=H,Ct=M,vi.transition=E}else a.current=f;if(ig&&(ig=!1,nl=a,og=_),E=a.pendingLanes,E===0&&(tl=null),Ws(f.stateNode),Rs(a,at()),c!==null)for(y=a.onRecoverableError,f=0;f<c.length;f++)_=c[f],y(_.value,{componentStack:_.stack,digest:_.digest});if(sg)throw sg=!1,a=W0,W0=null,a;return(og&1)!==0&&a.tag!==0&&td(),E=a.pendingLanes,(E&1)!==0?a===q0?mf++:(mf=0,q0=a):mf=0,Xa(),null}function td(){if(nl!==null){var a=co(og),c=vi.transition,f=Ct;try{if(vi.transition=null,Ct=16>a?16:a,nl===null)var y=!1;else{if(a=nl,nl=null,og=0,(Nt&6)!==0)throw Error(t(331));var _=Nt;for(Nt|=4,Re=a.current;Re!==null;){var E=Re,M=E.child;if((Re.flags&16)!==0){var H=E.deletions;if(H!==null){for(var K=0;K<H.length;K++){var ae=H[K];for(Re=ae;Re!==null;){var pe=Re;switch(pe.tag){case 0:case 11:case 15:hf(8,pe,E)}var ge=pe.child;if(ge!==null)ge.return=pe,Re=ge;else for(;Re!==null;){pe=Re;var fe=pe.sibling,Te=pe.return;if(XC(pe),pe===ae){Re=null;break}if(fe!==null){fe.return=Te,Re=fe;break}Re=Te}}}var De=E.alternate;if(De!==null){var je=De.child;if(je!==null){De.child=null;do{var jn=je.sibling;je.sibling=null,je=jn}while(je!==null)}}Re=E}}if((E.subtreeFlags&2064)!==0&&M!==null)M.return=E,Re=M;else e:for(;Re!==null;){if(E=Re,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:hf(9,E,E.return)}var ee=E.sibling;if(ee!==null){ee.return=E.return,Re=ee;break e}Re=E.return}}var Y=a.current;for(Re=Y;Re!==null;){M=Re;var ne=M.child;if((M.subtreeFlags&2064)!==0&&ne!==null)ne.return=M,Re=ne;else e:for(M=Y;Re!==null;){if(H=Re,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:tg(9,H)}}catch(Me){Rn(H,H.return,Me)}if(H===M){Re=null;break e}var ve=H.sibling;if(ve!==null){ve.return=H.return,Re=ve;break e}Re=H.return}}if(Nt=_,Xa(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Bs,a)}catch{}y=!0}return y}finally{Ct=f,vi.transition=c}}return!1}function fP(a,c,f){c=Xu(f,c),c=IC(a,c,1),a=Za(a,c,1),c=us(),a!==null&&(lc(a,1,c),Rs(a,c))}function Rn(a,c,f){if(a.tag===3)fP(a,a,f);else for(;c!==null;){if(c.tag===3){fP(c,a,f);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(tl===null||!tl.has(y))){a=Xu(f,a),a=NC(c,a,1),c=Za(c,a,1),a=us(),c!==null&&(lc(c,1,a),Rs(c,a));break}}c=c.return}}function I3(a,c,f){var y=a.pingCache;y!==null&&y.delete(c),c=us(),a.pingedLanes|=a.suspendedLanes&f,mr===a&&(Dr&f)===f&&(nr===4||nr===3&&(Dr&130023424)===Dr&&500>at()-B0?bc(a,0):$0|=f),Rs(a,c)}function pP(a,c){c===0&&((a.mode&1)===0?c=1:(c=Ua,Ua<<=1,(Ua&130023424)===0&&(Ua=4194304)));var f=us();a=ua(a,c),a!==null&&(lc(a,c,f),Rs(a,f))}function N3(a){var c=a.memoizedState,f=0;c!==null&&(f=c.retryLane),pP(a,f)}function D3(a,c){var f=0;switch(a.tag){case 13:var y=a.stateNode,_=a.memoizedState;_!==null&&(f=_.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(c),pP(a,f)}var mP;mP=function(a,c,f){if(a!==null)if(a.memoizedProps!==c.pendingProps||Es.current)Ps=!0;else{if((a.lanes&f)===0&&(c.flags&128)===0)return Ps=!1,x3(a,c,f);Ps=(a.flags&131072)!==0}else Ps=!1,un&&(c.flags&1048576)!==0&&GE(c,Vm,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;Zm(a,c),a=c.pendingProps;var _=Bu(c,Wr.current);Yu(c,f),_=x0(null,c,y,a,_,f);var E=_0();return c.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Cs(y)?(E=!0,Om(c)):E=!1,c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,f0(c),_.updater=Xm,c.stateNode=_,_._reactInternals=c,P0(c,y,a,f),c=I0(null,c,y,!0,E,f)):(c.tag=0,un&&E&&r0(c),cs(null,c,_,f),c=c.child),c;case 16:y=c.elementType;e:{switch(Zm(a,c),a=c.pendingProps,_=y._init,y=_(y._payload),c.type=y,_=c.tag=O3(y),a=zi(y,a),_){case 0:c=A0(null,c,y,a,f);break e;case 1:c=UC(null,c,y,a,f);break e;case 11:c=MC(null,c,y,a,f);break e;case 14:c=LC(null,c,y,zi(y.type,a),f);break e}throw Error(t(306,y,""))}return c;case 0:return y=c.type,_=c.pendingProps,_=c.elementType===y?_:zi(y,_),A0(a,c,y,_,f);case 1:return y=c.type,_=c.pendingProps,_=c.elementType===y?_:zi(y,_),UC(a,c,y,_,f);case 3:e:{if($C(c),a===null)throw Error(t(387));y=c.pendingProps,E=c.memoizedState,_=E.element,rC(a,c),Wm(c,y,null,f);var M=c.memoizedState;if(y=M.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){_=Xu(Error(t(423)),c),c=BC(a,c,y,f,_);break e}else if(y!==_){_=Xu(Error(t(424)),c),c=BC(a,c,y,f,_);break e}else for(Xs=Ga(c.stateNode.containerInfo.firstChild),Qs=c,un=!0,Fi=null,f=tC(c,null,y,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Hu(),y===_){c=ha(a,c,f);break e}cs(a,c,y,f)}c=c.child}return c;case 5:return oC(c),a===null&&o0(c),y=c.type,_=c.pendingProps,E=a!==null?a.memoizedProps:null,M=_.children,Xw(y,_)?M=null:E!==null&&Xw(y,E)&&(c.flags|=32),zC(a,c),cs(a,c,M,f),c.child;case 6:return a===null&&o0(c),null;case 13:return WC(a,c,f);case 4:return p0(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=Ku(c,null,y,f):cs(a,c,y,f),c.child;case 11:return y=c.type,_=c.pendingProps,_=c.elementType===y?_:zi(y,_),MC(a,c,y,_,f);case 7:return cs(a,c,c.pendingProps,f),c.child;case 8:return cs(a,c,c.pendingProps.children,f),c.child;case 12:return cs(a,c,c.pendingProps.children,f),c.child;case 10:e:{if(y=c.type._context,_=c.pendingProps,E=c.memoizedProps,M=_.value,Zt(Um,y._currentValue),y._currentValue=M,E!==null)if(Vi(E.value,M)){if(E.children===_.children&&!Es.current){c=ha(a,c,f);break e}}else for(E=c.child,E!==null&&(E.return=c);E!==null;){var H=E.dependencies;if(H!==null){M=E.child;for(var K=H.firstContext;K!==null;){if(K.context===y){if(E.tag===1){K=da(-1,f&-f),K.tag=2;var ae=E.updateQueue;if(ae!==null){ae=ae.shared;var pe=ae.pending;pe===null?K.next=K:(K.next=pe.next,pe.next=K),ae.pending=K}}E.lanes|=f,K=E.alternate,K!==null&&(K.lanes|=f),d0(E.return,f,c),H.lanes|=f;break}K=K.next}}else if(E.tag===10)M=E.type===c.type?null:E.child;else if(E.tag===18){if(M=E.return,M===null)throw Error(t(341));M.lanes|=f,H=M.alternate,H!==null&&(H.lanes|=f),d0(M,f,c),M=E.sibling}else M=E.child;if(M!==null)M.return=E;else for(M=E;M!==null;){if(M===c){M=null;break}if(E=M.sibling,E!==null){E.return=M.return,M=E;break}M=M.return}E=M}cs(a,c,_.children,f),c=c.child}return c;case 9:return _=c.type,y=c.pendingProps.children,Yu(c,f),_=gi(_),y=y(_),c.flags|=1,cs(a,c,y,f),c.child;case 14:return y=c.type,_=zi(y,c.pendingProps),_=zi(y.type,_),LC(a,c,y,_,f);case 15:return VC(a,c,c.type,c.pendingProps,f);case 17:return y=c.type,_=c.pendingProps,_=c.elementType===y?_:zi(y,_),Zm(a,c),c.tag=1,Cs(y)?(a=!0,Om(c)):a=!1,Yu(c,f),RC(c,y,_),P0(c,y,_,f),I0(null,c,y,!0,a,f);case 19:return HC(a,c,f);case 22:return FC(a,c,f)}throw Error(t(156,c.tag))};function gP(a,c){return yn(a,c)}function j3(a,c,f,y){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(a,c,f,y){return new j3(a,c,f,y)}function X0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function O3(a){if(typeof a=="function")return X0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===F)return 11;if(a===se)return 14}return 2}function il(a,c){var f=a.alternate;return f===null?(f=wi(a.tag,c,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=c,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,c=a.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function ug(a,c,f,y,_,E){var M=2;if(y=a,typeof a=="function")X0(a)&&(M=1);else if(typeof a=="string")M=5;else e:switch(a){case P:return Tc(f.children,_,E,c);case A:M=8,_|=8;break;case D:return a=wi(12,f,c,_|2),a.elementType=D,a.lanes=E,a;case U:return a=wi(13,f,c,_),a.elementType=U,a.lanes=E,a;case X:return a=wi(19,f,c,_),a.elementType=X,a.lanes=E,a;case J:return dg(f,_,E,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:M=10;break e;case V:M=9;break e;case F:M=11;break e;case se:M=14;break e;case re:M=16,y=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=wi(M,f,c,_),c.elementType=a,c.type=y,c.lanes=E,c}function Tc(a,c,f,y){return a=wi(7,a,y,c),a.lanes=f,a}function dg(a,c,f,y){return a=wi(22,a,y,c),a.elementType=J,a.lanes=f,a.stateNode={isHidden:!1},a}function J0(a,c,f){return a=wi(6,a,null,c),a.lanes=f,a}function Z0(a,c,f){return c=wi(4,a.children!==null?a.children:[],a.key,c),c.lanes=f,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function M3(a,c,f,y,_){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.identifierPrefix=y,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function ex(a,c,f,y,_,E,M,H,K){return a=new M3(a,c,f,H,K),c===1?(c=1,E===!0&&(c|=8)):c=0,E=wi(3,null,null,c),a.current=E,E.stateNode=a,E.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},f0(E),a}function L3(a,c,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:y==null?null:""+y,children:a,containerInfo:c,implementation:f}}function yP(a){if(!a)return Qa;a=a._reactInternals;e:{if(ut(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Cs(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var f=a.type;if(Cs(f))return qE(a,f,c)}return c}function vP(a,c,f,y,_,E,M,H,K){return a=ex(f,y,!0,a,_,E,M,H,K),a.context=yP(null),f=a.current,y=us(),_=rl(f),E=da(y,_),E.callback=c??null,Za(f,E,_),a.current.lanes=_,lc(a,_,y),Rs(a,y),a}function hg(a,c,f,y){var _=c.current,E=us(),M=rl(_);return f=yP(f),c.context===null?c.context=f:c.pendingContext=f,c=da(E,M),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=Za(_,c,M),a!==null&&(Bi(a,_,M,E),Bm(a,_,M)),M}function fg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function wP(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<c?f:c}}function tx(a,c){wP(a,c),(a=a.alternate)&&wP(a,c)}function V3(){return null}var xP=typeof reportError=="function"?reportError:function(a){console.error(a)};function nx(a){this._internalRoot=a}pg.prototype.render=nx.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));hg(a,c,null,null)},pg.prototype.unmount=nx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;_c(function(){hg(null,a,null,null)}),c[oa]=null}};function pg(a){this._internalRoot=a}pg.prototype.unstable_scheduleHydration=function(a){if(a){var c=zh();a={blockedOn:null,target:a,priority:c};for(var f=0;f<Hs.length&&c!==0&&c<Hs[f].priority;f++);Hs.splice(f,0,a),f===0&&Pu(a)}};function rx(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function mg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function _P(){}function F3(a,c,f,y,_){if(_){if(typeof y=="function"){var E=y;y=function(){var ae=fg(M);E.call(ae)}}var M=vP(c,y,a,0,null,!1,!1,"",_P);return a._reactRootContainer=M,a[oa]=M.current,Jh(a.nodeType===8?a.parentNode:a),_c(),M}for(;_=a.lastChild;)a.removeChild(_);if(typeof y=="function"){var H=y;y=function(){var ae=fg(K);H.call(ae)}}var K=ex(a,0,!1,null,null,!1,!1,"",_P);return a._reactRootContainer=K,a[oa]=K.current,Jh(a.nodeType===8?a.parentNode:a),_c(function(){hg(c,K,f,y)}),K}function gg(a,c,f,y,_){var E=f._reactRootContainer;if(E){var M=E;if(typeof _=="function"){var H=_;_=function(){var K=fg(M);H.call(K)}}hg(c,M,a,_)}else M=F3(f,c,a,_,y);return fg(M)}Vh=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var f=Mt(c.pendingLanes);f!==0&&(Lh(c,f|1),Rs(c,at()),(Nt&6)===0&&(ed=at()+500,Xa()))}break;case 13:_c(function(){var y=ua(a,1);if(y!==null){var _=us();Bi(y,a,1,_)}}),tx(a,1)}},Eu=function(a){if(a.tag===13){var c=ua(a,134217728);if(c!==null){var f=us();Bi(c,a,134217728,f)}tx(a,134217728)}},Fh=function(a){if(a.tag===13){var c=rl(a),f=ua(a,c);if(f!==null){var y=us();Bi(f,a,c,y)}tx(a,c)}},zh=function(){return Ct},Uh=function(a,c){var f=Ct;try{return Ct=a,c()}finally{Ct=f}},Un=function(a,c,f){switch(c){case"input":if(oe(a,f),c=f.name,f.type==="radio"&&c!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var y=f[c];if(y!==a&&y.form===a.form){var _=Dm(y);if(!_)throw Error(t(90));Ze(y),oe(y,_)}}}break;case"textarea":Ss(a,f);break;case"select":c=f.value,c!=null&&ct(a,!!f.multiple,c,!1)}},st=G0,Et=_c;var z3={usingClientEntryPoint:!1,Events:[tf,Uu,Dm,dr,Ve,G0]},gf={findFiberByHostInstance:fc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U3={bundleType:gf.bundleType,version:gf.version,rendererPackageName:gf.rendererPackageName,rendererConfig:gf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=as(a),a===null?null:a.stateNode},findFiberByHostInstance:gf.findFiberByHostInstance||V3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{Bs=yg.inject(U3),fr=yg}catch{}}return As.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z3,As.createPortal=function(a,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rx(c))throw Error(t(200));return L3(a,c,null,f)},As.createRoot=function(a,c){if(!rx(a))throw Error(t(299));var f=!1,y="",_=xP;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),c=ex(a,1,!1,null,null,f,!1,y,_),a[oa]=c.current,Jh(a.nodeType===8?a.parentNode:a),new nx(c)},As.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=as(c),a=a===null?null:a.stateNode,a},As.flushSync=function(a){return _c(a)},As.hydrate=function(a,c,f){if(!mg(c))throw Error(t(200));return gg(null,a,c,!0,f)},As.hydrateRoot=function(a,c,f){if(!rx(a))throw Error(t(405));var y=f!=null&&f.hydratedSources||null,_=!1,E="",M=xP;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(M=f.onRecoverableError)),c=vP(c,null,a,1,f??null,_,!1,E,M),a[oa]=c.current,Jh(a),y)for(a=0;a<y.length;a++)f=y[a],_=f._getVersion,_=_(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,_]:c.mutableSourceEagerHydrationData.push(f,_);return new pg(c)},As.render=function(a,c,f){if(!mg(c))throw Error(t(200));return gg(null,a,c,!1,f)},As.unmountComponentAtNode=function(a){if(!mg(a))throw Error(t(40));return a._reactRootContainer?(_c(function(){gg(null,null,a,!1,function(){a._reactRootContainer=null,a[oa]=null})}),!0):!1},As.unstable_batchedUpdates=G0,As.unstable_renderSubtreeIntoContainer=function(a,c,f,y){if(!mg(f))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return gg(a,c,f,!1,y)},As.version="18.3.1-next-f1338f8080-20240426",As}var RP;function xN(){if(RP)return ox.exports;RP=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ox.exports=Y3(),ox.exports}var AP;function Q3(){if(AP)return vg;AP=1;var n=xN();return vg.createRoot=n.createRoot,vg.hydrateRoot=n.hydrateRoot,vg}var X3=Q3(),b=Dv();const _e=wN(b),E1=B3({__proto__:null,default:_e},[b]),J3=1,Z3=1e6;let cx=0;function e5(){return cx=(cx+1)%Number.MAX_SAFE_INTEGER,cx.toString()}const ux=new Map,IP=n=>{if(ux.has(n))return;const e=setTimeout(()=>{ux.delete(n),Ff({type:"REMOVE_TOAST",toastId:n})},Z3);ux.set(n,e)},t5=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,J3)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?IP(t):n.toasts.forEach(r=>{IP(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ey=[];let ty={toasts:[]};function Ff(n){ty=t5(ty,n),ey.forEach(e=>{e(ty)})}function n5({...n}){const e=e5(),t=s=>Ff({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ff({type:"DISMISS_TOAST",toastId:e});return Ff({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function r5(){const[n,e]=b.useState(ty);return b.useEffect(()=>(ey.push(e),()=>{const t=ey.indexOf(e);t>-1&&ey.splice(t,1)}),[n]),{...n,toast:n5,dismiss:t=>Ff({type:"DISMISS_TOAST",toastId:t})}}var fh=xN();const _N=wN(fh);function Le(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function NP(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function bN(...n){return e=>{let t=!1;const r=n.map(s=>{const i=NP(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():NP(n[s],null)}}}}function St(...n){return b.useCallback(bN(...n),n)}function s5(n,e){const t=b.createContext(e),r=i=>{const{children:o,...l}=i,u=b.useMemo(()=>l,Object.values(l));return p.jsx(t.Provider,{value:u,children:o})};r.displayName=n+"Provider";function s(i){const o=b.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function so(n,e=[]){let t=[];function r(i,o){const l=b.createContext(o),u=t.length;t=[...t,o];const d=m=>{const{scope:v,children:w,...T}=m,x=v?.[n]?.[u]||l,S=b.useMemo(()=>T,Object.values(T));return p.jsx(x.Provider,{value:S,children:w})};d.displayName=i+"Provider";function h(m,v){const w=v?.[n]?.[u]||l,T=b.useContext(w);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=t.map(o=>b.createContext(o));return function(l){const u=l?.[n]||i;return b.useMemo(()=>({[`__scope${n}`]:{...l,[n]:u}}),[l,u])}};return s.scopeName=n,[r,i5(s,...e)]}function i5(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function $d(n){const e=a5(n),t=b.forwardRef((r,s)=>{const{children:i,...o}=r,l=b.Children.toArray(i),u=l.find(l5);if(u){const d=u.props.children,h=l.map(m=>m===u?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:m);return p.jsx(e,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,h):null})}return p.jsx(e,{...o,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var o5=$d("Slot");function a5(n){const e=b.forwardRef((t,r)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const o=u5(s),l=c5(i,s.props);return s.type!==b.Fragment&&(l.ref=r?bN(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var SN=Symbol("radix.slottable");function TN(n){const e=({children:t})=>p.jsx(p.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=SN,e}function l5(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===SN}function c5(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function u5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function C1(n){const e=n+"CollectionProvider",[t,r]=so(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:S,children:R}=x,k=_e.useRef(null),j=_e.useRef(new Map).current;return p.jsx(s,{scope:S,itemMap:j,collectionRef:k,children:R})};o.displayName=e;const l=n+"CollectionSlot",u=$d(l),d=_e.forwardRef((x,S)=>{const{scope:R,children:k}=x,j=i(l,R),I=St(S,j.collectionRef);return p.jsx(u,{ref:I,children:k})});d.displayName=l;const h=n+"CollectionItemSlot",m="data-radix-collection-item",v=$d(h),w=_e.forwardRef((x,S)=>{const{scope:R,children:k,...j}=x,I=_e.useRef(null),L=St(S,I),z=i(h,R);return _e.useEffect(()=>(z.itemMap.set(I,{ref:I,...j}),()=>void z.itemMap.delete(I))),p.jsx(v,{[m]:"",ref:L,children:k})});w.displayName=h;function T(x){const S=i(n+"CollectionConsumer",x);return _e.useCallback(()=>{const k=S.collectionRef.current;if(!k)return[];const j=Array.from(k.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((z,P)=>j.indexOf(z.ref.current)-j.indexOf(P.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},T,r]}var d5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=d5.reduce((n,e)=>{const t=$d(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function EN(n,e){n&&fh.flushSync(()=>n.dispatchEvent(e))}function ar(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function h5(n,e=globalThis?.document){const t=ar(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var f5="DismissableLayer",__="dismissableLayer.update",p5="dismissableLayer.pointerDownOutside",m5="dismissableLayer.focusOutside",DP,CN=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yp=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=n,d=b.useContext(CN),[h,m]=b.useState(null),v=h?.ownerDocument??globalThis?.document,[,w]=b.useState({}),T=St(e,P=>m(P)),x=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=x.indexOf(S),k=h?x.indexOf(h):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,I=k>=R,L=y5(P=>{const A=P.target,D=[...d.branches].some(O=>O.contains(A));!I||D||(s?.(P),o?.(P),P.defaultPrevented||l?.())},v),z=v5(P=>{const A=P.target;[...d.branches].some(O=>O.contains(A))||(i?.(P),o?.(P),P.defaultPrevented||l?.())},v);return h5(P=>{k===d.layers.size-1&&(r?.(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},v),b.useEffect(()=>{if(h)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(DP=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),jP(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=DP)}},[h,v,t,d]),b.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),jP())},[h,d]),b.useEffect(()=>{const P=()=>w({});return document.addEventListener(__,P),()=>document.removeEventListener(__,P)},[]),p.jsx(Ye.div,{...u,ref:T,style:{pointerEvents:j?I?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,z.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,z.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,L.onPointerDownCapture)})});Yp.displayName=f5;var g5="DismissableLayerBranch",PN=b.forwardRef((n,e)=>{const t=b.useContext(CN),r=b.useRef(null),s=St(e,r);return b.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),p.jsx(Ye.div,{...n,ref:s})});PN.displayName=g5;function y5(n,e=globalThis?.document){const t=ar(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){kN(p5,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function v5(n,e=globalThis?.document){const t=ar(n),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&kN(m5,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jP(){const n=new CustomEvent(__);document.dispatchEvent(n)}function kN(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?EN(s,i):s.dispatchEvent(i)}var w5=Yp,x5=PN,br=globalThis?.document?b.useLayoutEffect:()=>{},_5="Portal",jv=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=b.useState(!1);br(()=>i(!0),[]);const o=t||s&&globalThis?.document?.body;return o?_N.createPortal(p.jsx(Ye.div,{...r,ref:e}),o):null});jv.displayName=_5;function b5(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var ji=n=>{const{present:e,children:t}=n,r=S5(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),i=St(r.ref,T5(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};ji.displayName="Presence";function S5(n){const[e,t]=b.useState(),r=b.useRef(null),s=b.useRef(n),i=b.useRef("none"),o=n?"mounted":"unmounted",[l,u]=b5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=wg(r.current);i.current=l==="mounted"?d:"none"},[l]),br(()=>{const d=r.current,h=s.current;if(h!==n){const v=i.current,w=wg(d);n?u("MOUNT"):w==="none"||d?.display==="none"?u("UNMOUNT"):u(h&&v!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,u]),br(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,m=w=>{const x=wg(r.current).includes(w.animationName);if(w.target===e&&x&&(u("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},v=w=>{w.target===e&&(i.current=wg(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{r.current=d?getComputedStyle(d):null,t(d)},[])}}function wg(n){return n?.animationName||"none"}function T5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var E5=E1[" useInsertionEffect ".trim().toString()]||br;function eu({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,o]=C5({defaultProp:e,onChange:t}),l=n!==void 0,u=l?n:s;{const h=b.useRef(n!==void 0);b.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=b.useCallback(h=>{if(l){const m=P5(h)?h(n):h;m!==n&&o.current?.(m)}else i(h)},[l,n,i,o]);return[u,d]}function C5({defaultProp:n,onChange:e}){const[t,r]=b.useState(n),s=b.useRef(t),i=b.useRef(e);return E5(()=>{i.current=e},[e]),b.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function P5(n){return typeof n=="function"}var RN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),k5="VisuallyHidden",Ov=b.forwardRef((n,e)=>p.jsx(Ye.span,{...n,ref:e,style:{...RN,...n.style}}));Ov.displayName=k5;var R5=Ov,P1="ToastProvider",[k1,A5,I5]=C1("Toast"),[AN]=so("Toast",[I5]),[N5,Mv]=AN(P1),IN=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=n,[l,u]=b.useState(null),[d,h]=b.useState(0),m=b.useRef(!1),v=b.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${P1}\`. Expected non-empty \`string\`.`),p.jsx(k1.Provider,{scope:e,children:p.jsx(N5,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:b.useCallback(()=>h(w=>w+1),[]),onToastRemove:b.useCallback(()=>h(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:v,children:o})})};IN.displayName=P1;var NN="ToastViewport",D5=["F8"],b_="toast.viewportPause",S_="toast.viewportResume",DN=b.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=D5,label:s="Notifications ({hotkey})",...i}=n,o=Mv(NN,t),l=A5(t),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),m=b.useRef(null),v=St(e,m,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;b.useEffect(()=>{const S=R=>{r.length!==0&&r.every(j=>R[j]||R.code===j)&&m.current?.focus()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),b.useEffect(()=>{const S=u.current,R=m.current;if(T&&S&&R){const k=()=>{if(!o.isClosePausedRef.current){const z=new CustomEvent(b_);R.dispatchEvent(z),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const z=new CustomEvent(S_);R.dispatchEvent(z),o.isClosePausedRef.current=!1}},I=z=>{!S.contains(z.relatedTarget)&&j()},L=()=>{S.contains(document.activeElement)||j()};return S.addEventListener("focusin",k),S.addEventListener("focusout",I),S.addEventListener("pointermove",k),S.addEventListener("pointerleave",L),window.addEventListener("blur",k),window.addEventListener("focus",j),()=>{S.removeEventListener("focusin",k),S.removeEventListener("focusout",I),S.removeEventListener("pointermove",k),S.removeEventListener("pointerleave",L),window.removeEventListener("blur",k),window.removeEventListener("focus",j)}}},[T,o.isClosePausedRef]);const x=b.useCallback(({tabbingDirection:S})=>{const k=l().map(j=>{const I=j.ref.current,L=[I,...H5(I)];return S==="forwards"?L:L.reverse()});return(S==="forwards"?k.reverse():k).flat()},[l]);return b.useEffect(()=>{const S=m.current;if(S){const R=k=>{const j=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!j){const L=document.activeElement,z=k.shiftKey;if(k.target===S&&z){d.current?.focus();return}const D=x({tabbingDirection:z?"backwards":"forwards"}),O=D.findIndex(V=>V===L);dx(D.slice(O+1))?k.preventDefault():z?d.current?.focus():h.current?.focus()}};return S.addEventListener("keydown",R),()=>S.removeEventListener("keydown",R)}},[l,x]),p.jsxs(x5,{ref:u,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&p.jsx(T_,{ref:d,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});dx(S)}}),p.jsx(k1.Slot,{scope:t,children:p.jsx(Ye.ol,{tabIndex:-1,...i,ref:v})}),T&&p.jsx(T_,{ref:h,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});dx(S)}})]})});DN.displayName=NN;var jN="ToastFocusProxy",T_=b.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=Mv(jN,t);return p.jsx(Ov,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&r()}})});T_.displayName=jN;var Qp="Toast",j5="toast.swipeStart",O5="toast.swipeMove",M5="toast.swipeCancel",L5="toast.swipeEnd",ON=b.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...o}=n,[l,u]=eu({prop:r,defaultProp:s??!0,onChange:i,caller:Qp});return p.jsx(ji,{present:t||l,children:p.jsx(z5,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:ar(n.onPause),onResume:ar(n.onResume),onSwipeStart:Le(n.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(n.onSwipeMove,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Le(n.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(n.onSwipeEnd,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});ON.displayName=Qp;var[V5,F5]=AN(Qp,{onClose(){}}),z5=b.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:v,onSwipeEnd:w,...T}=n,x=Mv(Qp,t),[S,R]=b.useState(null),k=St(e,X=>R(X)),j=b.useRef(null),I=b.useRef(null),L=s||x.duration,z=b.useRef(0),P=b.useRef(L),A=b.useRef(0),{onToastAdd:D,onToastRemove:O}=x,V=ar(()=>{S?.contains(document.activeElement)&&x.viewport?.focus(),o()}),F=b.useCallback(X=>{!X||X===1/0||(window.clearTimeout(A.current),z.current=new Date().getTime(),A.current=window.setTimeout(V,X))},[V]);b.useEffect(()=>{const X=x.viewport;if(X){const se=()=>{F(P.current),d?.()},re=()=>{const J=new Date().getTime()-z.current;P.current=P.current-J,window.clearTimeout(A.current),u?.()};return X.addEventListener(b_,re),X.addEventListener(S_,se),()=>{X.removeEventListener(b_,re),X.removeEventListener(S_,se)}}},[x.viewport,L,u,d,F]),b.useEffect(()=>{i&&!x.isClosePausedRef.current&&F(L)},[i,L,x.isClosePausedRef,F]),b.useEffect(()=>(D(),()=>O()),[D,O]);const U=b.useMemo(()=>S?$N(S):null,[S]);return x.viewport?p.jsxs(p.Fragment,{children:[U&&p.jsx(U5,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),p.jsx(V5,{scope:t,onClose:V,children:fh.createPortal(p.jsx(k1.ItemSlot,{scope:t,children:p.jsx(w5,{asChild:!0,onEscapeKeyDown:Le(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||V(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...T,ref:k,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Le(n.onKeyDown,X=>{X.key==="Escape"&&(l?.(X.nativeEvent),X.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Le(n.onPointerDown,X=>{X.button===0&&(j.current={x:X.clientX,y:X.clientY})}),onPointerMove:Le(n.onPointerMove,X=>{if(!j.current)return;const se=X.clientX-j.current.x,re=X.clientY-j.current.y,J=!!I.current,q=["left","right"].includes(x.swipeDirection),G=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,B=q?G(0,se):0,W=q?0:G(0,re),Q=X.pointerType==="touch"?10:2,ie={x:B,y:W},ue={originalEvent:X,delta:ie};J?(I.current=ie,xg(O5,m,ue,{discrete:!1})):OP(ie,x.swipeDirection,Q)?(I.current=ie,xg(j5,h,ue,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(se)>Q||Math.abs(re)>Q)&&(j.current=null)}),onPointerUp:Le(n.onPointerUp,X=>{const se=I.current,re=X.target;if(re.hasPointerCapture(X.pointerId)&&re.releasePointerCapture(X.pointerId),I.current=null,j.current=null,se){const J=X.currentTarget,q={originalEvent:X,delta:se};OP(se,x.swipeDirection,x.swipeThreshold)?xg(L5,w,q,{discrete:!0}):xg(M5,v,q,{discrete:!0}),J.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),U5=n=>{const{__scopeToast:e,children:t,...r}=n,s=Mv(Qp,e),[i,o]=b.useState(!1),[l,u]=b.useState(!1);return W5(()=>o(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:p.jsx(jv,{asChild:!0,children:p.jsx(Ov,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",t]})})})},$5="ToastTitle",MN=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return p.jsx(Ye.div,{...r,ref:e})});MN.displayName=$5;var B5="ToastDescription",LN=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return p.jsx(Ye.div,{...r,ref:e})});LN.displayName=B5;var VN="ToastAction",FN=b.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?p.jsx(UN,{altText:t,asChild:!0,children:p.jsx(R1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VN}\`. Expected non-empty \`string\`.`),null)});FN.displayName=VN;var zN="ToastClose",R1=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=F5(zN,t);return p.jsx(UN,{asChild:!0,children:p.jsx(Ye.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,s.onClose)})})});R1.displayName=zN;var UN=b.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return p.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function $N(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),q5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$N(r))}}),e}function xg(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?EN(s,i):s.dispatchEvent(i)}var OP=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function W5(n=()=>{}){const e=ar(n);br(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function q5(n){return n.nodeType===n.ELEMENT_NODE}function H5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function dx(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var K5=IN,BN=DN,WN=ON,qN=MN,HN=LN,KN=FN,GN=R1;function YN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=YN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function QN(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=YN(n))&&(r&&(r+=" "),r+=e);return r}const MP=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,LP=QN,Lv=(n,e)=>t=>{var r;if(e?.variants==null)return LP(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=t?.[d],m=i?.[d];if(h===null)return null;const v=MP(h)||MP(m);return s[d][v]}),l=t&&Object.entries(t).reduce((d,h)=>{let[m,v]=h;return v===void 0||(d[m]=v),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:m,className:v,...w}=h;return Object.entries(w).every(T=>{let[x,S]=T;return Array.isArray(S)?S.includes({...i,...l}[x]):{...i,...l}[x]===S})?[...d,m,v]:d},[]);return LP(n,o,u,t?.class,t?.className)};const G5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XN=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();var Y5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Q5=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>b.createElement("svg",{ref:u,...Y5,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:XN("lucide",s),...l},[...o.map(([d,h])=>b.createElement(d,h)),...Array.isArray(i)?i:[i]]));const kt=(n,e)=>{const t=b.forwardRef(({className:r,...s},i)=>b.createElement(Q5,{ref:i,iconNode:e,className:XN(`lucide-${G5(n)}`,r),...s}));return t.displayName=`${n}`,t};const tu=kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const JN=kt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Vv=kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const ZN=kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const X5=kt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const _g=kt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const E_=kt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const VP=kt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const eD=kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const C_=kt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const FP=kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Ry=kt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Bd=kt("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);const P_=kt("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"wpff58"}]]);const J5=kt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const Z5=kt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Sl=kt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const tD=kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const eU=kt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const nD=kt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Ay=kt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const Wd=kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ml=kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const tU=kt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);const k_=kt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const nU=kt("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);const rD=kt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const rU=kt("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const qd=kt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const Ll=kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Iy=kt("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);const hx=kt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const No=kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const R_=kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const zc=kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),A1="-",sU=n=>{const e=oU(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const l=o.split(A1);return l[0]===""&&l.length!==1&&l.shift(),sD(l,e)||iU(o)},getConflictingClassGroupIds:(o,l)=>{const u=t[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},sD=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?sD(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(A1);return e.validators.find(({validator:o})=>o(i))?.classGroupId},zP=/^\[(.+)\]$/,iU=n=>{if(zP.test(n)){const e=zP.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},oU=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return lU(Object.entries(n.classGroups),t).forEach(([i,o])=>{A_(o,r,i,e)}),r},A_=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:UP(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(aU(s)){A_(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,o])=>{A_(o,UP(e,i),t,r)})})},UP=(n,e)=>{let t=n;return e.split(A1).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},aU=n=>n.isThemeGetter,lU=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[t,s]}):n,cU=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){t.has(i)?t.set(i,o):s(i,o)}}},iD="!",uU=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let d=0,h=0,m;for(let S=0;S<l.length;S++){let R=l[S];if(d===0){if(R===s&&(r||l.slice(S,S+i)===e)){u.push(l.slice(h,S)),h=S+i;continue}if(R==="/"){m=S;continue}}R==="["?d++:R==="]"&&d--}const v=u.length===0?l:l.substring(h),w=v.startsWith(iD),T=w?v.substring(1):v,x=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:x}};return t?l=>t({className:l,parseClassName:o}):o},dU=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},hU=n=>({cache:cU(n.cacheSize),parseClassName:uU(n),...sU(n)}),fU=/\s+/,pU=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=n.trim().split(fU);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:w}=t(d);let T=!!w,x=r(T?v.substring(0,w):v);if(!x){if(!T){l=d+(l.length>0?" "+l:l);continue}if(x=r(v),!x){l=d+(l.length>0?" "+l:l);continue}T=!1}const S=dU(h).join(":"),R=m?S+iD:S,k=R+x;if(i.includes(k))continue;i.push(k);const j=s(x,T);for(let I=0;I<j.length;++I){const L=j[I];i.push(R+L)}l=d+(l.length>0?" "+l:l)}return l};function mU(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=oD(e))&&(r&&(r+=" "),r+=t);return r}const oD=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=oD(n[r]))&&(t&&(t+=" "),t+=e);return t};function gU(n,...e){let t,r,s,i=o;function o(u){const d=e.reduce((h,m)=>m(h),n());return t=hU(d),r=t.cache.get,s=t.cache.set,i=l,l(u)}function l(u){const d=r(u);if(d)return d;const h=pU(u,t);return s(u,h),h}return function(){return i(mU.apply(null,arguments))}}const ln=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},aD=/^\[(?:([a-z-]+):)?(.+)\]$/i,yU=/^\d+\/\d+$/,vU=new Set(["px","full","screen"]),wU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_U=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pa=n=>Sd(n)||vU.has(n)||yU.test(n),al=n=>ph(n,"length",IU),Sd=n=>!!n&&!Number.isNaN(Number(n)),fx=n=>ph(n,"number",Sd),vf=n=>!!n&&Number.isInteger(Number(n)),TU=n=>n.endsWith("%")&&Sd(n.slice(0,-1)),lt=n=>aD.test(n),ll=n=>wU.test(n),EU=new Set(["length","size","percentage"]),CU=n=>ph(n,EU,lD),PU=n=>ph(n,"position",lD),kU=new Set(["image","url"]),RU=n=>ph(n,kU,DU),AU=n=>ph(n,"",NU),wf=()=>!0,ph=(n,e,t)=>{const r=aD.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},IU=n=>xU.test(n)&&!_U.test(n),lD=()=>!1,NU=n=>bU.test(n),DU=n=>SU.test(n),jU=()=>{const n=ln("colors"),e=ln("spacing"),t=ln("blur"),r=ln("brightness"),s=ln("borderColor"),i=ln("borderRadius"),o=ln("borderSpacing"),l=ln("borderWidth"),u=ln("contrast"),d=ln("grayscale"),h=ln("hueRotate"),m=ln("invert"),v=ln("gap"),w=ln("gradientColorStops"),T=ln("gradientColorStopPositions"),x=ln("inset"),S=ln("margin"),R=ln("opacity"),k=ln("padding"),j=ln("saturate"),I=ln("scale"),L=ln("sepia"),z=ln("skew"),P=ln("space"),A=ln("translate"),D=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",lt,e],F=()=>[lt,e],U=()=>["",pa,al],X=()=>["auto",Sd,lt],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",lt],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Sd,lt];return{cacheSize:500,separator:":",theme:{colors:[wf],spacing:[pa,al],blur:["none","",ll,lt],brightness:W(),borderColor:[n],borderRadius:["none","","full",ll,lt],borderSpacing:F(),borderWidth:U(),contrast:W(),grayscale:G(),hueRotate:W(),invert:G(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[TU,al],inset:V(),margin:V(),opacity:W(),padding:F(),saturate:W(),scale:W(),sepia:G(),skew:W(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[ll]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),lt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vf,lt]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",vf,lt]}],"grid-cols":[{"grid-cols":[wf]}],"col-start-end":[{col:["auto",{span:["full",vf,lt]},lt]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[wf]}],"row-start-end":[{row:["auto",{span:[vf,lt]},lt]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,e]}],"min-w":[{"min-w":[lt,e,"min","max","fit"]}],"max-w":[{"max-w":[lt,e,"none","full","min","max","fit","prose",{screen:[ll]},ll]}],h:[{h:[lt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ll,al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fx]}],"font-family":[{font:[wf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",Sd,fx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pa,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pa,al]}],"underline-offset":[{"underline-offset":["auto",pa,lt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),PU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RU]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:re()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[pa,lt]}],"outline-w":[{outline:[pa,al]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[pa,al]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ll,AU]}],"shadow-color":[{shadow:[wf]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ll,lt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[vf,lt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[pa,al,fx]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OU=gU(jU);function it(...n){return OU(QN(n))}const MU=K5,cD=b.forwardRef(({className:n,...e},t)=>p.jsx(BN,{ref:t,className:it("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));cD.displayName=BN.displayName;const LU=Lv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uD=b.forwardRef(({className:n,variant:e,...t},r)=>p.jsx(WN,{ref:r,className:it(LU({variant:e}),n),...t}));uD.displayName=WN.displayName;const VU=b.forwardRef(({className:n,...e},t)=>p.jsx(KN,{ref:t,className:it("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));VU.displayName=KN.displayName;const dD=b.forwardRef(({className:n,...e},t)=>p.jsx(GN,{ref:t,className:it("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:p.jsx(zc,{className:"h-4 w-4"})}));dD.displayName=GN.displayName;const hD=b.forwardRef(({className:n,...e},t)=>p.jsx(qN,{ref:t,className:it("text-sm font-semibold",n),...e}));hD.displayName=qN.displayName;const fD=b.forwardRef(({className:n,...e},t)=>p.jsx(HN,{ref:t,className:it("text-sm opacity-90",n),...e}));fD.displayName=HN.displayName;function FU(){const{toasts:n}=r5();return p.jsxs(MU,{children:[n.map(function({id:e,title:t,description:r,action:s,...i}){return p.jsxs(uD,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[t&&p.jsx(hD,{children:t}),r&&p.jsx(fD,{children:r})]}),s,p.jsx(dD,{})]},e)}),p.jsx(cD,{})]})}var $P=["light","dark"],zU="(prefers-color-scheme: dark)",UU=b.createContext(void 0),$U={setTheme:n=>{},themes:[]},BU=()=>{var n;return(n=b.useContext(UU))!=null?n:$U};b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:u})=>{let d=i==="system",h=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,m=s?$P.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(T,x=!1,S=!0)=>{let R=o?o[T]:T,k=x?T+"|| ''":`'${R}'`,j="";return s&&S&&!x&&$P.includes(T)&&(j+=`d.style.colorScheme = '${T}';`),t==="class"?x||R?j+=`c.add(${k})`:j+="null":R&&(j+=`d[s](n,${k})`),j},w=n?`!function(){${h}${v(n)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${zU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${v(o?"x[e]":"e",!0)}}${d?"":"else{"+v(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${v(o?"x[e]":"e",!0)}}else{${v(i,!1,!1)};}${m}}catch(t){}}();`;return b.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:w}})});var WU=n=>{switch(n){case"success":return KU;case"info":return YU;case"warning":return GU;case"error":return QU;default:return null}},qU=Array(12).fill(0),HU=({visible:n,className:e})=>_e.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},_e.createElement("div",{className:"sonner-spinner"},qU.map((t,r)=>_e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),KU=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GU=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YU=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QU=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XU=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JU=()=>{let[n,e]=_e.useState(document.hidden);return _e.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},I_=1,ZU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:I_++,o=this.toasts.find(u=>u.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:l,title:r}):u):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,l=s.then(async d=>{if(o=["resolve",d],_e.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(t6(d)&&!d.ok){i=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:r,type:"error",message:h,description:m})}else if(t.success!==void 0){i=!1;let h=typeof t.success=="function"?await t.success(d):t.success,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"success",message:h,description:m})}}).catch(async d=>{if(o=["reject",d],t.error!==void 0){i=!1;let h=typeof t.error=="function"?await t.error(d):t.error,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"error",message:h,description:m})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=t.finally)==null||d.call(t)}),u=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,t)=>{let r=t?.id||I_++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Is=new ZU,e6=(n,e)=>{let t=e?.id||I_++;return Is.addToast({title:n,...e,id:t}),t},t6=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",n6=e6,r6=()=>Is.toasts,s6=()=>Is.getActiveToasts(),Qt=Object.assign(n6,{success:Is.success,info:Is.info,warning:Is.warning,error:Is.error,custom:Is.custom,message:Is.message,promise:Is.promise,dismiss:Is.dismiss,loading:Is.loading},{getHistory:r6,getToasts:s6});function i6(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}i6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bg(n){return n.label!==void 0}var o6=3,a6="32px",l6="16px",BP=4e3,c6=356,u6=14,d6=20,h6=200;function Wi(...n){return n.filter(Boolean).join(" ")}function f6(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var p6=n=>{var e,t,r,s,i,o,l,u,d,h,m;let{invert:v,toast:w,unstyled:T,interacting:x,setHeights:S,visibleToasts:R,heights:k,index:j,toasts:I,expanded:L,removeToast:z,defaultRichColors:P,closeButton:A,style:D,cancelButtonStyle:O,actionButtonStyle:V,className:F="",descriptionClassName:U="",duration:X,position:se,gap:re,loadingIcon:J,expandByDefault:q,classNames:G,icons:B,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:Q}=n,[ie,ue]=_e.useState(null),[Z,me]=_e.useState(null),[ce,xe]=_e.useState(!1),[Ee,Fe]=_e.useState(!1),[ze,Ze]=_e.useState(!1),[Oe,ft]=_e.useState(!1),[nn,qt]=_e.useState(!1),[oe,pn]=_e.useState(0),[Dt,It]=_e.useState(0),ct=_e.useRef(w.duration||X||BP),cr=_e.useRef(null),Cn=_e.useRef(null),Ss=j===0,zt=j+1<=R,Ht=w.type,Tt=w.dismissible!==!1,Pn=w.className||"",er=w.descriptionClassName||"",kn=_e.useMemo(()=>k.findIndex(Ve=>Ve.toastId===w.id)||0,[k,w.id]),$r=_e.useMemo(()=>{var Ve;return(Ve=w.closeButton)!=null?Ve:A},[w.closeButton,A]),Bt=_e.useMemo(()=>w.duration||X||BP,[w.duration,X]),Er=_e.useRef(0),mn=_e.useRef(0),os=_e.useRef(0),rn=_e.useRef(null),[Cr,ur]=se.split("-"),Qe=_e.useMemo(()=>k.reduce((Ve,st,Et)=>Et>=kn?Ve:Ve+st.height,0),[k,kn]),Un=JU(),gn=w.invert||v,pt=Ht==="loading";mn.current=_e.useMemo(()=>kn*re+Qe,[kn,Qe]),_e.useEffect(()=>{ct.current=Bt},[Bt]),_e.useEffect(()=>{xe(!0)},[]),_e.useEffect(()=>{let Ve=Cn.current;if(Ve){let st=Ve.getBoundingClientRect().height;return It(st),S(Et=>[{toastId:w.id,height:st,position:w.position},...Et]),()=>S(Et=>Et.filter(Ae=>Ae.toastId!==w.id))}},[S,w.id]),_e.useLayoutEffect(()=>{if(!ce)return;let Ve=Cn.current,st=Ve.style.height;Ve.style.height="auto";let Et=Ve.getBoundingClientRect().height;Ve.style.height=st,It(Et),S(Ae=>Ae.find(Pe=>Pe.toastId===w.id)?Ae.map(Pe=>Pe.toastId===w.id?{...Pe,height:Et}:Pe):[{toastId:w.id,height:Et,position:w.position},...Ae])},[ce,w.title,w.description,S,w.id]);let Jt=_e.useCallback(()=>{Fe(!0),pn(mn.current),S(Ve=>Ve.filter(st=>st.toastId!==w.id)),setTimeout(()=>{z(w)},h6)},[w,z,S,mn]);_e.useEffect(()=>{if(w.promise&&Ht==="loading"||w.duration===1/0||w.type==="loading")return;let Ve;return L||x||Q&&Un?(()=>{if(os.current<Er.current){let st=new Date().getTime()-Er.current;ct.current=ct.current-st}os.current=new Date().getTime()})():ct.current!==1/0&&(Er.current=new Date().getTime(),Ve=setTimeout(()=>{var st;(st=w.onAutoClose)==null||st.call(w,w),Jt()},ct.current)),()=>clearTimeout(Ve)},[L,x,w,Ht,Q,Un,Jt]),_e.useEffect(()=>{w.delete&&Jt()},[Jt,w.delete]);function dr(){var Ve,st,Et;return B!=null&&B.loading?_e.createElement("div",{className:Wi(G?.loader,(Ve=w?.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":Ht==="loading"},B.loading):J?_e.createElement("div",{className:Wi(G?.loader,(st=w?.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Ht==="loading"},J):_e.createElement(HU,{className:Wi(G?.loader,(Et=w?.classNames)==null?void 0:Et.loader),visible:Ht==="loading"})}return _e.createElement("li",{tabIndex:0,ref:Cn,className:Wi(F,Pn,G?.toast,(e=w?.classNames)==null?void 0:e.toast,G?.default,G?.[Ht],(t=w?.classNames)==null?void 0:t[Ht]),"data-sonner-toast":"","data-rich-colors":(r=w.richColors)!=null?r:P,"data-styled":!(w.jsx||w.unstyled||T),"data-mounted":ce,"data-promise":!!w.promise,"data-swiped":nn,"data-removed":Ee,"data-visible":zt,"data-y-position":Cr,"data-x-position":ur,"data-index":j,"data-front":Ss,"data-swiping":ze,"data-dismissible":Tt,"data-type":Ht,"data-invert":gn,"data-swipe-out":Oe,"data-swipe-direction":Z,"data-expanded":!!(L||q&&ce),style:{"--index":j,"--toasts-before":j,"--z-index":I.length-j,"--offset":`${Ee?oe:mn.current}px`,"--initial-height":q?"auto":`${Dt}px`,...D,...w.style},onDragEnd:()=>{Ze(!1),ue(null),rn.current=null},onPointerDown:Ve=>{pt||!Tt||(cr.current=new Date,pn(mn.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(Ze(!0),rn.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,st,Et,Ae;if(Oe||!Tt)return;rn.current=null;let Pe=Number(((Ve=Cn.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ke=Number(((st=Cn.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ye=new Date().getTime()-((Et=cr.current)==null?void 0:Et.getTime()),Ne=ie==="x"?Pe:Ke,ke=Math.abs(Ne)/ye;if(Math.abs(Ne)>=d6||ke>.11){pn(mn.current),(Ae=w.onDismiss)==null||Ae.call(w,w),me(ie==="x"?Pe>0?"right":"left":Ke>0?"down":"up"),Jt(),ft(!0),qt(!1);return}Ze(!1),ue(null)},onPointerMove:Ve=>{var st,Et,Ae,Pe;if(!rn.current||!Tt||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;let Ke=Ve.clientY-rn.current.y,ye=Ve.clientX-rn.current.x,Ne=(Et=n.swipeDirections)!=null?Et:f6(se);!ie&&(Math.abs(ye)>1||Math.abs(Ke)>1)&&ue(Math.abs(ye)>Math.abs(Ke)?"x":"y");let ke={x:0,y:0};ie==="y"?(Ne.includes("top")||Ne.includes("bottom"))&&(Ne.includes("top")&&Ke<0||Ne.includes("bottom")&&Ke>0)&&(ke.y=Ke):ie==="x"&&(Ne.includes("left")||Ne.includes("right"))&&(Ne.includes("left")&&ye<0||Ne.includes("right")&&ye>0)&&(ke.x=ye),(Math.abs(ke.x)>0||Math.abs(ke.y)>0)&&qt(!0),(Ae=Cn.current)==null||Ae.style.setProperty("--swipe-amount-x",`${ke.x}px`),(Pe=Cn.current)==null||Pe.style.setProperty("--swipe-amount-y",`${ke.y}px`)}},$r&&!w.jsx?_e.createElement("button",{"aria-label":W,"data-disabled":pt,"data-close-button":!0,onClick:pt||!Tt?()=>{}:()=>{var Ve;Jt(),(Ve=w.onDismiss)==null||Ve.call(w,w)},className:Wi(G?.closeButton,(s=w?.classNames)==null?void 0:s.closeButton)},(i=B?.close)!=null?i:XU):null,w.jsx||b.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:_e.createElement(_e.Fragment,null,Ht||w.icon||w.promise?_e.createElement("div",{"data-icon":"",className:Wi(G?.icon,(o=w?.classNames)==null?void 0:o.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||dr():null,w.type!=="loading"?w.icon||B?.[Ht]||WU(Ht):null):null,_e.createElement("div",{"data-content":"",className:Wi(G?.content,(l=w?.classNames)==null?void 0:l.content)},_e.createElement("div",{"data-title":"",className:Wi(G?.title,(u=w?.classNames)==null?void 0:u.title)},typeof w.title=="function"?w.title():w.title),w.description?_e.createElement("div",{"data-description":"",className:Wi(U,er,G?.description,(d=w?.classNames)==null?void 0:d.description)},typeof w.description=="function"?w.description():w.description):null),b.isValidElement(w.cancel)?w.cancel:w.cancel&&bg(w.cancel)?_e.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||O,onClick:Ve=>{var st,Et;bg(w.cancel)&&Tt&&((Et=(st=w.cancel).onClick)==null||Et.call(st,Ve),Jt())},className:Wi(G?.cancelButton,(h=w?.classNames)==null?void 0:h.cancelButton)},w.cancel.label):null,b.isValidElement(w.action)?w.action:w.action&&bg(w.action)?_e.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||V,onClick:Ve=>{var st,Et;bg(w.action)&&((Et=(st=w.action).onClick)==null||Et.call(st,Ve),!Ve.defaultPrevented&&Jt())},className:Wi(G?.actionButton,(m=w?.classNames)==null?void 0:m.actionButton)},w.action.label):null))};function WP(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function m6(n,e){let t={};return[n,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?l6:a6;function u(d){["top","right","bottom","left"].forEach(h=>{t[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?t[`${o}-${d}`]=l:t[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):u(l)}),t}var g6=b.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:d,theme:h="light",richColors:m,duration:v,style:w,visibleToasts:T=o6,toastOptions:x,dir:S=WP(),gap:R=u6,loadingIcon:k,icons:j,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:L}=n,[z,P]=_e.useState([]),A=_e.useMemo(()=>Array.from(new Set([r].concat(z.filter(Q=>Q.position).map(Q=>Q.position)))),[z,r]),[D,O]=_e.useState([]),[V,F]=_e.useState(!1),[U,X]=_e.useState(!1),[se,re]=_e.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=_e.useRef(null),q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=_e.useRef(null),B=_e.useRef(!1),W=_e.useCallback(Q=>{P(ie=>{var ue;return(ue=ie.find(Z=>Z.id===Q.id))!=null&&ue.delete||Is.dismiss(Q.id),ie.filter(({id:Z})=>Z!==Q.id)})},[]);return _e.useEffect(()=>Is.subscribe(Q=>{if(Q.dismiss){P(ie=>ie.map(ue=>ue.id===Q.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{_N.flushSync(()=>{P(ie=>{let ue=ie.findIndex(Z=>Z.id===Q.id);return ue!==-1?[...ie.slice(0,ue),{...ie[ue],...Q},...ie.slice(ue+1)]:[Q,...ie]})})})}),[]),_e.useEffect(()=>{if(h!=="system"){re(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:ie})=>{re(ie?"dark":"light")})}catch{Q.addListener(({matches:ue})=>{try{re(ue?"dark":"light")}catch(Z){console.error(Z)}})}},[h]),_e.useEffect(()=>{z.length<=1&&F(!1)},[z]),_e.useEffect(()=>{let Q=ie=>{var ue,Z;s.every(me=>ie[me]||ie.code===me)&&(F(!0),(ue=J.current)==null||ue.focus()),ie.code==="Escape"&&(document.activeElement===J.current||(Z=J.current)!=null&&Z.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),_e.useEffect(()=>{if(J.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,B.current=!1)}},[J.current]),_e.createElement("section",{ref:e,"aria-label":`${I} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((Q,ie)=>{var ue;let[Z,me]=Q.split("-");return z.length?_e.createElement("ol",{key:Q,dir:S==="auto"?WP():S,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":Z,"data-lifted":V&&z.length>1&&!i,"data-x-position":me,style:{"--front-toast-height":`${((ue=D[0])==null?void 0:ue.height)||0}px`,"--width":`${c6}px`,"--gap":`${R}px`,...w,...m6(u,d)},onBlur:ce=>{B.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(B.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||B.current||(B.current=!0,G.current=ce.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{U||F(!1)},onDragEnd:()=>F(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},z.filter(ce=>!ce.position&&ie===0||ce.position===Q).map((ce,xe)=>{var Ee,Fe;return _e.createElement(p6,{key:ce.id,icons:j,index:xe,toast:ce,defaultRichColors:m,duration:(Ee=x?.duration)!=null?Ee:v,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:t,visibleToasts:T,closeButton:(Fe=x?.closeButton)!=null?Fe:o,interacting:U,position:Q,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,removeToast:W,toasts:z.filter(ze=>ze.position==ce.position),heights:D.filter(ze=>ze.position==ce.position),setHeights:O,expandByDefault:i,gap:R,loadingIcon:k,expanded:V,pauseWhenPageIsHidden:L,swipeDirections:n.swipeDirections})})):null}))});const y6=({...n})=>{const{theme:e="system"}=BU();return p.jsx(g6,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var v6=E1[" useId ".trim().toString()]||(()=>{}),w6=0;function Tl(n){const[e,t]=b.useState(v6());return br(()=>{t(r=>r??String(w6++))},[n]),e?`radix-${e}`:""}const x6=["top","right","bottom","left"],Vl=Math.min,ri=Math.max,Ny=Math.round,Sg=Math.floor,Lo=n=>({x:n,y:n}),_6={left:"right",right:"left",bottom:"top",top:"bottom"},b6={start:"end",end:"start"};function N_(n,e,t){return ri(n,Vl(e,t))}function Ta(n,e){return typeof n=="function"?n(e):n}function Ea(n){return n.split("-")[0]}function mh(n){return n.split("-")[1]}function I1(n){return n==="x"?"y":"x"}function N1(n){return n==="y"?"height":"width"}const S6=new Set(["top","bottom"]);function Do(n){return S6.has(Ea(n))?"y":"x"}function D1(n){return I1(Do(n))}function T6(n,e,t){t===void 0&&(t=!1);const r=mh(n),s=D1(n),i=N1(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Dy(o)),[o,Dy(o)]}function E6(n){const e=Dy(n);return[D_(n),e,D_(e)]}function D_(n){return n.replace(/start|end/g,e=>b6[e])}const qP=["left","right"],HP=["right","left"],C6=["top","bottom"],P6=["bottom","top"];function k6(n,e,t){switch(n){case"top":case"bottom":return t?e?HP:qP:e?qP:HP;case"left":case"right":return e?C6:P6;default:return[]}}function R6(n,e,t,r){const s=mh(n);let i=k6(Ea(n),t==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(D_)))),i}function Dy(n){return n.replace(/left|right|bottom|top/g,e=>_6[e])}function A6(n){return{top:0,right:0,bottom:0,left:0,...n}}function pD(n){return typeof n!="number"?A6(n):{top:n,right:n,bottom:n,left:n}}function jy(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function KP(n,e,t){let{reference:r,floating:s}=n;const i=Do(e),o=D1(e),l=N1(o),u=Ea(e),d=i==="y",h=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,v=r[l]/2-s[l]/2;let w;switch(u){case"top":w={x:h,y:r.y-s.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:m};break;case"left":w={x:r.x-s.width,y:m};break;default:w={x:r.x,y:r.y}}switch(mh(e)){case"start":w[o]-=v*(t&&d?-1:1);break;case"end":w[o]+=v*(t&&d?-1:1);break}return w}const I6=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:h,y:m}=KP(d,r,u),v=r,w={},T=0;for(let x=0;x<l.length;x++){const{name:S,fn:R}=l[x],{x:k,y:j,data:I,reset:L}=await R({x:h,y:m,initialPlacement:r,placement:v,strategy:s,middlewareData:w,rects:d,platform:o,elements:{reference:n,floating:e}});h=k??h,m=j??m,w={...w,[S]:{...w[S],...I}},L&&T<=50&&(T++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(d=L.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):L.rects),{x:h,y:m}=KP(d,v,u)),x=-1)}return{x:h,y:m,placement:v,strategy:s,middlewareData:w}};async function fp(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=n,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:v=!1,padding:w=0}=Ta(e,n),T=pD(w),S=l[v?m==="floating"?"reference":"floating":m],R=jy(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(S)))==null||t?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),k=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),I=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},L=jy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:k,offsetParent:j,strategy:u}):k);return{top:(R.top-L.top+T.top)/I.y,bottom:(L.bottom-R.bottom+T.bottom)/I.y,left:(R.left-L.left+T.left)/I.x,right:(L.right-R.right+T.right)/I.x}}const N6=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=Ta(n,e)||{};if(d==null)return{};const m=pD(h),v={x:t,y:r},w=D1(s),T=N1(w),x=await o.getDimensions(d),S=w==="y",R=S?"top":"left",k=S?"bottom":"right",j=S?"clientHeight":"clientWidth",I=i.reference[T]+i.reference[w]-v[w]-i.floating[T],L=v[w]-i.reference[w],z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=z?z[j]:0;(!P||!await(o.isElement==null?void 0:o.isElement(z)))&&(P=l.floating[j]||i.floating[T]);const A=I/2-L/2,D=P/2-x[T]/2-1,O=Vl(m[R],D),V=Vl(m[k],D),F=O,U=P-x[T]-V,X=P/2-x[T]/2+A,se=N_(F,X,U),re=!u.arrow&&mh(s)!=null&&X!==se&&i.reference[T]/2-(X<F?O:V)-x[T]/2<0,J=re?X<F?X-F:X-U:0;return{[w]:v[w]+J,data:{[w]:se,centerOffset:X-se-J,...re&&{alignmentOffset:J}},reset:re}}}),D6=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:x=!0,...S}=Ta(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const R=Ea(s),k=Do(l),j=Ea(l)===l,I=await(u.isRTL==null?void 0:u.isRTL(d.floating)),L=v||(j||!x?[Dy(l)]:E6(l)),z=T!=="none";!v&&z&&L.push(...R6(l,x,T,I));const P=[l,...L],A=await fp(e,S),D=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&D.push(A[R]),m){const X=T6(s,o,I);D.push(A[X[0]],A[X[1]])}if(O=[...O,{placement:s,overflows:D}],!D.every(X=>X<=0)){var V,F;const X=(((V=i.flip)==null?void 0:V.index)||0)+1,se=P[X];if(se&&(!(m==="alignment"?k!==Do(se):!1)||O.every(q=>q.overflows[0]>0&&Do(q.placement)===k)))return{data:{index:X,overflows:O},reset:{placement:se}};let re=(F=O.filter(J=>J.overflows[0]<=0).sort((J,q)=>J.overflows[1]-q.overflows[1])[0])==null?void 0:F.placement;if(!re)switch(w){case"bestFit":{var U;const J=(U=O.filter(q=>{if(z){const G=Do(q.placement);return G===k||G==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(G=>G>0).reduce((G,B)=>G+B,0)]).sort((q,G)=>q[1]-G[1])[0])==null?void 0:U[0];J&&(re=J);break}case"initialPlacement":re=l;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function GP(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function YP(n){return x6.some(e=>n[e]>=0)}const j6=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=Ta(n,e);switch(r){case"referenceHidden":{const i=await fp(e,{...s,elementContext:"reference"}),o=GP(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YP(o)}}}case"escaped":{const i=await fp(e,{...s,altBoundary:!0}),o=GP(i,t.floating);return{data:{escapedOffsets:o,escaped:YP(o)}}}default:return{}}}}},mD=new Set(["left","top"]);async function O6(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ea(t),l=mh(t),u=Do(t)==="y",d=mD.has(o)?-1:1,h=i&&u?-1:1,m=Ta(e,n);let{mainAxis:v,crossAxis:w,alignmentAxis:T}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof T=="number"&&(w=l==="end"?T*-1:T),u?{x:w*h,y:v*d}:{x:v*d,y:w*h}}const M6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await O6(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},L6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:R,y:k}=S;return{x:R,y:k}}},...u}=Ta(n,e),d={x:t,y:r},h=await fp(e,u),m=Do(Ea(s)),v=I1(m);let w=d[v],T=d[m];if(i){const S=v==="y"?"top":"left",R=v==="y"?"bottom":"right",k=w+h[S],j=w-h[R];w=N_(k,w,j)}if(o){const S=m==="y"?"top":"left",R=m==="y"?"bottom":"right",k=T+h[S],j=T-h[R];T=N_(k,T,j)}const x=l.fn({...e,[v]:w,[m]:T});return{...x,data:{x:x.x-t,y:x.y-r,enabled:{[v]:i,[m]:o}}}}}},V6=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Ta(n,e),h={x:t,y:r},m=Do(s),v=I1(m);let w=h[v],T=h[m];const x=Ta(l,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const j=v==="y"?"height":"width",I=i.reference[v]-i.floating[j]+S.mainAxis,L=i.reference[v]+i.reference[j]-S.mainAxis;w<I?w=I:w>L&&(w=L)}if(d){var R,k;const j=v==="y"?"width":"height",I=mD.has(Ea(s)),L=i.reference[m]-i.floating[j]+(I&&((R=o.offset)==null?void 0:R[m])||0)+(I?0:S.crossAxis),z=i.reference[m]+i.reference[j]+(I?0:((k=o.offset)==null?void 0:k[m])||0)-(I?S.crossAxis:0);T<L?T=L:T>z&&(T=z)}return{[v]:w,[m]:T}}}},F6=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...d}=Ta(n,e),h=await fp(e,d),m=Ea(s),v=mh(s),w=Do(s)==="y",{width:T,height:x}=i.floating;let S,R;m==="top"||m==="bottom"?(S=m,R=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(R=m,S=v==="end"?"top":"bottom");const k=x-h.top-h.bottom,j=T-h.left-h.right,I=Vl(x-h[S],k),L=Vl(T-h[R],j),z=!e.middlewareData.shift;let P=I,A=L;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=k),z&&!v){const O=ri(h.left,0),V=ri(h.right,0),F=ri(h.top,0),U=ri(h.bottom,0);w?A=T-2*(O!==0||V!==0?O+V:ri(h.left,h.right)):P=x-2*(F!==0||U!==0?F+U:ri(h.top,h.bottom))}await u({...e,availableWidth:A,availableHeight:P});const D=await o.getDimensions(l.floating);return T!==D.width||x!==D.height?{reset:{rects:!0}}:{}}}};function Fv(){return typeof window<"u"}function gh(n){return gD(n)?(n.nodeName||"").toLowerCase():"#document"}function ci(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Xo(n){var e;return(e=(gD(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function gD(n){return Fv()?n instanceof Node||n instanceof ci(n).Node:!1}function Zi(n){return Fv()?n instanceof Element||n instanceof ci(n).Element:!1}function Ho(n){return Fv()?n instanceof HTMLElement||n instanceof ci(n).HTMLElement:!1}function QP(n){return!Fv()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ci(n).ShadowRoot}const z6=new Set(["inline","contents"]);function Xp(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=eo(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!z6.has(s)}const U6=new Set(["table","td","th"]);function $6(n){return U6.has(gh(n))}const B6=[":popover-open",":modal"];function zv(n){return B6.some(e=>{try{return n.matches(e)}catch{return!1}})}const W6=["transform","translate","scale","rotate","perspective"],q6=["transform","translate","scale","rotate","perspective","filter"],H6=["paint","layout","strict","content"];function j1(n){const e=O1(),t=Zi(n)?eo(n):n;return W6.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||q6.some(r=>(t.willChange||"").includes(r))||H6.some(r=>(t.contain||"").includes(r))}function K6(n){let e=Fl(n);for(;Ho(e)&&!Hd(e);){if(j1(e))return e;if(zv(e))return null;e=Fl(e)}return null}function O1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const G6=new Set(["html","body","#document"]);function Hd(n){return G6.has(gh(n))}function eo(n){return ci(n).getComputedStyle(n)}function Uv(n){return Zi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Fl(n){if(gh(n)==="html")return n;const e=n.assignedSlot||n.parentNode||QP(n)&&n.host||Xo(n);return QP(e)?e.host:e}function yD(n){const e=Fl(n);return Hd(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ho(e)&&Xp(e)?e:yD(e)}function pp(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=yD(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),o=ci(s);if(i){const l=j_(o);return e.concat(o,o.visualViewport||[],Xp(s)?s:[],l&&t?pp(l):[])}return e.concat(s,pp(s,[],t))}function j_(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function vD(n){const e=eo(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ho(n),i=s?n.offsetWidth:t,o=s?n.offsetHeight:r,l=Ny(t)!==i||Ny(r)!==o;return l&&(t=i,r=o),{width:t,height:r,$:l}}function M1(n){return Zi(n)?n:n.contextElement}function Td(n){const e=M1(n);if(!Ho(e))return Lo(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=vD(e);let o=(i?Ny(t.width):t.width)/r,l=(i?Ny(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Y6=Lo(0);function wD(n){const e=ci(n);return!O1()||!e.visualViewport?Y6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Q6(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ci(n)?!1:e}function nu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=M1(n);let o=Lo(1);e&&(r?Zi(r)&&(o=Td(r)):o=Td(n));const l=Q6(i,t,r)?wD(i):Lo(0);let u=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const v=ci(i),w=r&&Zi(r)?ci(r):r;let T=v,x=j_(T);for(;x&&r&&w!==T;){const S=Td(x),R=x.getBoundingClientRect(),k=eo(x),j=R.left+(x.clientLeft+parseFloat(k.paddingLeft))*S.x,I=R.top+(x.clientTop+parseFloat(k.paddingTop))*S.y;u*=S.x,d*=S.y,h*=S.x,m*=S.y,u+=j,d+=I,T=ci(x),x=j_(T)}}return jy({width:h,height:m,x:u,y:d})}function L1(n,e){const t=Uv(n).scrollLeft;return e?e.left+t:nu(Xo(n)).left+t}function xD(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:L1(n,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function X6(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",o=Xo(r),l=e?zv(e.floating):!1;if(r===o||l&&i)return t;let u={scrollLeft:0,scrollTop:0},d=Lo(1);const h=Lo(0),m=Ho(r);if((m||!m&&!i)&&((gh(r)!=="body"||Xp(o))&&(u=Uv(r)),Ho(r))){const w=nu(r);d=Td(r),h.x=w.x+r.clientLeft,h.y=w.y+r.clientTop}const v=o&&!m&&!i?xD(o,u,!0):Lo(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+h.x+v.x,y:t.y*d.y-u.scrollTop*d.y+h.y+v.y}}function J6(n){return Array.from(n.getClientRects())}function Z6(n){const e=Xo(n),t=Uv(n),r=n.ownerDocument.body,s=ri(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ri(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+L1(n);const l=-t.scrollTop;return eo(r).direction==="rtl"&&(o+=ri(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function e$(n,e){const t=ci(n),r=Xo(n),s=t.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const d=O1();(!d||d&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}const t$=new Set(["absolute","fixed"]);function n$(n,e){const t=nu(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=Ho(n)?Td(n):Lo(1),o=n.clientWidth*i.x,l=n.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:l,x:u,y:d}}function XP(n,e,t){let r;if(e==="viewport")r=e$(n,t);else if(e==="document")r=Z6(Xo(n));else if(Zi(e))r=n$(e,t);else{const s=wD(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return jy(r)}function _D(n,e){const t=Fl(n);return t===e||!Zi(t)||Hd(t)?!1:eo(t).position==="fixed"||_D(t,e)}function r$(n,e){const t=e.get(n);if(t)return t;let r=pp(n,[],!1).filter(l=>Zi(l)&&gh(l)!=="body"),s=null;const i=eo(n).position==="fixed";let o=i?Fl(n):n;for(;Zi(o)&&!Hd(o);){const l=eo(o),u=j1(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&t$.has(s.position)||Xp(o)&&!u&&_D(n,o))?r=r.filter(h=>h!==o):s=l,o=Fl(o)}return e.set(n,r),r}function s$(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const o=[...t==="clippingAncestors"?zv(e)?[]:r$(e,this._c):[].concat(t),r],l=o[0],u=o.reduce((d,h)=>{const m=XP(e,h,s);return d.top=ri(m.top,d.top),d.right=Vl(m.right,d.right),d.bottom=Vl(m.bottom,d.bottom),d.left=ri(m.left,d.left),d},XP(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function i$(n){const{width:e,height:t}=vD(n);return{width:e,height:t}}function o$(n,e,t){const r=Ho(e),s=Xo(e),i=t==="fixed",o=nu(n,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=Lo(0);function d(){u.x=L1(s)}if(r||!r&&!i)if((gh(e)!=="body"||Xp(s))&&(l=Uv(e)),r){const w=nu(e,!0,i,e);u.x=w.x+e.clientLeft,u.y=w.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?xD(s,l):Lo(0),m=o.left+l.scrollLeft-u.x-h.x,v=o.top+l.scrollTop-u.y-h.y;return{x:m,y:v,width:o.width,height:o.height}}function px(n){return eo(n).position==="static"}function JP(n,e){if(!Ho(n)||eo(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Xo(n)===t&&(t=t.ownerDocument.body),t}function bD(n,e){const t=ci(n);if(zv(n))return t;if(!Ho(n)){let s=Fl(n);for(;s&&!Hd(s);){if(Zi(s)&&!px(s))return s;s=Fl(s)}return t}let r=JP(n,e);for(;r&&$6(r)&&px(r);)r=JP(r,e);return r&&Hd(r)&&px(r)&&!j1(r)?t:r||K6(n)||t}const a$=async function(n){const e=this.getOffsetParent||bD,t=this.getDimensions,r=await t(n.floating);return{reference:o$(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function l$(n){return eo(n).direction==="rtl"}const c$={convertOffsetParentRelativeRectToViewportRelativeRect:X6,getDocumentElement:Xo,getClippingRect:s$,getOffsetParent:bD,getElementRects:a$,getClientRects:J6,getDimensions:i$,getScale:Td,isElement:Zi,isRTL:l$};function SD(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function u$(n,e){let t=null,r;const s=Xo(n);function i(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=n.getBoundingClientRect(),{left:h,top:m,width:v,height:w}=d;if(l||e(),!v||!w)return;const T=Sg(m),x=Sg(s.clientWidth-(h+v)),S=Sg(s.clientHeight-(m+w)),R=Sg(h),j={rootMargin:-T+"px "+-x+"px "+-S+"px "+-R+"px",threshold:ri(0,Vl(1,u))||1};let I=!0;function L(z){const P=z[0].intersectionRatio;if(P!==u){if(!I)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!SD(d,n.getBoundingClientRect())&&o(),I=!1}try{t=new IntersectionObserver(L,{...j,root:s.ownerDocument})}catch{t=new IntersectionObserver(L,j)}t.observe(n)}return o(!0),i}function d$(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=M1(n),h=s||i?[...d?pp(d):[],...pp(e)]:[];h.forEach(R=>{s&&R.addEventListener("scroll",t,{passive:!0}),i&&R.addEventListener("resize",t)});const m=d&&l?u$(d,t):null;let v=-1,w=null;o&&(w=new ResizeObserver(R=>{let[k]=R;k&&k.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=w)==null||j.observe(e)})),t()}),d&&!u&&w.observe(d),w.observe(e));let T,x=u?nu(n):null;u&&S();function S(){const R=nu(n);x&&!SD(x,R)&&t(),x=R,T=requestAnimationFrame(S)}return t(),()=>{var R;h.forEach(k=>{s&&k.removeEventListener("scroll",t),i&&k.removeEventListener("resize",t)}),m?.(),(R=w)==null||R.disconnect(),w=null,u&&cancelAnimationFrame(T)}}const h$=M6,f$=L6,p$=D6,m$=F6,g$=j6,ZP=N6,y$=V6,v$=(n,e,t)=>{const r=new Map,s={platform:c$,...t},i={...s.platform,_c:r};return I6(n,e,{...s,platform:i})};var w$=typeof document<"u",x$=function(){},ny=w$?b.useLayoutEffect:x$;function Oy(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Oy(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Oy(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function TD(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ek(n,e){const t=TD(n);return Math.round(e*t)/t}function mx(n){const e=b.useRef(n);return ny(()=>{e.current=n}),e}function _$(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=n,[h,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=b.useState(r);Oy(v,r)||w(r);const[T,x]=b.useState(null),[S,R]=b.useState(null),k=b.useCallback(q=>{q!==z.current&&(z.current=q,x(q))},[]),j=b.useCallback(q=>{q!==P.current&&(P.current=q,R(q))},[]),I=i||T,L=o||S,z=b.useRef(null),P=b.useRef(null),A=b.useRef(h),D=u!=null,O=mx(u),V=mx(s),F=mx(d),U=b.useCallback(()=>{if(!z.current||!P.current)return;const q={placement:e,strategy:t,middleware:v};V.current&&(q.platform=V.current),v$(z.current,P.current,q).then(G=>{const B={...G,isPositioned:F.current!==!1};X.current&&!Oy(A.current,B)&&(A.current=B,fh.flushSync(()=>{m(B)}))})},[v,e,t,V,F]);ny(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[d]);const X=b.useRef(!1);ny(()=>(X.current=!0,()=>{X.current=!1}),[]),ny(()=>{if(I&&(z.current=I),L&&(P.current=L),I&&L){if(O.current)return O.current(I,L,U);U()}},[I,L,U,O,D]);const se=b.useMemo(()=>({reference:z,floating:P,setReference:k,setFloating:j}),[k,j]),re=b.useMemo(()=>({reference:I,floating:L}),[I,L]),J=b.useMemo(()=>{const q={position:t,left:0,top:0};if(!re.floating)return q;const G=ek(re.floating,h.x),B=ek(re.floating,h.y);return l?{...q,transform:"translate("+G+"px, "+B+"px)",...TD(re.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:G,top:B}},[t,l,re.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:U,refs:se,elements:re,floatingStyles:J}),[h,U,se,re,J])}const b$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?ZP({element:r.current,padding:s}).fn(t):{}:r?ZP({element:r,padding:s}).fn(t):{}}}},S$=(n,e)=>({...h$(n),options:[n,e]}),T$=(n,e)=>({...f$(n),options:[n,e]}),E$=(n,e)=>({...y$(n),options:[n,e]}),C$=(n,e)=>({...p$(n),options:[n,e]}),P$=(n,e)=>({...m$(n),options:[n,e]}),k$=(n,e)=>({...g$(n),options:[n,e]}),R$=(n,e)=>({...b$(n),options:[n,e]});var A$="Arrow",ED=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return p.jsx(Ye.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});ED.displayName=A$;var I$=ED;function CD(n){const[e,t]=b.useState(void 0);return br(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=n.offsetWidth,l=n.offsetHeight;t({width:o,height:l})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var V1="Popper",[PD,$v]=so(V1),[N$,kD]=PD(V1),RD=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return p.jsx(N$,{scope:e,anchor:r,onAnchorChange:s,children:t})};RD.displayName=V1;var AD="PopperAnchor",ID=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=kD(AD,t),o=b.useRef(null),l=St(e,o);return b.useEffect(()=>{i.onAnchorChange(r?.current||o.current)}),r?null:p.jsx(Ye.div,{...s,ref:l})});ID.displayName=AD;var F1="PopperContent",[D$,j$]=PD(F1),ND=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:T,...x}=n,S=kD(F1,t),[R,k]=b.useState(null),j=St(e,ce=>k(ce)),[I,L]=b.useState(null),z=CD(I),P=z?.width??0,A=z?.height??0,D=r+(i!=="center"?"-"+i:""),O=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},V=Array.isArray(d)?d:[d],F=V.length>0,U={padding:O,boundary:V.filter(M$),altBoundary:F},{refs:X,floatingStyles:se,placement:re,isPositioned:J,middlewareData:q}=_$({strategy:"fixed",placement:D,whileElementsMounted:(...ce)=>d$(...ce,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[S$({mainAxis:s+A,alignmentAxis:o}),u&&T$({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?E$():void 0,...U}),u&&C$({...U}),P$({...U,apply:({elements:ce,rects:xe,availableWidth:Ee,availableHeight:Fe})=>{const{width:ze,height:Ze}=xe.reference,Oe=ce.floating.style;Oe.setProperty("--radix-popper-available-width",`${Ee}px`),Oe.setProperty("--radix-popper-available-height",`${Fe}px`),Oe.setProperty("--radix-popper-anchor-width",`${ze}px`),Oe.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),I&&R$({element:I,padding:l}),L$({arrowWidth:P,arrowHeight:A}),v&&k$({strategy:"referenceHidden",...U})]}),[G,B]=OD(re),W=ar(T);br(()=>{J&&W?.()},[J,W]);const Q=q.arrow?.x,ie=q.arrow?.y,ue=q.arrow?.centerOffset!==0,[Z,me]=b.useState();return br(()=>{R&&me(window.getComputedStyle(R).zIndex)},[R]),p.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:J?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(D$,{scope:t,placedSide:G,onArrowChange:L,arrowX:Q,arrowY:ie,shouldHideArrow:ue,children:p.jsx(Ye.div,{"data-side":G,"data-align":B,...x,ref:j,style:{...x.style,animation:J?void 0:"none"}})})})});ND.displayName=F1;var DD="PopperArrow",O$={top:"bottom",right:"left",bottom:"top",left:"right"},jD=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=j$(DD,r),o=O$[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(I$,{...s,ref:t,style:{...s.style,display:"block"}})})});jD.displayName=DD;function M$(n){return n!==null}var L$=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,o=s.arrow?.centerOffset!==0,l=o?0:n.arrowWidth,u=o?0:n.arrowHeight,[d,h]=OD(t),m={start:"0%",center:"50%",end:"100%"}[h],v=(s.arrow?.x??0)+l/2,w=(s.arrow?.y??0)+u/2;let T="",x="";return d==="bottom"?(T=o?m:`${v}px`,x=`${-u}px`):d==="top"?(T=o?m:`${v}px`,x=`${r.floating.height+u}px`):d==="right"?(T=`${-u}px`,x=o?m:`${w}px`):d==="left"&&(T=`${r.floating.width+u}px`,x=o?m:`${w}px`),{data:{x:T,y:x}}}});function OD(n){const[e,t="center"]=n.split("-");return[e,t]}var V$=RD,MD=ID,LD=ND,VD=jD,[Bv]=so("Tooltip",[$v]),z1=$v(),FD="TooltipProvider",F$=700,tk="tooltip.open",[z$,zD]=Bv(FD),UD=n=>{const{__scopeTooltip:e,delayDuration:t=F$,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,o=b.useRef(!0),l=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),p.jsx(z$,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};UD.displayName=FD;var $D="Tooltip",[Lae,Wv]=Bv($D),O_="TooltipTrigger",U$=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Wv(O_,t),i=zD(O_,t),o=z1(t),l=b.useRef(null),u=St(e,l,s.onTriggerChange),d=b.useRef(!1),h=b.useRef(!1),m=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),p.jsx(MD,{asChild:!0,...o,children:p.jsx(Ye.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Le(n.onPointerMove,v=>{v.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Le(n.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Le(n.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(n.onFocus,()=>{d.current||s.onOpen()}),onBlur:Le(n.onBlur,s.onClose),onClick:Le(n.onClick,s.onClose)})})});U$.displayName=O_;var $$="TooltipPortal",[Vae,B$]=Bv($$,{forceMount:void 0}),Kd="TooltipContent",BD=b.forwardRef((n,e)=>{const t=B$(Kd,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,o=Wv(Kd,n.__scopeTooltip);return p.jsx(ji,{present:r||o.open,children:o.disableHoverableContent?p.jsx(WD,{side:s,...i,ref:e}):p.jsx(W$,{side:s,...i,ref:e})})}),W$=b.forwardRef((n,e)=>{const t=Wv(Kd,n.__scopeTooltip),r=zD(Kd,n.__scopeTooltip),s=b.useRef(null),i=St(e,s),[o,l]=b.useState(null),{trigger:u,onClose:d}=t,h=s.current,{onPointerInTransitChange:m}=r,v=b.useCallback(()=>{l(null),m(!1)},[m]),w=b.useCallback((T,x)=>{const S=T.currentTarget,R={x:T.clientX,y:T.clientY},k=Y$(R,S.getBoundingClientRect()),j=Q$(R,k),I=X$(x.getBoundingClientRect()),L=Z$([...j,...I]);l(L),m(!0)},[m]);return b.useEffect(()=>()=>v(),[v]),b.useEffect(()=>{if(u&&h){const T=S=>w(S,h),x=S=>w(S,u);return u.addEventListener("pointerleave",T),h.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",x)}}},[u,h,w,v]),b.useEffect(()=>{if(o){const T=x=>{const S=x.target,R={x:x.clientX,y:x.clientY},k=u?.contains(S)||h?.contains(S),j=!J$(R,o);k?v():j&&(v(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,h,o,d,v]),p.jsx(WD,{...n,ref:i})}),[q$,H$]=Bv($D,{isInside:!1}),K$=TN("TooltipContent"),WD=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=n,u=Wv(Kd,t),d=z1(t),{onClose:h}=u;return b.useEffect(()=>(document.addEventListener(tk,h),()=>document.removeEventListener(tk,h)),[h]),b.useEffect(()=>{if(u.trigger){const m=v=>{v.target?.contains(u.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,h]),p.jsx(Yp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:p.jsxs(LD,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(K$,{children:r}),p.jsx(q$,{scope:t,isInside:!0,children:p.jsx(R5,{id:u.contentId,role:"tooltip",children:s||r})})]})})});BD.displayName=Kd;var qD="TooltipArrow",G$=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=z1(t);return H$(qD,t).isInside?null:p.jsx(VD,{...s,...r,ref:e})});G$.displayName=qD;function Y$(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Q$(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function X$(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function J$(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],d=l.x,h=l.y,m=u.x,v=u.y;h>r!=v>r&&t<(m-d)*(r-h)/(v-h)+d&&(s=!s)}return s}function Z$(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),eB(e)}function eB(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var tB=UD,HD=BD;const nB=tB,rB=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>p.jsx(HD,{ref:r,sideOffset:e,className:it("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));rB.displayName=HD.displayName;var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ru=typeof window>"u"||"Deno"in globalThis;function gs(){}function sB(n,e){return typeof n=="function"?n(e):n}function M_(n){return typeof n=="number"&&n>=0&&n!==1/0}function KD(n,e){return Math.max(n+(e||0)-Date.now(),0)}function El(n,e){return typeof n=="function"?n(e):n}function bi(n,e){return typeof n=="function"?n(e):n}function nk(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=n;if(o){if(r){if(e.queryHash!==U1(o,e.options))return!1}else if(!mp(e.queryKey,o))return!1}if(t!=="all"){const u=e.isActive();if(t==="active"&&!u||t==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function rk(n,e){const{exact:t,status:r,predicate:s,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(su(e.options.mutationKey)!==su(i))return!1}else if(!mp(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function U1(n,e){return(e?.queryKeyHashFn||su)(n)}function su(n){return JSON.stringify(n,(e,t)=>L_(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function mp(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>mp(n[t],e[t])):!1}function GD(n,e){if(n===e)return n;const t=sk(n)&&sk(e);if(t||L_(n)&&L_(e)){const r=t?n:Object.keys(n),s=r.length,i=t?e:Object.keys(e),o=i.length,l=t?[]:{},u=new Set(r);let d=0;for(let h=0;h<o;h++){const m=t?h:i[h];(!t&&u.has(m)||t)&&n[m]===void 0&&e[m]===void 0?(l[m]=void 0,d++):(l[m]=GD(n[m],e[m]),l[m]===n[m]&&n[m]!==void 0&&d++)}return s===o&&d===s?n:l}return e}function My(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function sk(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function L_(n){if(!ik(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ik(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function ik(n){return Object.prototype.toString.call(n)==="[object Object]"}function iB(n){return new Promise(e=>{setTimeout(e,n)})}function V_(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?GD(n,e):e}function oB(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function aB(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var $1=Symbol();function YD(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===$1?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function QD(n,e){return typeof n=="function"?n(...e):!!n}var lB=class extends yh{#t;#e;#n;constructor(){super(),this.#n=n=>{if(!ru&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#t!==n&&(this.#t=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},B1=new lB,cB=class extends yh{#t=!0;#e;#n;constructor(){super(),this.#n=n=>{if(!ru&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(this.setOnline.bind(this))}setOnline(n){this.#t!==n&&(this.#t=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#t}},Ly=new cB;function F_(){let n,e;const t=new Promise((s,i)=>{n=s,e=i});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function uB(n){return Math.min(1e3*2**n,3e4)}function XD(n){return(n??"online")==="online"?Ly.isOnline():!0}var JD=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function gx(n){return n instanceof JD}function ZD(n){let e=!1,t=0,r=!1,s;const i=F_(),o=x=>{r||(v(new JD(x)),n.abort?.())},l=()=>{e=!0},u=()=>{e=!1},d=()=>B1.isFocused()&&(n.networkMode==="always"||Ly.isOnline())&&n.canRun(),h=()=>XD(n.networkMode)&&n.canRun(),m=x=>{r||(r=!0,n.onSuccess?.(x),s?.(),i.resolve(x))},v=x=>{r||(r=!0,n.onError?.(x),s?.(),i.reject(x))},w=()=>new Promise(x=>{s=S=>{(r||d())&&x(S)},n.onPause?.()}).then(()=>{s=void 0,r||n.onContinue?.()}),T=()=>{if(r)return;let x;const S=t===0?n.initialPromise:void 0;try{x=S??n.fn()}catch(R){x=Promise.reject(R)}Promise.resolve(x).then(m).catch(R=>{if(r)return;const k=n.retry??(ru?0:3),j=n.retryDelay??uB,I=typeof j=="function"?j(t,R):j,L=k===!0||typeof k=="number"&&t<k||typeof k=="function"&&k(t,R);if(e||!L){v(R);return}t++,n.onFail?.(t,R),iB(I).then(()=>d()?void 0:w()).then(()=>{e?v(R):T()})})};return{promise:i,cancel:o,continue:()=>(s?.(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?T():w().then(T),i)}}var dB=n=>setTimeout(n,0);function hB(){let n=[],e=0,t=l=>{l()},r=l=>{l()},s=dB;const i=l=>{e?n.push(l):s(()=>{t(l)})},o=()=>{const l=n;n=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{t(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var or=hB(),ej=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M_(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(ru?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},fB=class extends ej{#t;#e;#n;#r;#s;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=pB(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=V_(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(gs).catch(gs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>bi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>El(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!KD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},i=()=>{const d=YD(this.options,t),m=(()=>{const v={client:this.#r,queryKey:this.queryKey,meta:this.meta};return s(v),v})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},l=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return s(d),d})();this.options.behavior?.onFetch(l,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta});const u=d=>{gx(d)&&d.silent||this.#i({type:"error",error:d}),gx(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#s=ZD({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){u(h);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#s.start()}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tj(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return gx(s)&&s.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),or.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function tj(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XD(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function pB(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var mB=class extends yh{constructor(n={}){super(),this.config=n,this.#t=new Map}#t;build(n,e,t){const r=e.queryKey,s=e.queryHash??U1(r,e);let i=this.get(s);return i||(i=new fB({client:n,queryKey:r,queryHash:s,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(i)),i}add(n){this.#t.has(n.queryHash)||(this.#t.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#t.get(n.queryHash);e&&(n.destroy(),e===n&&this.#t.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){or.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#t.get(n)}getAll(){return[...this.#t.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>nk(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>nk(n,t)):e}notify(n){or.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){or.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){or.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},gB=class extends ej{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||nj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=ZD({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",s=!this.#n.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#e.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:s})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),or.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function nj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yB=class extends yh{constructor(n={}){super(),this.config=n,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(n,e,t){const r=new gB({mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){this.#t.add(n);const e=Tg(n);if(typeof e=="string"){const t=this.#e.get(e);t?t.push(n):this.#e.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#t.delete(n)){const e=Tg(n);if(typeof e=="string"){const t=this.#e.get(e);if(t)if(t.length>1){const r=t.indexOf(n);r!==-1&&t.splice(r,1)}else t[0]===n&&this.#e.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Tg(n);if(typeof e=="string"){const r=this.#e.get(e)?.find(s=>s.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=Tg(n);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){or.batch(()=>{this.#t.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>rk(e,t))}findAll(n={}){return this.getAll().filter(e=>rk(n,e))}notify(n){or.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return or.batch(()=>Promise.all(n.map(e=>e.continue().catch(gs))))}};function Tg(n){return n.options.scope?.id}function Vy(n){return{onFetch:(e,t)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const m=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},v=YD(e.options,e.fetchOptions),w=async(T,x,S)=>{if(h)return Promise.reject();if(x==null&&T.pages.length)return Promise.resolve(T);const k=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return m(z),z})(),j=await v(k),{maxPages:I}=e.options,L=S?aB:oB;return{pages:L(T.pages,j,I),pageParams:L(T.pageParams,x,I)}};if(s&&i.length){const T=s==="backward",x=T?rj:z_,S={pages:i,pageParams:o},R=x(r,S);l=await w(S,R,T)}else{const T=n??i.length;do{const x=u===0?o[0]??r.initialPageParam:z_(r,l);if(u>0&&x==null)break;l=await w(l,x),u++}while(u<T)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=d}}}function z_(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function rj(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}function vB(n,e){return e?z_(n,e)!=null:!1}function wB(n,e){return!e||!n.getPreviousPageParam?!1:rj(n,e)!=null}var xB=class{#t;#e;#n;#r;#s;#o;#a;#i;constructor(n={}){this.#t=n.queryCache||new mB,this.#e=n.mutationCache||new yB,this.#n=n.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=B1.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=Ly.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#t.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#e.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#t.build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(El(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#t.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=this.#t.get(r.queryHash)?.state.data,o=sB(e,i);if(o!==void 0)return this.#t.build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return or.batch(()=>this.#t.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state}removeQueries(n){const e=this.#t;or.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#t;return or.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=or.batch(()=>this.#t.findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(gs).catch(gs)}invalidateQueries(n,e={}){return or.batch(()=>(this.#t.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=or.batch(()=>this.#t.findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(gs)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(gs)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#t.build(this,e);return t.isStaleByTime(El(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(gs).catch(gs)}fetchInfiniteQuery(n){return n.behavior=Vy(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(gs).catch(gs)}ensureInfiniteQueryData(n){return n.behavior=Vy(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Ly.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#r.set(su(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(r=>{mp(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){this.#s.set(su(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(r=>{mp(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=U1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$1&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},sj=class extends yh{constructor(n,e){super(),this.options=e,this.#t=n,this.#i=null,this.#a=F_(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#s;#o;#a;#i;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),ok(this.#e,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U_(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U_(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#e.removeObserver(this)}setOptions(n){const e=this.options,t=this.#e;if(this.options=this.#t.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bi(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#e.setOptions(this.options),e._defaulted&&!My(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&ak(this.#e,t,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#e!==t||bi(this.options.enabled,this.#e)!==bi(e.enabled,this.#e)||El(this.options.staleTime,this.#e)!==El(e.staleTime,this.#e))&&this.#g();const s=this.#y();r&&(this.#e!==t||bi(this.options.enabled,this.#e)!==bi(e.enabled,this.#e)||s!==this.#l)&&this.#v(s)}getOptimisticResult(n){const e=this.#t.getQueryCache().build(this.#t,n),t=this.createResult(e,n);return bB(this,t)&&(this.#r=t,this.#o=this.options,this.#s=this.#e.state),t}getCurrentResult(){return this.#r}trackResult(n,e){return new Proxy(n,{get:(t,r)=>(this.trackProp(r),e?.(r),Reflect.get(t,r))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#e}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#t.defaultQueryOptions(n),t=this.#t.getQueryCache().build(this.#t,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#d({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(n){this.#b();let e=this.#e.fetch(this.options,n);return n?.throwOnError||(e=e.catch(gs)),e}#g(){this.#x();const n=El(this.options.staleTime,this.#e);if(ru||this.#r.isStale||!M_(n))return;const t=KD(this.#r.dataUpdatedAt,n)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},t)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(n){this.#_(),this.#l=n,!(ru||bi(this.options.enabled,this.#e)===!1||!M_(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||B1.isFocused())&&this.#d()},this.#l))}#w(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(n,e){const t=this.#e,r=this.options,s=this.#r,i=this.#s,o=this.#o,u=n!==t?n.state:this.#n,{state:d}=n;let h={...d},m=!1,v;if(e._optimisticResults){const A=this.hasListeners(),D=!A&&ok(n,e),O=A&&ak(n,t,e,r);(D||O)&&(h={...h,...tj(d.data,n.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:T,status:x}=h;v=h.data;let S=!1;if(e.placeholderData!==void 0&&v===void 0&&x==="pending"){let A;s?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(A=s.data,S=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(x="success",v=V_(s?.data,A,e),m=!0)}if(e.select&&v!==void 0&&!S)if(s&&v===i?.data&&e.select===this.#m)v=this.#h;else try{this.#m=e.select,v=e.select(v),v=V_(s?.data,v,e),this.#h=v,this.#i=null}catch(A){this.#i=A}this.#i&&(w=this.#i,v=this.#h,T=Date.now(),x="error");const R=h.fetchStatus==="fetching",k=x==="pending",j=x==="error",I=k&&R,L=v!==void 0,P={status:x,fetchStatus:h.fetchStatus,isPending:k,isSuccess:x==="success",isError:j,isInitialLoading:I,isLoading:I,data:v,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:T,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:R,isRefetching:R&&!k,isLoadingError:j&&!L,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&L,isStale:W1(n,e),refetch:this.refetch,promise:this.#a,isEnabled:bi(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const A=V=>{P.status==="error"?V.reject(P.error):P.data!==void 0&&V.resolve(P.data)},D=()=>{const V=this.#a=P.promise=F_();A(V)},O=this.#a;switch(O.status){case"pending":n.queryHash===t.queryHash&&A(O);break;case"fulfilled":(P.status==="error"||P.data!==O.value)&&D();break;case"rejected":(P.status!=="error"||P.error!==O.reason)&&D();break}}return P}updateResult(){const n=this.#r,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#f=this.#e),My(e,n))return;this.#r=e;const t=()=>{if(!n)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(o=>{const l=o;return this.#r[l]!==n[l]&&i.has(l)})};this.#S({listeners:t()})}#b(){const n=this.#t.getQueryCache().build(this.#t,this.options);if(n===this.#e)return;const e=this.#e;this.#e=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#S(n){or.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function _B(n,e){return bi(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function ok(n,e){return _B(n,e)||n.state.data!==void 0&&U_(n,e,e.refetchOnMount)}function U_(n,e,t){if(bi(e.enabled,n)!==!1&&El(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&W1(n,e)}return!1}function ak(n,e,t,r){return(n!==e||bi(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&W1(n,t)}function W1(n,e){return bi(e.enabled,n)!==!1&&n.isStaleByTime(El(e.staleTime,n))}function bB(n,e){return!My(n.getCurrentResult(),e)}var SB=class extends sj{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:Vy()})}getOptimisticResult(n){return n.behavior=Vy(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){const{state:t}=n,r=super.createResult(n,e),{isFetching:s,isRefetching:i,isError:o,isRefetchError:l}=r,u=t.fetchMeta?.fetchMore?.direction,d=o&&u==="forward",h=s&&u==="forward",m=o&&u==="backward",v=s&&u==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:vB(e,t.data),hasPreviousPage:wB(e,t.data),isFetchNextPageError:d,isFetchingNextPage:h,isFetchPreviousPageError:m,isFetchingPreviousPage:v,isRefetchError:l&&!d&&!m,isRefetching:i&&!h&&!v}}},TB=class extends yh{#t;#e=void 0;#n;#r;constructor(e,t){super(),this.#t=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#t.defaultMutationOptions(e),My(this.options,t)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&su(t.mutationKey)!==su(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#o(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#o()}mutate(e,t){return this.#r=t,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??nj();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){or.batch(()=>{if(this.#r&&this.hasListeners()){const t=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,r),this.#r.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#r.onError?.(e.error,t,r),this.#r.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(t=>{t(this.#e)})})}},ij=b.createContext(void 0),Tr=n=>{const e=b.useContext(ij);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},EB=({client:n,children:e})=>(b.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),p.jsx(ij.Provider,{value:n,children:e})),oj=b.createContext(!1),CB=()=>b.useContext(oj);oj.Provider;function PB(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var kB=b.createContext(PB()),RB=()=>b.useContext(kB),AB=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},IB=n=>{b.useEffect(()=>{n.clearReset()},[n])},NB=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(s&&n.data===void 0||QD(t,[n.error,r])),DB=n=>{if(n.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},jB=(n,e)=>n.isLoading&&n.isFetching&&!e,OB=(n,e)=>n?.suspense&&e.isPending,lk=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function aj(n,e,t){const r=CB(),s=RB(),i=Tr(),o=i.defaultQueryOptions(n);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",DB(o),AB(o,s),IB(s);const l=!i.getQueryCache().get(o.queryHash),[u]=b.useState(()=>new e(i,o)),d=u.getOptimisticResult(o),h=!r&&n.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(m=>{const v=h?u.subscribe(or.batchCalls(m)):gs;return u.updateResult(),v},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),b.useEffect(()=>{u.setOptions(o)},[o,u]),OB(o,d))throw lk(o,u,s);if(NB({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!ru&&jB(d,r)&&(l?lk(o,u,s):i.getQueryCache().get(o.queryHash)?.promise)?.catch(gs).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function Ln(n,e){return aj(n,sj)}function ss(n,e){const t=Tr(),[r]=b.useState(()=>new TB(t,n));b.useEffect(()=>{r.setOptions(n)},[r,n]);const s=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(or.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((o,l)=>{r.mutate(o,l).catch(gs)},[r]);if(s.error&&QD(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function wu(n,e){return aj(n,SB)}function gp(){return gp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gp.apply(this,arguments)}var gl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(gl||(gl={}));const ck="popstate";function MB(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return $_("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Fy(s)}return VB(e,t,null,n)}function zn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function lj(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LB(){return Math.random().toString(36).substr(2,8)}function uk(n,e){return{usr:n.state,key:n.key,idx:e}}function $_(n,e,t,r){return t===void 0&&(t=null),gp({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?vh(e):e,{state:t,key:e&&e.key||r||LB()})}function Fy(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function VB(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=gl.Pop,u=null,d=h();d==null&&(d=0,o.replaceState(gp({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=gl.Pop;let S=h(),R=S==null?null:S-d;d=S,u&&u({action:l,location:x.location,delta:R})}function v(S,R){l=gl.Push;let k=$_(x.location,S,R);d=h()+1;let j=uk(k,d),I=x.createHref(k);try{o.pushState(j,"",I)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(I)}i&&u&&u({action:l,location:x.location,delta:1})}function w(S,R){l=gl.Replace;let k=$_(x.location,S,R);d=h();let j=uk(k,d),I=x.createHref(k);o.replaceState(j,"",I),i&&u&&u({action:l,location:x.location,delta:0})}function T(S){let R=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof S=="string"?S:Fy(S);return k=k.replace(/ $/,"%20"),zn(R,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,R)}let x={get action(){return l},get location(){return n(s,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ck,m),u=S,()=>{s.removeEventListener(ck,m),u=null}},createHref(S){return e(s,S)},createURL:T,encodeLocation(S){let R=T(S);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:w,go(S){return o.go(S)}};return x}var dk;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(dk||(dk={}));function FB(n,e,t){return t===void 0&&(t="/"),zB(n,e,t)}function zB(n,e,t,r){let s=typeof e=="string"?vh(e):e,i=q1(s.pathname||"/",t);if(i==null)return null;let o=cj(n);UB(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=ZB(i);l=QB(o[u],d)}return l}function cj(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(zn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Cl([r,u.relativePath]),h=t.concat(u);i.children&&i.children.length>0&&(zn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),cj(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:GB(d,i.index),routesMeta:h})};return n.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of uj(i.path))s(i,o,u)}),e}function uj(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=uj(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function UB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:YB(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const $B=/^:[\w-]+$/,BB=3,WB=2,qB=1,HB=10,KB=-2,hk=n=>n==="*";function GB(n,e){let t=n.split("/"),r=t.length;return t.some(hk)&&(r+=KB),e&&(r+=WB),t.filter(s=>!hk(s)).reduce((s,i)=>s+($B.test(i)?BB:i===""?qB:HB),r)}function YB(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function QB(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=XB({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),v=u.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Cl([i,m.pathname]),pathnameBase:r9(Cl([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=Cl([i,m.pathnameBase]))}return o}function XB(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=JB(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,m)=>{let{paramName:v,isOptional:w}=h;if(v==="*"){let x=l[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const T=l[m];return w&&!T?d[v]=void 0:d[v]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:n}}function JB(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),lj(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ZB(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lj(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function q1(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function e9(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?vh(n):n;return{pathname:t?t.startsWith("/")?t:t9(t,e):e,search:s9(r),hash:i9(s)}}function t9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function yx(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function H1(n,e){let t=n9(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function K1(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=vh(n):(s=gp({},n),zn(!s.pathname||!s.pathname.includes("?"),yx("?","pathname","search",s)),zn(!s.pathname||!s.pathname.includes("#"),yx("#","pathname","hash",s)),zn(!s.search||!s.search.includes("#"),yx("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;s.pathname=v.join("/")}l=m>=0?e[m]:"/"}let u=e9(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const Cl=n=>n.join("/").replace(/\/\/+/g,"/"),r9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),s9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,i9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function o9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const dj=["post","put","patch","delete"];new Set(dj);const a9=["get",...dj];new Set(a9);function yp(){return yp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yp.apply(this,arguments)}const G1=b.createContext(null),l9=b.createContext(null),Xl=b.createContext(null),qv=b.createContext(null),Ma=b.createContext({outlet:null,matches:[],isDataRoute:!1}),hj=b.createContext(null);function c9(n,e){let{relative:t}=e===void 0?{}:e;wh()||zn(!1);let{basename:r,navigator:s}=b.useContext(Xl),{hash:i,pathname:o,search:l}=pj(n,{relative:t}),u=o;return r!=="/"&&(u=o==="/"?r:Cl([r,o])),s.createHref({pathname:u,search:l,hash:i})}function wh(){return b.useContext(qv)!=null}function Jl(){return wh()||zn(!1),b.useContext(qv).location}function fj(n){b.useContext(Xl).static||b.useLayoutEffect(n)}function is(){let{isDataRoute:n}=b.useContext(Ma);return n?b9():u9()}function u9(){wh()||zn(!1);let n=b.useContext(G1),{basename:e,future:t,navigator:r}=b.useContext(Xl),{matches:s}=b.useContext(Ma),{pathname:i}=Jl(),o=JSON.stringify(H1(s,t.v7_relativeSplatPath)),l=b.useRef(!1);return fj(()=>{l.current=!0}),b.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=K1(d,JSON.parse(o),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Cl([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,o,i,n])}function Hv(){let{matches:n}=b.useContext(Ma),e=n[n.length-1];return e?e.params:{}}function pj(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=b.useContext(Xl),{matches:s}=b.useContext(Ma),{pathname:i}=Jl(),o=JSON.stringify(H1(s,r.v7_relativeSplatPath));return b.useMemo(()=>K1(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function d9(n,e){return h9(n,e)}function h9(n,e,t,r){wh()||zn(!1);let{navigator:s}=b.useContext(Xl),{matches:i}=b.useContext(Ma),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Jl(),h;if(e){var m;let S=typeof e=="string"?vh(e):e;u==="/"||(m=S.pathname)!=null&&m.startsWith(u)||zn(!1),h=S}else h=d;let v=h.pathname||"/",w=v;if(u!=="/"){let S=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let T=FB(n,{pathname:w}),x=y9(T&&T.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Cl([u,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Cl([u,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,t,r);return e&&x?b.createElement(qv.Provider,{value:{location:yp({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:gl.Pop}},x):x}function f9(){let n=_9(),e=o9(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:s},t):null,null)}const p9=b.createElement(f9,null);class m9 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(Ma.Provider,{value:this.props.routeContext},b.createElement(hj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g9(n){let{routeContext:e,match:t,children:r}=n,s=b.useContext(G1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ma.Provider,{value:e},r)}function y9(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(s=t)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);h>=0||zn(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:v,errors:w}=t,T=m.route.loader&&v[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||T){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,v)=>{let w,T=!1,x=null,S=null;t&&(w=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||p9,u&&(d<0&&v===0?(S9("route-fallback"),T=!0,S=null):d===v&&(T=!0,S=m.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,v+1)),k=()=>{let j;return w?j=x:T?j=S:m.route.Component?j=b.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=h,b.createElement(g9,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:t!=null},children:j})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?b.createElement(m9,{location:t.location,revalidation:t.revalidation,component:x,error:w,children:k(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):k()},null)}var mj=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(mj||{}),gj=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(gj||{});function v9(n){let e=b.useContext(G1);return e||zn(!1),e}function w9(n){let e=b.useContext(l9);return e||zn(!1),e}function x9(n){let e=b.useContext(Ma);return e||zn(!1),e}function yj(n){let e=x9(),t=e.matches[e.matches.length-1];return t.route.id||zn(!1),t.route.id}function _9(){var n;let e=b.useContext(hj),t=w9(),r=yj();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function b9(){let{router:n}=v9(mj.UseNavigateStable),e=yj(gj.UseNavigateStable),t=b.useRef(!1);return fj(()=>{t.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,yp({fromRouteId:e},i)))},[n,e])}const fk={};function S9(n,e,t){fk[n]||(fk[n]=!0)}function T9(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function E9(n){let{to:e,replace:t,state:r,relative:s}=n;wh()||zn(!1);let{future:i,static:o}=b.useContext(Xl),{matches:l}=b.useContext(Ma),{pathname:u}=Jl(),d=is(),h=K1(e,H1(l,i.v7_relativeSplatPath),u,s==="path"),m=JSON.stringify(h);return b.useEffect(()=>d(JSON.parse(m),{replace:t,state:r,relative:s}),[d,m,s,t,r]),null}function Zs(n){zn(!1)}function C9(n){let{basename:e="/",children:t=null,location:r,navigationType:s=gl.Pop,navigator:i,static:o=!1,future:l}=n;wh()&&zn(!1);let u=e.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:i,static:o,future:yp({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=vh(r));let{pathname:h="/",search:m="",hash:v="",state:w=null,key:T="default"}=r,x=b.useMemo(()=>{let S=q1(h,u);return S==null?null:{location:{pathname:S,search:m,hash:v,state:w,key:T},navigationType:s}},[u,h,m,v,w,T,s]);return x==null?null:b.createElement(Xl.Provider,{value:d},b.createElement(qv.Provider,{children:t,value:x}))}function P9(n){let{children:e,location:t}=n;return d9(B_(e),t)}new Promise(()=>{});function B_(n,e){e===void 0&&(e=[]);let t=[];return b.Children.forEach(n,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){t.push.apply(t,B_(r.props.children,i));return}r.type!==Zs&&zn(!1),!r.props.index||!r.props.children||zn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=B_(r.props.children,i)),t.push(o)}),t}function W_(){return W_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},W_.apply(this,arguments)}function k9(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function R9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function A9(n,e){return n.button===0&&(!e||e==="_self")&&!R9(n)}const I9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],N9="6";try{window.__reactRouterVersion=N9}catch{}const D9="startTransition",pk=E1[D9];function j9(n){let{basename:e,children:t,future:r,window:s}=n,i=b.useRef();i.current==null&&(i.current=MB({window:s,v5Compat:!0}));let o=i.current,[l,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=b.useCallback(m=>{d&&pk?pk(()=>u(m)):u(m)},[u,d]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.useEffect(()=>T9(r),[r]),b.createElement(C9,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:r})}const O9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y1=b.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m}=e,v=k9(e,I9),{basename:w}=b.useContext(Xl),T,x=!1;if(typeof d=="string"&&M9.test(d)&&(T=d,O9))try{let j=new URL(window.location.href),I=d.startsWith("//")?new URL(j.protocol+d):new URL(d),L=q1(I.pathname,w);I.origin===j.origin&&L!=null?d=L+I.search+I.hash:x=!0}catch{}let S=c9(d,{relative:s}),R=L9(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:m});function k(j){r&&r(j),j.defaultPrevented||R(j)}return b.createElement("a",W_({},v,{href:T||S,onClick:x||i?r:k,ref:t,target:u}))});var mk;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(mk||(mk={}));var gk;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(gk||(gk={}));function L9(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,u=is(),d=Jl(),h=pj(n,{relative:o});return b.useCallback(m=>{if(A9(m,t)){m.preventDefault();let v=r!==void 0?r:Fy(d)===Fy(h);u(n,{replace:v,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,r,s,t,n,i,o,l])}const V9=()=>{};var yk={};const vj=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},F9=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],l=n[t++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},wj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,l=o?n[s+1]:0,u=s+2<n.length,d=u?n[s+2]:0,h=i>>2,m=(i&3)<<4|l>>4;let v=(l&15)<<2|d>>6,w=d&63;u||(w=64,o||(v=64)),r.push(t[h],t[m],t[v],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):F9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new z9;const v=i<<2|l>>4;if(r.push(v),d!==64){const w=l<<4&240|d>>2;if(r.push(w),m!==64){const T=d<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class z9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U9=function(n){const e=vj(n);return wj.encodeByteArray(e,!0)},zy=function(n){return U9(n).replace(/\./g,"")},xj=function(n){try{return wj.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const B9=()=>$9().__FIREBASE_DEFAULTS__,W9=()=>{if(typeof process>"u"||typeof yk>"u")return;const n=yk.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xj(n[1]);return e&&JSON.parse(e)},Kv=()=>{try{return V9()||B9()||W9()||q9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_j=n=>Kv()?.emulatorHosts?.[n],H9=n=>{const e=_j(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},bj=()=>Kv()?.config,Sj=n=>Kv()?.[`_${n}`];class K9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function xh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tj(n){return(await fetch(n,{credentials:"include"})).ok}function G9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[zy(JSON.stringify(t)),zy(JSON.stringify(o)),""].join(".")}const zf={};function Y9(){const n={prod:[],emulator:[]};for(const e of Object.keys(zf))zf[e]?n.emulator.push(e):n.prod.push(e);return n}function Q9(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let vk=!1;function Ej(n,e){if(typeof window>"u"||typeof document>"u"||!xh(window.location.host)||zf[n]===e||zf[n]||vk)return;zf[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",i=Y9().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{vk=!0,o()},v}function h(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=Q9(r),w=t("text"),T=document.getElementById(w)||document.createElement("span"),x=t("learnmore"),S=document.getElementById(x)||document.createElement("a"),R=t("preprendIcon"),k=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;l(j),h(S,x);const I=d();u(k,R),j.append(k,T,S,I),document.body.appendChild(j)}i?(T.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function rs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rs())}function J9(){const n=Kv()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e8(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function t8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n8(){const n=rs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function r8(){return!J9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s8(){try{return typeof indexedDB=="object"}catch{return!1}}function i8(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const o8="FirebaseError";class La extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=o8,Object.setPrototypeOf(this,La.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jp.prototype.create)}}class Jp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?a8(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new La(s,l,r)}}function a8(n,e){return n.replace(l8,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const l8=/\{\$([^}]+)}/g;function c8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function iu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(wk(i)&&wk(o)){if(!iu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function wk(n){return n!==null&&typeof n=="object"}function Zp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function u8(n,e){const t=new d8(n,e);return t.subscribe.bind(t)}class d8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");h8(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=vx),s.error===void 0&&(s.error=vx),s.complete===void 0&&(s.complete=vx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h8(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vx(){}function zr(n){return n&&n._delegate?n._delegate:n}class ou{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kc="[DEFAULT]";class f8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new K9;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m8(e))try{this.getOrInitializeService({instanceIdentifier:kc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=kc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kc){return this.instances.has(e)}getOptions(e=kc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p8(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kc){return this.component?this.component.multipleInstances?e:kc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p8(n){return n===kc?void 0:n}function m8(n){return n.instantiationMode==="EAGER"}class g8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var xt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xt||(xt={}));const y8={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},v8=xt.INFO,w8={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},x8=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=w8[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Q1=class{constructor(e){this.name=e,this._logLevel=v8,this._logHandler=x8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}};const _8=(n,e)=>e.some(t=>n instanceof t);let xk,_k;function b8(){return xk||(xk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S8(){return _k||(_k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cj=new WeakMap,q_=new WeakMap,Pj=new WeakMap,wx=new WeakMap,X1=new WeakMap;function T8(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(Pl(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Cj.set(t,n)}).catch(()=>{}),X1.set(e,n),e}function E8(n){if(q_.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});q_.set(n,e)}let H_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return q_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Pj.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function C8(n){H_=n(H_)}function P8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(xx(this),e,...t);return Pj.set(r,e.sort?e.sort():[e]),Pl(r)}:S8().includes(n)?function(...e){return n.apply(xx(this),e),Pl(Cj.get(this))}:function(...e){return Pl(n.apply(xx(this),e))}}function k8(n){return typeof n=="function"?P8(n):(n instanceof IDBTransaction&&E8(n),_8(n,b8())?new Proxy(n,H_):n)}function Pl(n){if(n instanceof IDBRequest)return T8(n);if(wx.has(n))return wx.get(n);const e=k8(n);return e!==n&&(wx.set(n,e),X1.set(e,n)),e}const xx=n=>X1.get(n);function R8(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),l=Pl(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pl(o.result),u.oldVersion,u.newVersion,Pl(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const A8=["get","getKey","getAll","getAllKeys","count"],I8=["put","add","delete","clear"],_x=new Map;function bk(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_x.get(e))return _x.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=I8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||A8.includes(t)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[t](...l),s&&u.done]))[0]};return _x.set(e,i),i}C8(n=>({...n,get:(e,t,r)=>bk(e,t)||n.get(e,t,r),has:(e,t)=>!!bk(e,t)||n.has(e,t)}));class N8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D8(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function D8(n){return n.getComponent()?.type==="VERSION"}const K_="@firebase/app",Sk="0.14.5";const Ca=new Q1("@firebase/app"),j8="@firebase/app-compat",O8="@firebase/analytics-compat",M8="@firebase/analytics",L8="@firebase/app-check-compat",V8="@firebase/app-check",F8="@firebase/auth",z8="@firebase/auth-compat",U8="@firebase/database",$8="@firebase/data-connect",B8="@firebase/database-compat",W8="@firebase/functions",q8="@firebase/functions-compat",H8="@firebase/installations",K8="@firebase/installations-compat",G8="@firebase/messaging",Y8="@firebase/messaging-compat",Q8="@firebase/performance",X8="@firebase/performance-compat",J8="@firebase/remote-config",Z8="@firebase/remote-config-compat",eW="@firebase/storage",tW="@firebase/storage-compat",nW="@firebase/firestore",rW="@firebase/ai",sW="@firebase/firestore-compat",iW="firebase",oW="12.5.0";const G_="[DEFAULT]",aW={[K_]:"fire-core",[j8]:"fire-core-compat",[M8]:"fire-analytics",[O8]:"fire-analytics-compat",[V8]:"fire-app-check",[L8]:"fire-app-check-compat",[F8]:"fire-auth",[z8]:"fire-auth-compat",[U8]:"fire-rtdb",[$8]:"fire-data-connect",[B8]:"fire-rtdb-compat",[W8]:"fire-fn",[q8]:"fire-fn-compat",[H8]:"fire-iid",[K8]:"fire-iid-compat",[G8]:"fire-fcm",[Y8]:"fire-fcm-compat",[Q8]:"fire-perf",[X8]:"fire-perf-compat",[J8]:"fire-rc",[Z8]:"fire-rc-compat",[eW]:"fire-gcs",[tW]:"fire-gcs-compat",[nW]:"fire-fst",[sW]:"fire-fst-compat",[rW]:"fire-vertex","fire-js":"fire-js",[iW]:"fire-js-all"};const Uy=new Map,lW=new Map,Y_=new Map;function Tk(n,e){try{n.container.addComponent(e)}catch(t){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gd(n){const e=n.name;if(Y_.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;Y_.set(e,n);for(const t of Uy.values())Tk(t,n);for(const t of lW.values())Tk(t,n);return!0}function J1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yi(n){return n==null?!1:n.settings!==void 0}const cW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kl=new Jp("app","Firebase",cW);class uW{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ou("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kl.create("app-deleted",{appName:this._name})}}const _h=oW;function kj(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:G_,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw kl.create("bad-app-name",{appName:String(s)});if(t||(t=bj()),!t)throw kl.create("no-options");const i=Uy.get(s);if(i){if(iu(t,i.options)&&iu(r,i.config))return i;throw kl.create("duplicate-app",{appName:s})}const o=new g8(s);for(const u of Y_.values())o.addComponent(u);const l=new uW(t,r,o);return Uy.set(s,l),l}function Rj(n=G_){const e=Uy.get(n);if(!e&&n===G_&&bj())return kj();if(!e)throw kl.create("no-app",{appName:n});return e}function Rl(n,e,t){let r=aW[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(o.join(" "));return}Gd(new ou(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const dW="firebase-heartbeat-database",hW=1,vp="firebase-heartbeat-store";let bx=null;function Aj(){return bx||(bx=R8(dW,hW,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vp)}catch(t){console.warn(t)}}}}).catch(n=>{throw kl.create("idb-open",{originalErrorMessage:n.message})})),bx}async function fW(n){try{const t=(await Aj()).transaction(vp),r=await t.objectStore(vp).get(Ij(n));return await t.done,r}catch(e){if(e instanceof La)Ca.warn(e.message);else{const t=kl.create("idb-get",{originalErrorMessage:e?.message});Ca.warn(t.message)}}}async function Ek(n,e){try{const r=(await Aj()).transaction(vp,"readwrite");await r.objectStore(vp).put(e,Ij(n)),await r.done}catch(t){if(t instanceof La)Ca.warn(t.message);else{const r=kl.create("idb-set",{originalErrorMessage:t?.message});Ca.warn(r.message)}}}function Ij(n){return`${n.name}!${n.options.appId}`}const pW=1024,mW=30;class gW{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vW(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ck();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>mW){const s=wW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ca.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ck(),{heartbeatsToSend:t,unsentEntries:r}=yW(this._heartbeatsCache.heartbeats),s=zy(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ca.warn(e),""}}}function Ck(){return new Date().toISOString().substring(0,10)}function yW(n,e=pW){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pk(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Pk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class vW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s8()?i8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fW(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ek(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ek(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Pk(n){return zy(JSON.stringify({version:2,heartbeats:n})).length}function wW(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function xW(n){Gd(new ou("platform-logger",e=>new N8(e),"PRIVATE")),Gd(new ou("heartbeat",e=>new gW(e),"PRIVATE")),Rl(K_,Sk,n),Rl(K_,Sk,"esm2020"),Rl("fire-js","")}xW("");function Nj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _W=Nj,Dj=new Jp("auth","Firebase",Nj());const $y=new Q1("@firebase/auth");function bW(n,...e){$y.logLevel<=xt.WARN&&$y.warn(`Auth (${_h}): ${n}`,...e)}function ry(n,...e){$y.logLevel<=xt.ERROR&&$y.error(`Auth (${_h}): ${n}`,...e)}function Ko(n,...e){throw eS(n,...e)}function Ji(n,...e){return eS(n,...e)}function Z1(n,e,t){const r={..._W(),[e]:t};return new Jp("auth","Firebase",r).create(e,{appName:n.name})}function Uc(n){return Z1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SW(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ko(n,"argument-error"),Z1(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eS(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Dj.create(n,...e)}function Je(n,e,...t){if(!n)throw eS(e,...t)}function wa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ry(e),new Error(e)}function Pa(n,e){n||wa(e)}function Q_(){return typeof self<"u"&&self.location?.href||""}function TW(){return kk()==="http:"||kk()==="https:"}function kk(){return typeof self<"u"&&self.location?.protocol||null}function EW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TW()||e8()||"connection"in navigator)?navigator.onLine:!0}function CW(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class em{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pa(t>e,"Short delay should be less than long delay!"),this.isMobile=X9()||t8()}get(){return EW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tS(n,e){Pa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class jj{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RW=new em(3e4,6e4);function nS(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function bh(n,e,t,r,s={}){return Oj(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Zp({key:n.config.apiKey,...o}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:u,...i};return Z9()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&xh(n.emulatorConfig.host)&&(d.credentials="include"),jj.fetch()(await Mj(n,n.config.apiHost,t,l),d)})}async function Oj(n,e,t){n._canInitEmulator=!1;const r={...PW,...e};try{const s=new IW(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Eg(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eg(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Eg(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Eg(n,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Z1(n,h,d);Ko(n,h)}}catch(s){if(s instanceof La)throw s;Ko(n,"network-request-failed",{message:String(s)})}}async function AW(n,e,t,r,s={}){const i=await bh(n,e,t,r,s);return"mfaPendingCredential"in i&&Ko(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function Mj(n,e,t,r){const s=`${e}${t}?${r}`,i=n,o=i.config.emulator?tS(n.config,s):`${n.config.apiScheme}://${s}`;return kW.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class IW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ji(this.auth,"network-request-failed")),RW.get())})}}function Eg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ji(n,e,r);return s.customData._tokenResponse=t,s}async function NW(n,e){return bh(n,"POST","/v1/accounts:delete",e)}async function By(n,e){return bh(n,"POST","/v1/accounts:lookup",e)}function Uf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DW(n,e=!1){const t=zr(n),r=await t.getIdToken(e),s=rS(r);Je(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Uf(Sx(s.auth_time)),issuedAtTime:Uf(Sx(s.iat)),expirationTime:Uf(Sx(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Sx(n){return Number(n)*1e3}function rS(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ry("JWT malformed, contained fewer than 3 sections"),null;try{const s=xj(t);return s?JSON.parse(s):(ry("Failed to decode base64 JWT payload"),null)}catch(s){return ry("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Rk(n){const e=rS(n);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wp(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof La&&jW(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function jW({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class OW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class X_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uf(this.lastLoginAt),this.creationTime=Uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wy(n){const e=n.auth,t=await n.getIdToken(),r=await wp(n,By(e,{idToken:t}));Je(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?Lj(s.providerUserInfo):[],o=LW(n.providerData,i),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!o?.length,d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new X_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function MW(n){const e=zr(n);await Wy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LW(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Lj(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function VW(n,e){const t=await Oj(n,{},async()=>{const r=Zp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=await Mj(n,s,"/v1/token",`key=${i}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return n.emulatorConfig&&xh(n.emulatorConfig.host)&&(u.credentials="include"),jj.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FW(n,e){return bh(n,"POST","/v2/accounts:revokeToken",nS(n,e))}class Ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const t=Rk(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await VW(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new Ed;return r&&(Je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Je(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Je(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ed,this.toJSON())}_performRefresh(){return wa("not implemented")}}function cl(n,e){Je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xi{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new OW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new X_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wp(this,this.stsTokenManager.getToken(this.auth,e));return Je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DW(this,e)}reload(){return MW(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Wy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yi(this.auth.app))return Promise.reject(Uc(this.auth));const e=await this.getIdToken();return await wp(this,NW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,o=t.photoURL??void 0,l=t.tenantId??void 0,u=t._redirectEventId??void 0,d=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:w,providerData:T,stsTokenManager:x}=t;Je(m&&x,e,"internal-error");const S=Ed.fromJSON(this.name,x);Je(typeof m=="string",e,"internal-error"),cl(r,e.name),cl(s,e.name),Je(typeof v=="boolean",e,"internal-error"),Je(typeof w=="boolean",e,"internal-error"),cl(i,e.name),cl(o,e.name),cl(l,e.name),cl(u,e.name),cl(d,e.name),cl(h,e.name);const R=new Xi({uid:m,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:h});return T&&Array.isArray(T)&&(R.providerData=T.map(k=>({...k}))),u&&(R._redirectEventId=u),R}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ed;s.updateFromServerResponse(t);const i=new Xi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Wy(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Je(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Lj(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,l=new Ed;l.updateFromIdToken(r);const u=new Xi({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new X_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(u,d),u}}const Ak=new Map;function xa(n){Pa(n instanceof Function,"Expected a class definition");let e=Ak.get(n);return e?(Pa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ak.set(n,e),e)}class Vj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vj.type="NONE";const Ik=Vj;function sy(n,e,t){return`firebase:${n}:${e}:${t}`}class Cd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=sy(this.userKey,s.apiKey,i),this.fullPersistenceKey=sy("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await By(this.auth,{idToken:e}).catch(()=>{});return t?Xi._fromGetAccountInfoResponse(this.auth,t,e):null}return Xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Cd(xa(Ik),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||xa(Ik);const o=sy(r,e.config.apiKey,e.name);let l=null;for(const d of t)try{const h=await d._get(o);if(h){let m;if(typeof h=="string"){const v=await By(e,{idToken:h}).catch(()=>{});if(!v)break;m=await Xi._fromGetAccountInfoResponse(e,v,h)}else m=Xi._fromJSON(e,h);d!==i&&(l=m),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Cd(i,e,r):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(t.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Cd(i,e,r))}}function Nk(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($j(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wj(e))return"Blackberry";if(qj(e))return"Webos";if(zj(e))return"Safari";if((e.includes("chrome/")||Uj(e))&&!e.includes("edge/"))return"Chrome";if(Bj(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Fj(n=rs()){return/firefox\//i.test(n)}function zj(n=rs()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uj(n=rs()){return/crios\//i.test(n)}function $j(n=rs()){return/iemobile/i.test(n)}function Bj(n=rs()){return/android/i.test(n)}function Wj(n=rs()){return/blackberry/i.test(n)}function qj(n=rs()){return/webos/i.test(n)}function sS(n=rs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zW(n=rs()){return sS(n)&&!!window.navigator?.standalone}function UW(){return n8()&&document.documentMode===10}function Hj(n=rs()){return sS(n)||Bj(n)||qj(n)||Wj(n)||/windows phone/i.test(n)||$j(n)}function Kj(n,e=[]){let t;switch(n){case"Browser":t=Nk(rs());break;case"Worker":t=`${Nk(rs())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_h}/${r}`}class $W{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function BW(n,e={}){return bh(n,"GET","/v2/passwordPolicy",nS(n,e))}const WW=6;class qW{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??WW,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class HW{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dk(this),this.idTokenSubscription=new Dk(this),this.beforeStateQueue=new $W(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await By(this,{idToken:e}),r=await Xi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yi(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===o)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wy(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yi(this.app))return Promise.reject(Uc(this));const t=e?zr(e):null;return t&&Je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yi(this.app)?Promise.reject(Uc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yi(this.app)?Promise.reject(Uc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BW(this),t=new qW(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await FW(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xa(e)||this._popupRedirectResolver;Je(t,this,"argument-error"),this.redirectPersistenceManager=await Cd.create(this,[xa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bW(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gv(n){return zr(n)}class Dk{constructor(e){this.auth=e,this.observer=null,this.addObserver=u8(t=>this.observer=t)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let iS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KW(n){iS=n}function GW(n){return iS.loadJS(n)}function YW(){return iS.gapiScript}function QW(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function XW(n,e){const t=J1(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(iu(i,e??{}))return s;Ko(s,"already-initialized")}return t.initialize({options:e})}function JW(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(xa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZW(n,e,t){const r=Gv(n);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Gj(e),{host:o,port:l}=eq(e),u=l===null?"":`:${l}`,d={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(iu(d,r.config.emulator)&&iu(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,xh(o)?(Tj(`${i}//${o}${u}`),Ej("Auth",!0)):tq()}function Gj(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function eq(n){const e=Gj(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:jk(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:jk(o)}}}function jk(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tq(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Yj{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wa("not implemented")}_getIdTokenResponse(e){return wa("not implemented")}_linkToIdToken(e,t){return wa("not implemented")}_getReauthenticationResolver(e){return wa("not implemented")}}async function Pd(n,e){return AW(n,"POST","/v1/accounts:signInWithIdp",nS(n,e))}const nq="http://localhost";class au extends Yj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new au(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ko("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const o=new au(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Pd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Pd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pd(e,t)}buildRequest(){const e={requestUri:nq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zp(t)}return e}}class oS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tm extends oS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fl extends tm{constructor(){super("facebook.com")}static credential(e){return au._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.FACEBOOK_SIGN_IN_METHOD="facebook.com";fl.PROVIDER_ID="facebook.com";class ya extends tm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return au._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ya.credential(t,r)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";class pl extends tm{constructor(){super("github.com")}static credential(e){return au._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pl.credentialFromTaggedObject(e)}static credentialFromError(e){return pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pl.credential(e.oauthAccessToken)}catch{return null}}}pl.GITHUB_SIGN_IN_METHOD="github.com";pl.PROVIDER_ID="github.com";class ml extends tm{constructor(){super("twitter.com")}static credential(e,t){return au._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ml.credential(t,r)}catch{return null}}}ml.TWITTER_SIGN_IN_METHOD="twitter.com";ml.PROVIDER_ID="twitter.com";class Yd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Xi._fromIdTokenResponse(e,r,s),o=Ok(r);return new Yd({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ok(r);return new Yd({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ok(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class qy extends La{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,qy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new qy(e,t,r,s)}}function Qj(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?qy._fromErrorAndOperation(n,i,e,r):i})}async function rq(n,e,t=!1){const r=await wp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yd._forOperation(n,"link",r)}async function sq(n,e,t=!1){const{auth:r}=n;if(Yi(r.app))return Promise.reject(Uc(r));const s="reauthenticate";try{const i=await wp(n,Qj(r,s,e,n),t);Je(i.idToken,r,"internal-error");const o=rS(i.idToken);Je(o,r,"internal-error");const{sub:l}=o;return Je(n.uid===l,r,"user-mismatch"),Yd._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Ko(r,"user-mismatch"),i}}async function iq(n,e,t=!1){if(Yi(n.app))return Promise.reject(Uc(n));const r="signIn",s=await Qj(n,r,e),i=await Yd._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function oq(n,e,t,r){return zr(n).onIdTokenChanged(e,t,r)}function aq(n,e,t){return zr(n).beforeAuthStateChanged(e,t)}function lq(n,e,t,r){return zr(n).onAuthStateChanged(e,t,r)}function cq(n){return zr(n).signOut()}const Hy="__sak";class Xj{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hy,"1"),this.storage.removeItem(Hy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uq=1e3,dq=10;class Jj extends Xj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);UW()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dq):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},uq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jj.type="LOCAL";const hq=Jj;class Zj extends Xj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zj.type="SESSION";const e2=Zj;function fq(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Yv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Yv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(t.origin,i)),u=await fq(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yv.receivers=[];function aS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class pq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const d=aS("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(v.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Vo(){return window}function mq(n){Vo().location.href=n}function t2(){return typeof Vo().WorkerGlobalScope<"u"&&typeof Vo().importScripts=="function"}async function gq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yq(){return navigator?.serviceWorker?.controller||null}function vq(){return t2()?self:null}const n2="firebaseLocalStorageDb",wq=1,Ky="firebaseLocalStorage",r2="fbase_key";class nm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qv(n,e){return n.transaction([Ky],e?"readwrite":"readonly").objectStore(Ky)}function xq(){const n=indexedDB.deleteDatabase(n2);return new nm(n).toPromise()}function J_(){const n=indexedDB.open(n2,wq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ky,{keyPath:r2})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ky)?e(r):(r.close(),await xq(),e(await J_()))})})}async function Mk(n,e,t){const r=Qv(n,!0).put({[r2]:e,value:t});return new nm(r).toPromise()}async function _q(n,e){const t=Qv(n,!1).get(e),r=await new nm(t).toPromise();return r===void 0?null:r.value}function Lk(n,e){const t=Qv(n,!0).delete(e);return new nm(t).toPromise()}const bq=800,Sq=3;class s2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Sq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yv._getInstance(vq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gq(),!this.activeServiceWorker)return;this.sender=new pq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await J_();return await Mk(e,Hy,"1"),await Lk(e,Hy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mk(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>_q(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Lk(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Qv(s,!1).getAll();return new nm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s2.type="LOCAL";const Tq=s2;new em(3e4,6e4);function i2(n,e){return e?xa(e):(Je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class lS extends Yj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Eq(n){return iq(n.auth,new lS(n),n.bypassAuthState)}function Cq(n){const{auth:e,user:t}=n;return Je(t,e,"internal-error"),sq(t,new lS(n),n.bypassAuthState)}async function Pq(n){const{auth:e,user:t}=n;return Je(t,e,"internal-error"),rq(t,new lS(n),n.bypassAuthState)}class o2{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Eq;case"linkViaPopup":case"linkViaRedirect":return Pq;case"reauthViaPopup":case"reauthViaRedirect":return Cq;default:Ko(this.auth,"internal-error")}}resolve(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kq=new em(2e3,1e4);async function Rq(n,e,t){if(Yi(n.app))return Promise.reject(Ji(n,"operation-not-supported-in-this-environment"));const r=Gv(n);SW(n,e,oS);const s=i2(r,t);return new Dc(r,"signInViaPopup",e,s).executeNotNull()}class Dc extends o2{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Dc.currentPopupAction&&Dc.currentPopupAction.cancel(),Dc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Pa(this.filter.length===1,"Popup operations only handle one event");const e=aS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kq.get())};e()}}Dc.currentPopupAction=null;const Aq="pendingRedirect",iy=new Map;class Iq extends o2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=iy.get(this.auth._key());if(!e){try{const r=await Nq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}iy.set(this.auth._key(),e)}return this.bypassAuthState||iy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nq(n,e){const t=Oq(e),r=jq(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Dq(n,e){iy.set(n._key(),e)}function jq(n){return xa(n._redirectPersistence)}function Oq(n){return sy(Aq,n.config.apiKey,n.name)}async function Mq(n,e,t=!1){if(Yi(n.app))return Promise.reject(Uc(n));const r=Gv(n),s=i2(r,e),o=await new Iq(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const Lq=600*1e3;class Vq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!a2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ji(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lq&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vk(e))}saveEventToCache(e){this.cachedEventUids.add(Vk(e)),this.lastProcessedEventTime=Date.now()}}function Vk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function a2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Fq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a2(n);default:return!1}}async function zq(n,e={}){return bh(n,"GET","/v1/projects",e)}const Uq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$q=/^https?/;async function Bq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await zq(n);for(const t of e)try{if(Wq(t))return}catch{}Ko(n,"unauthorized-domain")}function Wq(n){const e=Q_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!$q.test(t))return!1;if(Uq.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const qq=new em(3e4,6e4);function Fk(){const n=Vo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Hq(n){return new Promise((e,t)=>{function r(){Fk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fk(),t(Ji(n,"network-request-failed"))},timeout:qq.get()})}if(Vo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vo().gapi?.load)r();else{const s=QW("iframefcb");return Vo()[s]=()=>{gapi.load?r():t(Ji(n,"network-request-failed"))},GW(`${YW()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw oy=null,e})}let oy=null;function Kq(n){return oy=oy||Hq(n),oy}const Gq=new em(5e3,15e3),Yq="__/auth/iframe",Qq="emulator/auth/iframe",Xq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zq(n){const e=n.config;Je(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tS(e,Qq):`https://${n.config.authDomain}/${Yq}`,r={apiKey:e.apiKey,appName:n.name,v:_h},s=Jq.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Zp(r).slice(1)}`}async function e7(n){const e=await Kq(n),t=Vo().gapi;return Je(t,n,"internal-error"),e.open({where:document.body,url:Zq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xq,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ji(n,"network-request-failed"),l=Vo().setTimeout(()=>{i(o)},Gq.get());function u(){Vo().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{i(o)})}))}const t7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n7=500,r7=600,s7="_blank",i7="http://localhost";class zk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o7(n,e,t,r=n7,s=r7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...t7,width:r.toString(),height:s.toString(),top:i,left:o},d=rs().toLowerCase();t&&(l=Uj(d)?s7:t),Fj(d)&&(e=e||i7,u.scrollbars="yes");const h=Object.entries(u).reduce((v,[w,T])=>`${v}${w}=${T},`,"");if(zW(d)&&l!=="_self")return a7(e||"",l),new zk(null);const m=window.open(e||"",l,h);Je(m,n,"popup-blocked");try{m.focus()}catch{}return new zk(m)}function a7(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const l7="__/auth/handler",c7="emulator/auth/handler",u7=encodeURIComponent("fac");async function Uk(n,e,t,r,s,i){Je(n.config.authDomain,n,"auth-domain-config-required"),Je(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:_h,eventId:s};if(e instanceof oS){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",c8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof tm){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await n._getAppCheckToken(),d=u?`#${u7}=${encodeURIComponent(u)}`:"";return`${d7(n)}?${Zp(l).slice(1)}${d}`}function d7({config:n}){return n.emulator?tS(n,c7):`https://${n.authDomain}/${l7}`}const Tx="webStorageSupport";class h7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e2,this._completeRedirectFn=Mq,this._overrideRedirectResult=Dq}async _openPopup(e,t,r,s){Pa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Uk(e,t,r,Q_(),s);return o7(e,i,aS())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await Uk(e,t,r,Q_(),s);return mq(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Pa(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await e7(e),r=new Vq(e);return t.register("authEvent",s=>(Je(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tx,{type:Tx},s=>{const i=s?.[0]?.[Tx];i!==void 0&&t(!!i),Ko(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hj()||zj()||sS()}}const f7=h7;var $k="@firebase/auth",Bk="1.11.1";class p7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g7(n){Gd(new ou("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kj(n)},d=new HW(r,s,i,u);return JW(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gd(new ou("auth-internal",e=>{const t=Gv(e.getProvider("auth").getImmediate());return(r=>new p7(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rl($k,Bk,m7(n)),Rl($k,Bk,"esm2020")}const y7=300,v7=Sj("authIdTokenMaxAge")||y7;let Wk=null;const w7=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>v7)return;const s=t?.token;Wk!==s&&(Wk=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function x7(n=Rj()){const e=J1(n,"auth");if(e.isInitialized())return e.getImmediate();const t=XW(n,{popupRedirectResolver:f7,persistence:[Tq,hq,e2]}),r=Sj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=w7(i.toString());aq(t,o,()=>o(t.currentUser)),oq(t,l=>o(l))}}const s=_j("auth");return s&&ZW(t,`http://${s}`),t}function _7(){return document.getElementsByTagName("head")?.[0]??document}KW({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Ji("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",_7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g7("Browser");var b7="firebase",S7="12.5.0";Rl(b7,S7,"app");var qk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Al,l2;(function(){var n;function e(P,A){function D(){}D.prototype=A.prototype,P.F=A.prototype,P.prototype=new D,P.prototype.constructor=P,P.D=function(O,V,F){for(var U=Array(arguments.length-2),X=2;X<arguments.length;X++)U[X-2]=arguments[X];return A.prototype[V].apply(O,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,A,D){D||(D=0);const O=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)O[V]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(V=0;V<16;++V)O[V]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=P.g[0],D=P.g[1],V=P.g[2];let F=P.g[3],U;U=A+(F^D&(V^F))+O[0]+3614090360&4294967295,A=D+(U<<7&4294967295|U>>>25),U=F+(V^A&(D^V))+O[1]+3905402710&4294967295,F=A+(U<<12&4294967295|U>>>20),U=V+(D^F&(A^D))+O[2]+606105819&4294967295,V=F+(U<<17&4294967295|U>>>15),U=D+(A^V&(F^A))+O[3]+3250441966&4294967295,D=V+(U<<22&4294967295|U>>>10),U=A+(F^D&(V^F))+O[4]+4118548399&4294967295,A=D+(U<<7&4294967295|U>>>25),U=F+(V^A&(D^V))+O[5]+1200080426&4294967295,F=A+(U<<12&4294967295|U>>>20),U=V+(D^F&(A^D))+O[6]+2821735955&4294967295,V=F+(U<<17&4294967295|U>>>15),U=D+(A^V&(F^A))+O[7]+4249261313&4294967295,D=V+(U<<22&4294967295|U>>>10),U=A+(F^D&(V^F))+O[8]+1770035416&4294967295,A=D+(U<<7&4294967295|U>>>25),U=F+(V^A&(D^V))+O[9]+2336552879&4294967295,F=A+(U<<12&4294967295|U>>>20),U=V+(D^F&(A^D))+O[10]+4294925233&4294967295,V=F+(U<<17&4294967295|U>>>15),U=D+(A^V&(F^A))+O[11]+2304563134&4294967295,D=V+(U<<22&4294967295|U>>>10),U=A+(F^D&(V^F))+O[12]+1804603682&4294967295,A=D+(U<<7&4294967295|U>>>25),U=F+(V^A&(D^V))+O[13]+4254626195&4294967295,F=A+(U<<12&4294967295|U>>>20),U=V+(D^F&(A^D))+O[14]+2792965006&4294967295,V=F+(U<<17&4294967295|U>>>15),U=D+(A^V&(F^A))+O[15]+1236535329&4294967295,D=V+(U<<22&4294967295|U>>>10),U=A+(V^F&(D^V))+O[1]+4129170786&4294967295,A=D+(U<<5&4294967295|U>>>27),U=F+(D^V&(A^D))+O[6]+3225465664&4294967295,F=A+(U<<9&4294967295|U>>>23),U=V+(A^D&(F^A))+O[11]+643717713&4294967295,V=F+(U<<14&4294967295|U>>>18),U=D+(F^A&(V^F))+O[0]+3921069994&4294967295,D=V+(U<<20&4294967295|U>>>12),U=A+(V^F&(D^V))+O[5]+3593408605&4294967295,A=D+(U<<5&4294967295|U>>>27),U=F+(D^V&(A^D))+O[10]+38016083&4294967295,F=A+(U<<9&4294967295|U>>>23),U=V+(A^D&(F^A))+O[15]+3634488961&4294967295,V=F+(U<<14&4294967295|U>>>18),U=D+(F^A&(V^F))+O[4]+3889429448&4294967295,D=V+(U<<20&4294967295|U>>>12),U=A+(V^F&(D^V))+O[9]+568446438&4294967295,A=D+(U<<5&4294967295|U>>>27),U=F+(D^V&(A^D))+O[14]+3275163606&4294967295,F=A+(U<<9&4294967295|U>>>23),U=V+(A^D&(F^A))+O[3]+4107603335&4294967295,V=F+(U<<14&4294967295|U>>>18),U=D+(F^A&(V^F))+O[8]+1163531501&4294967295,D=V+(U<<20&4294967295|U>>>12),U=A+(V^F&(D^V))+O[13]+2850285829&4294967295,A=D+(U<<5&4294967295|U>>>27),U=F+(D^V&(A^D))+O[2]+4243563512&4294967295,F=A+(U<<9&4294967295|U>>>23),U=V+(A^D&(F^A))+O[7]+1735328473&4294967295,V=F+(U<<14&4294967295|U>>>18),U=D+(F^A&(V^F))+O[12]+2368359562&4294967295,D=V+(U<<20&4294967295|U>>>12),U=A+(D^V^F)+O[5]+4294588738&4294967295,A=D+(U<<4&4294967295|U>>>28),U=F+(A^D^V)+O[8]+2272392833&4294967295,F=A+(U<<11&4294967295|U>>>21),U=V+(F^A^D)+O[11]+1839030562&4294967295,V=F+(U<<16&4294967295|U>>>16),U=D+(V^F^A)+O[14]+4259657740&4294967295,D=V+(U<<23&4294967295|U>>>9),U=A+(D^V^F)+O[1]+2763975236&4294967295,A=D+(U<<4&4294967295|U>>>28),U=F+(A^D^V)+O[4]+1272893353&4294967295,F=A+(U<<11&4294967295|U>>>21),U=V+(F^A^D)+O[7]+4139469664&4294967295,V=F+(U<<16&4294967295|U>>>16),U=D+(V^F^A)+O[10]+3200236656&4294967295,D=V+(U<<23&4294967295|U>>>9),U=A+(D^V^F)+O[13]+681279174&4294967295,A=D+(U<<4&4294967295|U>>>28),U=F+(A^D^V)+O[0]+3936430074&4294967295,F=A+(U<<11&4294967295|U>>>21),U=V+(F^A^D)+O[3]+3572445317&4294967295,V=F+(U<<16&4294967295|U>>>16),U=D+(V^F^A)+O[6]+76029189&4294967295,D=V+(U<<23&4294967295|U>>>9),U=A+(D^V^F)+O[9]+3654602809&4294967295,A=D+(U<<4&4294967295|U>>>28),U=F+(A^D^V)+O[12]+3873151461&4294967295,F=A+(U<<11&4294967295|U>>>21),U=V+(F^A^D)+O[15]+530742520&4294967295,V=F+(U<<16&4294967295|U>>>16),U=D+(V^F^A)+O[2]+3299628645&4294967295,D=V+(U<<23&4294967295|U>>>9),U=A+(V^(D|~F))+O[0]+4096336452&4294967295,A=D+(U<<6&4294967295|U>>>26),U=F+(D^(A|~V))+O[7]+1126891415&4294967295,F=A+(U<<10&4294967295|U>>>22),U=V+(A^(F|~D))+O[14]+2878612391&4294967295,V=F+(U<<15&4294967295|U>>>17),U=D+(F^(V|~A))+O[5]+4237533241&4294967295,D=V+(U<<21&4294967295|U>>>11),U=A+(V^(D|~F))+O[12]+1700485571&4294967295,A=D+(U<<6&4294967295|U>>>26),U=F+(D^(A|~V))+O[3]+2399980690&4294967295,F=A+(U<<10&4294967295|U>>>22),U=V+(A^(F|~D))+O[10]+4293915773&4294967295,V=F+(U<<15&4294967295|U>>>17),U=D+(F^(V|~A))+O[1]+2240044497&4294967295,D=V+(U<<21&4294967295|U>>>11),U=A+(V^(D|~F))+O[8]+1873313359&4294967295,A=D+(U<<6&4294967295|U>>>26),U=F+(D^(A|~V))+O[15]+4264355552&4294967295,F=A+(U<<10&4294967295|U>>>22),U=V+(A^(F|~D))+O[6]+2734768916&4294967295,V=F+(U<<15&4294967295|U>>>17),U=D+(F^(V|~A))+O[13]+1309151649&4294967295,D=V+(U<<21&4294967295|U>>>11),U=A+(V^(D|~F))+O[4]+4149444226&4294967295,A=D+(U<<6&4294967295|U>>>26),U=F+(D^(A|~V))+O[11]+3174756917&4294967295,F=A+(U<<10&4294967295|U>>>22),U=V+(A^(F|~D))+O[2]+718787259&4294967295,V=F+(U<<15&4294967295|U>>>17),U=D+(F^(V|~A))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.v=function(P,A){A===void 0&&(A=P.length);const D=A-this.blockSize,O=this.C;let V=this.h,F=0;for(;F<A;){if(V==0)for(;F<=D;)s(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<A;)if(O[V++]=P.charCodeAt(F++),V==this.blockSize){s(this,O),V=0;break}}else for(;F<A;)if(O[V++]=P[F++],V==this.blockSize){s(this,O),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;A=this.o*8;for(var D=P.length-8;D<P.length;++D)P[D]=A&255,A/=256;for(this.v(P),P=Array(16),A=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)P[A++]=this.g[D]>>>O&255;return P};function i(P,A){var D=l;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=A(P)}function o(P,A){this.h=A;const D=[];let O=!0;for(let V=P.length-1;V>=0;V--){const F=P[V]|0;O&&F==A||(D[V]=F,O=!1)}this.g=D}var l={};function u(P){return-128<=P&&P<128?i(P,function(A){return new o([A|0],A<0?-1:0)}):new o([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return S(d(-P));const A=[];let D=1;for(let O=0;P>=D;O++)A[O]=P/D|0,D*=4294967296;return new o(A,0)}function h(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return S(h(P.substring(1),A));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(A,8));let O=m;for(let F=0;F<P.length;F+=8){var V=Math.min(8,P.length-F);const U=parseInt(P.substring(F,F+V),A);V<8?(V=d(Math.pow(A,V)),O=O.j(V).add(d(U))):(O=O.j(D),O=O.add(d(U)))}return O}var m=u(0),v=u(1),w=u(16777216);n=o.prototype,n.m=function(){if(x(this))return-S(this).m();let P=0,A=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);P+=(O>=0?O:4294967296+O)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(x(this))return"-"+S(this).toString(P);const A=d(Math.pow(P,6));var D=this;let O="";for(;;){const V=I(D,A).g;D=R(D,V.j(A));let F=((D.g.length>0?D.g[0]:D.h)>>>0).toString(P);if(D=V,T(D))return F+O;for(;F.length<6;)F="0"+F;O=F+O}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(let A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function x(P){return P.h==-1}n.l=function(P){return P=R(this,P),x(P)?-1:T(P)?0:1};function S(P){const A=P.g.length,D=[];for(let O=0;O<A;O++)D[O]=~P.g[O];return new o(D,~P.h).add(v)}n.abs=function(){return x(this)?S(this):this},n.add=function(P){const A=Math.max(this.g.length,P.g.length),D=[];let O=0;for(let V=0;V<=A;V++){let F=O+(this.i(V)&65535)+(P.i(V)&65535),U=(F>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=U>>>16,F&=65535,U&=65535,D[V]=U<<16|F}return new o(D,D[D.length-1]&-2147483648?-1:0)};function R(P,A){return P.add(S(A))}n.j=function(P){if(T(this)||T(P))return m;if(x(this))return x(P)?S(this).j(S(P)):S(S(this).j(P));if(x(P))return S(this.j(S(P)));if(this.l(w)<0&&P.l(w)<0)return d(this.m()*P.m());const A=this.g.length+P.g.length,D=[];for(var O=0;O<2*A;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<P.g.length;V++){const F=this.i(O)>>>16,U=this.i(O)&65535,X=P.i(V)>>>16,se=P.i(V)&65535;D[2*O+2*V]+=U*se,k(D,2*O+2*V),D[2*O+2*V+1]+=F*se,k(D,2*O+2*V+1),D[2*O+2*V+1]+=U*X,k(D,2*O+2*V+1),D[2*O+2*V+2]+=F*X,k(D,2*O+2*V+2)}for(P=0;P<A;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=A;P<2*A;P++)D[P]=0;return new o(D,0)};function k(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function j(P,A){this.g=P,this.h=A}function I(P,A){if(T(A))throw Error("division by zero");if(T(P))return new j(m,m);if(x(P))return A=I(S(P),A),new j(S(A.g),S(A.h));if(x(A))return A=I(P,S(A)),new j(S(A.g),A.h);if(P.g.length>30){if(x(P)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var D=v,O=A;O.l(P)<=0;)D=L(D),O=L(O);var V=z(D,1),F=z(O,1);for(O=z(O,2),D=z(D,2);!T(O);){var U=F.add(O);U.l(P)<=0&&(V=V.add(D),F=U),O=z(O,1),D=z(D,1)}return A=R(P,V.j(A)),new j(V,A)}for(V=m;P.l(A)>=0;){for(D=Math.max(1,Math.floor(P.m()/A.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),F=d(D),U=F.j(A);x(U)||U.l(P)>0;)D-=O,F=d(D),U=F.j(A);T(F)&&(F=v),V=V.add(F),P=R(P,U)}return new j(V,P)}n.B=function(P){return I(this,P).h},n.and=function(P){const A=Math.max(this.g.length,P.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)&P.i(O);return new o(D,this.h&P.h)},n.or=function(P){const A=Math.max(this.g.length,P.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)|P.i(O);return new o(D,this.h|P.h)},n.xor=function(P){const A=Math.max(this.g.length,P.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)^P.i(O);return new o(D,this.h^P.h)};function L(P){const A=P.g.length+1,D=[];for(let O=0;O<A;O++)D[O]=P.i(O)<<1|P.i(O-1)>>>31;return new o(D,P.h)}function z(P,A){const D=A>>5;A%=32;const O=P.g.length-D,V=[];for(let F=0;F<O;F++)V[F]=A>0?P.i(F+D)>>>A|P.i(F+D+1)<<32-A:P.i(F+D);return new o(V,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,l2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Al=o}).apply(typeof qk<"u"?qk:typeof self<"u"?self:typeof window<"u"?window:{});var Cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c2,Cf,u2,ay,Z_,d2,h2,f2;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cg=="object"&&Cg];for(var C=0;C<g.length;++C){var N=g[C];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=t(this);function s(g,C){if(C)e:{var N=r;g=g.split(".");for(var $=0;$<g.length-1;$++){var te=g[$];if(!(te in N))break e;N=N[te]}g=g[g.length-1],$=N[g],C=C($),C!=$&&C!=null&&e(N,g,{configurable:!0,writable:!0,value:C})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(C){var N=[],$;for($ in C)Object.prototype.hasOwnProperty.call(C,$)&&N.push([$,C[$]]);return N}});var i=i||{},o=this||self;function l(g){var C=typeof g;return C=="object"&&g!=null||C=="function"}function u(g,C,N){return g.call.apply(g.bind,arguments)}function d(g,C,N){return d=u,d.apply(null,arguments)}function h(g,C){var N=Array.prototype.slice.call(arguments,1);return function(){var $=N.slice();return $.push.apply($,arguments),g.apply(this,$)}}function m(g,C){function N(){}N.prototype=C.prototype,g.Z=C.prototype,g.prototype=new N,g.prototype.constructor=g,g.Ob=function($,te,le){for(var be=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)be[nt-2]=arguments[nt];return C.prototype[te].apply($,be)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const C=g.length;if(C>0){const N=Array(C);for(let $=0;$<C;$++)N[$]=g[$];return N}return[]}function T(g,C){for(let $=1;$<arguments.length;$++){const te=arguments[$];var N=typeof te;if(N=N!="object"?N:te?Array.isArray(te)?"array":N:"null",N=="array"||N=="object"&&typeof te.length=="number"){N=g.length||0;const le=te.length||0;g.length=N+le;for(let be=0;be<le;be++)g[N+be]=te[be]}else g.push(te)}}class x{constructor(C,N){this.i=C,this.j=N,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function S(g){o.setTimeout(()=>{throw g},0)}function R(){var g=P;let C=null;return g.g&&(C=g.g,g.g=g.g.next,g.g||(g.h=null),C.next=null),C}class k{constructor(){this.h=this.g=null}add(C,N){const $=j.get();$.set(C,N),this.h?this.h.next=$:this.g=$,this.h=$}}var j=new x(()=>new I,g=>g.reset());class I{constructor(){this.next=this.g=this.h=null}set(C,N){this.h=C,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let L,z=!1,P=new k,A=()=>{const g=Promise.resolve(void 0);L=()=>{g.then(D)}};function D(){for(var g;g=R();){try{g.h.call(g.g)}catch(N){S(N)}var C=j;C.j(g),C.h<100&&(C.h++,g.next=C.g,C.g=g)}z=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,C){this.type=g,this.g=this.target=C,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,C=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const N=()=>{};o.addEventListener("test",N,C),o.removeEventListener("test",N,C)}catch{}return g})();function U(g){return/^[\s\xa0]*$/.test(g)}function X(g,C){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,C)}m(X,V),X.prototype.init=function(g,C){const N=this.type=g.type,$=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=C,C=g.relatedTarget,C||(N=="mouseover"?C=g.fromElement:N=="mouseout"&&(C=g.toElement)),this.relatedTarget=C,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),re=0;function J(g,C,N,$,te){this.listener=g,this.proxy=null,this.src=C,this.type=N,this.capture=!!$,this.ha=te,this.key=++re,this.da=this.fa=!1}function q(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function G(g,C,N){for(const $ in g)C.call(N,g[$],$,g)}function B(g,C){for(const N in g)C.call(void 0,g[N],N,g)}function W(g){const C={};for(const N in g)C[N]=g[N];return C}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(g,C){let N,$;for(let te=1;te<arguments.length;te++){$=arguments[te];for(N in $)g[N]=$[N];for(let le=0;le<Q.length;le++)N=Q[le],Object.prototype.hasOwnProperty.call($,N)&&(g[N]=$[N])}}function ue(g){this.src=g,this.g={},this.h=0}ue.prototype.add=function(g,C,N,$,te){const le=g.toString();g=this.g[le],g||(g=this.g[le]=[],this.h++);const be=me(g,C,$,te);return be>-1?(C=g[be],N||(C.fa=!1)):(C=new J(C,this.src,le,!!$,te),C.fa=N,g.push(C)),C};function Z(g,C){const N=C.type;if(N in g.g){var $=g.g[N],te=Array.prototype.indexOf.call($,C,void 0),le;(le=te>=0)&&Array.prototype.splice.call($,te,1),le&&(q(C),g.g[N].length==0&&(delete g.g[N],g.h--))}}function me(g,C,N,$){for(let te=0;te<g.length;++te){const le=g[te];if(!le.da&&le.listener==C&&le.capture==!!N&&le.ha==$)return te}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),xe={};function Ee(g,C,N,$,te){if(Array.isArray(C)){for(let le=0;le<C.length;le++)Ee(g,C[le],N,$,te);return null}return N=pn(N),g&&g[se]?g.J(C,N,l($)?!!$.capture:!1,te):Fe(g,C,N,!1,$,te)}function Fe(g,C,N,$,te,le){if(!C)throw Error("Invalid event type");const be=l(te)?!!te.capture:!!te;let nt=qt(g);if(nt||(g[ce]=nt=new ue(g)),N=nt.add(C,N,$,be,le),N.proxy)return N;if($=ze(),N.proxy=$,$.src=g,$.listener=N,g.addEventListener)F||(te=be),te===void 0&&(te=!1),g.addEventListener(C.toString(),$,te);else if(g.attachEvent)g.attachEvent(ft(C.toString()),$);else if(g.addListener&&g.removeListener)g.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ze(){function g(N){return C.call(g.src,g.listener,N)}const C=nn;return g}function Ze(g,C,N,$,te){if(Array.isArray(C))for(var le=0;le<C.length;le++)Ze(g,C[le],N,$,te);else $=l($)?!!$.capture:!!$,N=pn(N),g&&g[se]?(g=g.i,le=String(C).toString(),le in g.g&&(C=g.g[le],N=me(C,N,$,te),N>-1&&(q(C[N]),Array.prototype.splice.call(C,N,1),C.length==0&&(delete g.g[le],g.h--)))):g&&(g=qt(g))&&(C=g.g[C.toString()],g=-1,C&&(g=me(C,N,$,te)),(N=g>-1?C[g]:null)&&Oe(N))}function Oe(g){if(typeof g!="number"&&g&&!g.da){var C=g.src;if(C&&C[se])Z(C.i,g);else{var N=g.type,$=g.proxy;C.removeEventListener?C.removeEventListener(N,$,g.capture):C.detachEvent?C.detachEvent(ft(N),$):C.addListener&&C.removeListener&&C.removeListener($),(N=qt(C))?(Z(N,g),N.h==0&&(N.src=null,C[ce]=null)):q(g)}}}function ft(g){return g in xe?xe[g]:xe[g]="on"+g}function nn(g,C){if(g.da)g=!0;else{C=new X(C,this);const N=g.listener,$=g.ha||g.src;g.fa&&Oe(g),g=N.call($,C)}return g}function qt(g){return g=g[ce],g instanceof ue?g:null}var oe="__closure_events_fn_"+(Math.random()*1e9>>>0);function pn(g){return typeof g=="function"?g:(g[oe]||(g[oe]=function(C){return g.handleEvent(C)}),g[oe])}function Dt(){O.call(this),this.i=new ue(this),this.M=this,this.G=null}m(Dt,O),Dt.prototype[se]=!0,Dt.prototype.removeEventListener=function(g,C,N,$){Ze(this,g,C,N,$)};function It(g,C){var N,$=g.G;if($)for(N=[];$;$=$.G)N.push($);if(g=g.M,$=C.type||C,typeof C=="string")C=new V(C,g);else if(C instanceof V)C.target=C.target||g;else{var te=C;C=new V($,g),ie(C,te)}te=!0;let le,be;if(N)for(be=N.length-1;be>=0;be--)le=C.g=N[be],te=ct(le,$,!0,C)&&te;if(le=C.g=g,te=ct(le,$,!0,C)&&te,te=ct(le,$,!1,C)&&te,N)for(be=0;be<N.length;be++)le=C.g=N[be],te=ct(le,$,!1,C)&&te}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var g=this.i;for(const C in g.g){const N=g.g[C];for(let $=0;$<N.length;$++)q(N[$]);delete g.g[C],g.h--}}this.G=null},Dt.prototype.J=function(g,C,N,$){return this.i.add(String(g),C,!1,N,$)},Dt.prototype.K=function(g,C,N,$){return this.i.add(String(g),C,!0,N,$)};function ct(g,C,N,$){if(C=g.i.g[String(C)],!C)return!0;C=C.concat();let te=!0;for(let le=0;le<C.length;++le){const be=C[le];if(be&&!be.da&&be.capture==N){const nt=be.listener,Dn=be.ha||be.src;be.fa&&Z(g.i,be),te=nt.call(Dn,$)!==!1&&te}}return te&&!$.defaultPrevented}function cr(g,C){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:o.setTimeout(g,C||0)}function Cn(g){g.g=cr(()=>{g.g=null,g.i&&(g.i=!1,Cn(g))},g.l);const C=g.h;g.h=null,g.m.apply(null,C)}class Ss extends O{constructor(C,N){super(),this.m=C,this.l=N,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(g){O.call(this),this.h=g,this.g={}}m(zt,O);var Ht=[];function Tt(g){G(g.g,function(C,N){this.g.hasOwnProperty(N)&&Oe(C)},g),g.g={}}zt.prototype.N=function(){zt.Z.N.call(this),Tt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=o.JSON.stringify,er=o.JSON.parse,kn=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function $r(){}function Bt(){}var Er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){V.call(this,"d")}m(mn,V);function os(){V.call(this,"c")}m(os,V);var rn={},Cr=null;function ur(){return Cr=Cr||new Dt}rn.Ia="serverreachability";function Qe(g){V.call(this,rn.Ia,g)}m(Qe,V);function Un(g){const C=ur();It(C,new Qe(C))}rn.STAT_EVENT="statevent";function gn(g,C){V.call(this,rn.STAT_EVENT,g),this.stat=C}m(gn,V);function pt(g){const C=ur();It(C,new gn(C,g))}rn.Ja="timingevent";function Jt(g,C){V.call(this,rn.Ja,g),this.size=C}m(Jt,V);function dr(g,C){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},C)}function Ve(){this.g=!0}Ve.prototype.ua=function(){this.g=!1};function st(g,C,N,$,te,le){g.info(function(){if(g.g)if(le){var be="",nt=le.split("&");for(let $t=0;$t<nt.length;$t++){var Dn=nt[$t].split("=");if(Dn.length>1){const $n=Dn[0];Dn=Dn[1];const Ys=$n.split("_");be=Ys.length>=2&&Ys[1]=="type"?be+($n+"="+Dn+"&"):be+($n+"=redacted&")}}}else be=null;else be=le;return"XMLHTTP REQ ("+$+") [attempt "+te+"]: "+C+`
`+N+`
`+be})}function Et(g,C,N,$,te,le,be){g.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+te+"]: "+C+`
`+N+`
`+le+" "+be})}function Ae(g,C,N,$){g.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ke(g,N)+($?" "+$:"")})}function Pe(g,C){g.info(function(){return"TIMEOUT: "+C})}Ve.prototype.info=function(){};function Ke(g,C){if(!g.g)return C;if(!C)return null;try{const le=JSON.parse(C);if(le){for(g=0;g<le.length;g++)if(Array.isArray(le[g])){var N=le[g];if(!(N.length<2)){var $=N[1];if(Array.isArray($)&&!($.length<1)){var te=$[0];if(te!="noop"&&te!="stop"&&te!="close")for(let be=1;be<$.length;be++)$[be]=""}}}}return Pn(le)}catch{return C}}var ye={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ne={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ke;function Be(){}m(Be,$r),Be.prototype.g=function(){return new XMLHttpRequest},ke=new Be;function Ut(g){return encodeURIComponent(String(g))}function ot(g){var C=1;g=g.split(":");const N=[];for(;C>0&&g.length;)N.push(g.shift()),C--;return g.length&&N.push(g.join(":")),N}function Rt(g,C,N,$){this.j=g,this.i=C,this.l=N,this.S=$||1,this.V=new zt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nn}function Nn(){this.i=null,this.g="",this.h=!1}var Kt={},Lt={};function ut(g,C,N){g.M=1,g.A=ea(fi(C)),g.u=N,g.R=!0,Pr(g,null)}function Pr(g,C){g.F=Date.now(),sn(g),g.B=fi(g.A);var N=g.B,$=g.S;Array.isArray($)||($=[String($)]),zh(N.i,"t",$),g.C=0,N=g.j.L,g.h=new Nn,g.g=bm(g.j,N?C:null,!g.u),g.P>0&&(g.O=new Ss(d(g.Y,g,g.g),g.P)),C=g.V,N=g.g,$=g.ba;var te="readystatechange";Array.isArray(te)||(te&&(Ht[0]=te.toString()),te=Ht);for(let le=0;le<te.length;le++){const be=Ee(N,te[le],$||C.handleEvent,!1,C.h||C);if(!be)break;C.g[be.key]=be}C=g.J?W(g.J):{},g.u?(g.v||(g.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,C)):(g.v="GET",g.g.ea(g.B,g.v,null,C)),Un(),st(g.i,g.v,g.B,g.l,g.S,g.u)}Rt.prototype.ba=function(g){g=g.target;const C=this.O;C&&po(g)==3?C.j():this.Y(g)},Rt.prototype.Y=function(g){try{if(g==this.g)e:{const nt=po(this.g),Dn=this.g.ya(),$t=this.g.ca();if(!(nt<3)&&(nt!=3||this.g&&(this.h.h||this.g.la()||xm(this.g)))){this.K||nt!=4||Dn==7||(Dn==8||$t<=0?Un(3):Un(2)),vn(this);var C=this.g.ca();this.X=C;var N=Wt(this);if(this.o=C==200,Et(this.i,this.v,this.B,this.l,this.S,nt,C),this.o){if(this.U&&!this.L){t:{if(this.g){var $,te=this.g;if(($=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U($)){var le=$;break t}}le=null}if(g=le)Ae(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,at(this,g);else{this.o=!1,this.m=3,pt(12),Ts(this),ls(this);break e}}if(this.R){g=!0;let $n;for(;!this.K&&this.C<N.length;)if($n=as(this,N),$n==Lt){nt==4&&(this.m=4,pt(14),g=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if($n==Kt){this.m=4,pt(15),Ae(this.i,this.l,N,"[Invalid Chunk]"),g=!1;break}else Ae(this.i,this.l,$n,null),at(this,$n);if(hr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||N.length!=0||this.h.h||(this.m=1,pt(16),g=!1),this.o=this.o&&g,!g)Ae(this.i,this.l,N,"[Invalid Chunked Response]"),Ts(this),ls(this);else if(N.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),dc(be),be.P=!0,pt(11))}}else Ae(this.i,this.l,N,null),at(this,N);nt==4&&Ts(this),this.o&&!this.K&&(nt==4?Nu(this.j,this):(this.o=!1,sn(this)))}else $h(this.g),C==400&&N.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Ts(this),ls(this)}}}catch{}finally{}};function Wt(g){if(!hr(g))return g.g.la();const C=xm(g.g);if(C==="")return"";let N="";const $=C.length,te=po(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Ts(g),ls(g),"";g.h.i=new o.TextDecoder}for(let le=0;le<$;le++)g.h.h=!0,N+=g.h.i.decode(C[le],{stream:!(te&&le==$-1)});return C.length=0,g.h.g+=N,g.C=0,g.h.g}function hr(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function as(g,C){var N=g.C,$=C.indexOf(`
`,N);return $==-1?Lt:(N=Number(C.substring(N,$)),isNaN(N)?Kt:($+=1,$+N>C.length?Lt:(C=C.slice($,$+N),g.C=$+N,C)))}Rt.prototype.cancel=function(){this.K=!0,Ts(this)};function sn(g){g.T=Date.now()+g.H,yn(g,g.H)}function yn(g,C){if(g.D!=null)throw Error("WatchDog timer not null");g.D=dr(d(g.aa,g),C)}function vn(g){g.D&&(o.clearTimeout(g.D),g.D=null)}Rt.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Pe(this.i,this.B),this.M!=2&&(Un(),pt(17)),Ts(this),this.m=2,ls(this)):yn(this,this.T-g)};function ls(g){g.j.I==0||g.K||Nu(g.j,g)}function Ts(g){vn(g);var C=g.O;C&&typeof C.dispose=="function"&&C.dispose(),g.O=null,Tt(g.V),g.g&&(C=g.g,g.g=null,C.abort(),C.dispose())}function at(g,C){try{var N=g.j;if(N.I!=0&&(N.g==g||Mi(N.h,g))){if(!g.L&&Mi(N.h,g)&&N.I==3){try{var $=N.Ba.g.parse(C)}catch{$=null}if(Array.isArray($)&&$.length==3){var te=$;if(te[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<g.F)Iu(N),Ks(N);else break e;yo(N),pt(18)}}else N.xa=te[1],0<N.xa-N.K&&te[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=dr(d(N.Va,N),6e3));oo(N.h)<=1&&N.ta&&(N.ta=void 0)}else Gs(N,11)}else if((g.L||N.g==g)&&Iu(N),!U(C))for(te=N.Ba.g.parse(C),C=0;C<te.length;C++){let $t=te[C];const $n=$t[0];if(!($n<=N.K))if(N.K=$n,$t=$t[1],N.I==2)if($t[0]=="c"){N.M=$t[1],N.ba=$t[2];const Ys=$t[3];Ys!=null&&(N.ka=Ys,N.j.info("VER="+N.ka));const ia=$t[4];ia!=null&&(N.za=ia,N.j.info("SVER="+N.za));const vo=$t[5];vo!=null&&typeof vo=="number"&&vo>0&&($=1.5*vo,N.O=$,N.j.info("backChannelRequestTimeoutMs_="+$)),$=N;const wo=g.g;if(wo){const Ou=wo.g?wo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var le=$.h;le.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Rr(le,le.h),le.h=null))}if($.G){const qh=wo.g?wo.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&($.wa=qh,Mt($.J,$.G,qh))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-g.F,N.j.info("Handshake RTT: "+N.T+"ms")),$=N;var be=g;if($.na=Wh($,$.L?$.ba:null,$.W),be.L){Bs($.h,be);var nt=be,Dn=$.O;Dn&&(nt.H=Dn),nt.D&&(vn(nt),sn(nt)),$.g=be}else Br($);N.i.length>0&&sa(N)}else $t[0]!="stop"&&$t[0]!="close"||Gs(N,7);else N.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Gs(N,7):Ru(N):$t[0]!="noop"&&N.l&&N.l.qa($t),N.A=0)}}Un(4)}catch{}}var wn=class{constructor(g,C){this.g=g,this.map=C}};function kr(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function oo(g){return g.h?1:g.g?g.g.size:0}function Mi(g,C){return g.h?g.h==C:g.g?g.g.has(C):!1}function Rr(g,C){g.g?g.g.add(C):g.h=C}function Bs(g,C){g.h&&g.h==C?g.h=null:g.g&&g.g.has(C)&&g.g.delete(C)}kr.prototype.cancel=function(){if(this.i=fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function fr(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let C=g.i;for(const N of g.g.values())C=C.concat(N.G);return C}return w(g.i)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(g,C){if(g){g=g.split("&");for(let N=0;N<g.length;N++){const $=g[N].indexOf("=");let te,le=null;$>=0?(te=g[N].substring(0,$),le=g[N].substring($+1)):te=g[N],C(te,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function ao(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;g instanceof ao?(this.l=g.l,ic(this,g.j),this.o=g.o,this.g=g.g,lo(this,g.u),this.h=g.h,Ua(this,Uh(g.i)),this.m=g.m):g&&(C=String(g).match(Ws))?(this.l=!1,ic(this,C[1]||"",!0),this.o=oc(C[2]||""),this.g=oc(C[3]||"",!0),lo(this,C[4]),this.h=oc(C[5]||"",!0),Ua(this,C[6]||"",!0),this.m=oc(C[7]||"")):(this.l=!1,this.i=new Ct(null,this.l))}ao.prototype.toString=function(){const g=[];var C=this.j;C&&g.push(ac(C,Oh,!0),":");var N=this.g;return(N||C=="file")&&(g.push("//"),(C=this.o)&&g.push(ac(C,Oh,!0),"@"),g.push(Ut(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&g.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&g.push("/"),g.push(ac(N,N.charAt(0)=="/"?lc:Mh,!0))),(N=this.i.toString())&&g.push("?",N),(N=this.m)&&g.push("#",ac(N,Lh)),g.join("")},ao.prototype.resolve=function(g){const C=fi(this);let N=!!g.j;N?ic(C,g.j):N=!!g.o,N?C.o=g.o:N=!!g.g,N?C.g=g.g:N=g.u!=null;var $=g.h;if(N)lo(C,g.u);else if(N=!!g.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var te=C.h.lastIndexOf("/");te!=-1&&($=C.h.slice(0,te+1)+$)}if(te=$,te==".."||te==".")$="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){$=te.lastIndexOf("/",0)==0,te=te.split("/");const le=[];for(let be=0;be<te.length;){const nt=te[be++];nt=="."?$&&be==te.length&&le.push(""):nt==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),$&&be==te.length&&le.push("")):(le.push(nt),$=!0)}$=le.join("/")}else $=te}return N?C.h=$:N=g.i.toString()!=="",N?Ua(C,Uh(g.i)):N=!!g.m,N&&(C.m=g.m),C};function fi(g){return new ao(g)}function ic(g,C,N){g.j=N?oc(C,!0):C,g.j&&(g.j=g.j.replace(/:$/,""))}function lo(g,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);g.u=C}else g.u=null}function Ua(g,C,N){C instanceof Ct?(g.i=C,Cu(g.i,g.l)):(N||(C=ac(C,Mw)),g.i=new Ct(C,g.l))}function Mt(g,C,N){g.i.set(C,N)}function ea(g){return Mt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function oc(g,C){return g?C?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ac(g,C,N){return typeof g=="string"?(g=encodeURI(g).replace(C,jh),N&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function jh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Oh=/[#\/\?@]/g,Mh=/[#\?:]/g,lc=/[#\?]/g,Mw=/[#\?@]/g,Lh=/#/g;function Ct(g,C){this.h=this.g=null,this.i=g||null,this.j=!!C}function co(g){g.g||(g.g=new Map,g.h=0,g.i&&qs(g.i,function(C,N){g.add(decodeURIComponent(C.replace(/\+/g," ")),N)}))}n=Ct.prototype,n.add=function(g,C){co(this),this.i=null,g=uo(this,g);let N=this.g.get(g);return N||this.g.set(g,N=[]),N.push(C),this.h+=1,this};function Vh(g,C){co(g),C=uo(g,C),g.g.has(C)&&(g.i=null,g.h-=g.g.get(C).length,g.g.delete(C))}function Eu(g,C){return co(g),C=uo(g,C),g.g.has(C)}n.forEach=function(g,C){co(this),this.g.forEach(function(N,$){N.forEach(function(te){g.call(C,te,$,this)},this)},this)};function Fh(g,C){co(g);let N=[];if(typeof C=="string")Eu(g,C)&&(N=N.concat(g.g.get(uo(g,C))));else for(g=Array.from(g.g.values()),C=0;C<g.length;C++)N=N.concat(g[C]);return N}n.set=function(g,C){return co(this),this.i=null,g=uo(this,g),Eu(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[C]),this.h+=1,this},n.get=function(g,C){return g?(g=Fh(this,g),g.length>0?String(g[0]):C):C};function zh(g,C,N){Vh(g,C),N.length>0&&(g.i=null,g.g.set(uo(g,C),w(N)),g.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],C=Array.from(this.g.keys());for(let $=0;$<C.length;$++){var N=C[$];const te=Ut(N);N=Fh(this,N);for(let le=0;le<N.length;le++){let be=te;N[le]!==""&&(be+="="+Ut(N[le])),g.push(be)}}return this.i=g.join("&")};function Uh(g){const C=new Ct;return C.i=g.i,g.g&&(C.g=new Map(g.g),C.h=g.h),C}function uo(g,C){return C=String(C),g.j&&(C=C.toLowerCase()),C}function Cu(g,C){C&&!g.j&&(co(g),g.i=null,g.g.forEach(function(N,$){const te=$.toLowerCase();$!=te&&(Vh(this,$),zh(this,te,N))},g)),g.j=C}function ho(g,C){const N=new Ve;if(o.Image){const $=new Image;$.onload=h(Ar,N,"TestLoadImage: loaded",!0,C,$),$.onerror=h(Ar,N,"TestLoadImage: error",!1,C,$),$.onabort=h(Ar,N,"TestLoadImage: abort",!1,C,$),$.ontimeout=h(Ar,N,"TestLoadImage: timeout",!1,C,$),o.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=g}else C(!1)}function fo(g,C){const N=new Ve,$=new AbortController,te=setTimeout(()=>{$.abort(),Ar(N,"TestPingServer: timeout",!1,C)},1e4);fetch(g,{signal:$.signal}).then(le=>{clearTimeout(te),le.ok?Ar(N,"TestPingServer: ok",!0,C):Ar(N,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(te),Ar(N,"TestPingServer: error",!1,C)})}function Ar(g,C,N,$,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),$(N)}catch{}}function cc(){this.g=new kn}function ta(g){this.i=g.Sb||null,this.h=g.ab||!1}m(ta,$r),ta.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(g,C){Dt.call(this),this.H=g,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Hs,Dt),n=Hs.prototype,n.open=function(g,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=C,this.readyState=1,Li(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(C.body=g),(this.H||o).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ym(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ym(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var C=g.value?g.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!g.done}))&&(this.response=this.responseText+=C)}g.done?$a(this):Li(this),this.readyState==3&&ym(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,$a(this))},n.Na=function(g){this.g&&(this.response=g,$a(this))},n.ga=function(){this.g&&$a(this)};function $a(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Li(g)}n.setRequestHeader=function(g,C){this.A.append(g,C)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],C=this.h.entries();for(var N=C.next();!N.done;)N=N.value,g.push(N[0]+": "+N[1]),N=C.next();return g.join(`\r
`)};function Li(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function vm(g){let C="";return G(g,function(N,$){C+=$,C+=":",C+=N,C+=`\r
`}),C}function Pu(g,C,N){e:{for($ in N){var $=!1;break e}$=!0}$||(N=vm(N),typeof g=="string"?N!=null&&Ut(N):Mt(g,C,N))}function Gt(g){Dt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Gt,Dt);var wm=/^https?$/i,Lw=["POST","PUT"];n=Gt.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,C,N,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);C=C?C.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ke.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(C,String(g),!0),this.B=!1}catch(le){Ba(this,le);return}if(g=N||"",N=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var te in $)N.set(te,$[te]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const le of $.keys())N.set(le,$.get(le));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(N.keys()).find(le=>le.toLowerCase()=="content-type"),te=o.FormData&&g instanceof o.FormData,!(Array.prototype.indexOf.call(Lw,C,void 0)>=0)||$||te||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,be]of N)this.g.setRequestHeader(le,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(le){Ba(this,le)}};function Ba(g,C){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=C,g.o=5,Wa(g),ra(g)}function Wa(g){g.A||(g.A=!0,It(g,"complete"),It(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,It(this,"complete"),It(this,"abort"),ra(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),Gt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},n.Xa=function(){na(this)};function na(g){if(g.h&&typeof i<"u"){if(g.v&&po(g)==4)setTimeout(g.Ca.bind(g),0);else if(It(g,"readystatechange"),po(g)==4){g.h=!1;try{const le=g.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var N;if(!(N=C)){var $;if($=le===0){let be=String(g.D).match(Ws)[1]||null;!be&&o.self&&o.self.location&&(be=o.self.location.protocol.slice(0,-1)),$=!wm.test(be?be.toLowerCase():"")}N=$}if(N)It(g,"complete"),It(g,"success");else{g.o=6;try{var te=po(g)>2?g.g.statusText:""}catch{te=""}g.l=te+" ["+g.ca()+"]",Wa(g)}}finally{ra(g)}}}}function ra(g,C){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const N=g.g;g.g=null,C||It(g,"ready");try{N.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function po(g){return g.g?g.g.readyState:0}n.ca=function(){try{return po(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var C=this.g.responseText;return g&&C.indexOf(g)==0&&(C=C.substring(g.length)),er(C)}};function xm(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(g){const C={};g=(g.g&&po(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<g.length;$++){if(U(g[$]))continue;var N=ot(g[$]);const te=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const le=C[te]||[];C[te]=le,le.push(N)}B(C,function($){return $.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mo(g,C,N){return N&&N.internalChannelParams&&N.internalChannelParams[g]||C}function ku(g){this.za=0,this.i=[],this.j=new Ve,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mo("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mo("baseRetryDelayMs",5e3,g),this.Za=mo("retryDelaySeedMs",1e4,g),this.Ta=mo("forwardChannelMaxRetries",2,g),this.va=mo("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new kr(g&&g.concurrentRequestLimit),this.Ba=new cc,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ku.prototype,n.ka=8,n.I=1,n.connect=function(g,C,N,$){pt(0),this.W=g,this.H=C||{},N&&$!==void 0&&(this.H.OSID=N,this.H.OAID=$),this.F=this.X,this.J=Wh(this,null,this.W),sa(this)};function Ru(g){if(Au(g),g.I==3){var C=g.V++,N=fi(g.J);if(Mt(N,"SID",g.M),Mt(N,"RID",C),Mt(N,"TYPE","terminate"),go(g,N),C=new Rt(g,g.j,C),C.M=2,C.A=ea(fi(N)),N=!1,o.navigator&&o.navigator.sendBeacon)try{N=o.navigator.sendBeacon(C.A.toString(),"")}catch{}!N&&o.Image&&(new Image().src=C.A,N=!0),N||(C.g=bm(C.j,null),C.g.ea(C.A)),C.F=Date.now(),sn(C)}hc(g)}function Ks(g){g.g&&(dc(g),g.g.cancel(),g.g=null)}function Au(g){Ks(g),g.v&&(o.clearTimeout(g.v),g.v=null),Iu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&o.clearTimeout(g.m),g.m=null)}function sa(g){if(!Zo(g.h)&&!g.m){g.m=!0;var C=g.Ea;L||A(),z||(L(),z=!0),P.add(C,g),g.D=0}}function _m(g,C){return oo(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=C.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=dr(d(g.Ea,g,C),Du(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const te=new Rt(this,this.j,g);let le=this.o;if(this.U&&(le?(le=W(le),ie(le,this.U)):le=this.U),this.u!==null||this.R||(te.J=le,le=null),this.S)e:{for(var C=0,N=0;N<this.i.length;N++){t:{var $=this.i[N];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(C+=$,C>4096){C=N;break e}if(C===4096||N===this.i.length-1){C=N+1;break e}}C=1e3}else C=1e3;C=Bh(this,te,C),N=fi(this.J),Mt(N,"RID",g),Mt(N,"CVER",22),this.G&&Mt(N,"X-HTTP-Session-Id",this.G),go(this,N),le&&(this.R?C="headers="+Ut(vm(le))+"&"+C:this.u&&Pu(N,this.u,le)),Rr(this.h,te),this.Ra&&Mt(N,"TYPE","init"),this.S?(Mt(N,"$req",C),Mt(N,"SID","null"),te.U=!0,ut(te,N,null)):ut(te,N,C),this.I=2}}else this.I==3&&(g?uc(this,g):this.i.length==0||Zo(this.h)||uc(this))};function uc(g,C){var N;C?N=C.l:N=g.V++;const $=fi(g.J);Mt($,"SID",g.M),Mt($,"RID",N),Mt($,"AID",g.K),go(g,$),g.u&&g.o&&Pu($,g.u,g.o),N=new Rt(g,g.j,N,g.D+1),g.u===null&&(N.J=g.o),C&&(g.i=C.G.concat(g.i)),C=Bh(g,N,1e3),N.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Rr(g.h,N),ut(N,$,C)}function go(g,C){g.H&&G(g.H,function(N,$){Mt(C,$,N)}),g.l&&G({},function(N,$){Mt(C,$,N)})}function Bh(g,C,N){N=Math.min(g.i.length,N);const $=g.l?d(g.l.Ka,g.l,g):null;e:{var te=g.i;let nt=-1;for(;;){const Dn=["count="+N];nt==-1?N>0?(nt=te[0].g,Dn.push("ofs="+nt)):nt=0:Dn.push("ofs="+nt);let $t=!0;for(let $n=0;$n<N;$n++){var le=te[$n].g;const Ys=te[$n].map;if(le-=nt,le<0)nt=Math.max(0,te[$n].g-100),$t=!1;else try{le="req"+le+"_"||"";try{var be=Ys instanceof Map?Ys:Object.entries(Ys);for(const[ia,vo]of be){let wo=vo;l(vo)&&(wo=Pn(vo)),Dn.push(le+ia+"="+encodeURIComponent(wo))}}catch(ia){throw Dn.push(le+"type="+encodeURIComponent("_badmap")),ia}}catch{$&&$(Ys)}}if($t){be=Dn.join("&");break e}}be=void 0}return g=g.i.splice(0,N),C.G=g,be}function Br(g){if(!g.g&&!g.v){g.Y=1;var C=g.Da;L||A(),z||(L(),z=!0),P.add(C,g),g.A=0}}function yo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=dr(d(g.Da,g),Du(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,qa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=dr(d(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Ks(this),qa(this))};function dc(g){g.B!=null&&(o.clearTimeout(g.B),g.B=null)}function qa(g){g.g=new Rt(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var C=fi(g.na);Mt(C,"RID","rpc"),Mt(C,"SID",g.M),Mt(C,"AID",g.K),Mt(C,"CI",g.F?"0":"1"),!g.F&&g.ia&&Mt(C,"TO",g.ia),Mt(C,"TYPE","xmlhttp"),go(g,C),g.u&&g.o&&Pu(C,g.u,g.o),g.O&&(g.g.H=g.O);var N=g.g;g=g.ba,N.M=1,N.A=ea(fi(C)),N.u=null,N.R=!0,Pr(N,g)}n.Va=function(){this.C!=null&&(this.C=null,Ks(this),yo(this),pt(19))};function Iu(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function Nu(g,C){var N=null;if(g.g==C){Iu(g),dc(g),g.g=null;var $=2}else if(Mi(g.h,C))N=C.G,Bs(g.h,C),$=1;else return;if(g.I!=0){if(C.o)if($==1){N=C.u?C.u.length:0,C=Date.now()-C.F;var te=g.D;$=ur(),It($,new Jt($,N)),sa(g)}else Br(g);else if(te=C.m,te==3||te==0&&C.X>0||!($==1&&_m(g,C)||$==2&&yo(g)))switch(N&&N.length>0&&(C=g.h,C.i=C.i.concat(N)),te){case 1:Gs(g,5);break;case 4:Gs(g,10);break;case 3:Gs(g,6);break;default:Gs(g,2)}}}function Du(g,C){let N=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(N*=2),N*C}function Gs(g,C){if(g.j.info("Error code "+C),C==2){var N=d(g.bb,g),$=g.Ua;const te=!$;$=new ao($||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ic($,"https"),ea($),te?ho($.toString(),N):fo($.toString(),N)}else pt(2);g.I=0,g.l&&g.l.pa(C),hc(g),Au(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function hc(g){if(g.I=0,g.ja=[],g.l){const C=fr(g.h);(C.length!=0||g.i.length!=0)&&(T(g.ja,C),T(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function Wh(g,C,N){var $=N instanceof ao?fi(N):new ao(N);if($.g!="")C&&($.g=C+"."+$.g),lo($,$.u);else{var te=o.location;$=te.protocol,C=C?C+"."+te.hostname:te.hostname,te=+te.port;const le=new ao(null);$&&ic(le,$),C&&(le.g=C),te&&lo(le,te),N&&(le.h=N),$=le}return N=g.G,C=g.wa,N&&C&&Mt($,N,C),Mt($,"VER",g.ka),go(g,$),$}function bm(g,C,N){if(C&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=g.Aa&&!g.ma?new Gt(new ta({ab:N})):new Gt(g.ma),C.Fa(g.L),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sm(){}n=Sm.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ju(){}ju.prototype.g=function(g,C){return new Ir(g,C)};function Ir(g,C){Dt.call(this),this.g=new ku(C),this.l=g,this.h=C&&C.messageUrlParams||null,g=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(g?g["X-WebChannel-Content-Type"]=C.messageContentType:g={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(g?g["X-WebChannel-Client-Profile"]=C.sa:g={"X-WebChannel-Client-Profile":C.sa}),this.g.U=g,(g=C&&C.Qb)&&!U(g)&&(this.g.u=g),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!U(C)&&(this.g.G=C,g=this.h,g!==null&&C in g&&(g=this.h,C in g&&delete g[C])),this.j=new Ha(this)}m(Ir,Dt),Ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){Ru(this.g)},Ir.prototype.o=function(g){var C=this.g;if(typeof g=="string"){var N={};N.__data__=g,g=N}else this.v&&(N={},N.__data__=Pn(g),g=N);C.i.push(new wn(C.Ya++,g)),C.I==3&&sa(C)},Ir.prototype.N=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,Ir.Z.N.call(this)};function Tm(g){mn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var C=g.__sm__;if(C){e:{for(const N in C){g=N;break e}g=void 0}(this.i=g)&&(g=this.i,C=C!==null&&g in C?C[g]:void 0),this.data=C}else this.data=g}m(Tm,mn);function Em(){os.call(this),this.status=1}m(Em,os);function Ha(g){this.g=g}m(Ha,Sm),Ha.prototype.ra=function(){It(this.g,"a")},Ha.prototype.qa=function(g){It(this.g,new Tm(g))},Ha.prototype.pa=function(g){It(this.g,new Em)},Ha.prototype.oa=function(){It(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,f2=function(){return new ju},h2=function(){return ur()},d2=rn,Z_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,ay=ye,Ne.COMPLETE="complete",u2=Ne,Bt.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,Cf=Bt,Gt.prototype.listenOnce=Gt.prototype.K,Gt.prototype.getLastError=Gt.prototype.Ha,Gt.prototype.getLastErrorCode=Gt.prototype.ya,Gt.prototype.getStatus=Gt.prototype.ca,Gt.prototype.getResponseJson=Gt.prototype.La,Gt.prototype.getResponseText=Gt.prototype.la,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Fa,c2=Gt}).apply(typeof Cg<"u"?Cg:typeof self<"u"?self:typeof window<"u"?window:{});const Hk="@firebase/firestore",Kk="4.9.2";class Qr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let Sh="12.3.0";const lu=new Q1("@firebase/firestore");function cd(){return lu.logLevel}function Ce(n,...e){if(lu.logLevel<=xt.DEBUG){const t=e.map(cS);lu.debug(`Firestore (${Sh}): ${n}`,...t)}}function ka(n,...e){if(lu.logLevel<=xt.ERROR){const t=e.map(cS);lu.error(`Firestore (${Sh}): ${n}`,...t)}}function Qd(n,...e){if(lu.logLevel<=xt.WARN){const t=e.map(cS);lu.warn(`Firestore (${Sh}): ${n}`,...t)}}function cS(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function He(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,p2(n,r,t)}function p2(n,e,t){let r=`FIRESTORE (${Sh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ka(r),new Error(r)}function Ft(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||p2(e,s,r)}function rt(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends La{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ba{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class m2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Qr.UNAUTHENTICATED)))}shutdown(){}}class E7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class C7{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ft(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let i=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ba,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},l=u=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ba)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new m2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Qr(e)}}class P7{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k7{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new P7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Qr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ft(this.o===void 0,3512);const r=i=>{i.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ft(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Gk(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function A7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class uS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=A7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function _t(n,e){return n<e?-1:n>e?1:0}function eb(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return Ex(s)===Ex(i)?_t(s,i):Ex(s)?1:-1}return _t(n.length,e.length)}const I7=55296,N7=57343;function Ex(n){const e=n.charCodeAt(0);return e>=I7&&e<=N7}function Xd(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const Yk="__name__";class Eo{constructor(e,t,r){t===void 0?t=0:t>e.length&&He(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&He(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Eo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Eo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Eo.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return _t(e.length,t.length)}static compareSegments(e,t){const r=Eo.isNumericId(e),s=Eo.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Eo.extractNumericId(e).compare(Eo.extractNumericId(t)):eb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Al.fromString(e.substring(4,e.length-2))}}class tn extends Eo{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new tn(t)}static emptyPath(){return new tn([])}}const D7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Eo{construct(e,t,r){return new Mr(e,t,r)}static isValidIdentifier(e){return D7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yk}static keyField(){return new Mr([Yk])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(tn.fromString(e))}static fromName(e){return new $e(tn.fromString(e).popFirst(5))}static empty(){return new $e(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new tn(e.slice()))}}function g2(n,e,t){if(!t)throw new Se(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function j7(n,e,t,r){if(e===!0&&r===!0)throw new Se(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qk(n){if(!$e.isDocumentKey(n))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Xk(n){if($e.isDocumentKey(n))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function y2(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Xv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":He(12329,{type:typeof n})}function to(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xv(n);throw new Se(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Zn(n,e){const t={typeString:n};return e&&(t.value=e),t}function rm(n,e){if(!y2(n))throw new Se(de.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(s&&typeof o!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new Se(de.INVALID_ARGUMENT,t);return!0}const Jk=-62135596800,Zk=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Zk);return new ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jk)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zk}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rm(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Zn("string",ht._jsonSchemaVersion),seconds:Zn("number"),nanoseconds:Zn("number")};class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new ht(0,0))}static max(){return new tt(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xp=-1;function O7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=tt.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new zl(s,$e.empty(),e)}function M7(n){return new zl(n.readTime,n.key,xp)}class zl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zl(tt.min(),$e.empty(),xp)}static max(){return new zl(tt.max(),$e.empty(),xp)}}function L7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$e.comparator(n.documentKey,e.documentKey),t!==0?t:_t(n.largestBatchId,e.largestBatchId))}const V7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Th(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==V7)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):he.reject(t)}static resolve(e){return new he(((t,r)=>{t(e)}))}static reject(e){return new he(((t,r)=>{r(e)}))}static waitFor(e){return new he(((t,r)=>{let s=0,i=0,o=!1;e.forEach((l=>{++s,l.next((()=>{++i,o&&i===s&&t()}),(u=>r(u)))})),o=!0,i===s&&t()}))}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next((s=>s?he.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new he(((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;t(e[d]).next((h=>{o[d]=h,++l,l===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,t){return new he(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}function z7(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Eh(n){return n.name==="IndexedDbTransactionError"}class Jv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jv.ce=-1;const dS=-1;function Zv(n){return n==null}function Gy(n){return n===0&&1/n==-1/0}function U7(n){return typeof n=="number"&&Number.isInteger(n)&&!Gy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const v2="";function $7(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eR(e)),e=B7(n.get(t),e);return eR(e)}function B7(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case v2:t+="";break;default:t+=i}}return t}function eR(n){return n+v2+""}function tR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function w2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class En{constructor(e,t){this.comparator=e,this.root=t||Or.EMPTY}insert(e,t){return new En(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pg(this.root,e,this.comparator,!0)}}class Pg{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Or{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Or.RED,this.left=s??Or.EMPTY,this.right=i??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Or(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Or.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1;Or.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Or(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nR(this.data.getIterator())}getIteratorFrom(e){return new nR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new lr(this.comparator);return t.data=e,t}}class nR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new ai([])}unionWith(e){let t=new lr(Mr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xd(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class x2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new x2("Invalid base64 string: "+i):i}})(e);return new Ur(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new Ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const W7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ul(n){if(Ft(!!n,39018),typeof n=="string"){let e=0;const t=W7.exec(n);if(Ft(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:On(n.seconds),nanos:On(n.nanos)}}function On(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $l(n){return typeof n=="string"?Ur.fromBase64String(n):Ur.fromUint8Array(n)}const _2="server_timestamp",b2="__type__",S2="__previous_value__",T2="__local_write_time__";function hS(n){return(n?.mapValue?.fields||{})[b2]?.stringValue===_2}function ew(n){const e=n.mapValue.fields[S2];return hS(e)?ew(e):e}function _p(n){const e=Ul(n.mapValue.fields[T2].timestampValue);return new ht(e.seconds,e.nanos)}class q7{constructor(e,t,r,s,i,o,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const Yy="(default)";class bp{constructor(e,t){this.projectId=e,this.database=t||Yy}static empty(){return new bp("","")}get isDefaultDatabase(){return this.database===Yy}isEqual(e){return e instanceof bp&&e.projectId===this.projectId&&e.database===this.database}}const E2="__type__",H7="__max__",kg={mapValue:{}},C2="__vector__",Qy="value";function Bl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hS(n)?4:G7(n)?9007199254740991:K7(n)?10:11:He(28295,{value:n})}function Go(n,e){if(n===e)return!0;const t=Bl(n);if(t!==Bl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _p(n).isEqual(_p(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ul(s.timestampValue),l=Ul(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return $l(s.bytesValue).isEqual($l(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return On(s.geoPointValue.latitude)===On(i.geoPointValue.latitude)&&On(s.geoPointValue.longitude)===On(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return On(s.integerValue)===On(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=On(s.doubleValue),l=On(i.doubleValue);return o===l?Gy(o)===Gy(l):isNaN(o)&&isNaN(l)}return!1})(n,e);case 9:return Xd(n.arrayValue.values||[],e.arrayValue.values||[],Go);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(tR(o)!==tR(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Go(o[u],l[u])))return!1;return!0})(n,e);default:return He(52216,{left:n})}}function Sp(n,e){return(n.values||[]).find((t=>Go(t,e)))!==void 0}function Jd(n,e){if(n===e)return 0;const t=Bl(n),r=Bl(e);if(t!==r)return _t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _t(n.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=On(i.integerValue||i.doubleValue),u=On(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(n,e);case 3:return rR(n.timestampValue,e.timestampValue);case 4:return rR(_p(n),_p(e));case 5:return eb(n.stringValue,e.stringValue);case 6:return(function(i,o){const l=$l(i),u=$l(o);return l.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const h=_t(l[d],u[d]);if(h!==0)return h}return _t(l.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=_t(On(i.latitude),On(o.latitude));return l!==0?l:_t(On(i.longitude),On(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return sR(n.arrayValue,e.arrayValue);case 10:return(function(i,o){const l=i.fields||{},u=o.fields||{},d=l[Qy]?.arrayValue,h=u[Qy]?.arrayValue,m=_t(d?.values?.length||0,h?.values?.length||0);return m!==0?m:sR(d,h)})(n.mapValue,e.mapValue);case 11:return(function(i,o){if(i===kg.mapValue&&o===kg.mapValue)return 0;if(i===kg.mapValue)return 1;if(o===kg.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const v=eb(u[m],h[m]);if(v!==0)return v;const w=Jd(l[u[m]],d[h[m]]);if(w!==0)return w}return _t(u.length,h.length)})(n.mapValue,e.mapValue);default:throw He(23264,{he:t})}}function rR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _t(n,e);const t=Ul(n),r=Ul(e),s=_t(t.seconds,r.seconds);return s!==0?s:_t(t.nanos,r.nanos)}function sR(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Jd(t[s],r[s]);if(i)return i}return _t(t.length,r.length)}function Zd(n){return tb(n)}function tb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ul(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $l(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return $e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=tb(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${tb(t.fields[o])}`;return s+"}"})(n.mapValue):He(61005,{value:n})}function ly(n){switch(Bl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ew(n);return e?16+ly(e):16;case 5:return 2*n.stringValue.length;case 6:return $l(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+ly(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Zl(r.fields,((i,o)=>{s+=i.length+ly(o)})),s})(n.mapValue);default:throw He(13486,{value:n})}}function iR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nb(n){return!!n&&"integerValue"in n}function fS(n){return!!n&&"arrayValue"in n}function oR(n){return!!n&&"nullValue"in n}function aR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cy(n){return!!n&&"mapValue"in n}function K7(n){return(n?.mapValue?.fields||{})[E2]?.stringValue===C2}function $f(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Zl(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=$f(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$f(n.arrayValue.values[t]);return e}return{...n}}function G7(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===H7}class Os{constructor(e){this.value=e}static empty(){return new Os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$f(t)}setAll(e){let t=Mr.emptyPath(),r={},s=[];e.forEach(((o,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,r,s),r={},s=[],t=l.popLast()}o?r[l.lastSegment()]=$f(o):s.push(l.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());cy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Go(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];cy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Zl(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Os($f(this.value))}}function P2(n){const e=[];return Zl(n.fields,((t,r)=>{const s=new Mr([t]);if(cy(r)){const i=P2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new ai(e)}class Jr{constructor(e,t,r,s,i,o,l){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Jr(e,0,tt.min(),tt.min(),tt.min(),Os.empty(),0)}static newFoundDocument(e,t,r,s){return new Jr(e,1,t,tt.min(),r,s,0)}static newNoDocument(e,t){return new Jr(e,2,t,tt.min(),tt.min(),Os.empty(),0)}static newUnknownDocument(e,t){return new Jr(e,3,t,tt.min(),tt.min(),Os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xy{constructor(e,t){this.position=e,this.inclusive=t}}function lR(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=$e.comparator($e.fromName(o.referenceValue),t.key):r=Jd(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function cR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Go(n.position[t],e.position[t]))return!1;return!0}class Tp{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class k2{}class Jn extends k2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new X7(e,t,r):t==="array-contains"?new eH(e,r):t==="in"?new tH(e,r):t==="not-in"?new nH(e,r):t==="array-contains-any"?new rH(e,r):new Jn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new J7(e,r):new Z7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jd(t,this.value)):t!==null&&Bl(this.value)===Bl(t)&&this.matchesComparison(Jd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class no extends k2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new no(e,t)}matches(e){return R2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R2(n){return n.op==="and"}function A2(n){return Q7(n)&&R2(n)}function Q7(n){for(const e of n.filters)if(e instanceof no)return!1;return!0}function rb(n){if(n instanceof Jn)return n.field.canonicalString()+n.op.toString()+Zd(n.value);if(A2(n))return n.filters.map((e=>rb(e))).join(",");{const e=n.filters.map((t=>rb(t))).join(",");return`${n.op}(${e})`}}function I2(n,e){return n instanceof Jn?(function(r,s){return s instanceof Jn&&r.op===s.op&&r.field.isEqual(s.field)&&Go(r.value,s.value)})(n,e):n instanceof no?(function(r,s){return s instanceof no&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,l)=>i&&I2(o,s.filters[l])),!0):!1})(n,e):void He(19439)}function N2(n){return n instanceof Jn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zd(t.value)}`})(n):n instanceof no?(function(t){return t.op.toString()+" {"+t.getFilters().map(N2).join(" ,")+"}"})(n):"Filter"}class X7 extends Jn{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class J7 extends Jn{constructor(e,t){super(e,"in",t),this.keys=D2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Z7 extends Jn{constructor(e,t){super(e,"not-in",t),this.keys=D2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function D2(n,e){return(e.arrayValue?.values||[]).map((t=>$e.fromName(t.referenceValue)))}class eH extends Jn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fS(t)&&Sp(t.arrayValue,this.value)}}class tH extends Jn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sp(this.value.arrayValue,t)}}class nH extends Jn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Sp(this.value.arrayValue,t)}}class rH extends Jn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fS(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Sp(this.value.arrayValue,r)))}}class sH{constructor(e,t=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function uR(n,e=null,t=[],r=[],s=null,i=null,o=null){return new sH(n,e,t,r,s,i,o)}function pS(n){const e=rt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>rb(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Zv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Zd(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Zd(r))).join(",")),e.Te=t}return e.Te}function mS(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Y7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!I2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cR(n.startAt,e.startAt)&&cR(n.endAt,e.endAt)}function sb(n){return $e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Ch{constructor(e,t=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iH(n,e,t,r,s,i,o,l){return new Ch(n,e,t,r,s,i,o,l)}function gS(n){return new Ch(n)}function dR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function j2(n){return n.collectionGroup!==null}function Bf(n){const e=rt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new lr(Mr.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Tp(i,r))})),t.has(Mr.keyField().canonicalString())||e.Ie.push(new Tp(Mr.keyField(),r))}return e.Ie}function Fo(n){const e=rt(n);return e.Ee||(e.Ee=oH(e,Bf(n))),e.Ee}function oH(n,e){if(n.limitType==="F")return uR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Tp(s.field,i)}));const t=n.endAt?new Xy(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xy(n.startAt.position,n.startAt.inclusive):null;return uR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ib(n,e){const t=n.filters.concat([e]);return new Ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ob(n,e,t){return new Ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tw(n,e){return mS(Fo(n),Fo(e))&&n.limitType===e.limitType}function O2(n){return`${pS(Fo(n))}|lt:${n.limitType}`}function ud(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>N2(s))).join(", ")}]`),Zv(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Zd(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Zd(s))).join(",")),`Target(${r})`})(Fo(n))}; limitType=${n.limitType})`}function nw(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):$e.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Bf(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(o,l,u){const d=lR(o,l,u);return o.inclusive?d<=0:d<0})(r.startAt,Bf(r),s)||r.endAt&&!(function(o,l,u){const d=lR(o,l,u);return o.inclusive?d>=0:d>0})(r.endAt,Bf(r),s))})(n,e)}function aH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function M2(n){return(e,t)=>{let r=!1;for(const s of Bf(n)){const i=lH(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function lH(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):(function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?Jd(u,d):He(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:n.dir})}}class xu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zl(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return w2(this.inner)}size(){return this.innerSize}}const cH=new En($e.comparator);function Ra(){return cH}const L2=new En($e.comparator);function Pf(...n){let e=L2;for(const t of n)e=e.insert(t.key,t);return e}function V2(n){let e=L2;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function jc(){return Wf()}function F2(){return Wf()}function Wf(){return new xu((n=>n.toString()),((n,e)=>n.isEqual(e)))}const uH=new En($e.comparator),dH=new lr($e.comparator);function bt(...n){let e=dH;for(const t of n)e=e.add(t);return e}const hH=new lr(_t);function fH(){return hH}function yS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gy(e)?"-0":e}}function z2(n){return{integerValue:""+n}}function pH(n,e){return U7(e)?z2(e):yS(n,e)}class rw{constructor(){this._=void 0}}function mH(n,e,t){return n instanceof Jy?(function(s,i){const o={fields:{[b2]:{stringValue:_2},[T2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&hS(i)&&(i=ew(i)),i&&(o.fields[S2]=i),{mapValue:o}})(t,e):n instanceof Ep?$2(n,e):n instanceof Cp?B2(n,e):(function(s,i){const o=U2(s,i),l=hR(o)+hR(s.Ae);return nb(o)&&nb(s.Ae)?z2(l):yS(s.serializer,l)})(n,e)}function gH(n,e,t){return n instanceof Ep?$2(n,e):n instanceof Cp?B2(n,e):t}function U2(n,e){return n instanceof Zy?(function(r){return nb(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Jy extends rw{}class Ep extends rw{constructor(e){super(),this.elements=e}}function $2(n,e){const t=W2(e);for(const r of n.elements)t.some((s=>Go(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Cp extends rw{constructor(e){super(),this.elements=e}}function B2(n,e){let t=W2(e);for(const r of n.elements)t=t.filter((s=>!Go(s,r)));return{arrayValue:{values:t}}}class Zy extends rw{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function hR(n){return On(n.integerValue||n.doubleValue)}function W2(n){return fS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function yH(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Ep&&s instanceof Ep||r instanceof Cp&&s instanceof Cp?Xd(r.elements,s.elements,Go):r instanceof Zy&&s instanceof Zy?Go(r.Ae,s.Ae):r instanceof Jy&&s instanceof Jy})(n.transform,e.transform)}class vH{constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sw{}function q2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vS(n.key,Ii.none()):new sm(n.key,n.data,Ii.none());{const t=n.data,r=Os.empty();let s=new lr(Mr.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ec(n.key,r,new ai(s.toArray()),Ii.none())}}function wH(n,e,t){n instanceof sm?(function(s,i,o){const l=s.value.clone(),u=pR(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(n,e,t):n instanceof ec?(function(s,i,o){if(!uy(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=pR(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(H2(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,e,t):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function qf(n,e,t,r){return n instanceof sm?(function(i,o,l,u){if(!uy(i.precondition,o))return l;const d=i.value.clone(),h=mR(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof ec?(function(i,o,l,u){if(!uy(i.precondition,o))return l;const d=mR(i.fieldTransforms,u,o),h=o.data;return h.setAll(H2(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(i,o,l){return uy(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(n,e,t)}function xH(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=U2(r.transform,s||null);i!=null&&(t===null&&(t=Os.empty()),t.set(r.field,i))}return t||null}function fR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xd(r,s,((i,o)=>yH(i,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sm extends sw{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ec extends sw{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function H2(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function pR(n,e,t){const r=new Map;Ft(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,gH(o,l,t[s]))}return r}function mR(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,mH(i,o,e))}return r}class vS extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _H extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bH{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&wH(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=qf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=qf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=F2();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=t.has(s.key)?null:l;const u=q2(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),bt())}isEqual(e){return this.batchId===e.batchId&&Xd(this.mutations,e.mutations,((t,r)=>fR(t,r)))&&Xd(this.baseMutations,e.baseMutations,((t,r)=>fR(t,r)))}}class wS{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return uH})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new wS(e,t,r,s)}}let SH=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class TH{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wn,At;function EH(n){switch(n){case de.OK:return He(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return He(15467,{code:n})}}function K2(n){if(n===void 0)return ka("GRPC error has no .code"),de.UNKNOWN;switch(n){case Wn.OK:return de.OK;case Wn.CANCELLED:return de.CANCELLED;case Wn.UNKNOWN:return de.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return de.INTERNAL;case Wn.UNAVAILABLE:return de.UNAVAILABLE;case Wn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Wn.NOT_FOUND:return de.NOT_FOUND;case Wn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Wn.ABORTED:return de.ABORTED;case Wn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Wn.DATA_LOSS:return de.DATA_LOSS;default:return He(39323,{code:n})}}(At=Wn||(Wn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function CH(){return new TextEncoder}const PH=new Al([4294967295,4294967295],0);function gR(n){const e=CH().encode(n),t=new l2;return t.update(e),new Uint8Array(t.digest())}function yR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Al([t,r],0),new Al([s,i],0)]}class xS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new kf(`Invalid padding: ${t}`);if(r<0)throw new kf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new kf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Al.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Al.fromNumber(r)));return s.compare(PH)===1&&(s=new Al([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gR(e),[r,s]=yR(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xS(i,s,t);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const t=gR(e),[r,s]=yR(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class iw{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,im.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new iw(tt.min(),s,new En(_t),Ra(),bt())}}class im{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new im(r,t,bt(),bt(),bt())}}class dy{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class G2{constructor(e,t){this.targetId=e,this.Ce=t}}class Y2{constructor(e,t,r=Ur.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class vR{constructor(){this.ve=0,this.Fe=wR(),this.Me=Ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=bt(),t=bt(),r=bt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:He(38017,{changeType:i})}})),new im(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=wR()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ra(),this.Je=Rg(),this.He=Rg(),this.Ye=new En(_t)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(sb(i))if(r===0){const o=new $e(i.path);this.et(t,o,Jr.newNoDocument(o,tt.min()))}else Ft(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,l;try{o=$l(r).toUint8Array()}catch(u){if(u instanceof x2)return Qd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new xS(o,s,i)}catch(u){return Qd(u instanceof kf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&sb(l.target)){const u=new $e(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Jr.newNoDocument(u,e))}i.Be&&(t.set(o,i.ke()),i.qe())}}));let r=bt();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new iw(e,t,this.Ye,this.je,r);return this.je=Ra(),this.Je=Rg(),this.He=Rg(),this.Ye=new En(_t),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new vR,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new lr(_t),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new lr(_t),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vR),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rg(){return new En($e.comparator)}function wR(){return new En($e.comparator)}const RH={asc:"ASCENDING",desc:"DESCENDING"},AH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IH={and:"AND",or:"OR"};class NH{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ab(n,e){return n.useProto3Json||Zv(e)?e:{value:e}}function ev(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DH(n,e){return ev(n,e.toTimestamp())}function zo(n){return Ft(!!n,49232),tt.fromTimestamp((function(t){const r=Ul(t);return new ht(r.seconds,r.nanos)})(n))}function _S(n,e){return lb(n,e).canonicalString()}function lb(n,e){const t=(function(s){return new tn(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function X2(n){const e=tn.fromString(n);return Ft(nO(e),10190,{key:e.toString()}),e}function cb(n,e){return _S(n.databaseId,e.path)}function Cx(n,e){const t=X2(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(Z2(t))}function J2(n,e){return _S(n.databaseId,e)}function jH(n){const e=X2(n);return e.length===4?tn.emptyPath():Z2(e)}function ub(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z2(n){return Ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xR(n,e,t){return{name:cb(n,e),fields:t.value.mapValue.fields}}function OH(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:He(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(d,h){return d.useProto3Json?(Ft(h===void 0||typeof h=="string",58123),Ur.fromBase64String(h||"")):(Ft(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ur.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const h=d.code===void 0?de.UNKNOWN:K2(d.code);return new Se(h,d.message||"")})(o);t=new Y2(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cx(n,r.document.name),i=zo(r.document.updateTime),o=r.document.createTime?zo(r.document.createTime):tt.min(),l=new Os({mapValue:{fields:r.document.fields}}),u=Jr.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];t=new dy(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Cx(n,r.document),i=r.readTime?zo(r.readTime):tt.min(),o=Jr.newNoDocument(s,i),l=r.removedTargetIds||[];t=new dy([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Cx(n,r.document),i=r.removedTargetIds||[];t=new dy([],i,s,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new TH(s,i),l=r.targetId;t=new G2(l,o)}}return t}function MH(n,e){let t;if(e instanceof sm)t={update:xR(n,e.key,e.value)};else if(e instanceof vS)t={delete:cb(n,e.key)};else if(e instanceof ec)t={update:xR(n,e.key,e.data),updateMask:qH(e.fieldMask)};else{if(!(e instanceof _H))return He(16599,{Vt:e.type});t={verify:cb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const l=o.transform;if(l instanceof Jy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ep)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Cp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Zy)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw He(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:DH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:He(27497)})(n,e.precondition)),t}function LH(n,e){return n&&n.length>0?(Ft(e!==void 0,14353),n.map((t=>(function(s,i){let o=s.updateTime?zo(s.updateTime):zo(i);return o.isEqual(tt.min())&&(o=zo(i)),new vH(o,s.transformResults||[])})(t,e)))):[]}function VH(n,e){return{documents:[J2(n,e.path)]}}function FH(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=J2(n,s);const i=(function(d){if(d.length!==0)return tO(no.create(d,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const o=(function(d){if(d.length!==0)return d.map((h=>(function(v){return{field:dd(v.field),direction:$H(v.dir)}})(h)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=ab(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function zH(n){let e=jH(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ft(r===1,65062);const h=t.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=(function(m){const v=eO(m);return v instanceof no&&A2(v)?v.getFilters():[v]})(t.where));let o=[];t.orderBy&&(o=(function(m){return m.map((v=>(function(T){return new Tp(hd(T.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(t.orderBy));let l=null;t.limit&&(l=(function(m){let v;return v=typeof m=="object"?m.value:m,Zv(v)?null:v})(t.limit));let u=null;t.startAt&&(u=(function(m){const v=!!m.before,w=m.values||[];return new Xy(w,v)})(t.startAt));let d=null;return t.endAt&&(d=(function(m){const v=!m.before,w=m.values||[];return new Xy(w,v)})(t.endAt)),iH(e,s,o,i,l,"F",u,d)}function UH(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eO(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=hd(t.unaryFilter.field);return Jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=hd(t.unaryFilter.field);return Jn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hd(t.unaryFilter.field);return Jn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hd(t.unaryFilter.field);return Jn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Jn.create(hd(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return no.create(t.compositeFilter.filters.map((r=>eO(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(t.compositeFilter.op))})(n):He(30097,{filter:n})}function $H(n){return RH[n]}function BH(n){return AH[n]}function WH(n){return IH[n]}function dd(n){return{fieldPath:n.canonicalString()}}function hd(n){return Mr.fromServerFormat(n.fieldPath)}function tO(n){return n instanceof Jn?(function(t){if(t.op==="=="){if(aR(t.value))return{unaryFilter:{field:dd(t.field),op:"IS_NAN"}};if(oR(t.value))return{unaryFilter:{field:dd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aR(t.value))return{unaryFilter:{field:dd(t.field),op:"IS_NOT_NAN"}};if(oR(t.value))return{unaryFilter:{field:dd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dd(t.field),op:BH(t.op),value:t.value}}})(n):n instanceof no?(function(t){const r=t.getFilters().map((s=>tO(s)));return r.length===1?r[0]:{compositeFilter:{op:WH(t.op),filters:r}}})(n):He(54877,{filter:n})}function qH(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class yl{constructor(e,t,r,s,i=tt.min(),o=tt.min(),l=Ur.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HH{constructor(e){this.yt=e}}function KH(n){const e=zH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ob(e,e.limit,"L"):e}class GH{constructor(){this.Cn=new YH}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(zl.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(zl.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class YH{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new lr(tn.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new lr(tn.comparator)).toArray()}}const _R={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rO=41943040;class Ds{static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(rO,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);class eh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eh(0)}static cr(){return new eh(-1)}}const bR="LruGarbageCollector",QH=1048576;function SR([n,e],[t,r]){const s=_t(n,t);return s===0?_t(e,r):s}class XH{constructor(e){this.Ir=e,this.buffer=new lr(SR),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();SR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JH{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(bR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Eh(t)?Ce(bR,"Ignoring IndexedDB error during garbage collection: ",t):await Th(t)}await this.Vr(3e5)}))}}class ZH{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Jv.ce);const r=new XH(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(_R)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_R):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,o,l,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,t)))).next((m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),cd()<=xt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function eK(n,e){return new ZH(n,e)}class tK{constructor(){this.changes=new xu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nK{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rK{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&qf(r.mutation,s,ai.empty(),ht.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,bt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=bt()){const s=jc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let o=Pf();return i.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=jc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,bt())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,l)=>{t.set(o,l)}))}))}computeViews(e,t,r,s){let i=Ra();const o=Wf(),l=(function(){return Wf()})();return t.forEach(((u,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ec)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),qf(h.mutation,d,h.mutation.getFieldMask(),ht.now())):o.set(d.key,ai.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((d,h)=>o.set(d,h))),t.forEach(((d,h)=>l.set(d,new nK(h,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,t){const r=Wf();let s=new En(((o,l)=>o-l)),i=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const l of o)l.keys().forEach((u=>{const d=t.get(u);if(d===null)return;let h=r.get(u)||ai.empty();h=l.applyToLocalView(d,h),r.set(u,h);const m=(s.get(l.batchId)||bt()).add(u);s=s.insert(l.batchId,m)}))})).next((()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,h=u.value,m=F2();h.forEach((v=>{if(!i.has(v)){const w=q2(t.get(v),r.get(v));w!==null&&m.set(v,w),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return he.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(o){return $e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):he.resolve(jc());let l=xp,u=i;return o.next((d=>he.forEach(d,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(h)?he.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{u=u.insert(h,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,u,d,bt()))).next((h=>({batchId:l,changes:V2(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next((r=>{let s=Pf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Pf();return this.indexManager.getCollectionParents(e,i).next((l=>he.forEach(l,(u=>{const d=(function(m,v){return new Ch(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((h=>{h.forEach(((m,v)=>{o=o.insert(m,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((o=>{i.forEach(((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Jr.newInvalidDocument(h)))}));let l=Pf();return o.forEach(((u,d)=>{const h=i.get(u);h!==void 0&&qf(h.mutation,d,ai.empty(),ht.now()),nw(t,d)&&(l=l.insert(u,d))})),l}))}}class sK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return he.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:zo(s.createTime)}})(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:KH(s.bundledQuery),readTime:zo(s.readTime)}})(t)),he.resolve()}}class iK{constructor(){this.overlays=new En($e.comparator),this.qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=jc();return he.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),he.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const s=jc(),i=t.length+1,o=new $e(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return he.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new En(((d,h)=>d-h));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=jc(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=jc(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,h)=>l.set(d,h))),!(l.size()>=s)););return he.resolve(l)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SH(t,r));let i=this.qr.get(t);i===void 0&&(i=bt(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}class oK{constructor(){this.sessionToken=Ur.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}class bS{constructor(){this.Qr=new lr(wr.$r),this.Ur=new lr(wr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new wr(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new wr(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new $e(new tn([])),r=new wr(t,e),s=new wr(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new $e(new tn([])),r=new wr(t,e),s=new wr(t,e+1);let i=bt();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const t=new wr(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class wr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return $e.comparator(e.key,t.key)||_t(e.Yr,t.Yr)}static Kr(e,t){return _t(e.Yr,t.Yr)||$e.comparator(e.key,t.key)}}class aK{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new lr(wr.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bH(i,t,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new wr(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,t){return he.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return he.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?dS:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wr(t,0),s=new wr(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const l=this.Xr(o.Yr);i.push(l)})),he.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(_t);return t.forEach((s=>{const i=new wr(s,0),o=new wr(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{r=r.add(l.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;$e.isDocumentKey(i)||(i=i.child(""));const o=new wr(new $e(i),0);let l=new lr(_t);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.Yr)),!0)}),o),he.resolve(this.ti(l))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ft(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(t.mutations,(s=>{const i=new wr(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new wr(t,0),s=this.Zr.firstAfterOrEqual(r);return he.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lK{constructor(e){this.ri=e,this.docs=(function(){return new En($e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(t))}getEntries(e,t){let r=Ra();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Jr.newInvalidDocument(s))})),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Ra();const o=t.path,l=new $e(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||L7(M7(h),r)<=0||(s.has(h.key)||nw(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return he.resolve(i)}getAllFromCollectionGroup(e,t,r,s){He(9500)}ii(e,t){return he.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new cK(this)}getSize(e){return he.resolve(this.size)}}class cK extends tK{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),he.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class uK{constructor(e){this.persistence=e,this.si=new xu((t=>pS(t)),mS),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new bS,this.targetCount=0,this.ai=eh.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),he.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new eh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Pr(t),he.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)})),he.waitFor(i).next((()=>s))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),he.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this._i.containsKey(t))}}class sO{constructor(e,t){this.ui={},this.overlays={},this.ci=new Jv(0),this.li=!1,this.li=!0,this.hi=new oK,this.referenceDelegate=e(this),this.Pi=new uK(this),this.indexManager=new GH,this.remoteDocumentCache=(function(s){return new lK(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new HH(t),this.Ii=new sK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iK,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new aK(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ce("MemoryPersistence","Starting transaction:",e);const s=new dK(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class dK extends F7{constructor(e){super(),this.currentSequenceNumber=e}}class SS{constructor(e){this.persistence=e,this.Ri=new bS,this.Vi=null}static mi(e){return new SS(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const s=$e.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,tt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class tv{constructor(e,t){this.persistence=e,this.pi=new xu((r=>$7(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=eK(this,t)}static mi(e,t){return new tv(e,t)}Ei(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return he.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?he.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,t).next((l=>{l||(r++,i.removeEntry(o,tt.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ly(e.data.value)),t}br(e,t,r){return he.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return he.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class TS{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=bt(),s=bt();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new TS(e,t.fromCache,r,s)}}class hK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fK{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return r8()?8:z7(rs())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new hK;return this.Ss(e,t,o).next((l=>{if(i.result=l,this.Vs)return this.bs(e,t,o,l.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(cd()<=xt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",ud(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(cd()<=xt.DEBUG&&Ce("QueryEngine","Query:",ud(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(cd()<=xt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",ud(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fo(t))):he.resolve())}ys(e,t){if(dR(t))return he.resolve(null);let r=Fo(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=ob(t,null,"F"),r=Fo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=bt(...i);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(t,l);return this.Cs(t,d,o,u.readTime)?this.ys(e,ob(t,null,"F")):this.vs(e,d,t,u)}))))})))))}ws(e,t,r,s){return dR(t)||s.isEqual(tt.min())?he.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(t,i);return this.Cs(t,o,r,s)?he.resolve(null):(cd()<=xt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ud(t)),this.vs(e,o,t,O7(s,xp)).next((l=>l)))}))}Ds(e,t){let r=new lr(M2(e));return t.forEach(((s,i)=>{nw(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return cd()<=xt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",ud(t)),this.ps.getDocumentsMatchingQuery(e,t,zl.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const ES="LocalStore",pK=3e8;class mK{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new En(_t),this.xs=new xu((i=>pS(i)),mS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rK(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function gK(n,e,t,r){return new mK(n,e,t,r)}async function iO(n,e){const t=rt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],l=[];let u=bt();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function yK(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,h){const m=d.batch,v=m.keys();let w=he.resolve();return v.forEach((T=>{w=w.next((()=>h.getEntry(u,T))).next((x=>{const S=d.docVersions.get(T);Ft(S!==null,48541),x.version.compareTo(S)<0&&(m.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))}))})),w.next((()=>l.mutationQueue.removeMutationBatch(u,m)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=bt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function oO(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function vK(n,e){const t=rt(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const l=[];e.targetChanges.forEach(((h,m)=>{const v=s.get(m);if(!v)return;l.push(t.Pi.removeMatchingKeys(i,h.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,h.addedDocuments,m))));let w=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(Ur.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),s=s.insert(m,w),(function(x,S,R){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=pK?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(v,w,h)&&l.push(t.Pi.updateTargetData(i,w))}));let u=Ra(),d=bt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))})),l.push(wK(i,o,e.documentUpdates).next((h=>{u=h.ks,d=h.qs}))),!r.isEqual(tt.min())){const h=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(h)}return he.waitFor(l).next((()=>o.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,u,d))).next((()=>u))})).then((i=>(t.Ms=s,i)))}function wK(n,e,t){let r=bt(),s=bt();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let o=Ra();return t.forEach(((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(tt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Ce(ES,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:s}}))}function xK(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=dS),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _K(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,he.resolve(s)):t.Pi.allocateTargetId(r).next((o=>(s=new yl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function db(n,e,t){const r=rt(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Eh(o))throw o;Ce(ES,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function TR(n,e,t){const r=rt(n);let s=tt.min(),i=bt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,h){const m=rt(u),v=m.xs.get(h);return v!==void 0?he.resolve(m.Ms.get(v)):m.Pi.getTargetData(d,h)})(r,o,Fo(e)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{i=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,t?s:tt.min(),t?i:bt()))).next((l=>(bK(r,aH(e),l),{documents:l,Qs:i})))))}function bK(n,e,t){let r=n.Os.get(e)||tt.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class ER{constructor(){this.activeTargetIds=fH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SK{constructor(){this.Mo=new ER,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ER,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TK{Oo(e){}shutdown(){}}const CR="ConnectivityMonitor";class PR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(CR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(CR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ag=null;function hb(){return Ag===null?Ag=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ag++,"0x"+Ag.toString(16)}const Px="RestConnection",EK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Yy?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const o=hb(),l=this.zo(e,t.toUriEncodedString());Ce(Px,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(l),h=xh(d);return this.Jo(e,l,u,r,h).then((m=>(Ce(Px,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw Qd(Px,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m}))}Ho(e,t,r,s,i,o){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=EK[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class PK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Gr="WebChannelConnection";class kK extends CK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const o=hb();return new Promise(((l,u)=>{const d=new c2;d.setWithCredentials(!0),d.listenOnce(u2.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ay.NO_ERROR:const m=d.getResponseJson();Ce(Gr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case ay.TIMEOUT:Ce(Gr,`RPC '${e}' ${o} timed out`),u(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case ay.HTTP_ERROR:const v=d.getStatus();if(Ce(Gr,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w?.error;if(T&&T.status&&T.message){const x=(function(R){const k=R.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(k)>=0?k:de.UNKNOWN})(T.status);u(new Se(x,T.message))}else u(new Se(de.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Se(de.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ce(Gr,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);Ce(Gr,`RPC '${e}' ${o} sending request:`,s),d.send(t,"POST",h,r,15)}))}T_(e,t,r){const s=hb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=f2(),l=h2(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const h=i.join("");Ce(Gr,`Creating RPC '${e}' stream ${s}: ${h}`,u);const m=o.createWebChannel(h,u);this.I_(m);let v=!1,w=!1;const T=new PK({Yo:S=>{w?Ce(Gr,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(v||(Ce(Gr,`Opening RPC '${e}' stream ${s} transport.`),m.open(),v=!0),Ce(Gr,`RPC '${e}' stream ${s} sending:`,S),m.send(S))},Zo:()=>m.close()}),x=(S,R,k)=>{S.listen(R,(j=>{try{k(j)}catch(I){setTimeout((()=>{throw I}),0)}}))};return x(m,Cf.EventType.OPEN,(()=>{w||(Ce(Gr,`RPC '${e}' stream ${s} transport opened.`),T.o_())})),x(m,Cf.EventType.CLOSE,(()=>{w||(w=!0,Ce(Gr,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(m))})),x(m,Cf.EventType.ERROR,(S=>{w||(w=!0,Qd(Gr,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),T.a_(new Se(de.UNAVAILABLE,"The operation could not be completed")))})),x(m,Cf.EventType.MESSAGE,(S=>{if(!w){const R=S.data[0];Ft(!!R,16349);const k=R,j=k?.error||k[0]?.error;if(j){Ce(Gr,`RPC '${e}' stream ${s} received error:`,j);const I=j.status;let L=(function(A){const D=Wn[A];if(D!==void 0)return K2(D)})(I),z=j.message;L===void 0&&(L=de.INTERNAL,z="Unknown error status: "+I+" with message "+j.message),w=!0,T.a_(new Se(L,z)),m.close()}else Ce(Gr,`RPC '${e}' stream ${s} received:`,R),T.u_(R)}})),x(l,d2.STAT_EVENT,(S=>{S.stat===Z_.PROXY?Ce(Gr,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Z_.NOPROXY&&Ce(Gr,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function kx(){return typeof document<"u"?document:null}function ow(n){return new NH(n,!0)}class aO{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kR="PersistentStream";class lO{constructor(e,t,r,s,i,o,l,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aO(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(ka(t.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Se(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(kR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ce(kR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RK extends lO{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=OH(this.serializer,e),r=(function(i){if(!("targetChange"in i))return tt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?tt.min():o.readTime?zo(o.readTime):tt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=ub(this.serializer),t.addTarget=(function(i,o){let l;const u=o.target;if(l=sb(u)?{documents:VH(i,u)}:{query:FH(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Q2(i,o.resumeToken);const d=ab(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(tt.min())>0){l.readTime=ev(i,o.snapshotVersion.toTimestamp());const d=ab(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=UH(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=ub(this.serializer),t.removeTarget=e,this.q_(t)}}class AK extends lO{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=LH(e.writeResults,e.commitTime),r=zo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=ub(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>MH(this.serializer,r)))};this.q_(t)}}class IK{}class NK extends IK{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,lb(t,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(de.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,lb(t,r),s,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(de.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DK{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ka(t),this.aa=!1):Ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const cu="RemoteStore";class jK{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{_u(this)&&(Ce(cu,"Restarting streams for network reachability change."),await(async function(u){const d=rt(u);d.Ea.add(4),await om(d),d.Ra.set("Unknown"),d.Ea.delete(4),await aw(d)})(this))}))})),this.Ra=new DK(r,s)}}async function aw(n){if(_u(n))for(const e of n.da)await e(!0)}async function om(n){for(const e of n.da)await e(!1)}function cO(n,e){const t=rt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),RS(t)?kS(t):Ph(t).O_()&&PS(t,e))}function CS(n,e){const t=rt(n),r=Ph(t);t.Ia.delete(e),r.O_()&&uO(t,e),t.Ia.size===0&&(r.O_()?r.L_():_u(t)&&t.Ra.set("Unknown"))}function PS(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ph(n).Y_(e)}function uO(n,e){n.Va.Ue(e),Ph(n).Z_(e)}function kS(n){n.Va=new kH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ph(n).start(),n.Ra.ua()}function RS(n){return _u(n)&&!Ph(n).x_()&&n.Ia.size>0}function _u(n){return rt(n).Ea.size===0}function dO(n){n.Va=void 0}async function OK(n){n.Ra.set("Online")}async function MK(n){n.Ia.forEach(((e,t)=>{PS(n,e)}))}async function LK(n,e){dO(n),RS(n)?(n.Ra.ha(e),kS(n)):n.Ra.set("Unknown")}async function VK(n,e,t){if(n.Ra.set("Online"),e instanceof Y2&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))})(n,e)}catch(r){Ce(cu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nv(n,r)}else if(e instanceof dy?n.Va.Ze(e):e instanceof G2?n.Va.st(e):n.Va.tt(e),!t.isEqual(tt.min()))try{const r=await oO(n.localStore);t.compareTo(r)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,d)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(Ur.EMPTY_BYTE_STRING,h.snapshotVersion)),uO(i,u);const m=new yl(h.target,u,d,h.sequenceNumber);PS(i,m)})),i.remoteSyncer.applyRemoteEvent(l)})(n,t)}catch(r){Ce(cu,"Failed to raise snapshot:",r),await nv(n,r)}}async function nv(n,e,t){if(!Eh(e))throw e;n.Ea.add(1),await om(n),n.Ra.set("Offline"),t||(t=()=>oO(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ce(cu,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await aw(n)}))}function hO(n,e){return e().catch((t=>nv(n,t,e)))}async function lw(n){const e=rt(n),t=Wl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dS;for(;FK(e);)try{const s=await xK(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,zK(e,s)}catch(s){await nv(e,s)}fO(e)&&pO(e)}function FK(n){return _u(n)&&n.Ta.length<10}function zK(n,e){n.Ta.push(e);const t=Wl(n);t.O_()&&t.X_&&t.ea(e.mutations)}function fO(n){return _u(n)&&!Wl(n).x_()&&n.Ta.length>0}function pO(n){Wl(n).start()}async function UK(n){Wl(n).ra()}async function $K(n){const e=Wl(n);for(const t of n.Ta)e.ea(t.mutations)}async function BK(n,e,t){const r=n.Ta.shift(),s=wS.from(r,e,t);await hO(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await lw(n)}async function WK(n,e){e&&Wl(n).X_&&await(async function(r,s){if((function(o){return EH(o)&&o!==de.ABORTED})(s.code)){const i=r.Ta.shift();Wl(r).B_(),await hO(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await lw(r)}})(n,e),fO(n)&&pO(n)}async function RR(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),Ce(cu,"RemoteStore received new credentials");const r=_u(t);t.Ea.add(3),await om(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await aw(t)}async function qK(n,e){const t=rt(n);e?(t.Ea.delete(2),await aw(t)):e||(t.Ea.add(2),await om(t),t.Ra.set("Unknown"))}function Ph(n){return n.ma||(n.ma=(function(t,r,s){const i=rt(t);return i.sa(),new RK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:OK.bind(null,n),t_:MK.bind(null,n),r_:LK.bind(null,n),H_:VK.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),RS(n)?kS(n):n.Ra.set("Unknown")):(await n.ma.stop(),dO(n))}))),n.ma}function Wl(n){return n.fa||(n.fa=(function(t,r,s){const i=rt(t);return i.sa(),new AK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:UK.bind(null,n),r_:WK.bind(null,n),ta:$K.bind(null,n),na:BK.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await lw(n)):(await n.fa.stop(),n.Ta.length>0&&(Ce(cu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class AS{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,l=new AS(e,t,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IS(n,e){if(ka("AsyncQueue",`${e}: ${n}`),Eh(n))return new Se(de.UNAVAILABLE,`${e}: ${n}`);throw n}class kd{static emptySet(e){return new kd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=Pf(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new kd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class AR{constructor(){this.ga=new En($e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class th{constructor(e,t,r,s,i,o,l,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach((l=>{o.push({type:0,doc:l})})),new th(e,t,kd.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class HK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KK{constructor(){this.queries=IR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=rt(t),i=s.queries;s.queries=IR(),i.forEach(((o,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new Se(de.ABORTED,"Firestore shutting down"))}}function IR(){return new xu((n=>O2(n)),tw)}async function mO(n,e){const t=rt(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new HK,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const l=IS(o,`Initialization of query '${ud(e.query)}' failed`);return void e.onError(l)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&NS(t)}async function gO(n,e){const t=rt(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function GK(n,e){const t=rt(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&NS(t)}function YK(n,e,t){const r=rt(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function NS(n){n.Ca.forEach((e=>{e.next()}))}var fb,NR;(NR=fb||(fb={})).Ma="default",NR.Cache="cache";class yO{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new th(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fb.Cache}}class vO{constructor(e){this.key=e}}class wO{constructor(e){this.key=e}}class QK{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=bt(),this.mutatedKeys=bt(),this.eu=M2(e),this.tu=new kd(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new AR,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,m)=>{const v=s.get(h),w=nw(this.query,m)?m:null,T=!!v&&this.mutatedKeys.has(v.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;v&&w?v.data.isEqual(w.data)?T!==x&&(r.track({type:3,doc:w}),S=!0):this.su(v,w)||(r.track({type:2,doc:w}),S=!0,(u&&this.eu(w,u)>0||d&&this.eu(w,d)<0)&&(l=!0)):!v&&w?(r.track({type:0,doc:w}),S=!0):v&&!w&&(r.track({type:1,doc:v}),S=!0,(u||d)&&(l=!0)),S&&(w?(o=o.add(w),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,m)=>(function(w,T){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:S})}};return x(w)-x(T)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),s=s??!1;const l=t&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new th(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new wO(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new vO(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=bt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return th.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const DS="SyncEngine";class XK{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class JK{constructor(e){this.key=e,this.hu=!1}}class ZK{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new xu((l=>O2(l)),tw),this.Iu=new Map,this.Eu=new Set,this.du=new En($e.comparator),this.Au=new Map,this.Ru=new bS,this.Vu={},this.mu=new Map,this.fu=eh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eG(n,e,t=!0){const r=EO(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await xO(r,e,t,!0),s}async function tG(n,e){const t=EO(n);await xO(t,e,!0,!1)}async function xO(n,e,t,r){const s=await _K(n.localStore,Fo(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let l;return r&&(l=await nG(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&cO(n.remoteStore,s),l}async function nG(n,e,t,r,s){n.pu=(m,v,w)=>(async function(x,S,R,k){let j=S.view.ru(R);j.Cs&&(j=await TR(x.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,j))));const I=k&&k.targetChanges.get(S.targetId),L=k&&k.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(j,x.isPrimaryClient,I,L);return jR(x,S.targetId,z.au),z.snapshot})(n,m,v,w);const i=await TR(n.localStore,e,!0),o=new QK(e,i.Qs),l=o.ru(i.documents),u=im.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=o.applyChanges(l,n.isPrimaryClient,u);jR(n,t,d.au);const h=new XK(e,t,o);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function rG(n,e,t){const r=rt(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!tw(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await db(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&CS(r.remoteStore,s.targetId),pb(r,s.targetId)})).catch(Th)):(pb(r,s.targetId),await db(r.localStore,s.targetId,!0))}async function sG(n,e){const t=rt(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),CS(t.remoteStore,r.targetId))}async function iG(n,e,t){const r=hG(n);try{const s=await(function(o,l){const u=rt(o),d=ht.now(),h=l.reduce(((w,T)=>w.add(T.key)),bt());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=Ra(),x=bt();return u.Ns.getEntries(w,h).next((S=>{T=S,T.forEach(((R,k)=>{k.isValidDocument()||(x=x.add(R))}))})).next((()=>u.localDocuments.getOverlayedDocuments(w,T))).next((S=>{m=S;const R=[];for(const k of l){const j=xH(k,m.get(k.key).overlayedDocument);j!=null&&R.push(new ec(k.key,j,P2(j.value.mapValue),Ii.exists(!0)))}return u.mutationQueue.addMutationBatch(w,d,R,l)})).next((S=>{v=S;const R=S.applyToLocalDocumentSet(m,x);return u.documentOverlayCache.saveOverlays(w,S.batchId,R)}))})).then((()=>({batchId:v.batchId,changes:V2(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new En(_t)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d})(r,s.batchId,t),await am(r,s.changes),await lw(r.remoteStore)}catch(s){const i=IS(s,"Failed to persist write");t.reject(i)}}async function _O(n,e){const t=rt(n);try{const r=await vK(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=t.Au.get(i);o&&(Ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ft(o.hu,14607):s.removedDocuments.size>0&&(Ft(o.hu,42227),o.hu=!1))})),await am(t,r,e)}catch(r){await Th(r)}}function DR(n,e,t){const r=rt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)})),(function(o,l){const u=rt(o);u.onlineState=l;let d=!1;u.queries.forEach(((h,m)=>{for(const v of m.Sa)v.va(l)&&(d=!0)})),d&&NS(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oG(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new En($e.comparator);o=o.insert(i,Jr.newNoDocument(i,tt.min()));const l=bt().add(i),u=new iw(tt.min(),new Map,new En(_t),o,l);await _O(r,u),r.du=r.du.remove(i),r.Au.delete(e),jS(r)}else await db(r.localStore,e,!1).then((()=>pb(r,e,t))).catch(Th)}async function aG(n,e){const t=rt(n),r=e.batch.batchId;try{const s=await yK(t.localStore,e);SO(t,r,null),bO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await am(t,s)}catch(s){await Th(s)}}async function lG(n,e,t){const r=rt(n);try{const s=await(function(o,l){const u=rt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return u.mutationQueue.lookupMutationBatch(d,l).next((m=>(Ft(m!==null,37113),h=m.keys(),u.mutationQueue.removeMutationBatch(d,m)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>u.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);SO(r,e,t),bO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await am(r,s)}catch(s){await Th(s)}}function bO(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function SO(n,e,t){const r=rt(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function pb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||TO(n,r)}))}function TO(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(CS(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),jS(n))}function jR(n,e,t){for(const r of t)r instanceof vO?(n.Ru.addReference(r.key,e),cG(n,r)):r instanceof wO?(Ce(DS,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||TO(n,r.key)):He(19791,{wu:r})}function cG(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ce(DS,"New document in limbo: "+t),n.Eu.add(r),jS(n))}function jS(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new $e(tn.fromString(e)),r=n.fu.next();n.Au.set(r,new JK(t)),n.du=n.du.insert(t,r),cO(n.remoteStore,new yl(Fo(gS(t.path)),r,"TargetPurposeLimboResolution",Jv.ce))}}async function am(n,e,t){const r=rt(n),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{o.push(r.pu(u,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const h=d?!d.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(d){s.push(d);const h=TS.As(u.targetId,d);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,d){const h=rt(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>he.forEach(d,(v=>he.forEach(v.Es,(w=>h.persistence.referenceDelegate.addReference(m,v.targetId,w))).next((()=>he.forEach(v.ds,(w=>h.persistence.referenceDelegate.removeReference(m,v.targetId,w)))))))))}catch(m){if(!Eh(m))throw m;Ce(ES,"Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const w=h.Ms.get(v),T=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(v,x)}}})(r.localStore,i))}async function uG(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){Ce(DS,"User change. New user:",e.toKey());const r=await iO(t.localStore,e);t.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new Se(de.CANCELLED,o))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await am(t,r.Ls)}}function dG(n,e){const t=rt(n),r=t.Au.get(e);if(r&&r.hu)return bt().add(r.key);{let s=bt();const i=t.Iu.get(e);if(!i)return s;for(const o of i){const l=t.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function EO(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_O.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oG.bind(null,e),e.Pu.H_=GK.bind(null,e.eventManager),e.Pu.yu=YK.bind(null,e.eventManager),e}function hG(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lG.bind(null,e),e}class rv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ow(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return gK(this.persistence,new fK,e.initialUser,this.serializer)}Cu(e){return new sO(SS.mi,this.serializer)}Du(e){return new SK}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rv.provider={build:()=>new rv};class fG extends rv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ft(this.persistence.referenceDelegate instanceof tv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JH(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new sO((r=>tv.mi(r,t)),this.serializer)}}class mb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uG.bind(null,this.syncEngine),await qK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KK})()}createDatastore(e){const t=ow(e.databaseInfo.databaseId),r=(function(i){return new kK(i)})(e.databaseInfo);return(function(i,o,l,u){return new NK(i,o,l,u)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,o,l){return new jK(r,s,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>DR(this.syncEngine,t,0)),(function(){return PR.v()?new PR:new TK})())}createSyncEngine(e,t){return(function(s,i,o,l,u,d,h){const m=new ZK(s,i,o,l,u,d);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=rt(t);Ce(cu,"RemoteStore shutting down."),r.Ea.add(5),await om(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mb.provider={build:()=>new mb};class CO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ka("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ql="FirestoreClient";class pG{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Qr.UNAUTHENTICATED,this.clientId=uS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Ce(ql,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ce(ql,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=IS(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Rx(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(ql,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await iO(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function OR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await mG(n);Ce(ql,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>RR(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>RR(e.remoteStore,s))),n._onlineComponents=e}async function mG(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(ql,"Using user provided OfflineComponentProvider");try{await Rx(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Qd("Error using user provided cache. Falling back to memory cache: "+t),await Rx(n,new rv)}}else Ce(ql,"Using default OfflineComponentProvider"),await Rx(n,new fG(void 0));return n._offlineComponents}async function PO(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(ql,"Using user provided OnlineComponentProvider"),await OR(n,n._uninitializedComponentsProvider._online)):(Ce(ql,"Using default OnlineComponentProvider"),await OR(n,new mb))),n._onlineComponents}function gG(n){return PO(n).then((e=>e.syncEngine))}async function kO(n){const e=await PO(n),t=e.eventManager;return t.onListen=eG.bind(null,e.syncEngine),t.onUnlisten=rG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tG.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sG.bind(null,e.syncEngine),t}function yG(n,e,t={}){const r=new ba;return n.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const h=new CO({next:v=>{h.Nu(),o.enqueueAndForget((()=>gO(i,m)));const w=v.docs.has(l);!w&&v.fromCache?d.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&u&&u.source==="server"?d.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new yO(gS(l.path),h,{includeMetadataChanges:!0,qa:!0});return mO(i,m)})(await kO(n),n.asyncQueue,e,t,r))),r.promise}function vG(n,e,t={}){const r=new ba;return n.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const h=new CO({next:v=>{h.Nu(),o.enqueueAndForget((()=>gO(i,m))),v.fromCache&&u.source==="server"?d.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new yO(l,h,{includeMetadataChanges:!0,qa:!0});return mO(i,m)})(await kO(n),n.asyncQueue,e,t,r))),r.promise}function RO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const MR=new Map;const AO="firestore.googleapis.com",LR=!0;class VR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AO,this.ssl=LR}else this.host=e.host,this.ssl=e.ssl??LR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QH)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RO(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cw{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new T7;switch(r.type){case"firstParty":return new k7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=MR.get(t);r&&(Ce("ComponentProvider","Removing Datastore"),MR.delete(t),r.terminate())})(this),Promise.resolve()}}function wG(n,e,t,r={}){n=to(n,cw);const s=xh(e),i=n._getSettings(),o={...i,emulatorOptions:n._getEmulatorOptions()},l=`${e}:${t}`;s&&(Tj(`https://${l}`),Ej("Firestore",!0)),i.host!==AO&&i.host!==l&&Qd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!iu(u,o)&&(n._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Qr.MOCK_USER;else{d=G9(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Qr(m)}n._authCredentials=new E7(new m2(d,h))}}class bu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bu(this.firestore,e,this._query)}}class Vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}toJSON(){return{type:Vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(rm(t,Vn._jsonSchema))return new Vn(e,r||null,new $e(tn.fromString(t.referencePath)))}}Vn._jsonSchemaVersion="firestore/documentReference/1.0",Vn._jsonSchema={type:Zn("string",Vn._jsonSchemaVersion),referencePath:Zn("string")};class Il extends bu{constructor(e,t,r){super(e,t,gS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new $e(e))}withConverter(e){return new Il(this.firestore,e,this._path)}}function Xn(n,e,...t){if(n=zr(n),g2("collection","path",e),n instanceof cw){const r=tn.fromString(e,...t);return Xk(r),new Il(n,null,r)}{if(!(n instanceof Vn||n instanceof Il))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return Xk(r),new Il(n.firestore,null,r)}}function yt(n,e,...t){if(n=zr(n),arguments.length===1&&(e=uS.newId()),g2("doc","path",e),n instanceof cw){const r=tn.fromString(e,...t);return Qk(r),new Vn(n,null,new $e(r))}{if(!(n instanceof Vn||n instanceof Il))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return Qk(r),new Vn(n.firestore,n instanceof Il?n.converter:null,new $e(r))}}const FR="AsyncQueue";class zR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aO(this,"async_queue_retry"),this._c=()=>{const r=kx();r&&Ce(FR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=kx();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=kx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ba;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eh(e))throw e;Ce(FR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ka("INTERNAL UNHANDLED ERROR: ",UR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=AS.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&He(47125,{Pc:UR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function UR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Su extends cw{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new zR,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zR(e),this._firestoreClient=void 0,await e}}}function xG(n,e){const t=typeof n=="object"?n:Rj(),r=typeof n=="string"?n:Yy,s=J1(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=H9("firestore");i&&wG(s,...i)}return s}function OS(n){if(n._terminated)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_G(n),n._firestoreClient}function _G(n){const e=n._freezeSettings(),t=(function(s,i,o,l){return new q7(s,i,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,RO(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new pG(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}class Ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ei(Ur.fromBase64String(e))}catch(t){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ei(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rm(e,Ei._jsonSchema))return Ei.fromBase64String(e.bytes)}}Ei._jsonSchemaVersion="firestore/bytes/1.0",Ei._jsonSchema={type:Zn("string",Ei._jsonSchemaVersion),bytes:Zn("string")};class uw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class MS{constructor(e){this._methodName=e}}class Uo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Uo._jsonSchemaVersion}}static fromJSON(e){if(rm(e,Uo._jsonSchema))return new Uo(e.latitude,e.longitude)}}Uo._jsonSchemaVersion="firestore/geoPoint/1.0",Uo._jsonSchema={type:Zn("string",Uo._jsonSchemaVersion),latitude:Zn("number"),longitude:Zn("number")};class $o{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$o._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rm(e,$o._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new $o(e.vectorValues);throw new Se(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$o._jsonSchemaVersion="firestore/vectorValue/1.0",$o._jsonSchema={type:Zn("string",$o._jsonSchemaVersion),vectorValues:Zn("object")};const bG=/^__.*__$/;class SG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ec(e,this.data,this.fieldMask,t,this.fieldTransforms):new sm(e,this.data,t,this.fieldTransforms)}}class IO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ec(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:n})}}class LS{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new LS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NO(this.Ac)&&bG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class TG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ow(e)}Cc(e,t,r,s=!1){return new LS({Ac:e,methodName:t,Dc:r,path:Mr.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dw(n){const e=n._freezeSettings(),t=ow(n._databaseId);return new TG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DO(n,e,t,r,s,i={}){const o=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);VS("Data must be an object, but it was:",o,r);const l=jO(r,o);let u,d;if(i.merge)u=new ai(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const v=gb(e,m,t);if(!o.contains(v))throw new Se(de.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);MO(h,v)||h.push(v)}u=new ai(h),d=o.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,d=o.fieldTransforms;return new SG(new Os(l),u,d)}class hw extends MS{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hw}}function EG(n,e,t,r){const s=n.Cc(1,e,t);VS("Data must be an object, but it was:",s,r);const i=[],o=Os.empty();Zl(r,((u,d)=>{const h=FS(e,u,t);d=zr(d);const m=s.yc(h);if(d instanceof hw)i.push(h);else{const v=lm(d,m);v!=null&&(i.push(h),o.set(h,v))}}));const l=new ai(i);return new IO(o,l,s.fieldTransforms)}function CG(n,e,t,r,s,i){const o=n.Cc(1,e,t),l=[gb(e,r,t)],u=[s];if(i.length%2!=0)throw new Se(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)l.push(gb(e,i[v])),u.push(i[v+1]);const d=[],h=Os.empty();for(let v=l.length-1;v>=0;--v)if(!MO(d,l[v])){const w=l[v];let T=u[v];T=zr(T);const x=o.yc(w);if(T instanceof hw)d.push(w);else{const S=lm(T,x);S!=null&&(d.push(w),h.set(w,S))}}const m=new ai(d);return new IO(h,m,o.fieldTransforms)}function PG(n,e,t,r=!1){return lm(t,n.Cc(r?4:3,e))}function lm(n,e){if(OO(n=zr(n)))return VS("Unsupported field value:",e,n),jO(n,e);if(n instanceof MS)return(function(r,s){if(!NO(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const l of r){let u=lm(l,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=zr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ht.fromDate(r);return{timestampValue:ev(s.serializer,i)}}if(r instanceof ht){const i=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ev(s.serializer,i)}}if(r instanceof Uo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ei)return{bytesValue:Q2(s.serializer,r._byteString)};if(r instanceof Vn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_S(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $o)return(function(o,l){return{mapValue:{fields:{[E2]:{stringValue:C2},[Qy]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return yS(l.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Xv(r)}`)})(n,e)}function jO(n,e){const t={};return w2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zl(n,((r,s)=>{const i=lm(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function OO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Uo||n instanceof Ei||n instanceof Vn||n instanceof MS||n instanceof $o)}function VS(n,e,t){if(!OO(t)||!y2(t)){const r=Xv(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function gb(n,e,t){if((e=zr(e))instanceof uw)return e._internalPath;if(typeof e=="string")return FS(n,e);throw sv("Field path arguments must be of type string or ",n,!1,void 0,t)}const kG=new RegExp("[~\\*/\\[\\]]");function FS(n,e,t){if(e.search(kG)>=0)throw sv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uw(...e.split("."))._internalPath}catch{throw sv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sv(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Se(de.INVALID_ARGUMENT,l+n+u)}function MO(n,e){return n.some((t=>t.isEqual(e)))}class LO{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RG extends LO{data(){return super.data()}}function fw(n,e){return typeof e=="string"?FS(n,e):e instanceof uw?e._internalPath:e._delegate._internalPath}function AG(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zS{}class VO extends zS{}function Ci(n,e,...t){let r=[];e instanceof zS&&r.push(e),r=r.concat(t),(function(i){const o=i.filter((u=>u instanceof US)).length,l=i.filter((u=>u instanceof pw)).length;if(o>1||o>0&&l>0)throw new Se(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class pw extends VO{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new pw(e,t,r)}_apply(e){const t=this._parse(e);return FO(e._query,t),new bu(e.firestore,e.converter,ib(e._query,t))}_parse(e){const t=dw(e.firestore);return(function(i,o,l,u,d,h,m){let v;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){BR(m,h);const T=[];for(const x of m)T.push($R(u,i,x));v={arrayValue:{values:T}}}else v=$R(u,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||BR(m,h),v=PG(l,o,m,h==="in"||h==="not-in");return Jn.create(d,h,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Kn(n,e,t){const r=e,s=fw("where",n);return pw._create(s,r,t)}class US extends zS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new US(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:no.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)FO(o,u),o=ib(o,u)})(e._query,t),new bu(e.firestore,e.converter,ib(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $S extends VO{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $S(e,t)}_apply(e){const t=(function(s,i,o){if(s.startAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tp(i,o)})(e._query,this._field,this._direction);return new bu(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ch(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function Hf(n,e="asc"){const t=e,r=fw("orderBy",n);return $S._create(r,t)}function $R(n,e,t){if(typeof(t=zr(t))=="string"){if(t==="")throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j2(e)&&t.indexOf("/")!==-1)throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!$e.isDocumentKey(r))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iR(n,new $e(r))}if(t instanceof Vn)return iR(n,t._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xv(t)}.`)}function BR(n,e){if(!Array.isArray(n)||n.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FO(n,e){const t=(function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class IG{convertValue(e,t="none"){switch(Bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return On(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Zl(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[Qy].arrayValue?.values?.map((r=>On(r.doubleValue)));return new $o(t)}convertGeoPoint(e){return new Uo(On(e.latitude),On(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ew(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_p(e));default:return null}}convertTimestamp(e){const t=Ul(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);Ft(nO(r),9688,{name:e});const s=new bp(r.get(1),r.get(3)),i=new $e(r.popFirst(5));return s.isEqual(t)||ka(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function zO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Rf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $c extends LO{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$c._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$c._jsonSchemaVersion="firestore/documentSnapshot/1.0",$c._jsonSchema={type:Zn("string",$c._jsonSchemaVersion),bundleSource:Zn("string","DocumentSnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class hy extends $c{data(e={}){return super.data(e)}}class Rd{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Rf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new hy(this._firestore,this._userDataWriter,r.key,r,new Rf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((l=>{const u=new hy(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Rf(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new hy(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Rf(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:NG(l.type),doc:u,oldIndex:d,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:n})}}function js(n){n=to(n,Vn);const e=to(n.firestore,Su);return yG(OS(e),n._key).then((t=>DG(e,n,t)))}Rd._jsonSchemaVersion="firestore/querySnapshot/1.0",Rd._jsonSchema={type:Zn("string",Rd._jsonSchemaVersion),bundleSource:Zn("string","QuerySnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class UO extends IG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ei(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function Yn(n){n=to(n,bu);const e=to(n.firestore,Su),t=OS(e),r=new UO(e);return AG(n._query),vG(t,n._query).then((s=>new Rd(e,r,n,s)))}function Ms(n,e,t){n=to(n,Vn);const r=to(n.firestore,Su),s=zO(n.converter,e,t);return mw(r,[DO(dw(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ii.none())])}function Kf(n,e,t,...r){n=to(n,Vn);const s=to(n.firestore,Su),i=dw(s);let o;return o=typeof(e=zr(e))=="string"||e instanceof uw?CG(i,"updateDoc",n._key,e,t,r):EG(i,"updateDoc",n._key,e),mw(s,[o.toMutation(n._key,Ii.exists(!0))])}function Qi(n){return mw(to(n.firestore,Su),[new vS(n._key,Ii.none())])}function WR(n,e){const t=to(n.firestore,Su),r=yt(n),s=zO(n.converter,e);return mw(t,[DO(dw(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Ii.exists(!1))]).then((()=>r))}function mw(n,e){return(function(r,s){const i=new ba;return r.asyncQueue.enqueueAndForget((async()=>iG(await gG(r),s,i))),i.promise})(OS(n),e)}function DG(n,e,t){const r=t.docs.get(e._key),s=new UO(n);return new $c(n,s,e._key,r,new Rf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Sh=s})(_h),Gd(new ou("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Su(new C7(r.getProvider("auth-internal")),new R7(o,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bp(d.options.projectId,h)})(o,s),o);return i={useFetchStreams:t,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Rl(Hk,Kk,e),Rl(Hk,Kk,"esm2020")})();const jG={apiKey:"AIzaSyBNMAggMPpnf738WRpp564Q0D9aH6TeW_g",authDomain:"archive-52697.firebaseapp.com",projectId:"archive-52697",storageBucket:"archive-52697.firebasestorage.app",messagingSenderId:"57803144743",appId:"1:57803144743:web:fe60fbaf4f40c97c849802",measurementId:"G-86K881WRD5"},$O=kj(jG),Ax=x7($O),OG=new ya,Ue=xG($O);class MG{async getUserRole(e){try{const t=await js(yt(Ue,"users",e));return t.exists()&&t.data().role||"user"}catch(t){return console.error("Error getting user role:",t),"user"}}async getUserProfile(e){try{const t=await js(yt(Ue,"users",e));if(t.exists()){const r=t.data();return{uid:r.uid,email:r.email,displayName:r.displayName,role:r.role||"user",createdAt:r.createdAt?.toDate()||new Date,lastLogin:r.lastLogin?.toDate()||new Date}}return null}catch(t){return console.error("Error getting user profile:",t),null}}async initializeUserProfile(e,t,r,s){try{const i=yt(Ue,"users",e);(await js(i)).exists()?await Ms(i,{lastLogin:new Date,displayName:r,photoURL:s||""},{merge:!0}):await Ms(i,{uid:e,email:t,displayName:r,photoURL:s||"",role:"user",createdAt:new Date,lastLogin:new Date})}catch(i){console.error("Error initializing user profile:",i)}}async updateUserRole(e,t){try{const r=yt(Ue,"users",e);await Ms(r,{role:t},{merge:!0})}catch(r){throw console.error("Error updating user role:",r),r}}async isAdmin(e){return await this.getUserRole(e)==="admin"}}const yb=new MG,BO=b.createContext(void 0),Ot=()=>{const n=b.useContext(BO);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},LG=({children:n})=>{const[e,t]=b.useState(null),[r,s]=b.useState(!0),[i,o]=b.useState(null);b.useEffect(()=>lq(Ax,async m=>{if(t(m),m){await yb.initializeUserProfile(m.uid,m.email||"",m.displayName,m.photoURL);const v=await yb.getUserRole(m.uid);o(v)}else o(null);s(!1)}),[]);const l=async()=>{try{await Rq(Ax,OG)}catch(h){throw console.error("Error signing in with Google:",h),h}},u=async()=>{try{await cq(Ax)}catch(h){throw console.error("Error signing out:",h),h}},d=i==="admin";return p.jsx(BO.Provider,{value:{user:e,loading:r,userRole:i,isAdmin:d,signInWithGoogle:l,signOut:u},children:n})},VG=({children:n})=>{const{user:e,loading:t}=Ot();return t?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?p.jsx(p.Fragment,{children:n}):p.jsx(E9,{to:"/login",replace:!0})},BS=b.createContext({});function WS(n){const e=b.useRef(null);return e.current===null&&(e.current=n()),e.current}const qS=typeof window<"u",WO=qS?b.useLayoutEffect:b.useEffect,gw=b.createContext(null);function HS(n,e){n.indexOf(e)===-1&&n.push(e)}function KS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Aa=(n,e,t)=>t>e?e:t<n?n:t;let GS=()=>{};const Ia={},qO=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function HO(n){return typeof n=="object"&&n!==null}const KO=n=>/^0[^.\s]+$/u.test(n);function YS(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ni=n=>n,FG=(n,e)=>t=>e(n(t)),cm=(...n)=>n.reduce(FG),Pp=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class QS{constructor(){this.subscriptions=[]}add(e){return HS(this.subscriptions,e),()=>KS(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bo=n=>n*1e3,Pi=n=>n/1e3;function GO(n,e){return e?n*(1e3/e):0}const YO=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,zG=1e-7,UG=12;function $G(n,e,t,r,s){let i,o,l=0;do o=e+(t-e)/2,i=YO(o,r,s)-n,i>0?t=o:e=o;while(Math.abs(i)>zG&&++l<UG);return o}function um(n,e,t,r){if(n===e&&t===r)return Ni;const s=i=>$G(i,0,1,n,t);return i=>i===0||i===1?i:YO(s(i),e,r)}const QO=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,XO=n=>e=>1-n(1-e),JO=um(.33,1.53,.69,.99),XS=XO(JO),ZO=QO(XS),eM=n=>(n*=2)<1?.5*XS(n):.5*(2-Math.pow(2,-10*(n-1))),JS=n=>1-Math.sin(Math.acos(n)),tM=XO(JS),nM=QO(JS),BG=um(.42,0,1,1),WG=um(0,0,.58,1),rM=um(.42,0,.58,1),qG=n=>Array.isArray(n)&&typeof n[0]!="number",sM=n=>Array.isArray(n)&&typeof n[0]=="number",HG={linear:Ni,easeIn:BG,easeInOut:rM,easeOut:WG,circIn:JS,circInOut:nM,circOut:tM,backIn:XS,backInOut:ZO,backOut:JO,anticipate:eM},KG=n=>typeof n=="string",qR=n=>{if(sM(n)){GS(n.length===4);const[e,t,r,s]=n;return um(e,t,r,s)}else if(KG(n))return HG[n];return n},Ig=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GG(n,e){let t=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(h){o.has(h)&&(d.schedule(h),n()),h(l)}const d={schedule:(h,m=!1,v=!1)=>{const T=v&&s?t:r;return m&&o.add(h),T.has(h)||T.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[t,r]=[r,t],t.forEach(u),t.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const YG=40;function iM(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,o=Ig.reduce((j,I)=>(j[I]=GG(i),j),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:h,update:m,preRender:v,render:w,postRender:T}=o,x=()=>{const j=Ia.useManualTiming?s.timestamp:performance.now();t=!1,Ia.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,YG),1)),s.timestamp=j,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),h.process(s),m.process(s),v.process(s),w.process(s),T.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(x))},S=()=>{t=!0,r=!0,s.isProcessing||n(x)};return{schedule:Ig.reduce((j,I)=>{const L=o[I];return j[I]=(z,P=!1,A=!1)=>(t||S(),L.schedule(z,P,A)),j},{}),cancel:j=>{for(let I=0;I<Ig.length;I++)o[Ig[I]].cancel(j)},state:s,steps:o}}const{schedule:hn,cancel:Hl,state:jr,steps:Ix}=iM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ni,!0);let fy;function QG(){fy=void 0}const Ls={now:()=>(fy===void 0&&Ls.set(jr.isProcessing||Ia.useManualTiming?jr.timestamp:performance.now()),fy),set:n=>{fy=n,queueMicrotask(QG)}},oM=n=>e=>typeof e=="string"&&e.startsWith(n),aM=oM("--"),XG=oM("var(--"),ZS=n=>XG(n)?JG.test(n.split("/*")[0].trim()):!1,JG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kh={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},kp={...kh,transform:n=>Aa(0,1,n)},Ng={...kh,default:1},Gf=n=>Math.round(n*1e5)/1e5,eT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZG(n){return n==null}const eY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tT=(n,e)=>t=>!!(typeof t=="string"&&eY.test(t)&&t.startsWith(n)||e&&!ZG(t)&&Object.prototype.hasOwnProperty.call(t,e)),lM=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(eT);return{[n]:parseFloat(s),[e]:parseFloat(i),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},tY=n=>Aa(0,255,n),Nx={...kh,transform:n=>Math.round(tY(n))},Oc={test:tT("rgb","red"),parse:lM("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Nx.transform(n)+", "+Nx.transform(e)+", "+Nx.transform(t)+", "+Gf(kp.transform(r))+")"};function nY(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const vb={test:tT("#"),parse:nY,transform:Oc.transform},dm=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ul=dm("deg"),Wo=dm("%"),Ge=dm("px"),rY=dm("vh"),sY=dm("vw"),HR={...Wo,parse:n=>Wo.parse(n)/100,transform:n=>Wo.transform(n*100)},md={test:tT("hsl","hue"),parse:lM("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Wo.transform(Gf(e))+", "+Wo.transform(Gf(t))+", "+Gf(kp.transform(r))+")"},Hn={test:n=>Oc.test(n)||vb.test(n)||md.test(n),parse:n=>Oc.test(n)?Oc.parse(n):md.test(n)?md.parse(n):vb.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Oc.transform(n):md.transform(n),getAnimatableNone:n=>{const e=Hn.parse(n);return e.alpha=0,Hn.transform(e)}},iY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oY(n){return isNaN(n)&&typeof n=="string"&&(n.match(eT)?.length||0)+(n.match(iY)?.length||0)>0}const cM="number",uM="color",aY="var",lY="var(",KR="${}",cY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rp(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(cY,u=>(Hn.test(u)?(r.color.push(i),s.push(uM),t.push(Hn.parse(u))):u.startsWith(lY)?(r.var.push(i),s.push(aY),t.push(u)):(r.number.push(i),s.push(cM),t.push(parseFloat(u))),++i,KR)).split(KR);return{values:t,split:l,indexes:r,types:s}}function dM(n){return Rp(n).values}function hM(n){const{split:e,types:t}=Rp(n),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=t[o];l===cM?i+=Gf(s[o]):l===uM?i+=Hn.transform(s[o]):i+=s[o]}return i}}const uY=n=>typeof n=="number"?0:Hn.test(n)?Hn.getAnimatableNone(n):n;function dY(n){const e=dM(n);return hM(n)(e.map(uY))}const Kl={test:oY,parse:dM,createTransformer:hM,getAnimatableNone:dY};function Dx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function hY({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,i=0,o=0;if(!e)s=i=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;s=Dx(u,l,n+1/3),i=Dx(u,l,n),o=Dx(u,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function iv(n,e){return t=>t>0?e:n}const Sn=(n,e,t)=>n+(e-n)*t,jx=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},fY=[vb,Oc,md],pY=n=>fY.find(e=>e.test(n));function GR(n){const e=pY(n);if(!e)return!1;let t=e.parse(n);return e===md&&(t=hY(t)),t}const YR=(n,e)=>{const t=GR(n),r=GR(e);if(!t||!r)return iv(n,e);const s={...t};return i=>(s.red=jx(t.red,r.red,i),s.green=jx(t.green,r.green,i),s.blue=jx(t.blue,r.blue,i),s.alpha=Sn(t.alpha,r.alpha,i),Oc.transform(s))},wb=new Set(["none","hidden"]);function mY(n,e){return wb.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function gY(n,e){return t=>Sn(n,e,t)}function nT(n){return typeof n=="number"?gY:typeof n=="string"?ZS(n)?iv:Hn.test(n)?YR:wY:Array.isArray(n)?fM:typeof n=="object"?Hn.test(n)?YR:yY:iv}function fM(n,e){const t=[...n],r=t.length,s=n.map((i,o)=>nT(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)t[o]=s[o](i);return t}}function yY(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=nT(n[s])(n[s],e[s]));return s=>{for(const i in r)t[i]=r[i](s);return t}}function vY(n,e){const t=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=n.indexes[i][r[i]],l=n.values[o]??0;t[s]=l,r[i]++}return t}const wY=(n,e)=>{const t=Kl.createTransformer(e),r=Rp(n),s=Rp(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?wb.has(n)&&!s.values.length||wb.has(e)&&!r.values.length?mY(n,e):cm(fM(vY(r,s),s.values),t):iv(n,e)};function pM(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Sn(n,e,t):nT(n)(n,e)}const xY=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>hn.update(e,t),stop:()=>Hl(e),now:()=>jr.isProcessing?jr.timestamp:Ls.now()}},mM=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let i=0;i<s;i++)r+=Math.round(n(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ov=2e4;function rT(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<ov;)e+=t,r=n.next(e);return e>=ov?1/0:e}function _Y(n,e=100,t){const r=t({...n,keyframes:[0,e]}),s=Math.min(rT(r),ov);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Pi(s)}}const bY=5;function gM(n,e,t){const r=Math.max(e-bY,0);return GO(t-n(r),e-r)}const An={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ox=.001;function SY({duration:n=An.duration,bounce:e=An.bounce,velocity:t=An.velocity,mass:r=An.mass}){let s,i,o=1-e;o=Aa(An.minDamping,An.maxDamping,o),n=Aa(An.minDuration,An.maxDuration,Pi(n)),o<1?(s=d=>{const h=d*o,m=h*n,v=h-t,w=xb(d,o),T=Math.exp(-m);return Ox-v/w*T},i=d=>{const m=d*o*n,v=m*t+t,w=Math.pow(o,2)*Math.pow(d,2)*n,T=Math.exp(-m),x=xb(Math.pow(d,2),o);return(-s(d)+Ox>0?-1:1)*((v-w)*T)/x}):(s=d=>{const h=Math.exp(-d*n),m=(d-t)*n+1;return-Ox+h*m},i=d=>{const h=Math.exp(-d*n),m=(t-d)*(n*n);return h*m});const l=5/n,u=EY(s,i,l);if(n=Bo(n),isNaN(u))return{stiffness:An.stiffness,damping:An.damping,duration:n};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:n}}}const TY=12;function EY(n,e,t){let r=t;for(let s=1;s<TY;s++)r=r-n(r)/e(r);return r}function xb(n,e){return n*Math.sqrt(1-e*e)}const CY=["duration","bounce"],PY=["stiffness","damping","mass"];function QR(n,e){return e.some(t=>n[t]!==void 0)}function kY(n){let e={velocity:An.velocity,stiffness:An.stiffness,damping:An.damping,mass:An.mass,isResolvedFromDuration:!1,...n};if(!QR(n,PY)&&QR(n,CY))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,i=2*Aa(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:An.mass,stiffness:s,damping:i}}else{const t=SY(n);e={...e,...t,mass:An.mass},e.isResolvedFromDuration=!0}return e}function av(n=An.visualDuration,e=An.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const i=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:h,duration:m,velocity:v,isResolvedFromDuration:w}=kY({...t,velocity:-Pi(t.velocity||0)}),T=v||0,x=d/(2*Math.sqrt(u*h)),S=o-i,R=Pi(Math.sqrt(u/h)),k=Math.abs(S)<5;r||(r=k?An.restSpeed.granular:An.restSpeed.default),s||(s=k?An.restDelta.granular:An.restDelta.default);let j;if(x<1){const L=xb(R,x);j=z=>{const P=Math.exp(-x*R*z);return o-P*((T+x*R*S)/L*Math.sin(L*z)+S*Math.cos(L*z))}}else if(x===1)j=L=>o-Math.exp(-R*L)*(S+(T+R*S)*L);else{const L=R*Math.sqrt(x*x-1);j=z=>{const P=Math.exp(-x*R*z),A=Math.min(L*z,300);return o-P*((T+x*R*S)*Math.sinh(A)+L*S*Math.cosh(A))/L}}const I={calculatedDuration:w&&m||null,next:L=>{const z=j(L);if(w)l.done=L>=m;else{let P=L===0?T:0;x<1&&(P=L===0?Bo(T):gM(j,L,z));const A=Math.abs(P)<=r,D=Math.abs(o-z)<=s;l.done=A&&D}return l.value=l.done?o:z,l},toString:()=>{const L=Math.min(rT(I),ov),z=mM(P=>I.next(L*P).value,L,30);return L+"ms "+z},toTransition:()=>{}};return I}av.applyToOptions=n=>{const e=_Y(n,100,av);return n.ease=e.ease,n.duration=Bo(e.duration),n.type="keyframes",n};function _b({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:h}){const m=n[0],v={done:!1,value:m},w=A=>l!==void 0&&A<l||u!==void 0&&A>u,T=A=>l===void 0?u:u===void 0||Math.abs(l-A)<Math.abs(u-A)?l:u;let x=t*e;const S=m+x,R=o===void 0?S:o(S);R!==S&&(x=R-m);const k=A=>-x*Math.exp(-A/r),j=A=>R+k(A),I=A=>{const D=k(A),O=j(A);v.done=Math.abs(D)<=d,v.value=v.done?R:O};let L,z;const P=A=>{w(v.value)&&(L=A,z=av({keyframes:[v.value,T(v.value)],velocity:gM(j,A,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return P(0),{calculatedDuration:null,next:A=>{let D=!1;return!z&&L===void 0&&(D=!0,I(A),P(A)),L!==void 0&&A>=L?z.next(A-L):(!D&&I(A),v)}}}function RY(n,e,t){const r=[],s=t||Ia.mix||pM,i=n.length-1;for(let o=0;o<i;o++){let l=s(n[o],n[o+1]);if(e){const u=Array.isArray(e)?e[o]||Ni:e;l=cm(u,l)}r.push(l)}return r}function AY(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const i=n.length;if(GS(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[i-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=RY(e,r,s),u=l.length,d=h=>{if(o&&h<n[0])return e[0];let m=0;if(u>1)for(;m<n.length-2&&!(h<n[m+1]);m++);const v=Pp(n[m],n[m+1],h);return l[m](v)};return t?h=>d(Aa(n[0],n[i-1],h)):d}function IY(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Pp(0,e,r);n.push(Sn(t,1,s))}}function NY(n){const e=[0];return IY(e,n.length-1),e}function DY(n,e){return n.map(t=>t*e)}function jY(n,e){return n.map(()=>e||rM).splice(0,n.length-1)}function Yf({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=qG(r)?r.map(qR):qR(r),i={done:!1,value:e[0]},o=DY(t&&t.length===e.length?t:NY(e),n),l=AY(o,e,{ease:Array.isArray(s)?s:jY(e,s)});return{calculatedDuration:n,next:u=>(i.value=l(u),i.done=u>=n,i)}}const OY=n=>n!==null;function sT(n,{repeat:e,repeatType:t="loop"},r,s=1){const i=n.filter(OY),l=s<0||e&&t!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const MY={decay:_b,inertia:_b,tween:Yf,keyframes:Yf,spring:av};function yM(n){typeof n.type=="string"&&(n.type=MY[n.type])}class iT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const LY=n=>n/100;class oT extends iT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Ls.now()&&this.tick(Ls.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yM(e);const{type:t=Yf,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const u=t||Yf;u!==Yf&&typeof l[0]!="number"&&(this.mixKeyframes=cm(LY,pM(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=rT(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:v,repeatDelay:w,type:T,onUpdate:x,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const R=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?R<0:R>s;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,I=r;if(m){const A=Math.min(this.currentTime,s)/l;let D=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(v==="reverse"?(O=1-O,w&&(O-=w/l)):v==="mirror"&&(I=o)),j=Aa(0,1,O)*l}const L=k?{done:!1,value:h[0]}:I.next(j);i&&(L.value=i(L.value));let{done:z}=L;!k&&u!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return P&&T!==_b&&(L.value=sT(h,this.options,S,this.speed)),x&&x(L.value),P&&this.finish(),L}then(e,t){return this.finished.then(e,t)}get duration(){return Pi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pi(e)}get time(){return Pi(this.currentTime)}set time(e){e=Bo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ls.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=xY,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ls.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function VY(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Mc=n=>n*180/Math.PI,bb=n=>{const e=Mc(Math.atan2(n[1],n[0]));return Sb(e)},FY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:bb,rotateZ:bb,skewX:n=>Mc(Math.atan(n[1])),skewY:n=>Mc(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Sb=n=>(n=n%360,n<0&&(n+=360),n),XR=bb,JR=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),ZR=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),zY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JR,scaleY:ZR,scale:n=>(JR(n)+ZR(n))/2,rotateX:n=>Sb(Mc(Math.atan2(n[6],n[5]))),rotateY:n=>Sb(Mc(Math.atan2(-n[2],n[0]))),rotateZ:XR,rotate:XR,skewX:n=>Mc(Math.atan(n[4])),skewY:n=>Mc(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Tb(n){return n.includes("scale")?1:0}function Eb(n,e){if(!n||n==="none")return Tb(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(t)r=zY,s=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=FY,s=l}if(!s)return Tb(e);const i=r[e],o=s[1].split(",").map($Y);return typeof i=="function"?i(o):o[i]}const UY=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Eb(t,e)};function $Y(n){return parseFloat(n.trim())}const Rh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ah=new Set(Rh),eA=n=>n===kh||n===Ge,BY=new Set(["x","y","z"]),WY=Rh.filter(n=>!BY.has(n));function qY(n){const e=[];return WY.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Bc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Eb(e,"x"),y:(n,{transform:e})=>Eb(e,"y")};Bc.translateX=Bc.x;Bc.translateY=Bc.y;const Wc=new Set;let Cb=!1,Pb=!1,kb=!1;function vM(){if(Pb){const n=Array.from(Wc).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=qY(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([i,o])=>{r.getValue(i)?.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pb=!1,Cb=!1,Wc.forEach(n=>n.complete(kb)),Wc.clear()}function wM(){Wc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Pb=!0)})}function HY(){kb=!0,wM(),vM(),kb=!1}class aT{constructor(e,t,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Wc.add(this),Cb||(Cb=!0,hn.read(wM),hn.resolveKeyframes(vM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&t){const l=r.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}VY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wc.delete(this)}cancel(){this.state==="scheduled"&&(Wc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KY=n=>n.startsWith("--");function GY(n,e,t){KY(e)?n.style.setProperty(e,t):n.style[e]=t}const YY=YS(()=>window.ScrollTimeline!==void 0),QY={};function XY(n,e){const t=YS(n);return()=>QY[e]??t()}const xM=XY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Af=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,tA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Af([0,.65,.55,1]),circOut:Af([.55,0,1,.45]),backIn:Af([.31,.01,.66,-.59]),backOut:Af([.33,1.53,.69,.99])};function _M(n,e){if(n)return typeof n=="function"?xM()?mM(n,e):"ease-out":sM(n)?Af(n):Array.isArray(n)?n.map(t=>_M(t,e)||tA.easeOut):tA[n]}function JY(n,e,t,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const h={[e]:t};u&&(h.offset=u);const m=_M(l,s);Array.isArray(m)&&(h.easing=m);const v={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),n.animate(h,v)}function bM(n){return typeof n=="function"&&"applyToOptions"in n}function ZY({type:n,...e}){return bM(n)&&xM()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eQ extends iT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,GS(typeof e.type!="string");const d=ZY(e);this.animation=JY(t,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=sT(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):GY(t,r,h),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Pi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pi(e)}get time(){return Pi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&YY()?(this.animation.timeline=e,Ni):t(this)}}const SM={anticipate:eM,backInOut:ZO,circInOut:nM};function tQ(n){return n in SM}function nQ(n){typeof n.ease=="string"&&tQ(n.ease)&&(n.ease=SM[n.ease])}const nA=10;class rQ extends eQ{constructor(e){nQ(e),yM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new oT({...o,autoplay:!1}),u=Bo(this.finishedTime??this.time);t.setWithVelocity(l.sample(u-nA).value,l.sample(u).value,nA),l.stop()}}const rA=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Kl.test(n)||n==="0")&&!n.startsWith("url("));function sQ(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function iQ(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=n[n.length-1],o=rA(s,e),l=rA(i,e);return!o||!l?!1:sQ(n)||(t==="spring"||bM(t))&&r}function Rb(n){n.duration=0,n.type="keyframes"}const oQ=new Set(["opacity","clipPath","filter","transform"]),aQ=YS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lQ(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:s,damping:i,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return aQ()&&t&&oQ.has(t)&&(t!=="transform"||!d)&&!u&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const cQ=40;class uQ extends iT{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:h,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ls.now();const v={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:i,repeatType:o,name:u,motionValue:d,element:h,...m},w=h?.KeyframeResolver||aT;this.keyframeResolver=new w(l,(T,x,S)=>this.onKeyframesResolved(T,x,v,!S),u,d,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:h}=r;this.resolvedAt=Ls.now(),iQ(e,i,o,l)||((Ia.instantAnimations||!u)&&h?.(sT(e,r,t)),e[0]=e[e.length-1],Rb(r),r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>cQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},w=!d&&lQ(v)?new rQ({...v,element:v.motionValue.owner.current}):new oT(v);w.finished.then(()=>this.notifyFinished()).catch(Ni),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),HY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hQ(n){const e=dQ.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function TM(n,e,t=1){const[r,s]=hQ(n);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return qO(o)?parseFloat(o):o}return ZS(s)?TM(s,e,t+1):s}function lT(n,e){return n?.[e]??n?.default??n}const EM=new Set(["width","height","top","left","right","bottom",...Rh]),fQ={test:n=>n==="auto",parse:n=>n},CM=n=>e=>e.test(n),PM=[kh,Ge,Wo,ul,sY,rY,fQ],sA=n=>PM.find(CM(n));function pQ(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||KO(n):!0}const mQ=new Set(["brightness","contrast","saturate","opacity"]);function gQ(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(eT)||[];if(!r)return n;const s=t.replace(r,"");let i=mQ.has(e)?1:0;return r!==t&&(i*=100),e+"("+i+s+")"}const yQ=/\b([a-z-]*)\(.*?\)/gu,Ab={...Kl,getAnimatableNone:n=>{const e=n.match(yQ);return e?e.map(gQ).join(" "):n}},iA={...kh,transform:Math.round},vQ={rotate:ul,rotateX:ul,rotateY:ul,rotateZ:ul,scale:Ng,scaleX:Ng,scaleY:Ng,scaleZ:Ng,skew:ul,skewX:ul,skewY:ul,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:kp,originX:HR,originY:HR,originZ:Ge},cT={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...vQ,zIndex:iA,fillOpacity:kp,strokeOpacity:kp,numOctaves:iA},wQ={...cT,color:Hn,backgroundColor:Hn,outlineColor:Hn,fill:Hn,stroke:Hn,borderColor:Hn,borderTopColor:Hn,borderRightColor:Hn,borderBottomColor:Hn,borderLeftColor:Hn,filter:Ab,WebkitFilter:Ab},kM=n=>wQ[n];function RM(n,e){let t=kM(n);return t!==Ab&&(t=Kl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const xQ=new Set(["auto","none","0"]);function _Q(n,e,t){let r=0,s;for(;r<n.length&&!s;){const i=n[r];typeof i=="string"&&!xQ.has(i)&&Rp(i).values.length&&(s=n[r]),r++}if(s&&t)for(const i of e)n[i]=RM(t,s)}class bQ extends aT{constructor(e,t,r,s,i){super(e,t,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),ZS(d))){const h=TM(d,t.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!EM.has(r)||e.length!==2)return;const[s,i]=e,o=sA(s),l=sA(i);if(o!==l)if(eA(o)&&eA(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Bc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||pQ(e[s]))&&r.push(s);r.length&&_Q(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Bc[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function SQ(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const s=t?.[n]??r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const AM=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function IM(n){return HO(n)&&"offsetHeight"in n}const oA=30,TQ=n=>!isNaN(parseFloat(n));class EQ{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Ls.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ls.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=TQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new QS);const r=this.events[e].add(t);return e==="change"?()=>{r(),hn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>oA)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,oA);return GO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nh(n,e){return new EQ(n,e)}const{schedule:uT}=iM(queueMicrotask,!1),Ki={x:!1,y:!1};function NM(){return Ki.x||Ki.y}function CQ(n){return n==="x"||n==="y"?Ki[n]?null:(Ki[n]=!0,()=>{Ki[n]=!1}):Ki.x||Ki.y?null:(Ki.x=Ki.y=!0,()=>{Ki.x=Ki.y=!1})}function DM(n,e){const t=SQ(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function aA(n){return!(n.pointerType==="touch"||NM())}function PQ(n,e,t={}){const[r,s,i]=DM(n,t),o=l=>{if(!aA(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const h=m=>{aA(m)&&(d(m),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const jM=(n,e)=>e?n===e?!0:jM(n,e.parentElement):!1,dT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,kQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RQ(n){return kQ.has(n.tagName)||n.tabIndex!==-1}const py=new WeakSet;function lA(n){return e=>{e.key==="Enter"&&n(e)}}function Mx(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AQ=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=lA(()=>{if(py.has(t))return;Mx(t,"down");const s=lA(()=>{Mx(t,"up")}),i=()=>Mx(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function cA(n){return dT(n)&&!NM()}function IQ(n,e,t={}){const[r,s,i]=DM(n,t),o=l=>{const u=l.currentTarget;if(!cA(l))return;py.add(u);const d=e(u,l),h=(w,T)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),py.has(u)&&py.delete(u),cA(w)&&typeof d=="function"&&d(w,{success:T})},m=w=>{h(w,u===window||u===document||t.useGlobalTarget||jM(u,w.target))},v=w=>{h(w,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",v,s)};return r.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),IM(l)&&(l.addEventListener("focus",d=>AQ(d,s)),!RQ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function OM(n){return HO(n)&&"ownerSVGElement"in n}function NQ(n){return OM(n)&&n.tagName==="svg"}const ts=n=>!!(n&&n.getVelocity),DQ=[...PM,Hn,Kl],jQ=n=>DQ.find(CM(n)),hT=b.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function uA(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function OQ(...n){return e=>{let t=!1;const r=n.map(s=>{const i=uA(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():uA(n[s],null)}}}}function MQ(...n){return b.useCallback(OQ(...n),n)}class LQ extends b.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,s=IM(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function VQ({children:n,isPresent:e,anchorX:t,root:r}){const s=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(hT),u=MQ(i,n?.ref);return b.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:v,right:w}=o.current;if(e||!i.current||!d||!h)return;const T=t==="left"?`left: ${v}`:`right: ${w}`;i.current.dataset.motionPopId=s;const x=document.createElement("style");l&&(x.nonce=l);const S=r??document.head;return S.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${T}px !important;
            top: ${m}px !important;
          }
        `),()=>{S.contains(x)&&S.removeChild(x)}},[e]),p.jsx(LQ,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(n,{ref:u})})}const FQ=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:u})=>{const d=WS(zQ),h=b.useId();let m=!0,v=b.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:t,custom:s,onExitComplete:w=>{d.set(w,!0);for(const T of d.values())if(!T)return;r&&r()},register:w=>(d.set(w,!1),()=>d.delete(w))}),[t,d,r]);return i&&m&&(v={...v}),b.useMemo(()=>{d.forEach((w,T)=>d.set(T,!1))},[t]),b.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),o==="popLayout"&&(n=p.jsx(VQ,{isPresent:t,anchorX:l,root:u,children:n})),p.jsx(gw.Provider,{value:v,children:n})};function zQ(){return new Map}function MM(n=!0){const e=b.useContext(gw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,i=b.useId();b.useEffect(()=>{if(n)return s(i)},[n]);const o=b.useCallback(()=>n&&r&&r(i),[i,r,n]);return!t&&r?[!1,o]:[!0]}const Dg=n=>n.key||"";function dA(n){const e=[];return b.Children.forEach(n,t=>{b.isValidElement(t)&&e.push(t)}),e}const lv=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:u})=>{const[d,h]=MM(o),m=b.useMemo(()=>dA(n),[n]),v=o&&!d?[]:m.map(Dg),w=b.useRef(!0),T=b.useRef(m),x=WS(()=>new Map),[S,R]=b.useState(m),[k,j]=b.useState(m);WO(()=>{w.current=!1,T.current=m;for(let z=0;z<k.length;z++){const P=Dg(k[z]);v.includes(P)?x.delete(P):x.get(P)!==!0&&x.set(P,!1)}},[k,v.length,v.join("-")]);const I=[];if(m!==S){let z=[...m];for(let P=0;P<k.length;P++){const A=k[P],D=Dg(A);v.includes(D)||(z.splice(P,0,A),I.push(A))}return i==="wait"&&I.length&&(z=I),j(dA(z)),R(m),null}const{forceRender:L}=b.useContext(BS);return p.jsx(p.Fragment,{children:k.map(z=>{const P=Dg(z),A=o&&!d?!1:m===k||v.includes(P),D=()=>{if(x.has(P))x.set(P,!0);else return;let O=!0;x.forEach(V=>{V||(O=!1)}),O&&(L?.(),j(T.current),o&&h?.(),r&&r())};return p.jsx(FQ,{isPresent:A,initial:!w.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:u,onExitComplete:A?void 0:D,anchorX:l,children:z},P)})})},LM=b.createContext({strict:!1}),hA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rh={};for(const n in hA)rh[n]={isEnabled:e=>hA[n].some(t=>!!e[t])};function UQ(n){for(const e in n)rh[e]={...rh[e],...n[e]}}const $Q=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cv(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||$Q.has(n)}let VM=n=>!cv(n);function BQ(n){typeof n=="function"&&(VM=e=>e.startsWith("on")?!cv(e):n(e))}try{BQ(require("@emotion/is-prop-valid").default)}catch{}function WQ(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(VM(s)||t===!0&&cv(s)||!e&&!cv(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}const yw=b.createContext({});function vw(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ap(n){return typeof n=="string"||Array.isArray(n)}const fT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pT=["initial",...fT];function ww(n){return vw(n.animate)||pT.some(e=>Ap(n[e]))}function FM(n){return!!(ww(n)||n.variants)}function qQ(n,e){if(ww(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ap(t)?t:void 0,animate:Ap(r)?r:void 0}}return n.inherit!==!1?e:{}}function HQ(n){const{initial:e,animate:t}=qQ(n,b.useContext(yw));return b.useMemo(()=>({initial:e,animate:t}),[fA(e),fA(t)])}function fA(n){return Array.isArray(n)?n.join(" "):n}function pA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const xf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ge.test(n))n=parseFloat(n);else return n;const t=pA(n,e.target.x),r=pA(n,e.target.y);return`${t}% ${r}%`}},KQ={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Kl.parse(n);if(s.length>5)return r;const i=Kl.createTransformer(n),o=typeof s[0]!="number"?1:0,l=t.x.scale*e.x,u=t.y.scale*e.y;s[0+o]/=l,s[1+o]/=u;const d=Sn(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}},Ib={borderRadius:{...xf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xf,borderTopRightRadius:xf,borderBottomLeftRadius:xf,borderBottomRightRadius:xf,boxShadow:KQ};function zM(n,{layout:e,layoutId:t}){return Ah.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ib[n]||n==="opacity")}const GQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YQ=Rh.length;function QQ(n,e,t){let r="",s=!0;for(let i=0;i<YQ;i++){const o=Rh[i],l=n[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const d=AM(l,cT[o]);if(!u){s=!1;const h=GQ[o]||o;r+=`${h}(${d}) `}t&&(e[o]=d)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function mT(n,e,t){const{style:r,vars:s,transformOrigin:i}=n;let o=!1,l=!1;for(const u in e){const d=e[u];if(Ah.has(u)){o=!0;continue}else if(aM(u)){s[u]=d;continue}else{const h=AM(d,cT[u]);u.startsWith("origin")?(l=!0,i[u]=h):r[u]=h}}if(e.transform||(o||t?r.transform=QQ(e,n.transform,t):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:h=0}=i;r.transformOrigin=`${u} ${d} ${h}`}}const gT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UM(n,e,t){for(const r in e)!ts(e[r])&&!zM(r,t)&&(n[r]=e[r])}function XQ({transformTemplate:n},e){return b.useMemo(()=>{const t=gT();return mT(t,e,n),Object.assign({},t.vars,t.style)},[e])}function JQ(n,e){const t=n.style||{},r={};return UM(r,t,n),Object.assign(r,XQ(n,e)),r}function ZQ(n,e){const t={},r=JQ(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const eX={offset:"stroke-dashoffset",array:"stroke-dasharray"},tX={offset:"strokeDashoffset",array:"strokeDasharray"};function nX(n,e,t=1,r=0,s=!0){n.pathLength=1;const i=s?eX:tX;n[i.offset]=Ge.transform(-r);const o=Ge.transform(e),l=Ge.transform(t);n[i.array]=`${o} ${l}`}function $M(n,{attrX:e,attrY:t,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},u,d,h){if(mT(n,l,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v}=n;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=h?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),s!==void 0&&nX(m,s,i,o,!1)}const BM=()=>({...gT(),attrs:{}}),WM=n=>typeof n=="string"&&n.toLowerCase()==="svg";function rX(n,e,t,r){const s=b.useMemo(()=>{const i=BM();return $M(i,e,WM(r),n.transformTemplate,n.style),{...i.attrs,style:{...i.style}}},[e]);if(n.style){const i={};UM(i,n.style,n),s.style={...i,...s.style}}return s}const sX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yT(n){return typeof n!="string"||n.includes("-")?!1:!!(sX.indexOf(n)>-1||/[A-Z]/u.test(n))}function iX(n,e,t,{latestValues:r},s,i=!1){const l=(yT(n)?rX:ZQ)(e,r,s,n),u=WQ(e,typeof n=="string",i),d=n!==b.Fragment?{...u,...l,ref:t}:{},{children:h}=e,m=b.useMemo(()=>ts(h)?h.get():h,[h]);return b.createElement(n,{...d,children:m})}function mA(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function vT(n,e,t,r){if(typeof e=="function"){const[s,i]=mA(r);e=e(t!==void 0?t:n.custom,s,i)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,i]=mA(r);e=e(t!==void 0?t:n.custom,s,i)}return e}function my(n){return ts(n)?n.get():n}function oX({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,s){return{latestValues:aX(t,r,s,n),renderState:e()}}function aX(n,e,t,r){const s={},i=r(n,{});for(const v in i)s[v]=my(i[v]);let{initial:o,animate:l}=n;const u=ww(n),d=FM(n);e&&d&&!u&&n.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!vw(m)){const v=Array.isArray(m)?m:[m];for(let w=0;w<v.length;w++){const T=vT(n,v[w]);if(T){const{transitionEnd:x,transition:S,...R}=T;for(const k in R){let j=R[k];if(Array.isArray(j)){const I=h?j.length-1:0;j=j[I]}j!==null&&(s[k]=j)}for(const k in x)s[k]=x[k]}}}return s}const qM=n=>(e,t)=>{const r=b.useContext(yw),s=b.useContext(gw),i=()=>oX(n,e,r,s);return t?i():WS(i)};function wT(n,e,t){const{style:r}=n,s={};for(const i in r)(ts(r[i])||e.style&&ts(e.style[i])||zM(i,n)||t?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const lX=qM({scrapeMotionValuesFromProps:wT,createRenderState:gT});function HM(n,e,t){const r=wT(n,e,t);for(const s in n)if(ts(n[s])||ts(e[s])){const i=Rh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=n[s]}return r}const cX=qM({scrapeMotionValuesFromProps:HM,createRenderState:BM}),uX=Symbol.for("motionComponentSymbol");function gd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function dX(n,e,t){return b.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):gd(t)&&(t.current=r))},[e])}const xT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hX="framerAppearId",KM="data-"+xT(hX),GM=b.createContext({});function fX(n,e,t,r,s){const{visualElement:i}=b.useContext(yw),o=b.useContext(LM),l=b.useContext(gw),u=b.useContext(hT).reducedMotion,d=b.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:i,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,m=b.useContext(GM);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&pX(d.current,t,s,m);const v=b.useRef(!1);b.useInsertionEffect(()=>{h&&v.current&&h.update(t,l)});const w=t[KM],T=b.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return WO(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),T.current&&h.animationState&&h.animationState.animateChanges())}),b.useEffect(()=>{h&&(!T.current&&h.animationState&&h.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),T.current=!1),h.enteringChildren=void 0)}),h}function pX(n,e,t,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:YM(n.parent)),n.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&gd(l),visualElement:n,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:d})}function YM(n){if(n)return n.options.allowProjection!==!1?n.projection:YM(n.parent)}function Lx(n,{forwardMotionProps:e=!1}={},t,r){t&&UQ(t);const s=yT(n)?cX:lX;function i(l,u){let d;const h={...b.useContext(hT),...l,layoutId:mX(l)},{isStatic:m}=h,v=HQ(l),w=s(l,m);if(!m&&qS){gX();const T=yX(h);d=T.MeasureLayout,v.visualElement=fX(n,w,h,r,T.ProjectionNode)}return p.jsxs(yw.Provider,{value:v,children:[d&&v.visualElement?p.jsx(d,{visualElement:v.visualElement,...h}):null,iX(n,l,dX(w,v.visualElement,u),w,m,e)]})}i.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=b.forwardRef(i);return o[uX]=n,o}function mX({layoutId:n}){const e=b.useContext(BS).id;return e&&n!==void 0?e+"-"+n:n}function gX(n,e){b.useContext(LM).strict}function yX(n){const{drag:e,layout:t}=rh;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function vX(n,e){if(typeof Proxy>"u")return Lx;const t=new Map,r=(i,o)=>Lx(i,o,n,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(t.has(o)||t.set(o,Lx(o,void 0,n,e)),t.get(o))})}function QM({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function wX({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function xX(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Vx(n){return n===void 0||n===1}function Nb({scale:n,scaleX:e,scaleY:t}){return!Vx(n)||!Vx(e)||!Vx(t)}function Rc(n){return Nb(n)||XM(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function XM(n){return gA(n.x)||gA(n.y)}function gA(n){return n&&n!=="0%"}function uv(n,e,t){const r=n-t,s=e*r;return t+s}function yA(n,e,t,r,s){return s!==void 0&&(n=uv(n,s,r)),uv(n,t,r)+e}function Db(n,e=0,t=1,r,s){n.min=yA(n.min,e,t,r,s),n.max=yA(n.max,e,t,r,s)}function JM(n,{x:e,y:t}){Db(n.x,e.translate,e.scale,e.originPoint),Db(n.y,t.translate,t.scale,t.originPoint)}const vA=.999999999999,wA=1.0000000000001;function _X(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=t[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vd(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,JM(n,o)),r&&Rc(i.latestValues)&&vd(n,i.latestValues))}e.x<wA&&e.x>vA&&(e.x=1),e.y<wA&&e.y>vA&&(e.y=1)}function yd(n,e){n.min=n.min+e,n.max=n.max+e}function xA(n,e,t,r,s=.5){const i=Sn(n.min,n.max,s);Db(n,e,t,i,r)}function vd(n,e){xA(n.x,e.x,e.scaleX,e.scale,e.originX),xA(n.y,e.y,e.scaleY,e.scale,e.originY)}function ZM(n,e){return QM(xX(n.getBoundingClientRect(),e))}function bX(n,e,t){const r=ZM(n,t),{scroll:s}=e;return s&&(yd(r.x,s.offset.x),yd(r.y,s.offset.y)),r}const _A=()=>({translate:0,scale:1,origin:0,originPoint:0}),wd=()=>({x:_A(),y:_A()}),bA=()=>({min:0,max:0}),sr=()=>({x:bA(),y:bA()}),jb={current:null},eL={current:!1};function SX(){if(eL.current=!0,!!qS)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>jb.current=n.matches;n.addEventListener("change",e),e()}else jb.current=!1}const TX=new WeakMap;function EX(n,e,t){for(const r in e){const s=e[r],i=t[r];if(ts(s))n.addValue(r,s);else if(ts(i))n.addValue(r,nh(s,{owner:n}));else if(i!==s)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(r);n.addValue(r,nh(o!==void 0?o:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const SA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CX{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ls.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,hn.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=ww(t),this.isVariantNode=FM(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in m){const w=m[v];u[v]!==void 0&&ts(w)&&w.set(u[v])}}mount(e){this.current=e,TX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),eL.current||SX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jb.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hl(this.notifyUpdate),Hl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ah.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&hn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rh){const t=rh[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<SA.length;r++){const s=SA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=EX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=nh(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(qO(r)||KO(r))?r=parseFloat(r):!jQ(r)&&Kl.test(t)&&(r=RM(e,t)),this.setBaseTarget(e,ts(r)?r.get():r)),ts(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const i=vT(this.props,t,this.presenceContext?.custom);i&&(r=i[e])}if(t&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ts(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new QS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){uT.render(this.render)}}class tL extends CX{constructor(){super(...arguments),this.KeyframeResolver=bQ}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ts(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function nL(n,{style:e,vars:t},r,s){const i=n.style;let o;for(o in e)i[o]=e[o];s?.applyProjectionStyles(i,r);for(o in t)i.setProperty(o,t[o])}function PX(n){return window.getComputedStyle(n)}class kX extends tL{constructor(){super(...arguments),this.type="html",this.renderInstance=nL}readValueFromInstance(e,t){if(Ah.has(t))return this.projection?.isProjecting?Tb(t):UY(e,t);{const r=PX(e),s=(aM(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ZM(e,t)}build(e,t,r){mT(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return wT(e,t,r)}}const rL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RX(n,e,t,r){nL(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(rL.has(s)?s:xT(s),e.attrs[s])}class AX extends tL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ah.has(t)){const r=kM(t);return r&&r.default||0}return t=rL.has(t)?t:xT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return HM(e,t,r)}build(e,t,r){$M(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,s){RX(e,t,r,s)}mount(e){this.isSVGTag=WM(e.tagName),super.mount(e)}}const IX=(n,e)=>yT(n)?new AX(e):new kX(e,{allowProjection:n!==b.Fragment});function Ad(n,e,t){const r=n.getProps();return vT(r,e,t!==void 0?t:r.custom,n)}const Ob=n=>Array.isArray(n);function NX(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,nh(t))}function DX(n){return Ob(n)?n[n.length-1]||0:n}function jX(n,e){const t=Ad(n,e);let{transitionEnd:r={},transition:s={},...i}=t||{};i={...i,...r};for(const o in i){const l=DX(i[o]);NX(n,o,l)}}function OX(n){return!!(ts(n)&&n.add)}function Mb(n,e){const t=n.getValue("willChange");if(OX(t))return t.add(e);if(!t&&Ia.WillChange){const r=new Ia.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function sL(n){return n.props[KM]}const MX=n=>n!==null;function LX(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(MX),i=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[i]}const VX={type:"spring",stiffness:500,damping:25,restSpeed:10},FX=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),zX={type:"keyframes",duration:.8},UX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$X=(n,{keyframes:e})=>e.length>2?zX:Ah.has(n)?n.startsWith("scale")?FX(e[1]):VX:UX;function BX({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const _T=(n,e,t,r={},s,i)=>o=>{const l=lT(r,n)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Bo(u);const h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:i?void 0:s};BX(l)||Object.assign(h,$X(n,h)),h.duration&&(h.duration=Bo(h.duration)),h.repeatDelay&&(h.repeatDelay=Bo(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Rb(h),h.delay===0&&(m=!0)),(Ia.instantAnimations||Ia.skipAnimations)&&(m=!0,Rb(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const v=LX(h.keyframes,l);if(v!==void 0){hn.update(()=>{h.onUpdate(v),h.onComplete()});return}}return l.isSync?new oT(h):new uQ(h)};function WX({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function iL(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:i=n.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(i=r);const u=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const h in l){const m=n.getValue(h,n.latestValues[h]??null),v=l[h];if(v===void 0||d&&WX(d,h))continue;const w={delay:t,...lT(i||{},h)},T=m.get();if(T!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===T&&!w.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const R=sL(n);if(R){const k=window.MotionHandoffAnimation(R,h,hn);k!==null&&(w.startTime=k,x=!0)}}Mb(n,h),m.start(_T(h,m,v,n.shouldReduceMotion&&EM.has(h)?{type:!1}:w,n,x));const S=m.animation;S&&u.push(S)}return o&&Promise.all(u).then(()=>{hn.update(()=>{o&&jX(n,o)})}),u}function oL(n,e,t,r=0,s=1){const i=Array.from(n).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=n.size,l=(o-1)*r;return typeof t=="function"?t(i,o):s===1?i*r:l-i*r}function Lb(n,e,t={}){const r=Ad(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const i=r?()=>Promise.all(iL(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=s;return qX(n,e,u,d,h,m,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(t.delay)])}function qX(n,e,t=0,r=0,s=0,i=1,o){const l=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),l.push(Lb(u,e,{...o,delay:t+(typeof r=="function"?0:r)+oL(n.variantChildren,u,r,s,i)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function HX(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Lb(n,i,t));r=Promise.all(s)}else if(typeof e=="string")r=Lb(n,e,t);else{const s=typeof e=="function"?Ad(n,e,t.custom):e;r=Promise.all(iL(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function aL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const KX=pT.length;function lL(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?lL(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<KX;t++){const r=pT[t],s=n.props[r];(Ap(s)||s===!1)&&(e[r]=s)}return e}const GX=[...fT].reverse(),YX=fT.length;function QX(n){return e=>Promise.all(e.map(({animation:t,options:r})=>HX(n,t,r)))}function XX(n){let e=QX(n),t=TA(),r=!0;const s=u=>(d,h)=>{const m=Ad(n,h,u==="exit"?n.presenceContext?.custom:void 0);if(m){const{transition:v,transitionEnd:w,...T}=m;d={...d,...T,...w}}return d};function i(u){e=u(n)}function o(u){const{props:d}=n,h=lL(n.parent)||{},m=[],v=new Set;let w={},T=1/0;for(let S=0;S<YX;S++){const R=GX[S],k=t[R],j=d[R]!==void 0?d[R]:h[R],I=Ap(j),L=R===u?k.isActive:null;L===!1&&(T=S);let z=j===h[R]&&j!==d[R]&&I;if(z&&r&&n.manuallyAnimateOnMount&&(z=!1),k.protectedKeys={...w},!k.isActive&&L===null||!j&&!k.prevProp||vw(j)||typeof j=="boolean")continue;const P=JX(k.prevProp,j);let A=P||R===u&&k.isActive&&!z&&I||S>T&&I,D=!1;const O=Array.isArray(j)?j:[j];let V=O.reduce(s(R),{});L===!1&&(V={});const{prevResolvedValues:F={}}=k,U={...F,...V},X=J=>{A=!0,v.has(J)&&(D=!0,v.delete(J)),k.needsAnimating[J]=!0;const q=n.getValue(J);q&&(q.liveStyle=!1)};for(const J in U){const q=V[J],G=F[J];if(w.hasOwnProperty(J))continue;let B=!1;Ob(q)&&Ob(G)?B=!aL(q,G):B=q!==G,B?q!=null?X(J):v.add(J):q!==void 0&&v.has(J)?X(J):k.protectedKeys[J]=!0}k.prevProp=j,k.prevResolvedValues=V,k.isActive&&(w={...w,...V}),r&&n.blockInitialAnimation&&(A=!1);const se=z&&P;A&&(!se||D)&&m.push(...O.map(J=>{const q={type:R};if(typeof J=="string"&&r&&!se&&n.manuallyAnimateOnMount&&n.parent){const{parent:G}=n,B=Ad(G,J);if(G.enteringChildren&&B){const{delayChildren:W}=B.transition||{};q.delay=oL(G.enteringChildren,n,W)}}return{animation:J,options:q}}))}if(v.size){const S={};if(typeof d.initial!="boolean"){const R=Ad(n,Array.isArray(d.initial)?d.initial[0]:d.initial);R&&R.transition&&(S.transition=R.transition)}v.forEach(R=>{const k=n.getBaseTarget(R),j=n.getValue(R);j&&(j.liveStyle=!0),S[R]=k??null}),m.push({animation:S})}let x=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(m):Promise.resolve()}function l(u,d){if(t[u].isActive===d)return Promise.resolve();n.variantChildren?.forEach(m=>m.animationState?.setActive(u,d)),t[u].isActive=d;const h=o(u);for(const m in t)t[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>t,reset:()=>{t=TA()}}}function JX(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!aL(e,n):!1}function Ec(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TA(){return{animate:Ec(!0),whileInView:Ec(),whileHover:Ec(),whileTap:Ec(),whileDrag:Ec(),whileFocus:Ec(),exit:Ec()}}class tc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZX extends tc{constructor(e){super(e),e.animationState||(e.animationState=XX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let eJ=0;class tJ extends tc{constructor(){super(...arguments),this.id=eJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nJ={animation:{Feature:ZX},exit:{Feature:tJ}};function Ip(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function hm(n){return{point:{x:n.pageX,y:n.pageY}}}const rJ=n=>e=>dT(e)&&n(e,hm(e));function Qf(n,e,t,r){return Ip(n,e,rJ(t),r)}const cL=1e-4,sJ=1-cL,iJ=1+cL,uL=.01,oJ=0-uL,aJ=0+uL;function ws(n){return n.max-n.min}function lJ(n,e,t){return Math.abs(n-e)<=t}function EA(n,e,t,r=.5){n.origin=r,n.originPoint=Sn(e.min,e.max,n.origin),n.scale=ws(t)/ws(e),n.translate=Sn(t.min,t.max,n.origin)-n.originPoint,(n.scale>=sJ&&n.scale<=iJ||isNaN(n.scale))&&(n.scale=1),(n.translate>=oJ&&n.translate<=aJ||isNaN(n.translate))&&(n.translate=0)}function Xf(n,e,t,r){EA(n.x,e.x,t.x,r?r.originX:void 0),EA(n.y,e.y,t.y,r?r.originY:void 0)}function CA(n,e,t){n.min=t.min+e.min,n.max=n.min+ws(e)}function cJ(n,e,t){CA(n.x,e.x,t.x),CA(n.y,e.y,t.y)}function PA(n,e,t){n.min=e.min-t.min,n.max=n.min+ws(e)}function dv(n,e,t){PA(n.x,e.x,t.x),PA(n.y,e.y,t.y)}function xi(n){return[n("x"),n("y")]}const dL=({current:n})=>n?n.ownerDocument.defaultView:null,kA=(n,e)=>Math.abs(n-e);function uJ(n,e){const t=kA(n.x,e.x),r=kA(n.y,e.y);return Math.sqrt(t**2+r**2)}class hL{constructor(e,t,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=zx(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=uJ(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!T)return;const{point:x}=v,{timestamp:S}=jr;this.history.push({...x,timestamp:S});const{onStart:R,onMove:k}=this.handlers;w||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Fx(w,this.transformPagePoint),hn.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:T,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=zx(v.type==="pointercancel"?this.lastMoveEventInfo:Fx(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,R),x&&x(v,R)},!dT(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=hm(e),u=Fx(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=jr;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,zx(u,this.history)),this.removeListeners=cm(Qf(this.contextWindow,"pointermove",this.handlePointerMove),Qf(this.contextWindow,"pointerup",this.handlePointerUp),Qf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hl(this.updatePoint)}}function Fx(n,e){return e?{point:e(n.point)}:n}function RA(n,e){return{x:n.x-e.x,y:n.y-e.y}}function zx({point:n},e){return{point:n,delta:RA(n,fL(e)),offset:RA(n,dJ(e)),velocity:hJ(e,.1)}}function dJ(n){return n[0]}function fL(n){return n[n.length-1]}function hJ(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=fL(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Bo(e)));)t--;if(!r)return{x:0,y:0};const i=Pi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function fJ(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Sn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Sn(t,n,r.max):Math.min(n,t)),n}function AA(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function pJ(n,{top:e,left:t,bottom:r,right:s}){return{x:AA(n.x,t,s),y:AA(n.y,e,r)}}function IA(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function mJ(n,e){return{x:IA(n.x,e.x),y:IA(n.y,e.y)}}function gJ(n,e){let t=.5;const r=ws(n),s=ws(e);return s>r?t=Pp(e.min,e.max-r,n.min):r>s&&(t=Pp(n.min,n.max-s,e.min)),Aa(0,1,t)}function yJ(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Vb=.35;function vJ(n=Vb){return n===!1?n=0:n===!0&&(n=Vb),{x:NA(n,"left","right"),y:NA(n,"top","bottom")}}function NA(n,e,t){return{min:DA(n,e),max:DA(n,t)}}function DA(n,e){return typeof n=="number"?n:n[e]||0}const wJ=new WeakMap;class xJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(hm(m).point)},o=(m,v)=>{const{drag:w,dragPropagation:T,onDragStart:x}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CQ(w),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(R=>{let k=this.getAxisMotionValue(R).get()||0;if(Wo.test(k)){const{projection:j}=this.visualElement;if(j&&j.layout){const I=j.layout.layoutBox[R];I&&(k=ws(I)*(parseFloat(k)/100))}}this.originPoint[R]=k}),x&&hn.postRender(()=>x(m,v)),Mb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:x,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:R}=v;if(T&&this.currentDirection===null){this.currentDirection=_J(R),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),S&&S(m,v)},u=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>xi(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new hL(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:dL(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,s=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&hn.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!jg(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=fJ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&gd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=pJ(r.layoutBox,e):this.constraints=!1,this.elastic=vJ(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xi(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=yJ(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!gd(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=bX(r,s.root,this.visualElement.getTransformPagePoint());let o=mJ(s.layout.layoutBox,i);if(t){const l=t(wX(o));this.hasMutatedConstraints=!!l,l&&(o=QM(l))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=xi(h=>{if(!jg(h,t,this.currentDirection))return;let m=u&&u[h]||{};o&&(m={min:0,max:0});const v=s?200:1e6,w=s?40:1e7,T={type:"inertia",velocity:r?e[h]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,T)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Mb(this.visualElement,e),r.start(_T(e,r,0,t,this.visualElement,!1))}stopAnimation(){xi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xi(t=>{const{drag:r}=this.getProps();if(!jg(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[t];i.set(e[t]-Sn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!gd(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};xi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();s[o]=gJ({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xi(o=>{if(!jg(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Sn(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;wJ.set(this.visualElement,this);const e=this.visualElement.current,t=Qf(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();gd(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),hn.read(r);const o=Ip(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(xi(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=u[h].translate,m.set(m.get()+u[h].translate))}),this.visualElement.render())}));return()=>{o(),t(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Vb,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function jg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function _J(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class bJ extends tc{constructor(e){super(e),this.removeGroupControls=Ni,this.removeListeners=Ni,this.controls=new xJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const jA=n=>(e,t)=>{n&&hn.postRender(()=>n(e,t))};class SJ extends tc{constructor(){super(...arguments),this.removePointerDownListener=Ni}onPointerDown(e){this.session=new hL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:jA(e),onStart:jA(t),onMove:r,onEnd:(i,o)=>{delete this.session,s&&hn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Qf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ux=!1;class TJ extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),r&&r.register&&s&&r.register(i),Ux&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Ux=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||hn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;Ux=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pL(n){const[e,t]=MM(),r=b.useContext(BS);return p.jsx(TJ,{...n,layoutGroup:r,switchLayoutGroup:b.useContext(GM),isPresent:e,safeToRemove:t})}function EJ(n,e,t){const r=ts(n)?n:nh(n);return r.start(_T("",r,e,t)),r.animation}const CJ=(n,e)=>n.depth-e.depth;class PJ{constructor(){this.children=[],this.isDirty=!1}add(e){HS(this.children,e),this.isDirty=!0}remove(e){KS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CJ),this.isDirty=!1,this.children.forEach(e)}}function kJ(n,e){const t=Ls.now(),r=({timestamp:s})=>{const i=s-t;i>=e&&(Hl(r),n(i-e))};return hn.setup(r,!0),()=>Hl(r)}const mL=["TopLeft","TopRight","BottomLeft","BottomRight"],RJ=mL.length,OA=n=>typeof n=="string"?parseFloat(n):n,MA=n=>typeof n=="number"||Ge.test(n);function AJ(n,e,t,r,s,i){s?(n.opacity=Sn(0,t.opacity??1,IJ(r)),n.opacityExit=Sn(e.opacity??1,0,NJ(r))):i&&(n.opacity=Sn(e.opacity??1,t.opacity??1,r));for(let o=0;o<RJ;o++){const l=`border${mL[o]}Radius`;let u=LA(e,l),d=LA(t,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||MA(u)===MA(d)?(n[l]=Math.max(Sn(OA(u),OA(d),r),0),(Wo.test(d)||Wo.test(u))&&(n[l]+="%")):n[l]=d}(e.rotate||t.rotate)&&(n.rotate=Sn(e.rotate||0,t.rotate||0,r))}function LA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const IJ=gL(0,.5,tM),NJ=gL(.5,.95,Ni);function gL(n,e,t){return r=>r<n?0:r>e?1:t(Pp(n,e,r))}function VA(n,e){n.min=e.min,n.max=e.max}function qi(n,e){VA(n.x,e.x),VA(n.y,e.y)}function FA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function zA(n,e,t,r,s){return n-=e,n=uv(n,1/t,r),s!==void 0&&(n=uv(n,1/s,r)),n}function DJ(n,e=0,t=1,r=.5,s,i=n,o=n){if(Wo.test(e)&&(e=parseFloat(e),e=Sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Sn(i.min,i.max,r);n===i&&(l-=e),n.min=zA(n.min,e,t,l,s),n.max=zA(n.max,e,t,l,s)}function UA(n,e,[t,r,s],i,o){DJ(n,e[t],e[r],e[s],e.scale,i,o)}const jJ=["x","scaleX","originX"],OJ=["y","scaleY","originY"];function $A(n,e,t,r){UA(n.x,e,jJ,t?t.x:void 0,r?r.x:void 0),UA(n.y,e,OJ,t?t.y:void 0,r?r.y:void 0)}function BA(n){return n.translate===0&&n.scale===1}function yL(n){return BA(n.x)&&BA(n.y)}function WA(n,e){return n.min===e.min&&n.max===e.max}function MJ(n,e){return WA(n.x,e.x)&&WA(n.y,e.y)}function qA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function vL(n,e){return qA(n.x,e.x)&&qA(n.y,e.y)}function HA(n){return ws(n.x)/ws(n.y)}function KA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class LJ{constructor(){this.members=[]}add(e){HS(this.members,e),e.scheduleRender()}remove(e){if(KS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VJ(n,e,t){let r="";const s=n.x.translate/e.x,i=n.y.translate/e.y,o=t?.z||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:v,skewX:w,skewY:T}=t;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),v&&(r+=`rotateY(${v}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const l=n.x.scale*e.x,u=n.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const $x=["","X","Y","Z"],FJ=1e3;let zJ=0;function Bx(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function wL(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=sL(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:i}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",hn,!(s||i))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&wL(r)}function xL({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e?.()){this.id=zJ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BJ),this.nodes.forEach(KJ),this.nodes.forEach(GJ),this.nodes.forEach(WJ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new PJ)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new QS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=OM(o)&&!NQ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),n){let h,m=0;const v=()=>this.root.updateBlockedByResize=!1;hn.read(()=>{m=window.innerWidth}),n(o,()=>{const w=window.innerWidth;w!==m&&(m=w,this.root.updateBlockedByResize=!0,h&&h(),h=kJ(v,250),gy.hasAnimatedSinceResize&&(gy.hasAnimatedSinceResize=!1,this.nodes.forEach(QA)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||ZJ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:S}=d.getProps(),R=!this.targetLayout||!vL(this.targetLayout,w),k=!m&&v;if(this.options.layoutRoot||this.resumeFrom||k||m&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...lT(T,"layout"),onPlay:x,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(h,k)}else m||QA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YJ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(YA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HJ),this.nodes.forEach(UJ),this.nodes.forEach($J)):this.nodes.forEach(YA),this.clearAllSnapshots();const l=Ls.now();jr.delta=Aa(0,1e3/60,l-jr.timestamp),jr.timestamp=l,jr.isProcessing=!0,Ix.update.process(jr),Ix.preRender.process(jr),Ix.render.process(jr),jr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qJ),this.sharedNodes.forEach(QJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ws(this.snapshot.measuredBox.x)&&!ws(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=sr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!yL(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Rc(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),eZ(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return sr();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(tZ))){const{scroll:d}=this.root;d&&(yd(l.x,d.offset.x),yd(l.y,d.offset.y))}return l}removeElementScroll(o){const l=sr();if(qi(l,o),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&qi(l,o),yd(l.x,h.offset.x),yd(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const u=sr();qi(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&vd(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Rc(h.latestValues)&&vd(u,h.latestValues)}return Rc(this.latestValues)&&vd(u,this.latestValues),u}removeTransform(o){const l=sr();qi(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Rc(d.latestValues))continue;Nb(d.latestValues)&&d.updateSnapshot();const h=sr(),m=d.measurePageBox();qi(h,m),$A(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Rc(this.latestValues)&&$A(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!this.layout||!(h||m))return;this.resolvedRelativeTargetAt=jr.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sr(),this.targetWithTransforms=sr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qi(this.target,this.layout.layoutBox),JM(this.target,this.targetDelta)):qi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Nb(this.parent.latestValues)||XM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sr(),this.relativeTargetOrigin=sr(),dv(this.relativeTargetOrigin,l,u),qi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===jr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;qi(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;_X(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=sr());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FA(this.prevProjectionDelta.x,this.projectionDelta.x),FA(this.prevProjectionDelta.y,this.projectionDelta.y)),Xf(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!KA(this.projectionDelta.x,this.prevProjectionDelta.x)||!KA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wd(),this.projectionDelta=wd(),this.projectionDeltaWithTransform=wd()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},m=wd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=sr(),w=u?u.source:void 0,T=this.layout?this.layout.source:void 0,x=w!==T,S=this.getStack(),R=!S||S.members.length<=1,k=!!(x&&!R&&this.options.crossfade===!0&&!this.path.some(JJ));this.animationProgress=0;let j;this.mixTargetDelta=I=>{const L=I/1e3;XA(m.x,o.x,L),XA(m.y,o.y,L),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dv(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XJ(this.relativeTarget,this.relativeTargetOrigin,v,L),j&&MJ(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=sr()),qi(j,this.relativeTarget)),x&&(this.animationValues=h,AJ(h,d,this.latestValues,L,k,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hn.update(()=>{gy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nh(0)),this.currentAnimation=EJ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:h}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&_L(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||sr();const m=ws(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const v=ws(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}qi(l,u),vd(l,h),Xf(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new LJ),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Bx("z",o,d,this.animationValues);for(let h=0;h<$x.length;h++)Bx(`rotate${$x[h]}`,o,d,this.animationValues),Bx(`skew${$x[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=my(l?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=my(l?.pointerEvents)||""),this.hasProjected&&!Rc(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=VJ(this.projectionDeltaWithTransform,this.treeScale,h);u&&(m=u(h,m)),o.transform=m;const{x:v,y:w}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const T in Ib){if(h[T]===void 0)continue;const{correct:x,applyTo:S,isCSSVariable:R}=Ib[T],k=m==="none"?h[T]:x(h[T],d);if(S){const j=S.length;for(let I=0;I<j;I++)o[S[I]]=k}else R?this.options.visualElement.renderState.vars[T]=k:o[T]=k}this.options.layoutId&&(o.pointerEvents=d===this?my(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(GA),this.root.sharedNodes.clear()}}}function UJ(n){n.updateLayout()}function $J(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:s}=n.options,i=e.source!==n.layout.source;s==="size"?xi(h=>{const m=i?e.measuredBox[h]:e.layoutBox[h],v=ws(m);m.min=t[h].min,m.max=m.min+v}):_L(s,e.layoutBox,t)&&xi(h=>{const m=i?e.measuredBox[h]:e.layoutBox[h],v=ws(t[h]);m.max=m.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+v)});const o=wd();Xf(o,t,e.layoutBox);const l=wd();i?Xf(l,n.applyTransform(r,!0),e.measuredBox):Xf(l,t,e.layoutBox);const u=!yL(o);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:v}=h;if(m&&v){const w=sr();dv(w,e.layoutBox,m.layoutBox);const T=sr();dv(T,t,v.layoutBox),vL(w,T)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=w,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function BJ(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function WJ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function qJ(n){n.clearSnapshot()}function GA(n){n.clearMeasurements()}function YA(n){n.isLayoutDirty=!1}function HJ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function QA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function KJ(n){n.resolveTargetDelta()}function GJ(n){n.calcProjection()}function YJ(n){n.resetSkewAndRotation()}function QJ(n){n.removeLeadSnapshot()}function XA(n,e,t){n.translate=Sn(e.translate,0,t),n.scale=Sn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function JA(n,e,t,r){n.min=Sn(e.min,t.min,r),n.max=Sn(e.max,t.max,r)}function XJ(n,e,t,r){JA(n.x,e.x,t.x,r),JA(n.y,e.y,t.y,r)}function JJ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ZJ={duration:.45,ease:[.4,0,.1,1]},ZA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),eI=ZA("applewebkit/")&&!ZA("chrome/")?Math.round:Ni;function tI(n){n.min=eI(n.min),n.max=eI(n.max)}function eZ(n){tI(n.x),tI(n.y)}function _L(n,e,t){return n==="position"||n==="preserve-aspect"&&!lJ(HA(e),HA(t),.2)}function tZ(n){return n!==n.root&&n.scroll?.wasRoot}const nZ=xL({attachResizeListener:(n,e)=>Ip(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wx={current:void 0},bL=xL({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Wx.current){const n=new nZ({});n.mount(window),n.setOptions({layoutScroll:!0}),Wx.current=n}return Wx.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),rZ={pan:{Feature:SJ},drag:{Feature:bJ,ProjectionNode:bL,MeasureLayout:pL}};function nI(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,i=r[s];i&&hn.postRender(()=>i(e,hm(e)))}class sZ extends tc{mount(){const{current:e}=this.node;e&&(this.unmount=PQ(e,(t,r)=>(nI(this.node,r,"Start"),s=>nI(this.node,s,"End"))))}unmount(){}}class iZ extends tc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cm(Ip(this.node.current,"focus",()=>this.onFocus()),Ip(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rI(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),i=r[s];i&&hn.postRender(()=>i(e,hm(e)))}class oZ extends tc{mount(){const{current:e}=this.node;e&&(this.unmount=IQ(e,(t,r)=>(rI(this.node,r,"Start"),(s,{success:i})=>rI(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fb=new WeakMap,qx=new WeakMap,aZ=n=>{const e=Fb.get(n.target);e&&e(n)},lZ=n=>{n.forEach(aZ)};function cZ({root:n,...e}){const t=n||document;qx.has(t)||qx.set(t,{});const r=qx.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(lZ,{root:n,...e})),r[s]}function uZ(n,e,t){const r=cZ(e);return Fb.set(n,t),r.observe(n),()=>{Fb.delete(n),r.unobserve(n)}}const dZ={some:0,all:1};class hZ extends tc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:dZ[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),v=d?h:m;v&&v(u)};return uZ(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(fZ(e,t))&&this.startObserver()}unmount(){}}function fZ({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const pZ={inView:{Feature:hZ},tap:{Feature:oZ},focus:{Feature:iZ},hover:{Feature:sZ}},mZ={layout:{ProjectionNode:bL,MeasureLayout:pL}},gZ={...nJ,...pZ,...rZ,...mZ},fn=vX(gZ,IX),bT=Lv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),we=b.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},i)=>{const o=r?o5:"button";return p.jsx(o,{className:it(bT({variant:e,size:t,className:n})),ref:i,...s})});we.displayName="Button";const et=n=>typeof n=="string",_f=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},sI=n=>n==null?"":""+n,yZ=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},vZ=/###/g,iI=n=>n&&n.indexOf("###")>-1?n.replace(vZ,"."):n,oI=n=>!n||et(n),Jf=(n,e,t)=>{const r=et(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(oI(n))return{};const i=iI(r[s]);!n[i]&&t&&(n[i]=new t),Object.prototype.hasOwnProperty.call(n,i)?n=n[i]:n={},++s}return oI(n)?{}:{obj:n,k:iI(r[s])}},aI=(n,e,t)=>{const{obj:r,k:s}=Jf(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=Jf(n,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=Jf(n,o,Object),l?.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=t},wZ=(n,e,t,r)=>{const{obj:s,k:i}=Jf(n,e,Object);s[i]=s[i]||[],s[i].push(t)},hv=(n,e)=>{const{obj:t,k:r}=Jf(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},xZ=(n,e,t)=>{const r=hv(n,t);return r!==void 0?r:hv(e,t)},SL=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?et(n[r])||n[r]instanceof String||et(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):SL(n[r],e[r],t):n[r]=e[r]);return n},nd=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const bZ=n=>et(n)?n.replace(/[&<>"'\/]/g,e=>_Z[e]):n;class SZ{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const TZ=[" ",",","?","!",";"],EZ=new SZ(20),CZ=(n,e,t)=>{e=e||"",t=t||"";const r=TZ.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(r.length===0)return!0;const s=EZ.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(n);if(!i){const o=n.indexOf(t);o>0&&!s.test(n.substring(0,o))&&(i=!0)}return i},zb=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let s=n;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,l="";for(let u=i;u<r.length;++u)if(u!==i&&(l+=t),l+=r[u],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<r.length-1)continue;i+=u-i+1;break}s=o}return s},Np=n=>n?.replace("_","-"),PZ={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class fv{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||PZ,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(et(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new fv(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new fv(this.logger,e)}}var jo=new fv;class xw{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[e,...t])})}}class lI extends xw{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,s={}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],r&&(Array.isArray(r)?l.push(...r):et(r)&&i?l.push(...r.split(i)):l.push(r)));const u=hv(this.data,l);return!u&&!t&&!r&&e.indexOf(".")>-1&&(e=l[0],t=l[1],r=l.slice(2).join(".")),u||!o||!et(r)?u:zb(this.data?.[e]?.[t],r,i)}addResource(e,t,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,t];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),s=t,t=l[1]),this.addNamespaces(t),aI(this.data,l,s),i.silent||this.emit("added",e,t,r,s)}addResources(e,t,r,s={silent:!1}){for(const i in r)(et(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,i,o={silent:!1,skipCopy:!1}){let l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),s=r,r=t,t=l[1]),this.addNamespaces(t);let u=hv(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?SL(u,r,i):u={...u,...r},aI(this.data,l,u),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var TL={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(i=>{e=this.processors[i]?.process(e,t,r,s)??e}),e}};const EL=Symbol("i18next/PATH_KEY");function kZ(){const n=[],e=Object.create(null);let t;return e.get=(r,s)=>(t?.revoke?.(),s===EL?n:(n.push(s),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Ub(n,e){const{[EL]:t}=n(kZ());return t.join(e?.keySeparator??".")}const cI={},Hx=n=>!et(n)&&typeof n!="boolean"&&typeof n!="number";class pv extends xw{constructor(e,t={}){super(),yZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=jo.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const s=this.resolve(e,r);if(s?.res===void 0)return!1;const i=Hx(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!CZ(e,r,s);if(o&&!l){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:et(i)?[i]:i};const d=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),e=d.join(s)}return{key:e,namespaces:et(i)?[i]:i}}translate(e,t,r){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Ub(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],s),d=u[u.length-1];let h=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const m=s.lng||this.language,v=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return v?i?{res:`${d}${h}${l}`,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${h}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:l;const w=this.resolve(e,s);let T=w?.res;const x=w?.usedKey||l,S=w?.exactUsedKey||l,R=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,I=s.count!==void 0&&!et(s.count),L=pv.hasDefaultValue(s),z=I?this.pluralResolver.getSuffix(m,s.count,s):"",P=s.ordinal&&I?this.pluralResolver.getSuffix(m,s.count,{ordinal:!1}):"",A=I&&!s.ordinal&&s.count===0,D=A&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${z}`]||s[`defaultValue${P}`]||s.defaultValue;let O=T;j&&!T&&L&&(O=D);const V=Hx(O),F=Object.prototype.toString.apply(O);if(j&&O&&V&&R.indexOf(F)<0&&!(et(k)&&Array.isArray(O))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,O,{...s,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(w.res=U,w.usedParams=this.getUsedParamsDetails(s),w):U}if(o){const U=Array.isArray(O),X=U?[]:{},se=U?S:x;for(const re in O)if(Object.prototype.hasOwnProperty.call(O,re)){const J=`${se}${o}${re}`;L&&!T?X[re]=this.translate(J,{...s,defaultValue:Hx(D)?D[re]:void 0,joinArrays:!1,ns:u}):X[re]=this.translate(J,{...s,joinArrays:!1,ns:u}),X[re]===J&&(X[re]=O[re])}T=X}}else if(j&&et(k)&&Array.isArray(T))T=T.join(k),T&&(T=this.extendTranslation(T,e,s,r));else{let U=!1,X=!1;!this.isValidLookup(T)&&L&&(U=!0,T=D),this.isValidLookup(T)||(X=!0,T=l);const re=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:T,J=L&&D!==T&&this.options.updateMissing;if(X||U||J){if(this.logger.log(J?"updateKey":"missingKey",m,d,l,J?D:T),o){const W=this.resolve(l,{...s,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let W=0;W<G.length;W++)q.push(G[W]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(s.lng||this.language):q.push(s.lng||this.language);const B=(W,Q,ie)=>{const ue=L&&ie!==T?ie:re;this.options.missingKeyHandler?this.options.missingKeyHandler(W,d,Q,ue,J,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(W,d,Q,ue,J,s),this.emit("missingKey",W,d,Q,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?q.forEach(W=>{const Q=this.pluralResolver.getSuffixes(W,s);A&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(ie=>{B([W],l+ie,s[`defaultValue${ie}`]||D)})}):B(q,l,D))}T=this.extendTranslation(T,e,s,w,r),X&&T===l&&this.options.appendNamespaceToMissingKey&&(T=`${d}${h}${l}`),(X||U)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${h}${l}`:l,U?T:void 0,s))}return i?(w.res=T,w.usedParams=this.getUsedParamsDetails(s),w):T}extendTranslation(e,t,r,s,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=et(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const m=e.match(this.interpolator.nestingRegexp);d=m&&m.length}let h=r.replace&&!et(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const m=e.match(this.interpolator.nestingRegexp),v=m&&m.length;d<v&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>i?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):this.translate(...m,t),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=et(o)?[o]:o;return e!=null&&l?.length&&r.applyPostProcessor!==!1&&(e=TL.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,s,i,o,l;return et(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(u,t),h=d.key;s=h;let m=d.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const v=t.count!==void 0&&!et(t.count),w=v&&!t.ordinal&&t.count===0,T=t.context!==void 0&&(et(t.context)||typeof t.context=="number")&&t.context!=="",x=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(S=>{this.isValidLookup(r)||(l=S,!cI[`${x[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(cI[`${x[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(R=>{if(this.isValidLookup(r))return;o=R;const k=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,h,R,S,t);else{let I;v&&(I=this.pluralResolver.getSuffix(R,t.count,t));const L=`${this.options.pluralSeparator}zero`,z=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(t.ordinal&&I.indexOf(z)===0&&k.push(h+I.replace(z,this.options.pluralSeparator)),k.push(h+I),w&&k.push(h+L)),T){const P=`${h}${this.options.contextSeparator||"_"}${t.context}`;k.push(P),v&&(t.ordinal&&I.indexOf(z)===0&&k.push(P+I.replace(z,this.options.pluralSeparator)),k.push(P+I),w&&k.push(P+L))}}let j;for(;j=k.pop();)this.isValidLookup(r)||(i=j,r=this.getResource(R,S,j,t))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!et(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of t)delete s[i]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class uI{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jo.create("languageUtils")}getScriptPartFromCode(e){if(e=Np(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Np(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(et(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return t=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),et(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return et(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):et(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const dI={zero:0,one:1,two:2,few:3,many:4,other:5},hI={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class RZ{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=jo.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Np(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),hI;if(!e.match(/-|_/))return hI;const u=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(u,t)}return this.pluralRulesCache[i]=o,o}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>dI[s]-dI[i]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const fI=(n,e,t,r=".",s=!0)=>{let i=xZ(n,e,t);return!i&&s&&et(t)&&(i=zb(n,t,r),i===void 0&&(i=zb(e,t,r))),i},Kx=n=>n.replace(/\$/g,"$$$$");class AZ{constructor(e={}){this.logger=jo.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:u,formatSeparator:d,unescapeSuffix:h,unescapePrefix:m,nestingPrefix:v,nestingPrefixEscaped:w,nestingSuffix:T,nestingSuffixEscaped:x,nestingOptionsSeparator:S,maxReplaces:R,alwaysFormat:k}=e.interpolation;this.escape=t!==void 0?t:bZ,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?nd(i):o||"{{",this.suffix=l?nd(l):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=h?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=v?nd(v):w||nd("$t("),this.nestingSuffix=T?nd(T):x||nd(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=R||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let i,o,l;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=w=>{if(w.indexOf(this.formatSeparator)<0){const R=fI(t,u,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,r,{...s,...t,interpolationkey:w}):R}const T=w.split(this.formatSeparator),x=T.shift().trim(),S=T.join(this.formatSeparator).trim();return this.format(fI(t,u,x,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...s,...t,interpolationkey:x})};this.resetRegExp();const h=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Kx(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Kx(this.escape(w)):Kx(w)}].forEach(w=>{for(l=0;i=w.regex.exec(e);){const T=i[1].trim();if(o=d(T),o===void 0)if(typeof h=="function"){const S=h(e,i,s);o=et(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,T))o="";else if(m){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${e}`),o="";else!et(o)&&!this.useRawValueToEscape&&(o=sI(o));const x=w.safeValue(o);if(e=e.replace(i[0],x),m?(w.regex.lastIndex+=o.length,w.regex.lastIndex-=i[0].length):w.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t,r={}){let s,i,o;const l=(u,d)=>{const h=this.nestingOptionsSeparator;if(u.indexOf(h)<0)return u;const m=u.split(new RegExp(`${h}[ ]*{`));let v=`{${m[1]}`;u=m[0],v=this.interpolate(v,o);const w=v.match(/'/g),T=v.match(/"/g);((w?.length??0)%2===0&&!T||T.length%2!==0)&&(v=v.replace(/'/g,'"'));try{o=JSON.parse(v),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,x),`${u}${h}${v}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(e);){let u=[];o={...r},o=o.replace&&!et(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(d!==-1&&(u=s[1].slice(d).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),s[1]=s[1].slice(0,d)),i=t(l.call(this,s[1].trim(),o),o),i&&s[0]===e&&!et(i))return i;et(i)||(i=sI(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u.length&&(i=u.reduce((h,m)=>this.format(h,m,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const IZ=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(o=>{if(o){const[l,...u]=o.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();t[h]||(t[h]=d),d==="false"&&(t[h]=!1),d==="true"&&(t[h]=!0),isNaN(d)||(t[h]=parseInt(d,10))}})}return{formatName:e,formatOptions:t}},pI=n=>{const e={};return(t,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=e[o];return l||(l=n(Np(r),s),e[o]=l),l(t)}},NZ=n=>(e,t,r)=>n(Np(t),r)(e);class DZ{constructor(e={}){this.logger=jo.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?pI:NZ;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return l=>o.format(l)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return l=>o.format(l)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return l=>o.format(l)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return l=>o.format(l,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return l=>o.format(l)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=pI(t)}format(e,t,r,s={}){const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,u)=>{const{formatName:d,formatOptions:h}=IZ(u);if(this.formats[d]){let m=l;try{const v=s?.formatParams?.[s.interpolationkey]||{},w=v.locale||v.lng||s.locale||s.lng||r;m=this.formats[d](l,w,{...h,...s,...v})}catch(v){this.logger.warn(v)}return m}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const jZ=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class OZ extends xw{constructor(e,t,r,s={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=jo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,t,r,s){const i={},o={},l={},u={};return e.forEach(d=>{let h=!0;t.forEach(m=>{const v=`${d}|${m}`;!r.reload&&this.store.hasResourceBundle(d,m)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?o[v]===void 0&&(o[v]=!0):(this.state[v]=1,h=!1,o[v]===void 0&&(o[v]=!0),i[v]===void 0&&(i[v]=!0),u[m]===void 0&&(u[m]=!0)))}),h||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,t,r){const s=e.split("|"),i=s[0],o=s[1];t&&this.emit("failedLoading",i,o,t),!t&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const l={};this.queue.forEach(u=>{wZ(u.loaded,[i],o),jZ(u,e),t&&u.errors.push(t),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{l[d]||(l[d]={});const h=u.loaded[d];h.length&&h.forEach(m=>{l[d][m]===void 0&&(l[d][m]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,t,r,s=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const l=(d,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(d&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,i*2,o)},i);return}o(d,h)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const d=u(e,t);d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}return}return u(e,t,l)}prepareLoading(e,t,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();et(e)&&(e=this.languageUtils.toResolveHierarchy(e)),et(t)&&(t=[t]);const i=this.queueLoad(e,t,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${t}loading namespace ${i} for language ${s} failed`,o),!o&&l&&this.logger.log(`${t}loaded namespace ${i} for language ${s}`,l),this.loaded(e,o,l)})}saveMissing(e,t,r,s,i,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const u={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let h;d.length===5?h=d(e,t,r,s,u):h=d(e,t,r,s),h&&typeof h.then=="function"?h.then(m=>l(null,m)).catch(l):l(null,h)}catch(h){l(h)}else d(e,t,r,s,l,u)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const mI=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),et(n[1])&&(e.defaultValue=n[1]),et(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),gI=n=>(et(n.ns)&&(n.ns=[n.ns]),et(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),et(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Og=()=>{},MZ=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Zf extends xw{constructor(e={},t){if(super(),this.options=gI(e),this.services={},this.logger=jo,this.modules={external:[]},MZ(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(et(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=mI();this.options={...r,...this.options,...gI(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?jo.init(s(this.modules.logger),this.options):jo.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=DZ;const h=new uI(this.options);this.store=new lI(this.options.resources,this.options);const m=this.services;m.logger=jo,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new RZ(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=s(d),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new AZ(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new OZ(s(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(w,...T)=>{this.emit(w,...T)}),this.modules.languageDetector&&(m.languageDetector=s(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=s(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new pv(this.services,this.options),this.translator.on("*",(w,...T)=>{this.emit(w,...T)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Og),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...h)=>this.store[d](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...h)=>(this.store[d](...h),this)});const l=_f(),u=()=>{const d=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),t(h,m)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e,t=Og){let r=t;const s=et(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>o(u)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,t,r){const s=_f();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Og),this.services.backendConnector.reload(e,t,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&TL.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=_f();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,u)=>{u?this.isLanguageChangingTo===e&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),t&&t(l,(...d)=>this.t(...d))},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=et(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(et(l)?[l]:l);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,h=>{i(h,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,t,r){const s=(i,o,...l)=>{let u;typeof o!="object"?u=this.options.overloadTranslationOptionHandler([i,o].concat(l)):u={...o},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||s.keyPrefix);const d=this.options.keySeparator||".";let h;return u.keyPrefix&&Array.isArray(i)?h=i.map(m=>(typeof m=="function"&&(m=Ub(m,{...this.options,...o})),`${u.keyPrefix}${d}${m}`)):(typeof i=="function"&&(i=Ub(i,{...this.options,...o})),h=u.keyPrefix?`${u.keyPrefix}${d}${i}`:i),this.t(h,u)};return et(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,u)=>{const d=this.services.backendConnector.state[`${l}|${u}`];return d===-1||d===0||d===2};if(t.precheck){const l=t.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,t){const r=_f();return this.options.ns?(et(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=_f();et(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const i=s.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new uI(mI());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const r=new Zf(e,t);return r.createInstance=Zf.createInstance,r}cloneInstance(e={},t=Og){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Zf(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const l=Object.keys(this.store.data).reduce((u,d)=>(u[d]={...this.store.data[d]},u[d]=Object.keys(u[d]).reduce((h,m)=>(h[m]={...u[d][m]},h),u[d]),u),{});i.store=new lI(l,s),i.services.resourceStore=i.store}return i.translator=new pv(i.services,s),i.translator.on("*",(l,...u)=>{i.emit(l,...u)}),i.init(s,t),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _s=Zf.createInstance();_s.createInstance;_s.dir;_s.init;_s.loadResources;_s.reloadResources;_s.use;_s.changeLanguage;_s.getFixedT;_s.t;_s.exists;_s.setDefaultNamespace;_s.hasLoadedNamespace;_s.loadNamespaces;_s.loadLanguages;const LZ=(n,e,t,r)=>{const s=[t,{code:e,...r||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);uu(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...s):console?.warn&&console.warn(...s)},yI={},CL=(n,e,t,r)=>{uu(t)&&yI[t]||(uu(t)&&(yI[t]=new Date),LZ(n,e,t,r))},PL=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},$b=(n,e,t)=>{n.loadNamespaces(e,PL(n,t))},vI=(n,e,t,r)=>{if(uu(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return $b(n,t,r);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,PL(n,r))},VZ=(n,e,t={})=>!e.languages||!e.languages.length?(CL(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}),uu=n=>typeof n=="string",FZ=n=>typeof n=="object"&&n!==null,zZ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,UZ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},$Z=n=>UZ[n],BZ=n=>n.replace(zZ,$Z);let Bb={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:BZ};const WZ=(n={})=>{Bb={...Bb,...n}},qZ=()=>Bb;let kL;const HZ=n=>{kL=n},KZ=()=>kL,GZ={type:"3rdParty",init(n){WZ(n.options.react),HZ(n)}},YZ=b.createContext();class QZ{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Gx={exports:{}},Yx={};var wI;function XZ(){if(wI)return Yx;wI=1;var n=Dv();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,i=n.useLayoutEffect,o=n.useDebugValue;function l(m,v){var w=v(),T=r({inst:{value:w,getSnapshot:v}}),x=T[0].inst,S=T[1];return i(function(){x.value=w,x.getSnapshot=v,u(x)&&S({inst:x})},[m,w,v]),s(function(){return u(x)&&S({inst:x}),m(function(){u(x)&&S({inst:x})})},[m]),o(w),w}function u(m){var v=m.getSnapshot;m=m.value;try{var w=v();return!t(m,w)}catch{return!0}}function d(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Yx.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,Yx}var xI;function JZ(){return xI||(xI=1,Gx.exports=XZ()),Gx.exports}var ZZ=JZ();const eee=(n,e)=>uu(e)?e:FZ(e)&&uu(e.defaultValue)?e.defaultValue:Array.isArray(n)?n[n.length-1]:n,tee={t:eee,ready:!1},nee=()=>()=>{},bs=(n,e={})=>{const{i18n:t}=e,{i18n:r,defaultNS:s}=b.useContext(YZ)||{},i=t||r||KZ();i&&!i.reportNamespaces&&(i.reportNamespaces=new QZ),i||CL(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=b.useMemo(()=>({...qZ(),...i?.options?.react,...e}),[i,e]),{useSuspense:l,keyPrefix:u}=o,d=s||i?.options?.defaultNS,h=uu(d)?[d]:d||["translation"],m=b.useMemo(()=>h,h);i?.reportNamespaces?.addUsedNamespaces?.(m);const v=b.useRef(0),w=b.useCallback(D=>{if(!i)return nee;const{bindI18n:O,bindI18nStore:V}=o,F=()=>{v.current+=1,D()};return O&&i.on(O,F),V&&i.store.on(V,F),()=>{O&&O.split(" ").forEach(U=>i.off(U,F)),V&&V.split(" ").forEach(U=>i.store.off(U,F))}},[i,o]),T=b.useRef(),x=b.useCallback(()=>{if(!i)return tee;const D=!!(i.isInitialized||i.initializedStoreOnce)&&m.every(se=>VZ(se,i,o)),O=e.lng||i.language,V=v.current,F=T.current;if(F&&F.ready===D&&F.lng===O&&F.keyPrefix===u&&F.revision===V)return F;const X={t:i.getFixedT(O,o.nsMode==="fallback"?m:m[0],u),ready:D,lng:O,keyPrefix:u,revision:V};return T.current=X,X},[i,m,u,o,e.lng]),[S,R]=b.useState(0),{t:k,ready:j}=ZZ.useSyncExternalStore(w,x,x);b.useEffect(()=>{if(i&&!j&&!l){const D=()=>R(O=>O+1);e.lng?vI(i,e.lng,m,D):$b(i,m,D)}},[i,e.lng,m,j,l,S]);const I=i||{},L=b.useRef(null),z=b.useRef(),P=D=>{const O=Object.getOwnPropertyDescriptors(D);O.__original&&delete O.__original;const V=Object.create(Object.getPrototypeOf(D),O);if(!Object.prototype.hasOwnProperty.call(V,"__original"))try{Object.defineProperty(V,"__original",{value:D,writable:!1,enumerable:!1,configurable:!1})}catch{}return V},A=b.useMemo(()=>{const D=I,O=D?.language;let V=D;D&&(L.current&&L.current.__original===D?z.current!==O?(V=P(D),L.current=V,z.current=O):V=L.current:(V=P(D),L.current=V,z.current=O));const F=[k,V,j];return F.t=k,F.i18n=V,F.ready=j,F},[k,I,j,I.resolvedLanguage,I.language,I.languages]);if(i&&l&&!j)throw new Promise(D=>{const O=()=>D();e.lng?vI(i,e.lng,m,O):$b(i,m,O)});return A},ree=()=>{const n=Jl(),e=is(),[t,r]=b.useState(null),{isAdmin:s,signOut:i}=Ot(),{t:o}=bs(),l=[{path:"/",icon:Z5,label:o("nav.dashboard")},{path:"/movies",icon:Bd,label:o("nav.movies")},{path:"/series",icon:Iy,label:o("nav.series")},{path:"/collections",icon:P_,label:o("nav.collections")},{path:"/profile",icon:No,label:o("nav.profile")}],u=[{path:"/admin/users",icon:k_,label:o("nav.admin"),adminOnly:!0}],d=s?[...l,...u]:l,h=async()=>{try{await i(),e("/login")}catch(m){console.error("Error signing out:",m)}};return p.jsxs("aside",{className:"hidden lg:flex flex-col fixed left-0 top-0 z-40 h-screen w-64 bg-background-secondary border-r border-border",children:[p.jsx("div",{className:"flex items-center h-16 px-6 border-b border-border",children:p.jsxs(Y1,{to:"/",className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center",children:p.jsx(Bd,{className:"w-5 h-5 text-primary-foreground"})}),p.jsx("span",{className:"text-xl font-bold",children:"Archiwum"})]})}),p.jsx("nav",{className:"flex-1 py-8 overflow-y-auto",children:p.jsx("ul",{className:"space-y-2 px-4",children:d.map(m=>{const v=n.pathname===m.path,w=m.icon;return p.jsx("li",{children:p.jsxs(see,{to:m.path,isActive:v,isHovered:t===m.path,onHoverStart:()=>r(m.path),onHoverEnd:()=>r(null),onClick:()=>{},children:[p.jsx(w,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{children:m.label})]})},m.path)})})}),p.jsx("div",{className:"p-4 border-t border-border",children:p.jsxs(we,{variant:"ghost",onClick:()=>{const m=new CustomEvent("openFriendsSidebar");window.dispatchEvent(m)},className:"w-full justify-start gap-3 text-foreground-secondary hover:text-primary hover:bg-secondary/50",children:[p.jsx(R_,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{children:"Znajomi"})]})}),p.jsx("div",{className:"px-4 pb-4",children:p.jsxs(we,{variant:"ghost",onClick:h,className:"w-full justify-start gap-3 text-foreground-secondary hover:text-destructive hover:bg-destructive/10",children:[p.jsx(tD,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{children:"Wyloguj"})]})})]})},see=({to:n,isActive:e,isHovered:t,onHoverStart:r,onHoverEnd:s,onClick:i,children:o})=>{const[l,u]=b.useState({x:0,y:0}),d=m=>{const v=m.currentTarget.getBoundingClientRect(),w=v.left+v.width/2,T=v.top+v.height/2,x=m.clientX-w,S=m.clientY-T;u({x:x*.3,y:S*.3})},h=()=>{u({x:0,y:0}),s()};return p.jsx(Y1,{to:n,onClick:i,onMouseMove:d,onMouseEnter:r,onMouseLeave:h,className:it("relative flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors duration-200 touch-manipulation",e?"bg-primary text-primary-foreground":"text-foreground-secondary hover:bg-secondary hover:text-foreground"),children:p.jsx(fn.div,{className:"flex items-center gap-3 w-full",animate:{x:l.x,y:l.y},transition:{type:"spring",stiffness:150,damping:15,mass:.1},children:o})})};function iee(){const n=Jl(),e=[{path:"/movies",icon:Bd,label:"Filmy"},{path:"/series",icon:Iy,label:"Seriale"},{path:"/",icon:Ml,label:"Szukaj"},{path:"/profile",icon:No,label:"Profil"}];return p.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-lg border-t border-border lg:hidden pb-safe",children:p.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:e.map(({path:t,icon:r,label:s})=>{const i=n.pathname===t;return p.jsxs(Y1,{to:t,className:it("flex flex-col items-center justify-center w-full h-full gap-1 transition-colors duration-200 touch-manipulation",i?"text-primary":"text-muted-foreground hover:text-foreground"),children:[p.jsx(r,{className:it("w-6 h-6",i&&"fill-current")}),p.jsx("span",{className:"text-[10px] font-medium",children:s})]},t)})})})}const xs=b.forwardRef(({className:n,type:e,...t},r)=>p.jsx("input",{type:e,className:it("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));xs.displayName="Input";var oee=b.createContext(void 0);function _w(n){const e=b.useContext(oee);return n||e||"ltr"}function Wb(n,[e,t]){return Math.min(t,Math.max(e,n))}function aee(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var ST="ScrollArea",[RL]=so(ST),[lee,Oi]=RL(ST),AL=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=n,[l,u]=b.useState(null),[d,h]=b.useState(null),[m,v]=b.useState(null),[w,T]=b.useState(null),[x,S]=b.useState(null),[R,k]=b.useState(0),[j,I]=b.useState(0),[L,z]=b.useState(!1),[P,A]=b.useState(!1),D=St(e,V=>u(V)),O=_w(s);return p.jsx(lee,{scope:t,type:r,dir:O,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:h,content:m,onContentChange:v,scrollbarX:w,onScrollbarXChange:T,scrollbarXEnabled:L,onScrollbarXEnabledChange:z,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:P,onScrollbarYEnabledChange:A,onCornerWidthChange:k,onCornerHeightChange:I,children:p.jsx(Ye.div,{dir:O,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":j+"px",...n.style}})})});AL.displayName=ST;var IL="ScrollAreaViewport",NL=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,o=Oi(IL,t),l=b.useRef(null),u=St(e,l,o.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),p.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style},children:p.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});NL.displayName=IL;var Jo="ScrollAreaScrollbar",TT=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Oi(Jo,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=n.orientation==="horizontal";return b.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?p.jsx(cee,{...r,ref:e,forceMount:t}):s.type==="scroll"?p.jsx(uee,{...r,ref:e,forceMount:t}):s.type==="auto"?p.jsx(DL,{...r,ref:e,forceMount:t}):s.type==="always"?p.jsx(ET,{...r,ref:e}):null});TT.displayName=Jo;var cee=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Oi(Jo,n.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const l=s.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),o(!0)},h=()=>{u=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),p.jsx(ji,{present:t||i,children:p.jsx(DL,{"data-state":i?"visible":"hidden",...r,ref:e})})}),uee=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Oi(Jo,n.__scopeScrollArea),i=n.orientation==="horizontal",o=Sw(()=>u("SCROLL_END"),100),[l,u]=aee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,u]),b.useEffect(()=>{const d=s.viewport,h=i?"scrollLeft":"scrollTop";if(d){let m=d[h];const v=()=>{const w=d[h];m!==w&&(u("SCROLL"),o()),m=w};return d.addEventListener("scroll",v),()=>d.removeEventListener("scroll",v)}},[s.viewport,i,u,o]),p.jsx(ji,{present:t||l!=="hidden",children:p.jsx(ET,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Le(n.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Le(n.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),DL=b.forwardRef((n,e)=>{const t=Oi(Jo,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,o]=b.useState(!1),l=n.orientation==="horizontal",u=Sw(()=>{if(t.viewport){const d=t.viewport.offsetWidth<t.viewport.scrollWidth,h=t.viewport.offsetHeight<t.viewport.scrollHeight;o(l?d:h)}},10);return sh(t.viewport,u),sh(t.content,u),p.jsx(ji,{present:r||i,children:p.jsx(ET,{"data-state":i?"visible":"hidden",...s,ref:e})})}),ET=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=Oi(Jo,n.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[l,u]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=VL(l.viewport,l.content),h={...r,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:v=>i.current=v,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:v=>o.current=v};function m(v,w){return gee(v,o.current,l,w)}return t==="horizontal"?p.jsx(dee,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const v=s.viewport.scrollLeft,w=_I(v,l,s.dir);i.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=m(v,s.dir))}}):t==="vertical"?p.jsx(hee,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const v=s.viewport.scrollTop,w=_I(v,l);i.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=m(v))}}):null}),dee=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=Oi(Jo,n.__scopeScrollArea),[o,l]=b.useState(),u=b.useRef(null),d=St(e,u,i.onScrollbarXChange);return b.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),p.jsx(OL,{"data-orientation":"horizontal",...s,ref:d,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bw(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.x),onDragScroll:h=>n.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const v=i.viewport.scrollLeft+h.deltaX;n.onWheelScroll(v),zL(v,m)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:gv(o.paddingLeft),paddingEnd:gv(o.paddingRight)}})}})}),hee=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=Oi(Jo,n.__scopeScrollArea),[o,l]=b.useState(),u=b.useRef(null),d=St(e,u,i.onScrollbarYChange);return b.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),p.jsx(OL,{"data-orientation":"vertical",...s,ref:d,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bw(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.y),onDragScroll:h=>n.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const v=i.viewport.scrollTop+h.deltaY;n.onWheelScroll(v),zL(v,m)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:gv(o.paddingTop),paddingEnd:gv(o.paddingBottom)}})}})}),[fee,jL]=RL(Jo),OL=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:m,...v}=n,w=Oi(Jo,t),[T,x]=b.useState(null),S=St(e,D=>x(D)),R=b.useRef(null),k=b.useRef(""),j=w.viewport,I=r.content-r.viewport,L=ar(h),z=ar(u),P=Sw(m,10);function A(D){if(R.current){const O=D.clientX-R.current.left,V=D.clientY-R.current.top;d({x:O,y:V})}}return b.useEffect(()=>{const D=O=>{const V=O.target;T?.contains(V)&&L(O,I)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[j,T,I,L]),b.useEffect(z,[r,z]),sh(T,P),sh(w.content,P),p.jsx(fee,{scope:t,scrollbar:T,hasThumb:s,onThumbChange:ar(i),onThumbPointerUp:ar(o),onThumbPositionChange:z,onThumbPointerDown:ar(l),children:p.jsx(Ye.div,{...v,ref:S,style:{position:"absolute",...v.style},onPointerDown:Le(n.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),R.current=T.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),A(D))}),onPointerMove:Le(n.onPointerMove,A),onPointerUp:Le(n.onPointerUp,D=>{const O=D.target;O.hasPointerCapture(D.pointerId)&&O.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=k.current,w.viewport&&(w.viewport.style.scrollBehavior=""),R.current=null})})})}),mv="ScrollAreaThumb",ML=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=jL(mv,n.__scopeScrollArea);return p.jsx(ji,{present:t||s.hasThumb,children:p.jsx(pee,{ref:e,...r})})}),pee=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=Oi(mv,t),o=jL(mv,t),{onThumbPositionChange:l}=o,u=St(e,m=>o.onThumbChange(m)),d=b.useRef(void 0),h=Sw(()=>{d.current&&(d.current(),d.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const v=()=>{if(h(),!d.current){const w=yee(m,l);d.current=w,l()}};return l(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[i.viewport,h,l]),p.jsx(Ye.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(n.onPointerDownCapture,m=>{const w=m.target.getBoundingClientRect(),T=m.clientX-w.left,x=m.clientY-w.top;o.onThumbPointerDown({x:T,y:x})}),onPointerUp:Le(n.onPointerUp,o.onThumbPointerUp)})});ML.displayName=mv;var CT="ScrollAreaCorner",LL=b.forwardRef((n,e)=>{const t=Oi(CT,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?p.jsx(mee,{...n,ref:e}):null});LL.displayName=CT;var mee=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=Oi(CT,t),[i,o]=b.useState(0),[l,u]=b.useState(0),d=!!(i&&l);return sh(s.scrollbarX,()=>{const h=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(h),u(h)}),sh(s.scrollbarY,()=>{const h=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(h),o(h)}),d?p.jsx(Ye.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function gv(n){return n?parseInt(n,10):0}function VL(n,e){const t=n/e;return isNaN(t)?0:t}function bw(n){const e=VL(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function gee(n,e,t,r="ltr"){const s=bw(t),i=s/2,o=e||i,l=s-o,u=t.scrollbar.paddingStart+o,d=t.scrollbar.size-t.scrollbar.paddingEnd-l,h=t.content-t.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return FL([u,d],m)(n)}function _I(n,e,t="ltr"){const r=bw(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-r,u=t==="ltr"?[0,o]:[o*-1,0],d=Wb(n,u);return FL([0,o],[0,l])(d)}function FL(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function zL(n,e){return n>0&&n<e}var yee=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const i={left:n.scrollLeft,top:n.scrollTop},o=t.left!==i.left,l=t.top!==i.top;(o||l)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Sw(n,e){const t=ar(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function sh(n,e){const t=ar(e);br(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var UL=AL,vee=NL,wee=LL;const qb=b.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(UL,{ref:r,className:it("relative overflow-hidden",n),...t,children:[p.jsx(vee,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx($L,{}),p.jsx(wee,{})]}));qb.displayName=UL.displayName;const $L=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>p.jsx(TT,{ref:r,orientation:e,className:it("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:p.jsx(ML,{className:"relative flex-1 rounded-full bg-border"})}));$L.displayName=TT.displayName;var Qx="focusScope.autoFocusOnMount",Xx="focusScope.autoFocusOnUnmount",bI={bubbles:!1,cancelable:!0},xee="FocusScope",PT=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=n,[l,u]=b.useState(null),d=ar(s),h=ar(i),m=b.useRef(null),v=St(e,x=>u(x)),w=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let x=function(j){if(w.paused||!l)return;const I=j.target;l.contains(I)?m.current=I:dl(m.current,{select:!0})},S=function(j){if(w.paused||!l)return;const I=j.relatedTarget;I!==null&&(l.contains(I)||dl(m.current,{select:!0}))},R=function(j){if(document.activeElement===document.body)for(const L of j)L.removedNodes.length>0&&dl(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const k=new MutationObserver(R);return l&&k.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),k.disconnect()}}},[r,l,w.paused]),b.useEffect(()=>{if(l){TI.add(w);const x=document.activeElement;if(!l.contains(x)){const R=new CustomEvent(Qx,bI);l.addEventListener(Qx,d),l.dispatchEvent(R),R.defaultPrevented||(_ee(Cee(BL(l)),{select:!0}),document.activeElement===x&&dl(l))}return()=>{l.removeEventListener(Qx,d),setTimeout(()=>{const R=new CustomEvent(Xx,bI);l.addEventListener(Xx,h),l.dispatchEvent(R),R.defaultPrevented||dl(x??document.body,{select:!0}),l.removeEventListener(Xx,h),TI.remove(w)},0)}}},[l,d,h,w]);const T=b.useCallback(x=>{if(!t&&!r||w.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,R=document.activeElement;if(S&&R){const k=x.currentTarget,[j,I]=bee(k);j&&I?!x.shiftKey&&R===I?(x.preventDefault(),t&&dl(j,{select:!0})):x.shiftKey&&R===j&&(x.preventDefault(),t&&dl(I,{select:!0})):R===k&&x.preventDefault()}},[t,r,w.paused]);return p.jsx(Ye.div,{tabIndex:-1,...o,ref:v,onKeyDown:T})});PT.displayName=xee;function _ee(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(dl(r,{select:e}),document.activeElement!==t)return}function bee(n){const e=BL(n),t=SI(e,n),r=SI(e.reverse(),n);return[t,r]}function BL(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function SI(n,e){for(const t of n)if(!See(t,{upTo:e}))return t}function See(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Tee(n){return n instanceof HTMLInputElement&&"select"in n}function dl(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Tee(n)&&e&&n.select()}}var TI=Eee();function Eee(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=EI(n,e),n.unshift(e)},remove(e){n=EI(n,e),n[0]?.resume()}}}function EI(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Cee(n){return n.filter(e=>e.tagName!=="A")}var Jx=0;function WL(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??CI()),document.body.insertAdjacentElement("beforeend",n[1]??CI()),Jx++,()=>{Jx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jx--}},[])}function CI(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ko=function(){return ko=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ko.apply(this,arguments)};function qL(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Pee(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var yy="right-scroll-bar-position",vy="width-before-scroll-bar",kee="with-scroll-bars-hidden",Ree="--removed-body-scroll-bar-size";function Zx(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Aee(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var Iee=typeof window<"u"?b.useLayoutEffect:b.useEffect,PI=new WeakMap;function Nee(n,e){var t=Aee(null,function(r){return n.forEach(function(s){return Zx(s,r)})});return Iee(function(){var r=PI.get(t);if(r){var s=new Set(r),i=new Set(n),o=t.current;s.forEach(function(l){i.has(l)||Zx(l,null)}),i.forEach(function(l){s.has(l)||Zx(l,o)})}PI.set(t,n)},[n]),t}function Dee(n){return n}function jee(n,e){e===void 0&&(e=Dee);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var o=e(i,r);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){r=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(i),o=t}var u=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),t={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),t}}}};return s}function Oee(n){n===void 0&&(n={});var e=jee(null);return e.options=ko({async:!0,ssr:!1},n),e}var HL=function(n){var e=n.sideCar,t=qL(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,ko({},t))};HL.isSideCarExport=!0;function Mee(n,e){return n.useMedium(e),HL}var KL=Oee(),e_=function(){},Tw=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:e_,onWheelCapture:e_,onTouchMoveCapture:e_}),s=r[0],i=r[1],o=n.forwardProps,l=n.children,u=n.className,d=n.removeScrollBar,h=n.enabled,m=n.shards,v=n.sideCar,w=n.noRelative,T=n.noIsolation,x=n.inert,S=n.allowPinchZoom,R=n.as,k=R===void 0?"div":R,j=n.gapMode,I=qL(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=v,z=Nee([t,e]),P=ko(ko({},I),s);return b.createElement(b.Fragment,null,h&&b.createElement(L,{sideCar:KL,removeScrollBar:d,shards:m,noRelative:w,noIsolation:T,inert:x,setCallbacks:i,allowPinchZoom:!!S,lockRef:t,gapMode:j}),o?b.cloneElement(b.Children.only(l),ko(ko({},P),{ref:z})):b.createElement(k,ko({},P,{className:u,ref:z}),l))});Tw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tw.classNames={fullWidth:vy,zeroRight:yy};var Lee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Vee(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Lee();return e&&n.setAttribute("nonce",e),n}function Fee(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function zee(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Uee=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Vee())&&(Fee(e,t),zee(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$ee=function(){var n=Uee();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},GL=function(){var n=$ee(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},Bee={left:0,top:0,right:0,gap:0},t_=function(n){return parseInt(n||"",10)||0},Wee=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[t_(t),t_(r),t_(s)]},qee=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Bee;var e=Wee(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Hee=GL(),Id="data-scroll-locked",Kee=function(n,e,t,r){var s=n.left,i=n.top,o=n.right,l=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(kee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Id,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yy,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(vy,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(yy," .").concat(yy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vy," .").concat(vy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Id,`] {
    `).concat(Ree,": ").concat(l,`px;
  }
`)},kI=function(){var n=parseInt(document.body.getAttribute(Id)||"0",10);return isFinite(n)?n:0},Gee=function(){b.useEffect(function(){return document.body.setAttribute(Id,(kI()+1).toString()),function(){var n=kI()-1;n<=0?document.body.removeAttribute(Id):document.body.setAttribute(Id,n.toString())}},[])},Yee=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;Gee();var i=b.useMemo(function(){return qee(s)},[s]);return b.createElement(Hee,{styles:Kee(i,!e,s,t?"":"!important")})},Hb=!1;if(typeof window<"u")try{var Mg=Object.defineProperty({},"passive",{get:function(){return Hb=!0,!0}});window.addEventListener("test",Mg,Mg),window.removeEventListener("test",Mg,Mg)}catch{Hb=!1}var rd=Hb?{passive:!1}:!1,Qee=function(n){return n.tagName==="TEXTAREA"},YL=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Qee(n)&&t[e]==="visible")},Xee=function(n){return YL(n,"overflowY")},Jee=function(n){return YL(n,"overflowX")},RI=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=QL(n,r);if(s){var i=XL(n,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Zee=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},ete=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},QL=function(n,e){return n==="v"?Xee(e):Jee(e)},XL=function(n,e){return n==="v"?Zee(e):ete(e)},tte=function(n,e){return n==="h"&&e==="rtl"?-1:1},nte=function(n,e,t,r,s){var i=tte(n,window.getComputedStyle(e).direction),o=i*r,l=t.target,u=e.contains(l),d=!1,h=o>0,m=0,v=0;do{if(!l)break;var w=XL(n,l),T=w[0],x=w[1],S=w[2],R=x-S-i*T;(T||R)&&QL(n,l)&&(m+=R,v+=T);var k=l.parentNode;l=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(m)<1||!h&&Math.abs(v)<1)&&(d=!0),d},Lg=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},AI=function(n){return[n.deltaX,n.deltaY]},II=function(n){return n&&"current"in n?n.current:n},rte=function(n,e){return n[0]===e[0]&&n[1]===e[1]},ste=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},ite=0,sd=[];function ote(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(ite++)[0],i=b.useState(GL)[0],o=b.useRef(n);b.useEffect(function(){o.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var x=Pee([n.lockRef.current],(n.shards||[]).map(II),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var l=b.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var R=Lg(x),k=t.current,j="deltaX"in x?x.deltaX:k[0]-R[0],I="deltaY"in x?x.deltaY:k[1]-R[1],L,z=x.target,P=Math.abs(j)>Math.abs(I)?"h":"v";if("touches"in x&&P==="h"&&z.type==="range")return!1;var A=RI(P,z);if(!A)return!0;if(A?L=P:(L=P==="v"?"h":"v",A=RI(P,z)),!A)return!1;if(!r.current&&"changedTouches"in x&&(j||I)&&(r.current=L),!L)return!0;var D=r.current||L;return nte(D,S,x,D==="h"?j:I)},[]),u=b.useCallback(function(x){var S=x;if(!(!sd.length||sd[sd.length-1]!==i)){var R="deltaY"in S?AI(S):Lg(S),k=e.current.filter(function(L){return L.name===S.type&&(L.target===S.target||S.target===L.shadowParent)&&rte(L.delta,R)})[0];if(k&&k.should){S.cancelable&&S.preventDefault();return}if(!k){var j=(o.current.shards||[]).map(II).filter(Boolean).filter(function(L){return L.contains(S.target)}),I=j.length>0?l(S,j[0]):!o.current.noIsolation;I&&S.cancelable&&S.preventDefault()}}},[]),d=b.useCallback(function(x,S,R,k){var j={name:x,delta:S,target:R,should:k,shadowParent:ate(R)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(I){return I!==j})},1)},[]),h=b.useCallback(function(x){t.current=Lg(x),r.current=void 0},[]),m=b.useCallback(function(x){d(x.type,AI(x),x.target,l(x,n.lockRef.current))},[]),v=b.useCallback(function(x){d(x.type,Lg(x),x.target,l(x,n.lockRef.current))},[]);b.useEffect(function(){return sd.push(i),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",u,rd),document.addEventListener("touchmove",u,rd),document.addEventListener("touchstart",h,rd),function(){sd=sd.filter(function(x){return x!==i}),document.removeEventListener("wheel",u,rd),document.removeEventListener("touchmove",u,rd),document.removeEventListener("touchstart",h,rd)}},[]);var w=n.removeScrollBar,T=n.inert;return b.createElement(b.Fragment,null,T?b.createElement(i,{styles:ste(s)}):null,w?b.createElement(Yee,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function ate(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const lte=Mee(KL,ote);var kT=b.forwardRef(function(n,e){return b.createElement(Tw,ko({},n,{ref:e,sideCar:lte}))});kT.classNames=Tw.classNames;var cte=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},id=new WeakMap,Vg=new WeakMap,Fg={},n_=0,JL=function(n){return n&&(n.host||JL(n.parentNode))},ute=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=JL(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},dte=function(n,e,t,r){var s=ute(e,Array.isArray(n)?n:[n]);Fg[t]||(Fg[t]=new WeakMap);var i=Fg[t],o=[],l=new Set,u=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var h=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(v){if(l.has(v))h(v);else try{var w=v.getAttribute(r),T=w!==null&&w!=="false",x=(id.get(v)||0)+1,S=(i.get(v)||0)+1;id.set(v,x),i.set(v,S),o.push(v),x===1&&T&&Vg.set(v,!0),S===1&&v.setAttribute(t,"true"),T||v.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",v,R)}})};return h(e),l.clear(),n_++,function(){o.forEach(function(m){var v=id.get(m)-1,w=i.get(m)-1;id.set(m,v),i.set(m,w),v||(Vg.has(m)||m.removeAttribute(r),Vg.delete(m)),w||m.removeAttribute(t)}),n_--,n_||(id=new WeakMap,id=new WeakMap,Vg=new WeakMap,Fg={})}},ZL=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=cte(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),dte(r,s,t,"aria-hidden")):function(){return null}},Ew="Dialog",[eV,tV]=so(Ew),[hte,io]=eV(Ew),nV=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=n,l=b.useRef(null),u=b.useRef(null),[d,h]=eu({prop:r,defaultProp:s??!1,onChange:i,caller:Ew});return p.jsx(hte,{scope:e,triggerRef:l,contentRef:u,contentId:Tl(),titleId:Tl(),descriptionId:Tl(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),modal:o,children:t})};nV.displayName=Ew;var rV="DialogTrigger",sV=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=io(rV,t),i=St(e,s.triggerRef);return p.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":IT(s.open),...r,ref:i,onClick:Le(n.onClick,s.onOpenToggle)})});sV.displayName=rV;var RT="DialogPortal",[fte,iV]=eV(RT,{forceMount:void 0}),oV=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=io(RT,e);return p.jsx(fte,{scope:e,forceMount:t,children:b.Children.map(r,o=>p.jsx(ji,{present:t||i.open,children:p.jsx(jv,{asChild:!0,container:s,children:o})}))})};oV.displayName=RT;var yv="DialogOverlay",aV=b.forwardRef((n,e)=>{const t=iV(yv,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=io(yv,n.__scopeDialog);return i.modal?p.jsx(ji,{present:r||i.open,children:p.jsx(mte,{...s,ref:e})}):null});aV.displayName=yv;var pte=$d("DialogOverlay.RemoveScroll"),mte=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=io(yv,t);return p.jsx(kT,{as:pte,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(Ye.div,{"data-state":IT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),du="DialogContent",lV=b.forwardRef((n,e)=>{const t=iV(du,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=io(du,n.__scopeDialog);return p.jsx(ji,{present:r||i.open,children:i.modal?p.jsx(gte,{...s,ref:e}):p.jsx(yte,{...s,ref:e})})});lV.displayName=du;var gte=b.forwardRef((n,e)=>{const t=io(du,n.__scopeDialog),r=b.useRef(null),s=St(e,t.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return ZL(i)},[]),p.jsx(cV,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault())})}),yte=b.forwardRef((n,e)=>{const t=io(du,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return p.jsx(cV,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;t.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),cV=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=n,l=io(du,t),u=b.useRef(null),d=St(e,u);return WL(),p.jsxs(p.Fragment,{children:[p.jsx(PT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(Yp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":IT(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(wte,{titleId:l.titleId}),p.jsx(_te,{contentRef:u,descriptionId:l.descriptionId})]})]})}),AT="DialogTitle",uV=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=io(AT,t);return p.jsx(Ye.h2,{id:s.titleId,...r,ref:e})});uV.displayName=AT;var dV="DialogDescription",hV=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=io(dV,t);return p.jsx(Ye.p,{id:s.descriptionId,...r,ref:e})});hV.displayName=dV;var fV="DialogClose",pV=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=io(fV,t);return p.jsx(Ye.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>s.onOpenChange(!1))})});pV.displayName=fV;function IT(n){return n?"open":"closed"}var mV="DialogTitleWarning",[vte,gV]=s5(mV,{contentName:du,titleName:AT,docsSlug:"dialog"}),wte=({titleId:n})=>{const e=gV(mV),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},xte="DialogDescriptionWarning",_te=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gV(xte).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},yV=nV,vV=sV,wV=oV,NT=aV,DT=lV,jT=uV,OT=hV,MT=pV;const Yo=yV,fm=vV,bte=wV,xV=b.forwardRef(({className:n,...e},t)=>p.jsx(NT,{ref:t,className:it("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));xV.displayName=NT.displayName;const ro=b.forwardRef(({className:n,children:e,...t},r)=>{b.useEffect(()=>{const i=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",document.body.style.paddingRight="var(--scrollbar-width, 0px)",()=>{document.body.style.overflow=i,document.body.style.paddingRight=""}},[]);const s=b.useCallback(i=>{i.stopPropagation()},[]);return p.jsxs(bte,{children:[p.jsx(xV,{}),p.jsxs(DT,{ref:r,onWheel:s,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,p.jsxs(MT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(zc,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});ro.displayName=DT.displayName;const Na=({className:n,...e})=>p.jsx("div",{className:it("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Na.displayName="DialogHeader";const Da=b.forwardRef(({className:n,...e},t)=>p.jsx(jT,{ref:t,className:it("text-lg font-semibold leading-none tracking-tight",n),...e}));Da.displayName=jT.displayName;const hu=b.forwardRef(({className:n,...e},t)=>p.jsx(OT,{ref:t,className:it("text-sm text-muted-foreground",n),...e}));hu.displayName=OT.displayName;const Ste=Lv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bf({className:n,variant:e,...t}){return p.jsx("div",{className:it(Ste({variant:e}),n),...t})}class Tte{async sendFriendRequest(e,t,r,s){const i=`${e}_${r}`,o=yt(Ue,"friendRequests",i),l=await js(o);if(l.exists()&&l.data().status==="pending")throw new Error("Zaproszenie ju zostao wysane");await Ms(o,{fromUserId:e,fromUserName:t,toUserId:r,toUserName:s,status:"pending",createdAt:ht.now(),updatedAt:ht.now()})}async acceptFriendRequest(e){try{const t=yt(Ue,"friendRequests",e),r=await js(t);if(!r.exists())throw new Error("Zaproszenie nie istnieje");const s=r.data(),i=await js(yt(Ue,"users",s.fromUserId)),o=await js(yt(Ue,"users",s.toUserId)),l=i.exists()&&i.data().email||"",u=o.exists()&&o.data().email||"",d=yt(Ue,"users",s.fromUserId,"friends",s.toUserId),h=yt(Ue,"users",s.toUserId,"friends",s.fromUserId);await Promise.all([Ms(d,{userId:s.toUserId,userName:s.toUserName,email:u,addedAt:ht.now()}),Ms(h,{userId:s.fromUserId,userName:s.fromUserName,email:l,addedAt:ht.now()})]),await Ms(t,{status:"accepted",updatedAt:ht.now()},{merge:!0})}catch(t){throw console.error("Error accepting friend request:",t),t}}async rejectFriendRequest(e){const t=yt(Ue,"friendRequests",e);await Ms(t,{status:"rejected",updatedAt:ht.now()},{merge:!0})}async cancelFriendRequest(e){const t=yt(Ue,"friendRequests",e);await Qi(t)}async removeFriend(e,t){try{const r=yt(Ue,"users",e,"friends",t),s=yt(Ue,"users",t,"friends",e);await Promise.all([Qi(r),Qi(s)]);const i=`${e}_${t}`,o=`${t}_${e}`;try{await Qi(yt(Ue,"friendRequests",i))}catch{}try{await Qi(yt(Ue,"friendRequests",o))}catch{}}catch(r){throw console.error("Error removing friend:",r),r}}async getFriends(e){const t=Xn(Ue,"users",e,"friends");return(await Yn(t)).docs.map(s=>{const i=s.data();return{userId:i.userId,userName:i.userName,email:i.email||"",addedAt:i.addedAt?.toDate()||new Date}})}async getPendingRequests(e){try{const t=Xn(Ue,"friendRequests"),r=Ci(t,Kn("toUserId","==",e),Kn("status","==","pending"));return(await Yn(r)).docs.map(o=>{const l=o.data();return{id:o.id,fromUserId:l.fromUserId,fromUserName:l.fromUserName,toUserId:l.toUserId,toUserName:l.toUserName,status:l.status,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}).sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime())}catch(t){throw console.error("Error getting pending requests:",t),t}}async getSentRequests(e){try{const t=Xn(Ue,"friendRequests"),r=Ci(t,Kn("fromUserId","==",e),Kn("status","==","pending"));return(await Yn(r)).docs.map(o=>{const l=o.data();return{id:o.id,fromUserId:l.fromUserId,fromUserName:l.fromUserName,toUserId:l.toUserId,toUserName:l.toUserName,status:l.status,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}).sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime())}catch(t){throw console.error("Error getting sent requests:",t),t}}async searchUsers(e,t){try{const r=Xn(Ue,"users"),s=await Yn(r),i=Xn(Ue,"users",t,"friends"),o=await Yn(i),l=new Set(o.docs.map(x=>x.id)),u=Xn(Ue,"friendRequests"),d=Ci(u,Kn("fromUserId","==",t),Kn("status","==","pending")),h=Ci(u,Kn("toUserId","==",t),Kn("status","==","pending")),[m,v]=await Promise.all([Yn(d),Yn(h)]),w=new Set([...m.docs.map(x=>x.data().toUserId),...v.docs.map(x=>x.data().fromUserId)]),T=e.toLowerCase();return s.docs.filter(x=>{const S=x.data(),R=(S.displayName||"").toLowerCase(),k=(S.email||"").toLowerCase();return x.id!==t&&(R.includes(T)||k.includes(T))}).map(x=>{const S=x.data();return{uid:x.id,displayName:S.displayName||"Brak nazwy",email:S.email||"",photoURL:S.photoURL||"",isFriend:l.has(x.id),hasPendingRequest:w.has(x.id)}}).slice(0,10)}catch(r){throw console.error("Error searching users:",r),r}}async areFriends(e,t){const r=yt(Ue,"users",e,"friends",t);return(await js(r)).exists()}async hasPendingRequest(e,t){const r=`${e}_${t}`,s=yt(Ue,"friendRequests",r),i=await js(s);return i.exists()?i.data().status==="pending":!1}}const Va=new Tte,Ete=()=>{const{user:n}=Ot();return Ln({queryKey:["friends",n?.uid],queryFn:()=>Va.getFriends(n.uid),enabled:!!n,staleTime:120*1e3})},Cte=()=>{const{user:n}=Ot();return Ln({queryKey:["pending-requests",n?.uid],queryFn:()=>Va.getPendingRequests(n.uid),enabled:!!n,staleTime:30*1e3})},Pte=()=>{const{user:n}=Ot();return Ln({queryKey:["sent-requests",n?.uid],queryFn:()=>Va.getSentRequests(n.uid),enabled:!!n,staleTime:30*1e3})},kte=n=>{const{user:e}=Ot();return Ln({queryKey:["search-users",n,e?.uid],queryFn:()=>Va.searchUsers(n,e.uid),enabled:!!e&&n.length>=2,staleTime:60*1e3})},Rte=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:({toUserId:t,toUserName:r})=>Va.sendFriendRequest(n.uid,n.displayName||"Anonim",t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["sent-requests"]}),e.invalidateQueries({queryKey:["search-users"]})}})},Ate=()=>{const n=Tr();return ss({mutationFn:e=>Va.acceptFriendRequest(e),onSuccess:()=>{n.invalidateQueries({queryKey:["friends"]}),n.invalidateQueries({queryKey:["pending-requests"]})}})},Ite=()=>{const n=Tr();return ss({mutationFn:e=>Va.rejectFriendRequest(e),onSuccess:()=>{n.invalidateQueries({queryKey:["pending-requests"]})}})},Nte=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:t=>Va.removeFriend(n.uid,t),onSuccess:()=>{e.invalidateQueries({queryKey:["friends"]})}})},Dte=()=>{const n=Tr();return ss({mutationFn:e=>Va.cancelFriendRequest(e),onSuccess:()=>{n.invalidateQueries({queryKey:["sent-requests"]})}})},jte=({isOpen:n,onClose:e})=>{const t=is(),[r,s]=b.useState(!1),[i,o]=b.useState(""),{data:l}=Ete(),{data:u}=Cte(),{data:d,isLoading:h}=Pte(),{data:m}=kte(i),v=Rte(),w=Ate(),T=Ite(),x=Nte(),S=Dte(),R=async(z,P)=>{try{await v.mutateAsync({toUserId:z,toUserName:P}),Qt.success("Zaproszenie wysane!",{description:`Wysano zaproszenie do ${P}. Oczekuje na odpowied.`,duration:4e3}),s(!1),o("")}catch(A){Qt.error("Bd",{description:A.message||"Nie udao si wysa zaproszenia"})}},k=async z=>{try{await w.mutateAsync(z),Qt.success("Zaproszenie zaakceptowane!",{description:"Dodano nowego znajomego"})}catch{Qt.error("Bd",{description:"Nie udao si zaakceptowa zaproszenia"})}},j=async z=>{try{await T.mutateAsync(z),Qt.success("Zaproszenie odrzucone")}catch{Qt.error("Bd",{description:"Nie udao si odrzuci zaproszenia"})}},I=async z=>{try{await S.mutateAsync(z),Qt.success("Zaproszenie anulowane")}catch{Qt.error("Bd",{description:"Nie udao si anulowa zaproszenia"})}},L=async z=>{try{await x.mutateAsync(z),Qt.success("Znajomy usunity",{description:"Usunito ze znajomych"})}catch{Qt.error("Bd",{description:"Nie udao si usun znajomego"})}};return p.jsxs(p.Fragment,{children:[p.jsx(lv,{children:n&&p.jsx(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 z-40"})}),p.jsx(lv,{children:n&&p.jsx(fn.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 z-50 h-screen w-full sm:w-80 bg-background-secondary border-l border-border shadow-2xl overflow-y-auto",children:p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(R_,{className:"w-5 h-5 text-primary"}),p.jsx("h2",{className:"font-bold",children:"Znajomi"}),u&&u.length>0&&p.jsx(bf,{variant:"destructive",className:"ml-2",children:u.length})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Yo,{open:r,onOpenChange:s,children:[p.jsx(fm,{asChild:!0,children:p.jsx(we,{size:"icon",variant:"ghost",children:p.jsx(hx,{className:"w-4 h-4"})})}),p.jsxs(ro,{children:[p.jsxs(Na,{children:[p.jsx(Da,{children:"Znajd znajomych"}),p.jsx(hu,{children:"Wyszukaj uytkownikw po imieniu lub emailu"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Ml,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-secondary"}),p.jsx(xs,{value:i,onChange:z=>o(z.target.value),placeholder:"Szukaj...",className:"pl-10"})]}),p.jsx(qb,{className:"h-[300px]",children:m&&m.length>0?p.jsx("div",{className:"space-y-2",children:m.map(z=>p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-background-secondary transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[z.photoURL?p.jsx("img",{src:z.photoURL,alt:z.displayName,className:"w-10 h-10 rounded-full object-cover",onError:P=>{P.currentTarget.style.display="none",P.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,p.jsx("div",{className:`w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0 ${z.photoURL?"hidden":""}`,children:p.jsx(No,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium truncate",children:z.displayName}),p.jsx("p",{className:"text-xs text-foreground-secondary truncate",children:z.email})]})]}),z.isFriend?p.jsx(bf,{variant:"secondary",className:"shrink-0",children:"Znajomy"}):z.hasPendingRequest?p.jsx(bf,{variant:"outline",className:"shrink-0",children:"Oczekuje"}):p.jsxs(we,{size:"sm",variant:"outline",onClick:()=>R(z.uid,z.displayName),disabled:v.isPending,children:[p.jsx(hx,{className:"w-4 h-4 mr-2"}),"Dodaj"]})]},z.uid))}):i.length>=2?p.jsx("p",{className:"text-center text-foreground-secondary py-8",children:"Nie znaleziono uytkownikw"}):p.jsx("p",{className:"text-center text-foreground-secondary py-8",children:"Wpisz co najmniej 2 znaki"})})]})]})]}),p.jsx(we,{size:"icon",variant:"ghost",onClick:e,children:p.jsx(zc,{className:"w-4 h-4"})})]})]}),u&&u.length>0&&p.jsxs("div",{className:"border-b border-border p-4 space-y-3",children:[p.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[p.jsx(bf,{variant:"destructive",className:"px-2",children:u.length}),"Otrzymane zaproszenia"]}),p.jsx("div",{className:"space-y-2",children:u.map(z=>p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-primary/5 border border-primary/20",children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:p.jsx(No,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium truncate",children:z.fromUserName}),p.jsx("p",{className:"text-xs text-foreground-secondary",children:new Date(z.createdAt).toLocaleDateString("pl-PL")})]})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(we,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-green-500/20",onClick:()=>k(z.id),disabled:w.isPending,children:p.jsx(Vv,{className:"w-4 h-4 text-green-500"})}),p.jsx(we,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-destructive/20",onClick:()=>j(z.id),disabled:T.isPending,children:p.jsx(zc,{className:"w-4 h-4 text-destructive"})})]})]},z.id))})]}),!h&&d&&d.length>0&&p.jsxs("div",{className:"border-b border-border p-4 space-y-3",children:[p.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[p.jsx(bf,{variant:"secondary",className:"px-2",children:d.length}),"Wysane zaproszenia"]}),p.jsx("div",{className:"space-y-2",children:d.map(z=>p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-yellow-500/5 border border-yellow-500/20",children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center shrink-0",children:p.jsx(No,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium truncate",children:z.toUserName}),p.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 flex items-center gap-1",children:[p.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-yellow-500 animate-pulse"}),"Wysano zaproszenie"]})]})]}),p.jsx(we,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-destructive/20",onClick:()=>I(z.id),disabled:S.isPending,title:"Anuluj zaproszenie",children:p.jsx(zc,{className:"w-4 h-4 text-foreground-secondary"})})]},z.id))})]}),p.jsx(qb,{className:"flex-1 p-4",children:l&&l.length>0?p.jsx("div",{className:"space-y-2",children:l.map(z=>p.jsxs("div",{className:"group flex items-center justify-between p-3 rounded-lg hover:bg-background transition-colors cursor-pointer",onClick:()=>t(`/profile/${z.userId}`),children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:p.jsx(No,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium truncate",children:z.userName}),p.jsx("p",{className:"text-xs text-foreground-secondary truncate",children:z.email})]})]}),p.jsx(we,{size:"icon",variant:"ghost",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:P=>{P.stopPropagation(),L(z.userId)},children:p.jsx(Ll,{className:"w-4 h-4 text-destructive"})})]},z.userId))}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx(R_,{className:"w-12 h-12 text-foreground-secondary mx-auto mb-4"}),p.jsx("p",{className:"text-foreground-secondary mb-2",children:"Brak znajomych"}),p.jsxs("p",{className:"text-sm text-foreground-secondary",children:["Kliknij ",p.jsx(hx,{className:"w-4 h-4 inline"})," aby doda"]})]})})]})})})]})};function _V(n,e,t){return Math.max(n,Math.min(e,t))}class Ote{advance(e){if(!this.isRunning)return;let t=!1;if(this.lerp)this.value=(r=this.value,s=this.to,i=60*this.lerp,o=e,(function(l,u,d){return(1-d)*l+d*u})(r,s,1-Math.exp(-i*o))),Math.round(this.value)===this.to&&(this.value=this.to,t=!0);else{this.currentTime+=e;const l=_V(0,this.currentTime/this.duration,1);t=l>=1;const u=t?1:this.easing(l);this.value=this.from+(this.to-this.from)*u}var r,s,i,o;this.onUpdate?.(this.value,t),t&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,{lerp:r=.1,duration:s=1,easing:i=(u=>u),onStart:o,onUpdate:l}){this.from=this.value=e,this.to=t,this.lerp=r,this.duration=s,this.easing=i,this.currentTime=0,this.isRunning=!0,o?.(),this.onUpdate=l}}class Mte{constructor({wrapper:e,content:t,autoResize:r=!0,debounce:s=250}={}){this.wrapper=e,this.content=t,r&&(this.debouncedResize=(function(i,o){let l;return function(){let u=arguments,d=this;clearTimeout(l),l=setTimeout((function(){i.apply(d,u)}),o)}})(this.resize,s),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class bV{constructor(){this.events={}}emit(e,...t){let r=this.events[e]||[];for(let s=0,i=r.length;s<i;s++)r[s](...t)}on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter((r=>t!==r))}}off(e,t){this.events[e]=this.events[e]?.filter((r=>t!==r))}destroy(){this.events={}}}const NI=100/6;class Lte{constructor(e,{wheelMultiplier:t=1,touchMultiplier:r=1}){this.element=e,this.wheelMultiplier=t,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new bV,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=e=>{const{clientX:t,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:t,clientY:r}=e.targetTouches?e.targetTouches[0]:e,s=-(t-this.touchStart.x)*this.touchMultiplier,i=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=r,this.lastDelta={x:s,y:i},this.emitter.emit("scroll",{deltaX:s,deltaY:i,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:t,deltaY:r,deltaMode:s}=e;t*=s===1?NI:s===2?this.windowWidth:1,r*=s===1?NI:s===2?this.windowHeight:1,t*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:r,event:e})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class Vte{constructor({wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:r=e,eventsTarget:s=r,smoothWheel:i=!0,syncTouch:o=!1,syncTouchLerp:l=.075,touchInertiaMultiplier:u=35,duration:d,easing:h=(j=>Math.min(1,1.001-Math.pow(2,-10*j))),lerp:m=!d&&.1,infinite:v=!1,orientation:w="vertical",gestureOrientation:T="vertical",touchMultiplier:x=1,wheelMultiplier:S=1,autoResize:R=!0,__experimental__naiveDimensions:k=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:j,deltaY:I,event:L})=>{if(L.ctrlKey)return;const z=L.type.includes("touch"),P=L.type.includes("wheel");if(this.options.syncTouch&&z&&L.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const A=j===0&&I===0,D=this.options.gestureOrientation==="vertical"&&I===0||this.options.gestureOrientation==="horizontal"&&j===0;if(A||D)return;let O=L.composedPath();if(O=O.slice(0,O.indexOf(this.rootElement)),O.find((X=>{var se,re,J,q,G;return((se=X.hasAttribute)===null||se===void 0?void 0:se.call(X,"data-lenis-prevent"))||z&&((re=X.hasAttribute)===null||re===void 0?void 0:re.call(X,"data-lenis-prevent-touch"))||P&&((J=X.hasAttribute)===null||J===void 0?void 0:J.call(X,"data-lenis-prevent-wheel"))||((q=X.classList)===null||q===void 0?void 0:q.contains("lenis"))&&!(!((G=X.classList)===null||G===void 0)&&G.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void L.preventDefault();if(this.isSmooth=this.options.syncTouch&&z||this.options.smoothWheel&&P,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();L.preventDefault();let V=I;this.options.gestureOrientation==="both"?V=Math.abs(I)>Math.abs(j)?I:j:this.options.gestureOrientation==="horizontal"&&(V=j);const F=z&&this.options.syncTouch,U=z&&L.type==="touchend"&&Math.abs(V)>5;U&&(V=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+V,Object.assign({programmatic:!1},F?{lerp:U?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const j=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-j),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:r,eventsTarget:s,smoothWheel:i,syncTouch:o,syncTouchLerp:l,touchInertiaMultiplier:u,duration:d,easing:h,lerp:m,infinite:v,gestureOrientation:T,orientation:w,touchMultiplier:x,wheelMultiplier:S,autoResize:R,__experimental__naiveDimensions:k},this.animate=new Ote,this.emitter=new bV,this.dimensions=new Mte({wrapper:e,content:t,autoResize:R}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=o||i,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new Lte(s,{touchMultiplier:x,wheelMultiplier:S}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e,{offset:t=0,immediate:r=!1,lock:s=!1,duration:i=this.options.duration,easing:o=this.options.easing,lerp:l=!i&&this.options.lerp,onComplete:u,force:d=!1,programmatic:h=!0}={}){if(!this.isStopped&&!this.isLocked||d){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let m;if(typeof e=="string"?m=document.querySelector(e):e?.nodeType&&(m=e),m){if(this.options.wrapper!==window){const w=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?w.left:w.top}const v=m.getBoundingClientRect();e=(this.isHorizontal?v.left:v.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?h&&(this.targetScroll=this.animatedScroll=this.scroll):e=_V(0,e,this.limit),r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(u==null||u(this));if(!h){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:i,easing:o,lerp:l,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(m,v)=>{this.isScrolling=!0,this.velocity=m-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=m,this.setScroll(this.scroll),h&&(this.targetScroll=m),v||this.emit(),v&&(this.reset(),this.emit(),u?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,t=this.limit,(e%t+t)%t):this.animatedScroll;var e,t}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}function ma(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function SV(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var ui={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ih={duration:.5,overwrite:!1,delay:0},LT,Fr,dn,ki=1e8,Xt=1/ki,Kb=Math.PI*2,Fte=Kb/4,zte=0,TV=Math.sqrt,Ute=Math.cos,$te=Math.sin,Sr=function(e){return typeof e=="string"},In=function(e){return typeof e=="function"},ja=function(e){return typeof e=="number"},VT=function(e){return typeof e>"u"},Qo=function(e){return typeof e=="object"},Vs=function(e){return e!==!1},FT=function(){return typeof window<"u"},zg=function(e){return In(e)||Sr(e)},EV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ns=Array.isArray,Gb=/(?:-?\.?\d|\.)+/gi,CV=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,r_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,PV=/[+-]=-?[.\d]+/,kV=/[^,'"\[\]\s]+/gi,Bte=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,bn,Co,Yb,zT,di={},vv={},RV,AV=function(e){return(vv=oh(e,di))&&$s},UT=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Dp=function(e,t){return!t&&console.warn(e)},IV=function(e,t){return e&&(di[e]=t)&&vv&&(vv[e]=t)||di},jp=function(){return 0},Wte={suppressEvents:!0,isStart:!0,kill:!1},wy={suppressEvents:!0,kill:!1},qte={suppressEvents:!0},$T={},Nl=[],Qb={},NV,ni={},s_={},DI=30,xy=[],BT="",WT=function(e){var t=e[0],r,s;if(Qo(t)||In(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(s=xy.length;s--&&!xy[s].targetTest(t););r=xy[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new nF(e[s],r)))||e.splice(s,1);return e},qc=function(e){return e._gsap||WT(Ri(e))[0]._gsap},DV=function(e,t,r){return(r=e[t])&&In(r)?e[t]():VT(r)&&e.getAttribute&&e.getAttribute(t)||r},Fs=function(e,t){return(e=e.split(",")).forEach(t)||e},Mn=function(e){return Math.round(e*1e5)/1e5||0},Qn=function(e){return Math.round(e*1e7)/1e7||0},Nd=function(e,t){var r=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},Hte=function(e,t){for(var r=t.length,s=0;e.indexOf(t[s])<0&&++s<r;);return s<r},wv=function(){var e=Nl.length,t=Nl.slice(0),r,s;for(Qb={},Nl.length=0,r=0;r<e;r++)s=t[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},qT=function(e){return!!(e._initted||e._startAt||e.add)},jV=function(e,t,r,s){Nl.length&&!Fr&&wv(),e.render(t,r,!!(Fr&&t<0&&qT(e))),Nl.length&&!Fr&&wv()},OV=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(kV).length<2?t:Sr(e)?e.trim():e},MV=function(e){return e},hi=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Kte=function(e){return function(t,r){for(var s in r)s in t||s==="duration"&&e||s==="ease"||(t[s]=r[s])}},oh=function(e,t){for(var r in t)e[r]=t[r];return e},jI=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Qo(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},xv=function(e,t){var r={},s;for(s in e)s in t||(r[s]=e[s]);return r},ep=function(e){var t=e.parent||bn,r=e.keyframes?Kte(ns(e.keyframes)):hi;if(Vs(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Gte=function(e,t){for(var r=e.length,s=r===t.length;s&&r--&&e[r]===t[r];);return r<0},LV=function(e,t,r,s,i){var o=e[s],l;if(i)for(l=t[i];o&&o[i]>l;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[s]=t,t._prev=o,t.parent=t._dp=e,t},Cw=function(e,t,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var i=t._prev,o=t._next;i?i._next=o:e[r]===t&&(e[r]=o),o?o._prev=i:e[s]===t&&(e[s]=i),t._next=t._prev=t.parent=null},Gl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Hc=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Yte=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Xb=function(e,t,r,s){return e._startAt&&(Fr?e._startAt.revert(wy):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},Qte=function n(e){return!e||e._ts&&n(e.parent)},OI=function(e){return e._repeat?ah(e._tTime,e=e.duration()+e._rDelay)*e:0},ah=function(e,t){var r=Math.floor(e=Qn(e/t));return e&&r===e?r-1:r},_v=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Pw=function(e){return e._end=Qn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Xt)||0))},kw=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Qn(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Pw(e),r._dirty||Hc(r,e)),e},VV=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=_v(e.rawTime(),t),(!t._dur||pm(0,t.totalDuration(),r)-t._tTime>Xt)&&t.render(r,!0)),Hc(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Xt}},Ro=function(e,t,r,s){return t.parent&&Gl(t),t._start=Qn((ja(r)?r:r||e!==bn?_i(e,r,t):e._time)+t._delay),t._end=Qn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),LV(e,t,"_first","_last",e._sort?"_start":0),Jb(t)||(e._recent=t),s||VV(e,t),e._ts<0&&kw(e,e._tTime),e},FV=function(e,t){return(di.ScrollTrigger||UT("scrollTrigger",t))&&di.ScrollTrigger.create(t,e)},zV=function(e,t,r,s,i){if(KT(e,t,i),!e._initted)return 1;if(!r&&e._pt&&!Fr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&NV!==ii.frame)return Nl.push(e),e._lazy=[i,s],1},Xte=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Jb=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Jte=function(e,t,r,s){var i=e.ratio,o=t<0||!t&&(!e._start&&Xte(e)&&!(!e._initted&&Jb(e))||(e._ts<0||e._dp._ts<0)&&!Jb(e))?0:1,l=e._rDelay,u=0,d,h,m;if(l&&e._repeat&&(u=pm(0,e._tDur,t),h=ah(u,l),e._yoyo&&h&1&&(o=1-o),h!==ah(e._tTime,l)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||Fr||s||e._zTime===Xt||!t&&e._zTime){if(!e._initted&&zV(e,t,s,r,u))return;for(m=e._zTime,e._zTime=t||(r?Xt:0),r||(r=t&&!m),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,d=e._pt;d;)d.r(o,d.d),d=d._next;t<0&&Xb(e,t,r,!0),e._onUpdate&&!r&&li(e,"onUpdate"),u&&e._repeat&&!r&&e.parent&&li(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Gl(e,1),!r&&!Fr&&(li(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Zte=function(e,t,r){var s;if(r>t)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},lh=function(e,t,r,s){var i=e._repeat,o=Qn(t)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Qn(o*(i+1)+e._rDelay*i):o,l>0&&!s&&kw(e,e._tTime=e._tDur*l),e.parent&&Pw(e),r||Hc(e.parent,e),e},MI=function(e){return e instanceof ys?Hc(e):lh(e,e._dur)},ene={_start:0,endTime:jp,totalDuration:jp},_i=function n(e,t,r){var s=e.labels,i=e._recent||ene,o=e.duration()>=ki?i.endTime(!1):e._dur,l,u,d;return Sr(t)&&(isNaN(t)||t in s)?(u=t.charAt(0),d=t.substr(-1)==="%",l=t.indexOf("="),u==="<"||u===">"?(l>=0&&(t=t.replace(/=/,"")),(u==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(t.substr(1))||0)*(d?(l<0?i:r).totalDuration()/100:1)):l<0?(t in s||(s[t]=o),s[t]):(u=parseFloat(t.charAt(l-1)+t.substr(l+1)),d&&r&&(u=u/100*(ns(r)?r[0]:r).totalDuration()),l>1?n(e,t.substr(0,l-1),r)+u:o+u)):t==null?o:+t},tp=function(e,t,r){var s=ja(t[1]),i=(s?2:1)+(e<2?0:1),o=t[i],l,u;if(s&&(o.duration=t[1]),o.parent=r,e){for(l=o,u=r;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=Vs(u.vars.inherit)&&u.parent;o.immediateRender=Vs(l.immediateRender),e<2?o.runBackwards=1:o.startAt=t[i-1]}return new Gn(t[0],o,t[i+1])},nc=function(e,t){return e||e===0?t(e):t},pm=function(e,t,r){return r<e?e:r>t?t:r},Zr=function(e,t){return!Sr(e)||!(t=Bte.exec(e))?"":t[1]},tne=function(e,t,r){return nc(r,function(s){return pm(e,t,s)})},Zb=[].slice,UV=function(e,t){return e&&Qo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Qo(e[0]))&&!e.nodeType&&e!==Co},nne=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(s){var i;return Sr(s)&&!t||UV(s,1)?(i=r).push.apply(i,Ri(s)):r.push(s)})||r},Ri=function(e,t,r){return dn&&!t&&dn.selector?dn.selector(e):Sr(e)&&!r&&(Yb||!ch())?Zb.call((t||zT).querySelectorAll(e),0):ns(e)?nne(e,r):UV(e)?Zb.call(e,0):e?[e]:[]},e1=function(e){return e=Ri(e)[0]||Dp("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Ri(t,r.querySelectorAll?r:r===e?Dp("Invalid scope")||zT.createElement("div"):e)}},$V=function(e){return e.sort(function(){return .5-Math.random()})},BV=function(e){if(In(e))return e;var t=Qo(e)?e:{each:e},r=Kc(t.ease),s=t.from||0,i=parseFloat(t.base)||0,o={},l=s>0&&s<1,u=isNaN(s)||l,d=t.axis,h=s,m=s;return Sr(s)?h=m={center:.5,edges:.5,end:1}[s]||0:!l&&u&&(h=s[0],m=s[1]),function(v,w,T){var x=(T||t).length,S=o[x],R,k,j,I,L,z,P,A,D;if(!S){if(D=t.grid==="auto"?0:(t.grid||[1,ki])[1],!D){for(P=-ki;P<(P=T[D++].getBoundingClientRect().left)&&D<x;);D<x&&D--}for(S=o[x]=[],R=u?Math.min(D,x)*h-.5:s%D,k=D===ki?0:u?x*m/D-.5:s/D|0,P=0,A=ki,z=0;z<x;z++)j=z%D-R,I=k-(z/D|0),S[z]=L=d?Math.abs(d==="y"?I:j):TV(j*j+I*I),L>P&&(P=L),L<A&&(A=L);s==="random"&&$V(S),S.max=P-A,S.min=A,S.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(D>x?x-1:d?d==="y"?x/D:D:Math.max(D,x/D))||0)*(s==="edges"?-1:1),S.b=x<0?i-x:i,S.u=Zr(t.amount||t.each)||0,r=r&&x<0?ZV(r):r}return x=(S[v]-S.min)/S.max||0,Qn(S.b+(r?r(x):x)*S.v)+S.u}},t1=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=Qn(Math.round(parseFloat(r)/e)*e*t);return(s-s%1)/t+(ja(r)?0:Zr(r))}},WV=function(e,t){var r=ns(e),s,i;return!r&&Qo(e)&&(s=r=e.radius||ki,e.values?(e=Ri(e.values),(i=!ja(e[0]))&&(s*=s)):e=t1(e.increment)),nc(t,r?In(e)?function(o){return i=e(o),Math.abs(i-o)<=s?i:o}:function(o){for(var l=parseFloat(i?o.x:o),u=parseFloat(i?o.y:0),d=ki,h=0,m=e.length,v,w;m--;)i?(v=e[m].x-l,w=e[m].y-u,v=v*v+w*w):v=Math.abs(e[m]-l),v<d&&(d=v,h=m);return h=!s||d<=s?e[h]:o,i||h===o||ja(o)?h:h+Zr(o)}:t1(e))},qV=function(e,t,r,s){return nc(ns(e)?!t:r===!0?!!(r=0):!s,function(){return ns(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*s)/s})},rne=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduce(function(i,o){return o(i)},s)}},sne=function(e,t){return function(r){return e(parseFloat(r))+(t||Zr(r))}},ine=function(e,t,r){return KV(e,t,0,1,r)},HV=function(e,t,r){return nc(r,function(s){return e[~~t(s)]})},one=function n(e,t,r){var s=t-e;return ns(e)?HV(e,n(0,e.length),t):nc(r,function(i){return(s+(i-e)%s)%s+e})},ane=function n(e,t,r){var s=t-e,i=s*2;return ns(e)?HV(e,n(0,e.length-1),t):nc(r,function(o){return o=(i+(o-e)%i)%i||0,e+(o>s?i-o:o)})},Op=function(e){for(var t=0,r="",s,i,o,l;~(s=e.indexOf("random(",t));)o=e.indexOf(")",s),l=e.charAt(s+7)==="[",i=e.substr(s+7,o-s-7).match(l?kV:Gb),r+=e.substr(t,s-t)+qV(l?i:+i[0],l?0:+i[1],+i[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},KV=function(e,t,r,s,i){var o=t-e,l=s-r;return nc(i,function(u){return r+((u-e)/o*l||0)})},lne=function n(e,t,r,s){var i=isNaN(e+t)?0:function(w){return(1-w)*e+w*t};if(!i){var o=Sr(e),l={},u,d,h,m,v;if(r===!0&&(s=1)&&(r=null),o)e={p:e},t={p:t};else if(ns(e)&&!ns(t)){for(h=[],m=e.length,v=m-2,d=1;d<m;d++)h.push(n(e[d-1],e[d]));m--,i=function(T){T*=m;var x=Math.min(v,~~T);return h[x](T-x)},r=t}else s||(e=oh(ns(e)?[]:{},e));if(!h){for(u in t)HT.call(l,e,u,"get",t[u]);i=function(T){return QT(T,l)||(o?e.p:e)}}}return nc(r,i)},LI=function(e,t,r){var s=e.labels,i=ki,o,l,u;for(o in s)l=s[o]-t,l<0==!!r&&l&&i>(l=Math.abs(l))&&(u=o,i=l);return u},li=function(e,t,r){var s=e.vars,i=s[t],o=dn,l=e._ctx,u,d,h;if(i)return u=s[t+"Params"],d=s.callbackScope||e,r&&Nl.length&&wv(),l&&(dn=l),h=u?i.apply(d,u):i.call(d),dn=o,h},If=function(e){return Gl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Fr),e.progress()<1&&li(e,"onInterrupt"),e},_d,GV=[],YV=function(e){if(e)if(e=!e.name&&e.default||e,FT()||e.headless){var t=e.name,r=In(e),s=t&&!r&&e.init?function(){this._props=[]}:e,i={init:jp,render:QT,add:HT,kill:Tne,modifier:Sne,rawVars:0},o={targetTest:0,get:0,getSetter:YT,aliases:{},register:0};if(ch(),e!==s){if(ni[t])return;hi(s,hi(xv(e,i),o)),oh(s.prototype,oh(i,xv(e,o))),ni[s.prop=t]=s,e.targetTest&&(xy.push(s),$T[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}IV(t,s),e.register&&e.register($s,s,zs)}else GV.push(e)},Yt=255,Nf={aqua:[0,Yt,Yt],lime:[0,Yt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Yt],navy:[0,0,128],white:[Yt,Yt,Yt],olive:[128,128,0],yellow:[Yt,Yt,0],orange:[Yt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Yt,0,0],pink:[Yt,192,203],cyan:[0,Yt,Yt],transparent:[Yt,Yt,Yt,0]},i_=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Yt+.5|0},QV=function(e,t,r){var s=e?ja(e)?[e>>16,e>>8&Yt,e&Yt]:0:Nf.black,i,o,l,u,d,h,m,v,w,T;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Nf[e])s=Nf[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+i+i+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&Yt,s&Yt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&Yt,e&Yt]}else if(e.substr(0,3)==="hsl"){if(s=T=e.match(Gb),!t)u=+s[0]%360/360,d=+s[1]/100,h=+s[2]/100,o=h<=.5?h*(d+1):h+d-h*d,i=h*2-o,s.length>3&&(s[3]*=1),s[0]=i_(u+1/3,i,o),s[1]=i_(u,i,o),s[2]=i_(u-1/3,i,o);else if(~e.indexOf("="))return s=e.match(CV),r&&s.length<4&&(s[3]=1),s}else s=e.match(Gb)||Nf.transparent;s=s.map(Number)}return t&&!T&&(i=s[0]/Yt,o=s[1]/Yt,l=s[2]/Yt,m=Math.max(i,o,l),v=Math.min(i,o,l),h=(m+v)/2,m===v?u=d=0:(w=m-v,d=h>.5?w/(2-m-v):w/(m+v),u=m===i?(o-l)/w+(o<l?6:0):m===o?(l-i)/w+2:(i-o)/w+4,u*=60),s[0]=~~(u+.5),s[1]=~~(d*100+.5),s[2]=~~(h*100+.5)),r&&s.length<4&&(s[3]=1),s},XV=function(e){var t=[],r=[],s=-1;return e.split(Dl).forEach(function(i){var o=i.match(xd)||[];t.push.apply(t,o),r.push(s+=o.length+1)}),t.c=r,t},VI=function(e,t,r){var s="",i=(e+s).match(Dl),o=t?"hsla(":"rgba(",l=0,u,d,h,m;if(!i)return e;if(i=i.map(function(v){return(v=QV(v,t,1))&&o+(t?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),r&&(h=XV(e),u=r.c,u.join(s)!==h.c.join(s)))for(d=e.replace(Dl,"1").split(xd),m=d.length-1;l<m;l++)s+=d[l]+(~u.indexOf(l)?i.shift()||o+"0,0,0,0)":(h.length?h:i.length?i:r).shift());if(!d)for(d=e.split(Dl),m=d.length-1;l<m;l++)s+=d[l]+i[l];return s+d[m]},Dl=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Nf)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),cne=/hsl[a]?\(/,JV=function(e){var t=e.join(" "),r;if(Dl.lastIndex=0,Dl.test(t))return r=cne.test(t),e[1]=VI(e[1],r),e[0]=VI(e[0],r,XV(e[1])),!0},Mp,ii=(function(){var n=Date.now,e=500,t=33,r=n(),s=r,i=1e3/240,o=i,l=[],u,d,h,m,v,w,T=function x(S){var R=n()-s,k=S===!0,j,I,L,z;if((R>e||R<0)&&(r+=R-t),s+=R,L=s-r,j=L-o,(j>0||k)&&(z=++m.frame,v=L-m.time*1e3,m.time=L=L/1e3,o+=j+(j>=i?4:i-j),I=1),k||(u=d(x)),I)for(w=0;w<l.length;w++)l[w](L,v,z,S)};return m={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(S){return v/(1e3/(S||60))},wake:function(){RV&&(!Yb&&FT()&&(Co=Yb=window,zT=Co.document||{},di.gsap=$s,(Co.gsapVersions||(Co.gsapVersions=[])).push($s.version),AV(vv||Co.GreenSockGlobals||!Co.gsap&&Co||{}),GV.forEach(YV)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&m.sleep(),d=h||function(S){return setTimeout(S,o-m.time*1e3+1|0)},Mp=1,T(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(u),Mp=0,d=jp},lagSmoothing:function(S,R){e=S||1/0,t=Math.min(R||33,e)},fps:function(S){i=1e3/(S||240),o=m.time*1e3+i},add:function(S,R,k){var j=R?function(I,L,z,P){S(I,L,z,P),m.remove(j)}:S;return m.remove(S),l[k?"unshift":"push"](j),ch(),j},remove:function(S,R){~(R=l.indexOf(S))&&l.splice(R,1)&&w>=R&&w--},_listeners:l},m})(),ch=function(){return!Mp&&ii.wake()},Pt={},une=/^[\d.\-M][\d.\-,\s]/,dne=/["']/g,hne=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),s=r[0],i=1,o=r.length,l,u,d;i<o;i++)u=r[i],l=i!==o-1?u.lastIndexOf(","):u.length,d=u.substr(0,l),t[s]=isNaN(d)?d.replace(dne,"").trim():+d,s=u.substr(l+1).trim();return t},fne=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<r?e.indexOf(")",r+1):r)},pne=function(e){var t=(e+"").split("("),r=Pt[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[hne(t[1])]:fne(e).split(",").map(OV)):Pt._CE&&une.test(e)?Pt._CE("",e):r},ZV=function(e){return function(t){return 1-e(1-t)}},eF=function n(e,t){for(var r=e._first,s;r;)r instanceof ys?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=t)),r=r._next},Kc=function(e,t){return e&&(In(e)?e:Pt[e]||pne(e))||t},Tu=function(e,t,r,s){r===void 0&&(r=function(u){return 1-t(1-u)}),s===void 0&&(s=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var i={easeIn:t,easeOut:r,easeInOut:s},o;return Fs(e,function(l){Pt[l]=di[l]=i,Pt[o=l.toLowerCase()]=r;for(var u in i)Pt[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=Pt[l+"."+u]=i[u]}),i},tF=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},o_=function n(e,t,r){var s=t>=1?t:1,i=(r||(e?.3:.45))/(t<1?t:1),o=i/Kb*(Math.asin(1/s)||0),l=function(h){return h===1?1:s*Math.pow(2,-10*h)*$te((h-o)*i)+1},u=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:tF(l);return i=Kb/i,u.config=function(d,h){return n(e,d,h)},u},a_=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},s=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:tF(r);return s.config=function(i){return n(e,i)},s};Fs("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Tu(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Pt.Linear.easeNone=Pt.none=Pt.Linear.easeIn;Tu("Elastic",o_("in"),o_("out"),o_());(function(n,e){var t=1/e,r=2*t,s=2.5*t,i=function(l){return l<t?n*l*l:l<r?n*Math.pow(l-1.5/e,2)+.75:l<s?n*(l-=2.25/e)*l+.9375:n*Math.pow(l-2.625/e,2)+.984375};Tu("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);Tu("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Tu("Circ",function(n){return-(TV(1-n*n)-1)});Tu("Sine",function(n){return n===1?1:-Ute(n*Fte)+1});Tu("Back",a_("in"),a_("out"),a_());Pt.SteppedEase=Pt.steps=di.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,s=e+(t?0:1),i=t?1:0,o=1-Xt;return function(l){return((s*pm(0,o,l)|0)+i)*r}}};ih.ease=Pt["quad.out"];Fs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return BT+=n+","+n+"Params,"});var nF=function(e,t){this.id=zte++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:DV,this.set=t?t.getSetter:YT},Lp=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,lh(this,+t.duration,1,1),this.data=t.data,dn&&(this._ctx=dn,dn.data.push(this)),Mp||ii.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,lh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(ch(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(kw(this,r),!i._dp||i.parent||VV(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Ro(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Xt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),jV(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+OI(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+OI(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,s):this._repeat?ah(this._tTime,i)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-Xt?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?_v(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Xt?0:this._rts,this.totalTime(pm(-Math.abs(this._delay),this.totalDuration(),i),s!==!1),Pw(this),Yte(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ch(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Xt&&(this._tTime-=Xt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Ro(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Vs(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_v(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=qte);var s=Fr;return Fr=r,qT(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Fr=s,this},e.globalTime=function(r){for(var s=this,i=arguments.length?r:s.rawTime();s;)i=s._start+i/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,MI(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,MI(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(_i(this,r),Vs(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,Vs(s)),this._dur||(this._zTime=-Xt),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Xt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Xt,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=s&&i<this.endTime(!0)-Xt)},e.eventCallback=function(r,s,i){var o=this.vars;return arguments.length>1?(s?(o[r]=s,i&&(o[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(i){var o=In(r)?r:MV,l=function(){var d=s.then;s.then=null,In(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=d),i(o),s.then=d};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?l():s._prom=l})},e.kill=function(){If(this)},n})();hi(Lp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Xt,_prom:0,_ps:!1,_rts:1});var ys=(function(n){SV(e,n);function e(r,s){var i;return r===void 0&&(r={}),i=n.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=Vs(r.sortChildren),bn&&Ro(r.parent||bn,ma(i),s),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&FV(ma(i),r.scrollTrigger),i}var t=e.prototype;return t.to=function(s,i,o){return tp(0,arguments,this),this},t.from=function(s,i,o){return tp(1,arguments,this),this},t.fromTo=function(s,i,o,l){return tp(2,arguments,this),this},t.set=function(s,i,o){return i.duration=0,i.parent=this,ep(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new Gn(s,i,_i(this,o),1),this},t.call=function(s,i,o){return Ro(this,Gn.delayedCall(0,s,i),o)},t.staggerTo=function(s,i,o,l,u,d,h){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=d,o.onCompleteParams=h,o.parent=this,new Gn(s,o,_i(this,u)),this},t.staggerFrom=function(s,i,o,l,u,d,h){return o.runBackwards=1,ep(o).immediateRender=Vs(o.immediateRender),this.staggerTo(s,i,o,l,u,d,h)},t.staggerFromTo=function(s,i,o,l,u,d,h,m){return l.startAt=o,ep(l).immediateRender=Vs(l.immediateRender),this.staggerTo(s,i,l,u,d,h,m)},t.render=function(s,i,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,d=this._dur,h=s<=0?0:Qn(s),m=this._zTime<0!=s<0&&(this._initted||!d),v,w,T,x,S,R,k,j,I,L,z,P;if(this!==bn&&h>u&&s>=0&&(h=u),h!==this._tTime||o||m){if(l!==this._time&&d&&(h+=this._time-l,s+=this._time-l),v=h,I=this._start,j=this._ts,R=!j,m&&(d||(l=this._zTime),(s||!i)&&(this._zTime=s)),this._repeat){if(z=this._yoyo,S=d+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(S*100+s,i,o);if(v=Qn(h%S),h===u?(x=this._repeat,v=d):(L=Qn(h/S),x=~~L,x&&x===L&&(v=d,x--),v>d&&(v=d)),L=ah(this._tTime,S),!l&&this._tTime&&L!==x&&this._tTime-L*S-this._dur<=0&&(L=x),z&&x&1&&(v=d-v,P=1),x!==L&&!this._lock){var A=z&&L&1,D=A===(z&&x&1);if(x<L&&(A=!A),l=A?0:h%d?d:h,this._lock=1,this.render(l||(P?0:Qn(x*S)),i,!d)._lock=0,this._tTime=h,!i&&this.parent&&li(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),l&&l!==this._time||R!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,u=this._tDur,D&&(this._lock=2,l=A?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!R)return this;eF(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(k=Zte(this,Qn(l),Qn(v)),k&&(h-=v-(v=k._start))),this._tTime=h,this._time=v,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&h&&!i&&!L&&(li(this,"onStart"),this._tTime!==h))return this;if(v>=l&&s>=0)for(w=this._first;w;){if(T=w._next,(w._act||v>=w._start)&&w._ts&&k!==w){if(w.parent!==this)return this.render(s,i,o);if(w.render(w._ts>0?(v-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(v-w._start)*w._ts,i,o),v!==this._time||!this._ts&&!R){k=0,T&&(h+=this._zTime=-Xt);break}}w=T}else{w=this._last;for(var O=s<0?s:v;w;){if(T=w._prev,(w._act||O<=w._end)&&w._ts&&k!==w){if(w.parent!==this)return this.render(s,i,o);if(w.render(w._ts>0?(O-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(O-w._start)*w._ts,i,o||Fr&&qT(w)),v!==this._time||!this._ts&&!R){k=0,T&&(h+=this._zTime=O?-Xt:Xt);break}}w=T}}if(k&&!i&&(this.pause(),k.render(v>=l?0:-Xt)._zTime=v>=l?1:-1,this._ts))return this._start=I,Pw(this),this.render(s,i,o);this._onUpdate&&!i&&li(this,"onUpdate",!0),(h===u&&this._tTime>=this.totalDuration()||!h&&l)&&(I===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((s||!d)&&(h===u&&this._ts>0||!h&&this._ts<0)&&Gl(this,1),!i&&!(s<0&&!l)&&(h||l||!u)&&(li(this,h===u&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,i){var o=this;if(ja(i)||(i=_i(this,i,s)),!(s instanceof Lp)){if(ns(s))return s.forEach(function(l){return o.add(l,i)}),this;if(Sr(s))return this.addLabel(s,i);if(In(s))s=Gn.delayedCall(0,s);else return this}return this!==s?Ro(this,s,i):this},t.getChildren=function(s,i,o,l){s===void 0&&(s=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-ki);for(var u=[],d=this._first;d;)d._start>=l&&(d instanceof Gn?i&&u.push(d):(o&&u.push(d),s&&u.push.apply(u,d.getChildren(!0,i,o)))),d=d._next;return u},t.getById=function(s){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===s)return i[o]},t.remove=function(s){return Sr(s)?this.removeLabel(s):In(s)?this.killTweensOf(s):(s.parent===this&&Cw(this,s),s===this._recent&&(this._recent=this._last),Hc(this))},t.totalTime=function(s,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Qn(ii.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),n.prototype.totalTime.call(this,s,i),this._forcing=0,this):this._tTime},t.addLabel=function(s,i){return this.labels[s]=_i(this,i),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,i,o){var l=Gn.delayedCall(0,i||jp,o);return l.data="isPause",this._hasPause=1,Ro(this,l,_i(this,s))},t.removePause=function(s){var i=this._first;for(s=_i(this,s);i;)i._start===s&&i.data==="isPause"&&Gl(i),i=i._next},t.killTweensOf=function(s,i,o){for(var l=this.getTweensOf(s,o),u=l.length;u--;)vl!==l[u]&&l[u].kill(s,i);return this},t.getTweensOf=function(s,i){for(var o=[],l=Ri(s),u=this._first,d=ja(i),h;u;)u instanceof Gn?Hte(u._targets,l)&&(d?(!vl||u._initted&&u._ts)&&u.globalTime(0)<=i&&u.globalTime(u.totalDuration())>i:!i||u.isActive())&&o.push(u):(h=u.getTweensOf(l,i)).length&&o.push.apply(o,h),u=u._next;return o},t.tweenTo=function(s,i){i=i||{};var o=this,l=_i(o,s),u=i,d=u.startAt,h=u.onStart,m=u.onStartParams,v=u.immediateRender,w,T=Gn.to(o,hi({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale())||Xt,onStart:function(){if(o.pause(),!w){var S=i.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale());T._dur!==S&&lh(T,S,0,1).render(T._time,!0,!0),w=1}h&&h.apply(T,m||[])}},i));return v?T.render(0):T},t.tweenFromTo=function(s,i,o){return this.tweenTo(i,hi({startAt:{time:_i(this,s)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),LI(this,_i(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),LI(this,_i(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Xt)},t.shiftChildren=function(s,i,o){o===void 0&&(o=0);for(var l=this._first,u=this.labels,d;l;)l._start>=o&&(l._start+=s,l._end+=s),l=l._next;if(i)for(d in u)u[d]>=o&&(u[d]+=s);return Hc(this)},t.invalidate=function(s){var i=this._first;for(this._lock=0;i;)i.invalidate(s),i=i._next;return n.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Hc(this)},t.totalDuration=function(s){var i=0,o=this,l=o._last,u=ki,d,h,m;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(m=o.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),h=l._start,h>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,Ro(o,l,h-l._delay,1)._lock=0):u=h,h<0&&l._ts&&(i-=h,(!m&&!o._dp||m&&m.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),u=0),l._end>i&&l._ts&&(i=l._end),l=d;lh(o,o===bn&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(bn._ts&&(jV(bn,_v(s,bn)),NV=ii.frame),ii.frame>=DI){DI+=ui.autoSleep||120;var i=bn._first;if((!i||!i._ts)&&ui.autoSleep&&ii._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||ii.sleep()}}},e})(Lp);hi(ys.prototype,{_lock:0,_hasPause:0,_forcing:0});var mne=function(e,t,r,s,i,o,l){var u=new zs(this._pt,e,t,0,1,lF,null,i),d=0,h=0,m,v,w,T,x,S,R,k;for(u.b=r,u.e=s,r+="",s+="",(R=~s.indexOf("random("))&&(s=Op(s)),o&&(k=[r,s],o(k,e,t),r=k[0],s=k[1]),v=r.match(r_)||[];m=r_.exec(s);)T=m[0],x=s.substring(d,m.index),w?w=(w+1)%5:x.substr(-5)==="rgba("&&(w=1),T!==v[h++]&&(S=parseFloat(v[h-1])||0,u._pt={_next:u._pt,p:x||h===1?x:",",s:S,c:T.charAt(1)==="="?Nd(S,T)-S:parseFloat(T)-S,m:w&&w<4?Math.round:0},d=r_.lastIndex);return u.c=d<s.length?s.substring(d,s.length):"",u.fp=l,(PV.test(s)||R)&&(u.e=0),this._pt=u,u},HT=function(e,t,r,s,i,o,l,u,d,h){In(s)&&(s=s(i||0,e,o));var m=e[t],v=r!=="get"?r:In(m)?d?e[t.indexOf("set")||!In(e["get"+t.substr(3)])?t:"get"+t.substr(3)](d):e[t]():m,w=In(m)?d?xne:oF:GT,T;if(Sr(s)&&(~s.indexOf("random(")&&(s=Op(s)),s.charAt(1)==="="&&(T=Nd(v,s)+(Zr(v)||0),(T||T===0)&&(s=T))),!h||v!==s||n1)return!isNaN(v*s)&&s!==""?(T=new zs(this._pt,e,t,+v||0,s-(v||0),typeof m=="boolean"?bne:aF,0,w),d&&(T.fp=d),l&&T.modifier(l,this,e),this._pt=T):(!m&&!(t in e)&&UT(t,s),mne.call(this,e,t,v,s,w,u||ui.stringFilter,d))},gne=function(e,t,r,s,i){if(In(e)&&(e=np(e,i,t,r,s)),!Qo(e)||e.style&&e.nodeType||ns(e)||EV(e))return Sr(e)?np(e,i,t,r,s):e;var o={},l;for(l in e)o[l]=np(e[l],i,t,r,s);return o},rF=function(e,t,r,s,i,o){var l,u,d,h;if(ni[e]&&(l=new ni[e]).init(i,l.rawVars?t[e]:gne(t[e],s,i,o,r),r,s,o)!==!1&&(r._pt=u=new zs(r._pt,i,e,0,1,l.render,l,0,l.priority),r!==_d))for(d=r._ptLookup[r._targets.indexOf(i)],h=l._props.length;h--;)d[l._props[h]]=u;return l},vl,n1,KT=function n(e,t,r){var s=e.vars,i=s.ease,o=s.startAt,l=s.immediateRender,u=s.lazy,d=s.onUpdate,h=s.runBackwards,m=s.yoyoEase,v=s.keyframes,w=s.autoRevert,T=e._dur,x=e._startAt,S=e._targets,R=e.parent,k=R&&R.data==="nested"?R.vars.targets:S,j=e._overwrite==="auto"&&!LT,I=e.timeline,L,z,P,A,D,O,V,F,U,X,se,re,J;if(I&&(!v||!i)&&(i="none"),e._ease=Kc(i,ih.ease),e._yEase=m?ZV(Kc(m===!0?i:m,ih.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!I&&!!s.runBackwards,!I||v&&!s.stagger){if(F=S[0]?qc(S[0]).harness:0,re=F&&s[F.prop],L=xv(s,$T),x&&(x._zTime<0&&x.progress(1),t<0&&h&&l&&!w?x.render(-1,!0):x.revert(h&&T?wy:Wte),x._lazy=0),o){if(Gl(e._startAt=Gn.set(S,hi({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!x&&Vs(u),startAt:null,delay:0,onUpdate:d&&function(){return li(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Fr||!l&&!w)&&e._startAt.revert(wy),l&&T&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(h&&T&&!x){if(t&&(l=!1),P=hi({overwrite:!1,data:"isFromStart",lazy:l&&!x&&Vs(u),immediateRender:l,stagger:0,parent:R},L),re&&(P[F.prop]=re),Gl(e._startAt=Gn.set(S,P)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Fr?e._startAt.revert(wy):e._startAt.render(-1,!0)),e._zTime=t,!l)n(e._startAt,Xt,Xt);else if(!t)return}for(e._pt=e._ptCache=0,u=T&&Vs(u)||u&&!T,z=0;z<S.length;z++){if(D=S[z],V=D._gsap||WT(S)[z]._gsap,e._ptLookup[z]=X={},Qb[V.id]&&Nl.length&&wv(),se=k===S?z:k.indexOf(D),F&&(U=new F).init(D,re||L,e,se,k)!==!1&&(e._pt=A=new zs(e._pt,D,U.name,0,1,U.render,U,0,U.priority),U._props.forEach(function(q){X[q]=A}),U.priority&&(O=1)),!F||re)for(P in L)ni[P]&&(U=rF(P,L,e,se,D,k))?U.priority&&(O=1):X[P]=A=HT.call(e,D,P,"get",L[P],se,k,0,s.stringFilter);e._op&&e._op[z]&&e.kill(D,e._op[z]),j&&e._pt&&(vl=e,bn.killTweensOf(D,X,e.globalTime(t)),J=!e.parent,vl=0),e._pt&&u&&(Qb[V.id]=1)}O&&cF(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!J,v&&t<=0&&I.render(ki,!0,!0)},yne=function(e,t,r,s,i,o,l,u){var d=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,m,v,w;if(!d)for(d=e._ptCache[t]=[],v=e._ptLookup,w=e._targets.length;w--;){if(h=v[w][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return n1=1,e.vars[t]="+=0",KT(e,l),n1=0,u?Dp(t+" not eligible for reset"):1;d.push(h)}for(w=d.length;w--;)m=d[w],h=m._pt||m,h.s=(s||s===0)&&!i?s:h.s+(s||0)+o*h.c,h.c=r-h.s,m.e&&(m.e=Mn(r)+Zr(m.e)),m.b&&(m.b=h.s+Zr(m.b))},vne=function(e,t){var r=e[0]?qc(e[0]).harness:0,s=r&&r.aliases,i,o,l,u;if(!s)return t;i=oh({},t);for(o in s)if(o in i)for(u=s[o].split(","),l=u.length;l--;)i[u[l]]=i[o];return i},wne=function(e,t,r,s){var i=t.ease||s||"power1.inOut",o,l;if(ns(t))l=r[e]||(r[e]=[]),t.forEach(function(u,d){return l.push({t:d/(t.length-1)*100,v:u,e:i})});else for(o in t)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:t[o],e:i})},np=function(e,t,r,s,i){return In(e)?e.call(t,r,s,i):Sr(e)&&~e.indexOf("random(")?Op(e):e},sF=BT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",iF={};Fs(sF+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return iF[n]=1});var Gn=(function(n){SV(e,n);function e(r,s,i,o){var l;typeof s=="number"&&(i.duration=s,s=i,i=null),l=n.call(this,o?s:ep(s))||this;var u=l.vars,d=u.duration,h=u.delay,m=u.immediateRender,v=u.stagger,w=u.overwrite,T=u.keyframes,x=u.defaults,S=u.scrollTrigger,R=u.yoyoEase,k=s.parent||bn,j=(ns(r)||EV(r)?ja(r[0]):"length"in s)?[r]:Ri(r),I,L,z,P,A,D,O,V;if(l._targets=j.length?WT(j):Dp("GSAP target "+r+" not found. https://gsap.com",!ui.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=w,T||v||zg(d)||zg(h)){if(s=l.vars,I=l.timeline=new ys({data:"nested",defaults:x||{},targets:k&&k.data==="nested"?k.vars.targets:j}),I.kill(),I.parent=I._dp=ma(l),I._start=0,v||zg(d)||zg(h)){if(P=j.length,O=v&&BV(v),Qo(v))for(A in v)~sF.indexOf(A)&&(V||(V={}),V[A]=v[A]);for(L=0;L<P;L++)z=xv(s,iF),z.stagger=0,R&&(z.yoyoEase=R),V&&oh(z,V),D=j[L],z.duration=+np(d,ma(l),L,D,j),z.delay=(+np(h,ma(l),L,D,j)||0)-l._delay,!v&&P===1&&z.delay&&(l._delay=h=z.delay,l._start+=h,z.delay=0),I.to(D,z,O?O(L,D,j):0),I._ease=Pt.none;I.duration()?d=h=0:l.timeline=0}else if(T){ep(hi(I.vars.defaults,{ease:"none"})),I._ease=Kc(T.ease||s.ease||"none");var F=0,U,X,se;if(ns(T))T.forEach(function(re){return I.to(j,re,">")}),I.duration();else{z={};for(A in T)A==="ease"||A==="easeEach"||wne(A,T[A],z,T.easeEach);for(A in z)for(U=z[A].sort(function(re,J){return re.t-J.t}),F=0,L=0;L<U.length;L++)X=U[L],se={ease:X.e,duration:(X.t-(L?U[L-1].t:0))/100*d},se[A]=X.v,I.to(j,se,F),F+=se.duration;I.duration()<d&&I.to({},{duration:d-I.duration()})}}d||l.duration(d=I.duration())}else l.timeline=0;return w===!0&&!LT&&(vl=ma(l),bn.killTweensOf(j),vl=0),Ro(k,ma(l),i),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(m||!d&&!T&&l._start===Qn(k._time)&&Vs(m)&&Qte(ma(l))&&k.data!=="nested")&&(l._tTime=-Xt,l.render(Math.max(0,-h)||0)),S&&FV(ma(l),S),l}var t=e.prototype;return t.render=function(s,i,o){var l=this._time,u=this._tDur,d=this._dur,h=s<0,m=s>u-Xt&&!h?u:s<Xt?0:s,v,w,T,x,S,R,k,j,I;if(!d)Jte(this,s,i,o);else if(m!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(v=m,j=this.timeline,this._repeat){if(x=d+this._rDelay,this._repeat<-1&&h)return this.totalTime(x*100+s,i,o);if(v=Qn(m%x),m===u?(T=this._repeat,v=d):(S=Qn(m/x),T=~~S,T&&T===S?(v=d,T--):v>d&&(v=d)),R=this._yoyo&&T&1,R&&(I=this._yEase,v=d-v),S=ah(this._tTime,x),v===l&&!o&&this._initted&&T===S)return this._tTime=m,this;T!==S&&(j&&this._yEase&&eF(j,R),this.vars.repeatRefresh&&!R&&!this._lock&&v!==x&&this._initted&&(this._lock=o=1,this.render(Qn(x*T),!0).invalidate()._lock=0))}if(!this._initted){if(zV(this,h?s:v,o,i,m))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&T!==S))return this;if(d!==this._dur)return this.render(s,i,o)}if(this._tTime=m,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=k=(I||this._ease)(v/d),this._from&&(this.ratio=k=1-k),!l&&m&&!i&&!S&&(li(this,"onStart"),this._tTime!==m))return this;for(w=this._pt;w;)w.r(k,w.d),w=w._next;j&&j.render(s<0?s:j._dur*j._ease(v/this._dur),i,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!i&&(h&&Xb(this,s,i,o),li(this,"onUpdate")),this._repeat&&T!==S&&this.vars.onRepeat&&!i&&this.parent&&li(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(h&&!this._onUpdate&&Xb(this,s,!0,!0),(s||!d)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Gl(this,1),!i&&!(h&&!l)&&(m||l||R)&&(li(this,m===u?"onComplete":"onReverseComplete",!0),this._prom&&!(m<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),n.prototype.invalidate.call(this,s)},t.resetTo=function(s,i,o,l,u){Mp||ii.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||KT(this,d),h=this._ease(d/this._dur),yne(this,s,i,o,l,h,d,u)?this.resetTo(s,i,o,l,1):(kw(this,0),this.parent||LV(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,i){if(i===void 0&&(i="all"),!s&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?If(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Fr),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,i,vl&&vl.vars.overwrite!==!0)._first||If(this),this.parent&&o!==this.timeline.totalDuration()&&lh(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=s?Ri(s):l,d=this._ptLookup,h=this._pt,m,v,w,T,x,S,R;if((!i||i==="all")&&Gte(l,u))return i==="all"&&(this._pt=0),If(this);for(m=this._op=this._op||[],i!=="all"&&(Sr(i)&&(x={},Fs(i,function(k){return x[k]=1}),i=x),i=vne(l,i)),R=l.length;R--;)if(~u.indexOf(l[R])){v=d[R],i==="all"?(m[R]=i,T=v,w={}):(w=m[R]=m[R]||{},T=i);for(x in T)S=v&&v[x],S&&((!("kill"in S.d)||S.d.kill(x)===!0)&&Cw(this,S,"_pt"),delete v[x]),w!=="all"&&(w[x]=1)}return this._initted&&!this._pt&&h&&If(this),this},e.to=function(s,i){return new e(s,i,arguments[2])},e.from=function(s,i){return tp(1,arguments)},e.delayedCall=function(s,i,o,l){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(s,i,o){return tp(2,arguments)},e.set=function(s,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(s,i)},e.killTweensOf=function(s,i,o){return bn.killTweensOf(s,i,o)},e})(Lp);hi(Gn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Fs("staggerTo,staggerFrom,staggerFromTo",function(n){Gn[n]=function(){var e=new ys,t=Zb.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var GT=function(e,t,r){return e[t]=r},oF=function(e,t,r){return e[t](r)},xne=function(e,t,r,s){return e[t](s.fp,r)},_ne=function(e,t,r){return e.setAttribute(t,r)},YT=function(e,t){return In(e[t])?oF:VT(e[t])&&e.setAttribute?_ne:GT},aF=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},bne=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},lF=function(e,t){var r=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=t.c}t.set(t.t,t.p,s,t)},QT=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Sne=function(e,t,r,s){for(var i=this._pt,o;i;)o=i._next,i.p===s&&i.modifier(e,t,r),i=o},Tne=function(e){for(var t=this._pt,r,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?Cw(this,t,"_pt"):t.dep||(r=1),t=s;return!r},Ene=function(e,t,r,s){s.mSet(e,t,s.m.call(s.tween,r,s.mt),s)},cF=function(e){for(var t=e._pt,r,s,i,o;t;){for(r=t._next,s=i;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:o)?t._prev._next=t:i=t,(t._next=s)?s._prev=t:o=t,t=r}e._pt=i},zs=(function(){function n(t,r,s,i,o,l,u,d,h){this.t=r,this.s=i,this.c=o,this.p=s,this.r=l||aF,this.d=u||this,this.set=d||GT,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,s,i){this.mSet=this.mSet||this.set,this.set=Ene,this.m=r,this.mt=i,this.tween=s},n})();Fs(BT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return $T[n]=1});di.TweenMax=di.TweenLite=Gn;di.TimelineLite=di.TimelineMax=ys;bn=new ys({sortChildren:!1,defaults:ih,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ui.stringFilter=JV;var Gc=[],_y={},Cne=[],FI=0,Pne=0,l_=function(e){return(_y[e]||Cne).map(function(t){return t()})},r1=function(){var e=Date.now(),t=[];e-FI>2&&(l_("matchMediaInit"),Gc.forEach(function(r){var s=r.queries,i=r.conditions,o,l,u,d;for(l in s)o=Co.matchMedia(s[l]).matches,o&&(u=1),o!==i[l]&&(i[l]=o,d=1);d&&(r.revert(),u&&t.push(r))}),l_("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),FI=e,l_("matchMedia"))},uF=(function(){function n(t,r){this.selector=r&&e1(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Pne++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,s,i){In(r)&&(i=s,s=r,r=In);var o=this,l=function(){var d=dn,h=o.selector,m;return d&&d!==o&&d.data.push(o),i&&(o.selector=e1(i)),dn=o,m=s.apply(o,arguments),In(m)&&o._r.push(m),dn=d,o.selector=h,o.isReverted=!1,m};return o.last=l,r===In?l(o,function(u){return o.add(null,u)}):r?o[r]=l:l},e.ignore=function(r){var s=dn;dn=null,r(this),dn=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof n?r.push.apply(r,s.getTweens()):s instanceof Gn&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var i=this;if(r?(function(){for(var l=i.getTweens(),u=i.data.length,d;u--;)d=i.data[u],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(h){return l.splice(l.indexOf(h),1)}));for(l.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,m){return m.g-h.g||-1/0}).forEach(function(h){return h.t.revert(r)}),u=i.data.length;u--;)d=i.data[u],d instanceof ys?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Gn)&&d.revert&&d.revert(r);i._r.forEach(function(h){return h(r,i)}),i.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),s)for(var o=Gc.length;o--;)Gc[o].id===this.id&&Gc.splice(o,1)},e.revert=function(r){this.kill(r||{})},n})(),kne=(function(){function n(t){this.contexts=[],this.scope=t,dn&&dn.data.push(this)}var e=n.prototype;return e.add=function(r,s,i){Qo(r)||(r={matches:r});var o=new uF(0,i||this.scope),l=o.conditions={},u,d,h;dn&&!o.selector&&(o.selector=dn.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(d in r)d==="all"?h=1:(u=Co.matchMedia(r[d]),u&&(Gc.indexOf(o)<0&&Gc.push(o),(l[d]=u.matches)&&(h=1),u.addListener?u.addListener(r1):u.addEventListener("change",r1)));return h&&s(o,function(m){return o.add(null,m)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},n})(),bv={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(s){return YV(s)})},timeline:function(e){return new ys(e)},getTweensOf:function(e,t){return bn.getTweensOf(e,t)},getProperty:function(e,t,r,s){Sr(e)&&(e=Ri(e)[0]);var i=qc(e||{}).get,o=r?MV:OV;return r==="native"&&(r=""),e&&(t?o((ni[t]&&ni[t].get||i)(e,t,r,s)):function(l,u,d){return o((ni[l]&&ni[l].get||i)(e,l,u,d))})},quickSetter:function(e,t,r){if(e=Ri(e),e.length>1){var s=e.map(function(h){return $s.quickSetter(h,t,r)}),i=s.length;return function(h){for(var m=i;m--;)s[m](h)}}e=e[0]||{};var o=ni[t],l=qc(e),u=l.harness&&(l.harness.aliases||{})[t]||t,d=o?function(h){var m=new o;_d._pt=0,m.init(e,r?h+r:h,_d,0,[e]),m.render(1,m),_d._pt&&QT(1,_d)}:l.set(e,u);return o?d:function(h){return d(e,u,r?h+r:h,l,1)}},quickTo:function(e,t,r){var s,i=$s.to(e,hi((s={},s[t]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),o=function(u,d,h){return i.resetTo(t,u,d,h)};return o.tween=i,o},isTweening:function(e){return bn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Kc(e.ease,ih.ease)),jI(ih,e||{})},config:function(e){return jI(ui,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,s=e.plugins,i=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!ni[l]&&!di[l]&&Dp(t+" effect requires "+l+" plugin.")}),s_[t]=function(l,u,d){return r(Ri(l),hi(u||{},i),d)},o&&(ys.prototype[t]=function(l,u,d){return this.add(s_[t](l,Qo(u)?u:(d=u)&&{},this),d)})},registerEase:function(e,t){Pt[e]=Kc(t)},parseEase:function(e,t){return arguments.length?Kc(e,t):Pt},getById:function(e){return bn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new ys(e),s,i;for(r.smoothChildTiming=Vs(e.smoothChildTiming),bn.remove(r),r._dp=0,r._time=r._tTime=bn._time,s=bn._first;s;)i=s._next,(t||!(!s._dur&&s instanceof Gn&&s.vars.onComplete===s._targets[0]))&&Ro(r,s,s._start-s._delay),s=i;return Ro(bn,r,0),r},context:function(e,t){return e?new uF(e,t):dn},matchMedia:function(e){return new kne(e)},matchMediaRefresh:function(){return Gc.forEach(function(e){var t=e.conditions,r,s;for(s in t)t[s]&&(t[s]=!1,r=1);r&&e.revert()})||r1()},addEventListener:function(e,t){var r=_y[e]||(_y[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=_y[e],s=r&&r.indexOf(t);s>=0&&r.splice(s,1)},utils:{wrap:one,wrapYoyo:ane,distribute:BV,random:qV,snap:WV,normalize:ine,getUnit:Zr,clamp:tne,splitColor:QV,toArray:Ri,selector:e1,mapRange:KV,pipe:rne,unitize:sne,interpolate:lne,shuffle:$V},install:AV,effects:s_,ticker:ii,updateRoot:ys.updateRoot,plugins:ni,globalTimeline:bn,core:{PropTween:zs,globals:IV,Tween:Gn,Timeline:ys,Animation:Lp,getCache:qc,_removeLinkedListItem:Cw,reverting:function(){return Fr},context:function(e){return e&&dn&&(dn.data.push(e),e._ctx=dn),dn},suppressOverwrites:function(e){return LT=e}}};Fs("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return bv[n]=Gn[n]});ii.add(ys.updateRoot);_d=bv.to({},{duration:0});var Rne=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Ane=function(e,t){var r=e._targets,s,i,o;for(s in t)for(i=r.length;i--;)o=e._ptLookup[i][s],o&&(o=o.d)&&(o._pt&&(o=Rne(o,s)),o&&o.modifier&&o.modifier(t[s],e,r[i],s))},c_=function(e,t){return{name:e,headless:1,rawVars:1,init:function(s,i,o){o._onInit=function(l){var u,d;if(Sr(i)&&(u={},Fs(i,function(h){return u[h]=1}),i=u),t){u={};for(d in i)u[d]=t(i[d]);i=u}Ane(l,i)}}}},$s=bv.registerPlugin({name:"attr",init:function(e,t,r,s,i){var o,l,u;this.tween=r;for(o in t)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",t[o],s,i,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Fr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},c_("roundProps",t1),c_("modifiers"),c_("snap",WV))||bv;Gn.version=ys.version=$s.version="3.13.0";RV=1;FT()&&ch();Pt.Power0;Pt.Power1;Pt.Power2;Pt.Power3;Pt.Power4;Pt.Linear;Pt.Quad;Pt.Cubic;Pt.Quart;Pt.Quint;Pt.Strong;Pt.Elastic;Pt.Back;Pt.SteppedEase;Pt.Bounce;Pt.Sine;Pt.Expo;Pt.Circ;var zI,wl,Dd,XT,Lc,UI,JT,Ine=function(){return typeof window<"u"},Oa={},Ac=180/Math.PI,jd=Math.PI/180,od=Math.atan2,$I=1e8,ZT=/([A-Z])/g,Nne=/(left|right|width|margin|padding|x)/i,Dne=/[\s,\(]\S/,Oo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},s1=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},jne=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},One=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Mne=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},dF=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},hF=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Lne=function(e,t,r){return e.style[t]=r},Vne=function(e,t,r){return e.style.setProperty(t,r)},Fne=function(e,t,r){return e._gsap[t]=r},zne=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Une=function(e,t,r,s,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},$ne=function(e,t,r,s,i){var o=e._gsap;o[t]=r,o.renderTransform(i,o)},Tn="transform",Us=Tn+"Origin",Bne=function n(e,t){var r=this,s=this.target,i=s.style,o=s._gsap;if(e in Oa&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Oo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=ga(s,l)}):this.tfm[e]=o.x?o[e]:ga(s,e),e===Us&&(this.tfm.zOrigin=o.zOrigin);else return Oo.transform.split(",").forEach(function(l){return n.call(r,l,t)});if(this.props.indexOf(Tn)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Us,t,"")),e=Tn}(i||t)&&this.props.push(e,t,i[e])},fF=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Wne=function(){var e=this.props,t=this.target,r=t.style,s=t._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?t[e[i]](e[i+2]):t[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(ZT,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),i=JT(),(!i||!i.isStart)&&!r[Tn]&&(fF(r),s.zOrigin&&r[Us]&&(r[Us]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},pF=function(e,t){var r={target:e,props:[],revert:Wne,save:Bne};return e._gsap||$s.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(s){return r.save(s)}),r},mF,i1=function(e,t){var r=wl.createElementNS?wl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):wl.createElement(e);return r&&r.style?r:wl.createElement(e)},Ai=function n(e,t,r){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(ZT,"-$1").toLowerCase())||s.getPropertyValue(t)||!r&&n(e,uh(t)||t,1)||""},BI="O,Moz,ms,Ms,Webkit".split(","),uh=function(e,t,r){var s=t||Lc,i=s.style,o=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(BI[o]+e in i););return o<0?null:(o===3?"ms":o>=0?BI[o]:"")+e},o1=function(){Ine()&&window.document&&(zI=window,wl=zI.document,Dd=wl.documentElement,Lc=i1("div")||{style:{}},i1("div"),Tn=uh(Tn),Us=Tn+"Origin",Lc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",mF=!!uh("perspective"),JT=$s.core.reverting,XT=1)},WI=function(e){var t=e.ownerSVGElement,r=i1("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),i;s.style.display="block",r.appendChild(s),Dd.appendChild(r);try{i=s.getBBox()}catch{}return r.removeChild(s),Dd.removeChild(r),i},qI=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},gF=function(e){var t,r;try{t=e.getBBox()}catch{t=WI(e),r=1}return t&&(t.width||t.height)||r||(t=WI(e)),t&&!t.width&&!t.x&&!t.y?{x:+qI(e,["x","cx","x1"])||0,y:+qI(e,["y","cy","y1"])||0,width:0,height:0}:t},yF=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&gF(e))},fu=function(e,t){if(t){var r=e.style,s;t in Oa&&t!==Us&&(t=Tn),r.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(s==="--"?t:t.replace(ZT,"-$1").toLowerCase())):r.removeAttribute(t)}},xl=function(e,t,r,s,i,o){var l=new zs(e._pt,t,r,0,1,o?hF:dF);return e._pt=l,l.b=s,l.e=i,e._props.push(r),l},HI={deg:1,rad:1,turn:1},qne={grid:1,flex:1},Yl=function n(e,t,r,s){var i=parseFloat(r)||0,o=(r+"").trim().substr((i+"").length)||"px",l=Lc.style,u=Nne.test(t),d=e.tagName.toLowerCase()==="svg",h=(d?"client":"offset")+(u?"Width":"Height"),m=100,v=s==="px",w=s==="%",T,x,S,R;if(s===o||!i||HI[s]||HI[o])return i;if(o!=="px"&&!v&&(i=n(e,t,r,"px")),R=e.getCTM&&yF(e),(w||o==="%")&&(Oa[t]||~t.indexOf("adius")))return T=R?e.getBBox()[u?"width":"height"]:e[h],Mn(w?i/T*m:i/100*T);if(l[u?"width":"height"]=m+(v?o:s),x=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!d?e:e.parentNode,R&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===wl||!x.appendChild)&&(x=wl.body),S=x._gsap,S&&w&&S.width&&u&&S.time===ii.time&&!S.uncache)return Mn(i/S.width*m);if(w&&(t==="height"||t==="width")){var k=e.style[t];e.style[t]=m+s,T=e[h],k?e.style[t]=k:fu(e,t)}else(w||o==="%")&&!qne[Ai(x,"display")]&&(l.position=Ai(e,"position")),x===e&&(l.position="static"),x.appendChild(Lc),T=Lc[h],x.removeChild(Lc),l.position="absolute";return u&&w&&(S=qc(x),S.time=ii.time,S.width=x[h]),Mn(v?T*i/m:T&&i?m/T*i:0)},ga=function(e,t,r,s){var i;return XT||o1(),t in Oo&&t!=="transform"&&(t=Oo[t],~t.indexOf(",")&&(t=t.split(",")[0])),Oa[t]&&t!=="transform"?(i=Fp(e,s),i=t!=="transformOrigin"?i[t]:i.svg?i.origin:Tv(Ai(e,Us))+" "+i.zOrigin+"px"):(i=e.style[t],(!i||i==="auto"||s||~(i+"").indexOf("calc("))&&(i=Sv[t]&&Sv[t](e,t,r)||Ai(e,t)||DV(e,t)||(t==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?Yl(e,t,i,r)+r:i},Hne=function(e,t,r,s){if(!r||r==="none"){var i=uh(t,e,1),o=i&&Ai(e,i,1);o&&o!==r?(t=i,r=o):t==="borderColor"&&(r=Ai(e,"borderTopColor"))}var l=new zs(this._pt,e.style,t,0,1,lF),u=0,d=0,h,m,v,w,T,x,S,R,k,j,I,L;if(l.b=r,l.e=s,r+="",s+="",s.substring(0,6)==="var(--"&&(s=Ai(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(x=e.style[t],e.style[t]=s,s=Ai(e,t)||s,x?e.style[t]=x:fu(e,t)),h=[r,s],JV(h),r=h[0],s=h[1],v=r.match(xd)||[],L=s.match(xd)||[],L.length){for(;m=xd.exec(s);)S=m[0],k=s.substring(u,m.index),T?T=(T+1)%5:(k.substr(-5)==="rgba("||k.substr(-5)==="hsla(")&&(T=1),S!==(x=v[d++]||"")&&(w=parseFloat(x)||0,I=x.substr((w+"").length),S.charAt(1)==="="&&(S=Nd(w,S)+I),R=parseFloat(S),j=S.substr((R+"").length),u=xd.lastIndex-j.length,j||(j=j||ui.units[t]||I,u===s.length&&(s+=j,l.e+=j)),I!==j&&(w=Yl(e,t,x,j)||0),l._pt={_next:l._pt,p:k||d===1?k:",",s:w,c:R-w,m:T&&T<4||t==="zIndex"?Math.round:0});l.c=u<s.length?s.substring(u,s.length):""}else l.r=t==="display"&&s==="none"?hF:dF;return PV.test(s)&&(l.e=0),this._pt=l,l},KI={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Kne=function(e){var t=e.split(" "),r=t[0],s=t[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),t[0]=KI[r]||r,t[1]=KI[s]||s,t.join(" ")},Gne=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,s=r.style,i=t.u,o=r._gsap,l,u,d;if(i==="all"||i===!0)s.cssText="",u=1;else for(i=i.split(","),d=i.length;--d>-1;)l=i[d],Oa[l]&&(u=1,l=l==="transformOrigin"?Us:Tn),fu(r,l);u&&(fu(r,Tn),o&&(o.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Fp(r,1),o.uncache=1,fF(s)))}},Sv={clearProps:function(e,t,r,s,i){if(i.data!=="isFromStart"){var o=e._pt=new zs(e._pt,t,r,0,0,Gne);return o.u=s,o.pr=-10,o.tween=i,e._props.push(r),1}}},Vp=[1,0,0,1,0,0],vF={},wF=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},GI=function(e){var t=Ai(e,Tn);return wF(t)?Vp:t.substr(7).match(CV).map(Mn)},eE=function(e,t){var r=e._gsap||qc(e),s=e.style,i=GI(e),o,l,u,d;return r.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,i=[u.a,u.b,u.c,u.d,u.e,u.f],i.join(",")==="1,0,0,1,0,0"?Vp:i):(i===Vp&&!e.offsetParent&&e!==Dd&&!r.svg&&(u=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,l=e.nextElementSibling,Dd.appendChild(e)),i=GI(e),u?s.display=u:fu(e,"display"),d&&(l?o.insertBefore(e,l):o?o.appendChild(e):Dd.removeChild(e))),t&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},a1=function(e,t,r,s,i,o){var l=e._gsap,u=i||eE(e,!0),d=l.xOrigin||0,h=l.yOrigin||0,m=l.xOffset||0,v=l.yOffset||0,w=u[0],T=u[1],x=u[2],S=u[3],R=u[4],k=u[5],j=t.split(" "),I=parseFloat(j[0])||0,L=parseFloat(j[1])||0,z,P,A,D;r?u!==Vp&&(P=w*S-T*x)&&(A=I*(S/P)+L*(-x/P)+(x*k-S*R)/P,D=I*(-T/P)+L*(w/P)-(w*k-T*R)/P,I=A,L=D):(z=gF(e),I=z.x+(~j[0].indexOf("%")?I/100*z.width:I),L=z.y+(~(j[1]||j[0]).indexOf("%")?L/100*z.height:L)),s||s!==!1&&l.smooth?(R=I-d,k=L-h,l.xOffset=m+(R*w+k*x)-R,l.yOffset=v+(R*T+k*S)-k):l.xOffset=l.yOffset=0,l.xOrigin=I,l.yOrigin=L,l.smooth=!!s,l.origin=t,l.originIsAbsolute=!!r,e.style[Us]="0px 0px",o&&(xl(o,l,"xOrigin",d,I),xl(o,l,"yOrigin",h,L),xl(o,l,"xOffset",m,l.xOffset),xl(o,l,"yOffset",v,l.yOffset)),e.setAttribute("data-svg-origin",I+" "+L)},Fp=function(e,t){var r=e._gsap||new nF(e);if("x"in r&&!t&&!r.uncache)return r;var s=e.style,i=r.scaleX<0,o="px",l="deg",u=getComputedStyle(e),d=Ai(e,Us)||"0",h,m,v,w,T,x,S,R,k,j,I,L,z,P,A,D,O,V,F,U,X,se,re,J,q,G,B,W,Q,ie,ue,Z;return h=m=v=x=S=R=k=j=I=0,w=T=1,r.svg=!!(e.getCTM&&yF(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(s[Tn]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Tn]!=="none"?u[Tn]:"")),s.scale=s.rotate=s.translate="none"),P=eE(e,r.svg),r.svg&&(r.uncache?(q=e.getBBox(),d=r.xOrigin-q.x+"px "+(r.yOrigin-q.y)+"px",J=""):J=!t&&e.getAttribute("data-svg-origin"),a1(e,J||d,!!J||r.originIsAbsolute,r.smooth!==!1,P)),L=r.xOrigin||0,z=r.yOrigin||0,P!==Vp&&(V=P[0],F=P[1],U=P[2],X=P[3],h=se=P[4],m=re=P[5],P.length===6?(w=Math.sqrt(V*V+F*F),T=Math.sqrt(X*X+U*U),x=V||F?od(F,V)*Ac:0,k=U||X?od(U,X)*Ac+x:0,k&&(T*=Math.abs(Math.cos(k*jd))),r.svg&&(h-=L-(L*V+z*U),m-=z-(L*F+z*X))):(Z=P[6],ie=P[7],B=P[8],W=P[9],Q=P[10],ue=P[11],h=P[12],m=P[13],v=P[14],A=od(Z,Q),S=A*Ac,A&&(D=Math.cos(-A),O=Math.sin(-A),J=se*D+B*O,q=re*D+W*O,G=Z*D+Q*O,B=se*-O+B*D,W=re*-O+W*D,Q=Z*-O+Q*D,ue=ie*-O+ue*D,se=J,re=q,Z=G),A=od(-U,Q),R=A*Ac,A&&(D=Math.cos(-A),O=Math.sin(-A),J=V*D-B*O,q=F*D-W*O,G=U*D-Q*O,ue=X*O+ue*D,V=J,F=q,U=G),A=od(F,V),x=A*Ac,A&&(D=Math.cos(A),O=Math.sin(A),J=V*D+F*O,q=se*D+re*O,F=F*D-V*O,re=re*D-se*O,V=J,se=q),S&&Math.abs(S)+Math.abs(x)>359.9&&(S=x=0,R=180-R),w=Mn(Math.sqrt(V*V+F*F+U*U)),T=Mn(Math.sqrt(re*re+Z*Z)),A=od(se,re),k=Math.abs(A)>2e-4?A*Ac:0,I=ue?1/(ue<0?-ue:ue):0),r.svg&&(J=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!wF(Ai(e,Tn)),J&&e.setAttribute("transform",J))),Math.abs(k)>90&&Math.abs(k)<270&&(i?(w*=-1,k+=x<=0?180:-180,x+=x<=0?180:-180):(T*=-1,k+=k<=0?180:-180)),t=t||r.uncache,r.x=h-((r.xPercent=h&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=m-((r.yPercent=m&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=v+o,r.scaleX=Mn(w),r.scaleY=Mn(T),r.rotation=Mn(x)+l,r.rotationX=Mn(S)+l,r.rotationY=Mn(R)+l,r.skewX=k+l,r.skewY=j+l,r.transformPerspective=I+o,(r.zOrigin=parseFloat(d.split(" ")[2])||!t&&r.zOrigin||0)&&(s[Us]=Tv(d)),r.xOffset=r.yOffset=0,r.force3D=ui.force3D,r.renderTransform=r.svg?Qne:mF?xF:Yne,r.uncache=0,r},Tv=function(e){return(e=e.split(" "))[0]+" "+e[1]},u_=function(e,t,r){var s=Zr(t);return Mn(parseFloat(t)+parseFloat(Yl(e,"x",r+"px",s)))+s},Yne=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,xF(e,t)},Cc="0deg",Sf="0px",Pc=") ",xF=function(e,t){var r=t||this,s=r.xPercent,i=r.yPercent,o=r.x,l=r.y,u=r.z,d=r.rotation,h=r.rotationY,m=r.rotationX,v=r.skewX,w=r.skewY,T=r.scaleX,x=r.scaleY,S=r.transformPerspective,R=r.force3D,k=r.target,j=r.zOrigin,I="",L=R==="auto"&&e&&e!==1||R===!0;if(j&&(m!==Cc||h!==Cc)){var z=parseFloat(h)*jd,P=Math.sin(z),A=Math.cos(z),D;z=parseFloat(m)*jd,D=Math.cos(z),o=u_(k,o,P*D*-j),l=u_(k,l,-Math.sin(z)*-j),u=u_(k,u,A*D*-j+j)}S!==Sf&&(I+="perspective("+S+Pc),(s||i)&&(I+="translate("+s+"%, "+i+"%) "),(L||o!==Sf||l!==Sf||u!==Sf)&&(I+=u!==Sf||L?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+Pc),d!==Cc&&(I+="rotate("+d+Pc),h!==Cc&&(I+="rotateY("+h+Pc),m!==Cc&&(I+="rotateX("+m+Pc),(v!==Cc||w!==Cc)&&(I+="skew("+v+", "+w+Pc),(T!==1||x!==1)&&(I+="scale("+T+", "+x+Pc),k.style[Tn]=I||"translate(0, 0)"},Qne=function(e,t){var r=t||this,s=r.xPercent,i=r.yPercent,o=r.x,l=r.y,u=r.rotation,d=r.skewX,h=r.skewY,m=r.scaleX,v=r.scaleY,w=r.target,T=r.xOrigin,x=r.yOrigin,S=r.xOffset,R=r.yOffset,k=r.forceCSS,j=parseFloat(o),I=parseFloat(l),L,z,P,A,D;u=parseFloat(u),d=parseFloat(d),h=parseFloat(h),h&&(h=parseFloat(h),d+=h,u+=h),u||d?(u*=jd,d*=jd,L=Math.cos(u)*m,z=Math.sin(u)*m,P=Math.sin(u-d)*-v,A=Math.cos(u-d)*v,d&&(h*=jd,D=Math.tan(d-h),D=Math.sqrt(1+D*D),P*=D,A*=D,h&&(D=Math.tan(h),D=Math.sqrt(1+D*D),L*=D,z*=D)),L=Mn(L),z=Mn(z),P=Mn(P),A=Mn(A)):(L=m,A=v,z=P=0),(j&&!~(o+"").indexOf("px")||I&&!~(l+"").indexOf("px"))&&(j=Yl(w,"x",o,"px"),I=Yl(w,"y",l,"px")),(T||x||S||R)&&(j=Mn(j+T-(T*L+x*P)+S),I=Mn(I+x-(T*z+x*A)+R)),(s||i)&&(D=w.getBBox(),j=Mn(j+s/100*D.width),I=Mn(I+i/100*D.height)),D="matrix("+L+","+z+","+P+","+A+","+j+","+I+")",w.setAttribute("transform",D),k&&(w.style[Tn]=D)},Xne=function(e,t,r,s,i){var o=360,l=Sr(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?Ac:1),d=u-s,h=s+d+"deg",m,v;return l&&(m=i.split("_")[1],m==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),m==="cw"&&d<0?d=(d+o*$I)%o-~~(d/o)*o:m==="ccw"&&d>0&&(d=(d-o*$I)%o-~~(d/o)*o)),e._pt=v=new zs(e._pt,t,r,s,d,jne),v.e=h,v.u="deg",e._props.push(r),v},YI=function(e,t){for(var r in t)e[r]=t[r];return e},Jne=function(e,t,r){var s=YI({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,u,d,h,m,v,w,T;s.svg?(d=r.getAttribute("transform"),r.setAttribute("transform",""),o[Tn]=t,l=Fp(r,1),fu(r,Tn),r.setAttribute("transform",d)):(d=getComputedStyle(r)[Tn],o[Tn]=t,l=Fp(r,1),o[Tn]=d);for(u in Oa)d=s[u],h=l[u],d!==h&&i.indexOf(u)<0&&(w=Zr(d),T=Zr(h),m=w!==T?Yl(r,u,d,T):parseFloat(d),v=parseFloat(h),e._pt=new zs(e._pt,l,u,m,v-m,s1),e._pt.u=T||0,e._props.push(u));YI(l,s)};Fs("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",s="Bottom",i="Left",o=(e<3?[t,r,s,i]:[t+i,t+r,s+r,s+i]).map(function(l){return e<2?n+l:"border"+l+n});Sv[e>1?"border"+n:n]=function(l,u,d,h,m){var v,w;if(arguments.length<4)return v=o.map(function(T){return ga(l,T,d)}),w=v.join(" "),w.split(v[0]).length===5?v[0]:w;v=(h+"").split(" "),w={},o.forEach(function(T,x){return w[T]=v[x]=v[x]||v[(x-1)/2|0]}),l.init(u,w,m)}});var _F={name:"css",register:o1,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,s,i){var o=this._props,l=e.style,u=r.vars.startAt,d,h,m,v,w,T,x,S,R,k,j,I,L,z,P,A;XT||o1(),this.styles=this.styles||pF(e),A=this.styles.props,this.tween=r;for(x in t)if(x!=="autoRound"&&(h=t[x],!(ni[x]&&rF(x,t,r,s,e,i)))){if(w=typeof h,T=Sv[x],w==="function"&&(h=h.call(r,s,e,i),w=typeof h),w==="string"&&~h.indexOf("random(")&&(h=Op(h)),T)T(this,e,x,h,r)&&(P=1);else if(x.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(x)+"").trim(),h+="",Dl.lastIndex=0,Dl.test(d)||(S=Zr(d),R=Zr(h)),R?S!==R&&(d=Yl(e,x,d,R)+R):S&&(h+=S),this.add(l,"setProperty",d,h,s,i,0,0,x),o.push(x),A.push(x,0,l[x]);else if(w!=="undefined"){if(u&&x in u?(d=typeof u[x]=="function"?u[x].call(r,s,e,i):u[x],Sr(d)&&~d.indexOf("random(")&&(d=Op(d)),Zr(d+"")||d==="auto"||(d+=ui.units[x]||Zr(ga(e,x))||""),(d+"").charAt(1)==="="&&(d=ga(e,x))):d=ga(e,x),v=parseFloat(d),k=w==="string"&&h.charAt(1)==="="&&h.substr(0,2),k&&(h=h.substr(2)),m=parseFloat(h),x in Oo&&(x==="autoAlpha"&&(v===1&&ga(e,"visibility")==="hidden"&&m&&(v=0),A.push("visibility",0,l.visibility),xl(this,l,"visibility",v?"inherit":"hidden",m?"inherit":"hidden",!m)),x!=="scale"&&x!=="transform"&&(x=Oo[x],~x.indexOf(",")&&(x=x.split(",")[0]))),j=x in Oa,j){if(this.styles.save(x),w==="string"&&h.substring(0,6)==="var(--"&&(h=Ai(e,h.substring(4,h.indexOf(")"))),m=parseFloat(h)),I||(L=e._gsap,L.renderTransform&&!t.parseTransform||Fp(e,t.parseTransform),z=t.smoothOrigin!==!1&&L.smooth,I=this._pt=new zs(this._pt,l,Tn,0,1,L.renderTransform,L,0,-1),I.dep=1),x==="scale")this._pt=new zs(this._pt,L,"scaleY",L.scaleY,(k?Nd(L.scaleY,k+m):m)-L.scaleY||0,s1),this._pt.u=0,o.push("scaleY",x),x+="X";else if(x==="transformOrigin"){A.push(Us,0,l[Us]),h=Kne(h),L.svg?a1(e,h,0,z,0,this):(R=parseFloat(h.split(" ")[2])||0,R!==L.zOrigin&&xl(this,L,"zOrigin",L.zOrigin,R),xl(this,l,x,Tv(d),Tv(h)));continue}else if(x==="svgOrigin"){a1(e,h,1,z,0,this);continue}else if(x in vF){Xne(this,L,x,v,k?Nd(v,k+h):h);continue}else if(x==="smoothOrigin"){xl(this,L,"smooth",L.smooth,h);continue}else if(x==="force3D"){L[x]=h;continue}else if(x==="transform"){Jne(this,h,e);continue}}else x in l||(x=uh(x)||x);if(j||(m||m===0)&&(v||v===0)&&!Dne.test(h)&&x in l)S=(d+"").substr((v+"").length),m||(m=0),R=Zr(h)||(x in ui.units?ui.units[x]:S),S!==R&&(v=Yl(e,x,d,R)),this._pt=new zs(this._pt,j?L:l,x,v,(k?Nd(v,k+m):m)-v,!j&&(R==="px"||x==="zIndex")&&t.autoRound!==!1?Mne:s1),this._pt.u=R||0,S!==R&&R!=="%"&&(this._pt.b=d,this._pt.r=One);else if(x in l)Hne.call(this,e,x,d,k?k+h:h);else if(x in e)this.add(e,x,d||e[x],k?k+h:h,s,i);else if(x!=="parseTransform"){UT(x,h);continue}j||(x in l?A.push(x,0,l[x]):typeof e[x]=="function"?A.push(x,2,e[x]()):A.push(x,1,d||e[x])),o.push(x)}}P&&cF(this)},render:function(e,t){if(t.tween._time||!JT())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:ga,aliases:Oo,getSetter:function(e,t,r){var s=Oo[t];return s&&s.indexOf(",")<0&&(t=s),t in Oa&&t!==Us&&(e._gsap.x||ga(e,"x"))?r&&UI===r?t==="scale"?zne:Fne:(UI=r||{})&&(t==="scale"?Une:$ne):e.style&&!VT(e.style[t])?Lne:~t.indexOf("-")?Vne:YT(e,t)},core:{_removeProperty:fu,_getMatrix:eE}};$s.utils.checkPrefix=uh;$s.core.getStyleSaver=pF;(function(n,e,t,r){var s=Fs(n+","+e+","+t,function(i){Oa[i]=1});Fs(e,function(i){ui.units[i]="deg",vF[i]=1}),Oo[s[13]]=n+","+e,Fs(r,function(i){var o=i.split(":");Oo[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Fs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ui.units[n]="px"});$s.registerPlugin(_F);var rp=$s.registerPlugin(_F)||$s;rp.core.Tween;function Zne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ere(n,e,t){return e&&Zne(n.prototype,e),n}var Lr,by,oi,_l,bl,Od,bF,Ic,sp,SF,_a,Hi,TF,EF=function(){return Lr||typeof window<"u"&&(Lr=window.gsap)&&Lr.registerPlugin&&Lr},CF=1,bd=[],vt=[],qo=[],ip=Date.now,l1=function(e,t){return t},tre=function(){var e=sp.core,t=e.bridge||{},r=e._scrollers,s=e._proxies;r.push.apply(r,vt),s.push.apply(s,qo),vt=r,qo=s,l1=function(o,l){return t[o](l)}},jl=function(e,t){return~qo.indexOf(e)&&qo[qo.indexOf(e)+1][t]},op=function(e){return!!~SF.indexOf(e)},hs=function(e,t,r,s,i){return e.addEventListener(t,r,{passive:s!==!1,capture:!!i})},ds=function(e,t,r,s){return e.removeEventListener(t,r,!!s)},Ug="scrollLeft",$g="scrollTop",c1=function(){return _a&&_a.isPressed||vt.cache++},Ev=function(e,t){var r=function s(i){if(i||i===0){CF&&(oi.history.scrollRestoration="manual");var o=_a&&_a.isPressed;i=s.v=Math.round(i)||(_a&&_a.iOS?1:0),e(i),s.cacheID=vt.cache,o&&l1("ss",i)}else(t||vt.cache!==s.cacheID||l1("ref"))&&(s.cacheID=vt.cache,s.v=e());return s.v+s.offset};return r.offset=0,e&&r},vs={s:Ug,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Ev(function(n){return arguments.length?oi.scrollTo(n,ir.sc()):oi.pageXOffset||_l[Ug]||bl[Ug]||Od[Ug]||0})},ir={s:$g,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:vs,sc:Ev(function(n){return arguments.length?oi.scrollTo(vs.sc(),n):oi.pageYOffset||_l[$g]||bl[$g]||Od[$g]||0})},Ns=function(e,t){return(t&&t._ctx&&t._ctx.selector||Lr.utils.toArray)(e)[0]||(typeof e=="string"&&Lr.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},nre=function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1},Ql=function(e,t){var r=t.s,s=t.sc;op(e)&&(e=_l.scrollingElement||bl);var i=vt.indexOf(e),o=s===ir.sc?1:2;!~i&&(i=vt.push(e)-1),vt[i+o]||hs(e,"scroll",c1);var l=vt[i+o],u=l||(vt[i+o]=Ev(jl(e,r),!0)||(op(e)?s:Ev(function(d){return arguments.length?e[r]=d:e[r]})));return u.target=e,l||(u.smooth=Lr.getProperty(e,"scrollBehavior")==="smooth"),u},u1=function(e,t,r){var s=e,i=e,o=ip(),l=o,u=t||50,d=Math.max(500,u*3),h=function(T,x){var S=ip();x||S-o>u?(i=s,s=T,l=o,o=S):r?s+=T:s=i+(T-i)/(S-l)*(o-l)},m=function(){i=s=r?0:s,l=o=0},v=function(T){var x=l,S=i,R=ip();return(T||T===0)&&T!==s&&h(T),o===l||R-l>d?0:(s+(r?S:-S))/((r?R:o)-x)*1e3};return{update:h,reset:m,getVelocity:v}},Tf=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},QI=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},PF=function(){sp=Lr.core.globals().ScrollTrigger,sp&&sp.core&&tre()},kF=function(e){return Lr=e||EF(),!by&&Lr&&typeof document<"u"&&document.body&&(oi=window,_l=document,bl=_l.documentElement,Od=_l.body,SF=[oi,_l,bl,Od],Lr.utils.clamp,TF=Lr.core.context||function(){},Ic="onpointerenter"in Od?"pointer":"mouse",bF=Fn.isTouch=oi.matchMedia&&oi.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in oi||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Hi=Fn.eventTypes=("ontouchstart"in bl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in bl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return CF=0},500),PF(),by=1),by};vs.op=ir;vt.cache=0;var Fn=(function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(r){by||kF(Lr)||console.warn("Please gsap.registerPlugin(Observer)"),sp||PF();var s=r.tolerance,i=r.dragMinimum,o=r.type,l=r.target,u=r.lineHeight,d=r.debounce,h=r.preventDefault,m=r.onStop,v=r.onStopDelay,w=r.ignore,T=r.wheelSpeed,x=r.event,S=r.onDragStart,R=r.onDragEnd,k=r.onDrag,j=r.onPress,I=r.onRelease,L=r.onRight,z=r.onLeft,P=r.onUp,A=r.onDown,D=r.onChangeX,O=r.onChangeY,V=r.onChange,F=r.onToggleX,U=r.onToggleY,X=r.onHover,se=r.onHoverEnd,re=r.onMove,J=r.ignoreCheck,q=r.isNormalizer,G=r.onGestureStart,B=r.onGestureEnd,W=r.onWheel,Q=r.onEnable,ie=r.onDisable,ue=r.onClick,Z=r.scrollSpeed,me=r.capture,ce=r.allowClicks,xe=r.lockAxis,Ee=r.onLockAxis;this.target=l=Ns(l)||bl,this.vars=r,w&&(w=Lr.utils.toArray(w)),s=s||1e-9,i=i||0,T=T||1,Z=Z||1,o=o||"wheel,touch,pointer",d=d!==!1,u||(u=parseFloat(oi.getComputedStyle(Od).lineHeight)||22);var Fe,ze,Ze,Oe,ft,nn,qt,oe=this,pn=0,Dt=0,It=r.passive||!h&&r.passive!==!1,ct=Ql(l,vs),cr=Ql(l,ir),Cn=ct(),Ss=cr(),zt=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Hi[0]==="pointerdown",Ht=op(l),Tt=l.ownerDocument||_l,Pn=[0,0,0],er=[0,0,0],kn=0,$r=function(){return kn=ip()},Bt=function(Pe,Ke){return(oe.event=Pe)&&w&&nre(Pe.target,w)||Ke&&zt&&Pe.pointerType!=="touch"||J&&J(Pe,Ke)},Er=function(){oe._vx.reset(),oe._vy.reset(),ze.pause(),m&&m(oe)},mn=function(){var Pe=oe.deltaX=QI(Pn),Ke=oe.deltaY=QI(er),ye=Math.abs(Pe)>=s,Ne=Math.abs(Ke)>=s;V&&(ye||Ne)&&V(oe,Pe,Ke,Pn,er),ye&&(L&&oe.deltaX>0&&L(oe),z&&oe.deltaX<0&&z(oe),D&&D(oe),F&&oe.deltaX<0!=pn<0&&F(oe),pn=oe.deltaX,Pn[0]=Pn[1]=Pn[2]=0),Ne&&(A&&oe.deltaY>0&&A(oe),P&&oe.deltaY<0&&P(oe),O&&O(oe),U&&oe.deltaY<0!=Dt<0&&U(oe),Dt=oe.deltaY,er[0]=er[1]=er[2]=0),(Oe||Ze)&&(re&&re(oe),Ze&&(S&&Ze===1&&S(oe),k&&k(oe),Ze=0),Oe=!1),nn&&!(nn=!1)&&Ee&&Ee(oe),ft&&(W(oe),ft=!1),Fe=0},os=function(Pe,Ke,ye){Pn[ye]+=Pe,er[ye]+=Ke,oe._vx.update(Pe),oe._vy.update(Ke),d?Fe||(Fe=requestAnimationFrame(mn)):mn()},rn=function(Pe,Ke){xe&&!qt&&(oe.axis=qt=Math.abs(Pe)>Math.abs(Ke)?"x":"y",nn=!0),qt!=="y"&&(Pn[2]+=Pe,oe._vx.update(Pe,!0)),qt!=="x"&&(er[2]+=Ke,oe._vy.update(Ke,!0)),d?Fe||(Fe=requestAnimationFrame(mn)):mn()},Cr=function(Pe){if(!Bt(Pe,1)){Pe=Tf(Pe,h);var Ke=Pe.clientX,ye=Pe.clientY,Ne=Ke-oe.x,ke=ye-oe.y,Be=oe.isDragging;oe.x=Ke,oe.y=ye,(Be||(Ne||ke)&&(Math.abs(oe.startX-Ke)>=i||Math.abs(oe.startY-ye)>=i))&&(Ze=Be?2:1,Be||(oe.isDragging=!0),rn(Ne,ke))}},ur=oe.onPress=function(Ae){Bt(Ae,1)||Ae&&Ae.button||(oe.axis=qt=null,ze.pause(),oe.isPressed=!0,Ae=Tf(Ae),pn=Dt=0,oe.startX=oe.x=Ae.clientX,oe.startY=oe.y=Ae.clientY,oe._vx.reset(),oe._vy.reset(),hs(q?l:Tt,Hi[1],Cr,It,!0),oe.deltaX=oe.deltaY=0,j&&j(oe))},Qe=oe.onRelease=function(Ae){if(!Bt(Ae,1)){ds(q?l:Tt,Hi[1],Cr,!0);var Pe=!isNaN(oe.y-oe.startY),Ke=oe.isDragging,ye=Ke&&(Math.abs(oe.x-oe.startX)>3||Math.abs(oe.y-oe.startY)>3),Ne=Tf(Ae);!ye&&Pe&&(oe._vx.reset(),oe._vy.reset(),h&&ce&&Lr.delayedCall(.08,function(){if(ip()-kn>300&&!Ae.defaultPrevented){if(Ae.target.click)Ae.target.click();else if(Tt.createEvent){var ke=Tt.createEvent("MouseEvents");ke.initMouseEvent("click",!0,!0,oi,1,Ne.screenX,Ne.screenY,Ne.clientX,Ne.clientY,!1,!1,!1,!1,0,null),Ae.target.dispatchEvent(ke)}}})),oe.isDragging=oe.isGesturing=oe.isPressed=!1,m&&Ke&&!q&&ze.restart(!0),Ze&&mn(),R&&Ke&&R(oe),I&&I(oe,ye)}},Un=function(Pe){return Pe.touches&&Pe.touches.length>1&&(oe.isGesturing=!0)&&G(Pe,oe.isDragging)},gn=function(){return(oe.isGesturing=!1)||B(oe)},pt=function(Pe){if(!Bt(Pe)){var Ke=ct(),ye=cr();os((Ke-Cn)*Z,(ye-Ss)*Z,1),Cn=Ke,Ss=ye,m&&ze.restart(!0)}},Jt=function(Pe){if(!Bt(Pe)){Pe=Tf(Pe,h),W&&(ft=!0);var Ke=(Pe.deltaMode===1?u:Pe.deltaMode===2?oi.innerHeight:1)*T;os(Pe.deltaX*Ke,Pe.deltaY*Ke,0),m&&!q&&ze.restart(!0)}},dr=function(Pe){if(!Bt(Pe)){var Ke=Pe.clientX,ye=Pe.clientY,Ne=Ke-oe.x,ke=ye-oe.y;oe.x=Ke,oe.y=ye,Oe=!0,m&&ze.restart(!0),(Ne||ke)&&rn(Ne,ke)}},Ve=function(Pe){oe.event=Pe,X(oe)},st=function(Pe){oe.event=Pe,se(oe)},Et=function(Pe){return Bt(Pe)||Tf(Pe,h)&&ue(oe)};ze=oe._dc=Lr.delayedCall(v||.25,Er).pause(),oe.deltaX=oe.deltaY=0,oe._vx=u1(0,50,!0),oe._vy=u1(0,50,!0),oe.scrollX=ct,oe.scrollY=cr,oe.isDragging=oe.isGesturing=oe.isPressed=!1,TF(this),oe.enable=function(Ae){return oe.isEnabled||(hs(Ht?Tt:l,"scroll",c1),o.indexOf("scroll")>=0&&hs(Ht?Tt:l,"scroll",pt,It,me),o.indexOf("wheel")>=0&&hs(l,"wheel",Jt,It,me),(o.indexOf("touch")>=0&&bF||o.indexOf("pointer")>=0)&&(hs(l,Hi[0],ur,It,me),hs(Tt,Hi[2],Qe),hs(Tt,Hi[3],Qe),ce&&hs(l,"click",$r,!0,!0),ue&&hs(l,"click",Et),G&&hs(Tt,"gesturestart",Un),B&&hs(Tt,"gestureend",gn),X&&hs(l,Ic+"enter",Ve),se&&hs(l,Ic+"leave",st),re&&hs(l,Ic+"move",dr)),oe.isEnabled=!0,oe.isDragging=oe.isGesturing=oe.isPressed=Oe=Ze=!1,oe._vx.reset(),oe._vy.reset(),Cn=ct(),Ss=cr(),Ae&&Ae.type&&ur(Ae),Q&&Q(oe)),oe},oe.disable=function(){oe.isEnabled&&(bd.filter(function(Ae){return Ae!==oe&&op(Ae.target)}).length||ds(Ht?Tt:l,"scroll",c1),oe.isPressed&&(oe._vx.reset(),oe._vy.reset(),ds(q?l:Tt,Hi[1],Cr,!0)),ds(Ht?Tt:l,"scroll",pt,me),ds(l,"wheel",Jt,me),ds(l,Hi[0],ur,me),ds(Tt,Hi[2],Qe),ds(Tt,Hi[3],Qe),ds(l,"click",$r,!0),ds(l,"click",Et),ds(Tt,"gesturestart",Un),ds(Tt,"gestureend",gn),ds(l,Ic+"enter",Ve),ds(l,Ic+"leave",st),ds(l,Ic+"move",dr),oe.isEnabled=oe.isPressed=oe.isDragging=!1,ie&&ie(oe))},oe.kill=oe.revert=function(){oe.disable();var Ae=bd.indexOf(oe);Ae>=0&&bd.splice(Ae,1),_a===oe&&(_a=0)},bd.push(oe),q&&op(l)&&(_a=oe),oe.enable(x)},ere(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n})();Fn.version="3.13.0";Fn.create=function(n){return new Fn(n)};Fn.register=kF;Fn.getAll=function(){return bd.slice()};Fn.getById=function(n){return bd.filter(function(e){return e.vars.id===n})[0]};EF()&&Lr.registerPlugin(Fn);var Ie,fd,gt,en,si,Vt,tE,Cv,zp,ap,Df,Bg,Yr,Rw,d1,ps,XI,JI,pd,RF,d_,AF,fs,h1,IF,NF,hl,f1,nE,Md,rE,Pv,p1,h_,Wg=1,Xr=Date.now,f_=Xr(),Di=0,jf=0,ZI=function(e,t,r){var s=ti(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=s,s?e.substr(6,e.length-7):e},eN=function(e,t){return t&&(!ti(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},rre=function n(){return jf&&requestAnimationFrame(n)},tN=function(){return Rw=1},nN=function(){return Rw=0},Po=function(e){return e},Of=function(e){return Math.round(e*1e5)/1e5||0},DF=function(){return typeof window<"u"},jF=function(){return Ie||DF()&&(Ie=window.gsap)&&Ie.registerPlugin&&Ie},pu=function(e){return!!~tE.indexOf(e)},OF=function(e){return(e==="Height"?rE:gt["inner"+e])||si["client"+e]||Vt["client"+e]},MF=function(e){return jl(e,"getBoundingClientRect")||(pu(e)?function(){return Py.width=gt.innerWidth,Py.height=rE,Py}:function(){return va(e)})},sre=function(e,t,r){var s=r.d,i=r.d2,o=r.a;return(o=jl(e,"getBoundingClientRect"))?function(){return o()[s]}:function(){return(t?OF(i):e["client"+i])||0}},ire=function(e,t){return!t||~qo.indexOf(e)?MF(e):function(){return Py}},Mo=function(e,t){var r=t.s,s=t.d2,i=t.d,o=t.a;return Math.max(0,(r="scroll"+s)&&(o=jl(e,r))?o()-MF(e)()[i]:pu(e)?(si[r]||Vt[r])-OF(s):e[r]-e["offset"+s])},qg=function(e,t){for(var r=0;r<pd.length;r+=3)(!t||~t.indexOf(pd[r+1]))&&e(pd[r],pd[r+1],pd[r+2])},ti=function(e){return typeof e=="string"},es=function(e){return typeof e=="function"},Mf=function(e){return typeof e=="number"},Nc=function(e){return typeof e=="object"},Ef=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},p_=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},ad=Math.abs,LF="left",VF="top",sE="right",iE="bottom",Yc="width",Qc="height",lp="Right",cp="Left",up="Top",dp="Bottom",qn="padding",Si="margin",dh="Width",oE="Height",rr="px",Ti=function(e){return gt.getComputedStyle(e)},ore=function(e){var t=Ti(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},rN=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},va=function(e,t){var r=t&&Ti(e)[d1]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ie.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=e.getBoundingClientRect();return r&&r.progress(0).kill(),s},kv=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},FF=function(e){var t=[],r=e.labels,s=e.duration(),i;for(i in r)t.push(r[i]/s);return t},are=function(e){return function(t){return Ie.utils.snap(FF(e),t)}},aE=function(e){var t=Ie.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(s,i){return s-i});return r?function(s,i,o){o===void 0&&(o=.001);var l;if(!i)return t(s);if(i>0){for(s-=o,l=0;l<r.length;l++)if(r[l]>=s)return r[l];return r[l-1]}else for(l=r.length,s+=o;l--;)if(r[l]<=s)return r[l];return r[0]}:function(s,i,o){o===void 0&&(o=.001);var l=t(s);return!i||Math.abs(l-s)<o||l-s<0==i<0?l:t(i<0?s-e:s+e)}},lre=function(e){return function(t,r){return aE(FF(e))(t,r.direction)}},Hg=function(e,t,r,s){return r.split(",").forEach(function(i){return e(t,i,s)})},vr=function(e,t,r,s,i){return e.addEventListener(t,r,{passive:!s,capture:!!i})},yr=function(e,t,r,s){return e.removeEventListener(t,r,!!s)},Kg=function(e,t,r){r=r&&r.wheelHandler,r&&(e(t,"wheel",r),e(t,"touchmove",r))},sN={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Gg={toggleActions:"play",anticipatePin:0},Rv={top:0,left:0,center:.5,bottom:1,right:1},Sy=function(e,t){if(ti(e)){var r=e.indexOf("="),s=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(s*=t/100),e=e.substr(0,r-1)),e=s+(e in Rv?Rv[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Yg=function(e,t,r,s,i,o,l,u){var d=i.startColor,h=i.endColor,m=i.fontSize,v=i.indent,w=i.fontWeight,T=en.createElement("div"),x=pu(r)||jl(r,"pinType")==="fixed",S=e.indexOf("scroller")!==-1,R=x?Vt:r,k=e.indexOf("start")!==-1,j=k?d:h,I="border-color:"+j+";font-size:"+m+";color:"+j+";font-weight:"+w+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return I+="position:"+((S||u)&&x?"fixed;":"absolute;"),(S||u||!x)&&(I+=(s===ir?sE:iE)+":"+(o+parseFloat(v))+"px;"),l&&(I+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),T._isStart=k,T.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),T.style.cssText=I,T.innerText=t||t===0?e+"-"+t:e,R.children[0]?R.insertBefore(T,R.children[0]):R.appendChild(T),T._offset=T["offset"+s.op.d2],Ty(T,0,s,k),T},Ty=function(e,t,r,s){var i={display:"block"},o=r[s?"os2":"p2"],l=r[s?"p2":"os2"];e._isFlipped=s,i[r.a+"Percent"]=s?-100:0,i[r.a]=s?"1px":0,i["border"+o+dh]=1,i["border"+l+dh]=0,i[r.p]=t+"px",Ie.set(e,i)},dt=[],m1={},Up,iN=function(){return Xr()-Di>34&&(Up||(Up=requestAnimationFrame(Sa)))},ld=function(){(!fs||!fs.isPressed||fs.startX>Vt.clientWidth)&&(vt.cache++,fs?Up||(Up=requestAnimationFrame(Sa)):Sa(),Di||gu("scrollStart"),Di=Xr())},m_=function(){NF=gt.innerWidth,IF=gt.innerHeight},Lf=function(e){vt.cache++,(e===!0||!Yr&&!AF&&!en.fullscreenElement&&!en.webkitFullscreenElement&&(!h1||NF!==gt.innerWidth||Math.abs(gt.innerHeight-IF)>gt.innerHeight*.25))&&Cv.restart(!0)},mu={},cre=[],zF=function n(){return yr(wt,"scrollEnd",n)||Vc(!0)},gu=function(e){return mu[e]&&mu[e].map(function(t){return t()})||cre},ei=[],UF=function(e){for(var t=0;t<ei.length;t+=5)(!e||ei[t+4]&&ei[t+4].query===e)&&(ei[t].style.cssText=ei[t+1],ei[t].getBBox&&ei[t].setAttribute("transform",ei[t+2]||""),ei[t+3].uncache=1)},lE=function(e,t){var r;for(ps=0;ps<dt.length;ps++)r=dt[ps],r&&(!t||r._ctx===t)&&(e?r.kill(1):r.revert(!0,!0));Pv=!0,t&&UF(t),t||gu("revert")},$F=function(e,t){vt.cache++,(t||!ms)&&vt.forEach(function(r){return es(r)&&r.cacheID++&&(r.rec=0)}),ti(e)&&(gt.history.scrollRestoration=nE=e)},ms,Xc=0,oN,ure=function(){if(oN!==Xc){var e=oN=Xc;requestAnimationFrame(function(){return e===Xc&&Vc(!0)})}},BF=function(){Vt.appendChild(Md),rE=!fs&&Md.offsetHeight||gt.innerHeight,Vt.removeChild(Md)},aN=function(e){return zp(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Vc=function(e,t){if(si=en.documentElement,Vt=en.body,tE=[gt,en,si,Vt],Di&&!e&&!Pv){vr(wt,"scrollEnd",zF);return}BF(),ms=wt.isRefreshing=!0,vt.forEach(function(s){return es(s)&&++s.cacheID&&(s.rec=s())});var r=gu("refreshInit");RF&&wt.sort(),t||lE(),vt.forEach(function(s){es(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),dt.slice(0).forEach(function(s){return s.refresh()}),Pv=!1,dt.forEach(function(s){if(s._subPinOffset&&s.pin){var i=s.vars.horizontal?"offsetWidth":"offsetHeight",o=s.pin[i];s.revert(!0,1),s.adjustPinSpacing(s.pin[i]-o),s.refresh()}}),p1=1,aN(!0),dt.forEach(function(s){var i=Mo(s.scroller,s._dir),o=s.vars.end==="max"||s._endClamp&&s.end>i,l=s._startClamp&&s.start>=i;(o||l)&&s.setPositions(l?i-1:s.start,o?Math.max(l?i:s.start+1,i):s.end,!0)}),aN(!1),p1=0,r.forEach(function(s){return s&&s.render&&s.render(-1)}),vt.forEach(function(s){es(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),$F(nE,1),Cv.pause(),Xc++,ms=2,Sa(2),dt.forEach(function(s){return es(s.vars.onRefresh)&&s.vars.onRefresh(s)}),ms=wt.isRefreshing=!1,gu("refresh")},g1=0,Ey=1,hp,Sa=function(e){if(e===2||!ms&&!Pv){wt.isUpdating=!0,hp&&hp.update(0);var t=dt.length,r=Xr(),s=r-f_>=50,i=t&&dt[0].scroll();if(Ey=g1>i?-1:1,ms||(g1=i),s&&(Di&&!Rw&&r-Di>200&&(Di=0,gu("scrollEnd")),Df=f_,f_=r),Ey<0){for(ps=t;ps-- >0;)dt[ps]&&dt[ps].update(0,s);Ey=1}else for(ps=0;ps<t;ps++)dt[ps]&&dt[ps].update(0,s);wt.isUpdating=!1}Up=0},y1=[LF,VF,iE,sE,Si+dp,Si+lp,Si+up,Si+cp,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Cy=y1.concat([Yc,Qc,"boxSizing","max"+dh,"max"+oE,"position",Si,qn,qn+up,qn+lp,qn+dp,qn+cp]),dre=function(e,t,r){Ld(r);var s=e._gsap;if(s.spacerIsNative)Ld(s.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1},g_=function(e,t,r,s){if(!e._gsap.swappedIn){for(var i=y1.length,o=t.style,l=e.style,u;i--;)u=y1[i],o[u]=r[u];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),l[iE]=l[sE]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Yc]=kv(e,vs)+rr,o[Qc]=kv(e,ir)+rr,o[qn]=l[Si]=l[VF]=l[LF]="0",Ld(s),l[Yc]=l["max"+dh]=r[Yc],l[Qc]=l["max"+oE]=r[Qc],l[qn]=r[qn],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},hre=/([A-Z])/g,Ld=function(e){if(e){var t=e.t.style,r=e.length,s=0,i,o;for((e.t._gsap||Ie.core.getCache(e.t)).uncache=1;s<r;s+=2)o=e[s+1],i=e[s],o?t[i]=o:t[i]&&t.removeProperty(i.replace(hre,"-$1").toLowerCase())}},Qg=function(e){for(var t=Cy.length,r=e.style,s=[],i=0;i<t;i++)s.push(Cy[i],r[Cy[i]]);return s.t=e,s},fre=function(e,t,r){for(var s=[],i=e.length,o=r?8:0,l;o<i;o+=2)l=e[o],s.push(l,l in t?t[l]:e[o+1]);return s.t=e.t,s},Py={left:0,top:0},lN=function(e,t,r,s,i,o,l,u,d,h,m,v,w,T){es(e)&&(e=e(u)),ti(e)&&e.substr(0,3)==="max"&&(e=v+(e.charAt(4)==="="?Sy("0"+e.substr(3),r):0));var x=w?w.time():0,S,R,k;if(w&&w.seek(0),isNaN(e)||(e=+e),Mf(e))w&&(e=Ie.utils.mapRange(w.scrollTrigger.start,w.scrollTrigger.end,0,v,e)),l&&Ty(l,r,s,!0);else{es(t)&&(t=t(u));var j=(e||"0").split(" "),I,L,z,P;k=Ns(t,u)||Vt,I=va(k)||{},(!I||!I.left&&!I.top)&&Ti(k).display==="none"&&(P=k.style.display,k.style.display="block",I=va(k),P?k.style.display=P:k.style.removeProperty("display")),L=Sy(j[0],I[s.d]),z=Sy(j[1]||"0",r),e=I[s.p]-d[s.p]-h+L+i-z,l&&Ty(l,z,s,r-z<20||l._isStart&&z>20),r-=r-z}if(T&&(u[T]=e||-.001,e<0&&(e=0)),o){var A=e+r,D=o._isStart;S="scroll"+s.d2,Ty(o,A,s,D&&A>20||!D&&(m?Math.max(Vt[S],si[S]):o.parentNode[S])<=A+1),m&&(d=va(l),m&&(o.style[s.op.p]=d[s.op.p]-s.op.m-o._offset+rr))}return w&&k&&(S=va(k),w.seek(v),R=va(k),w._caScrollDist=S[s.p]-R[s.p],e=e/w._caScrollDist*v),w&&w.seek(x),w?e:Math.round(e)},pre=/(webkit|moz|length|cssText|inset)/i,cN=function(e,t,r,s){if(e.parentNode!==t){var i=e.style,o,l;if(t===Vt){e._stOrig=i.cssText,l=Ti(e);for(o in l)!+o&&!pre.test(o)&&l[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=l[o]);i.top=r,i.left=s}else i.cssText=e._stOrig;Ie.core.getCache(e).uncache=1,t.appendChild(e)}},WF=function(e,t,r){var s=t,i=s;return function(o){var l=Math.round(e());return l!==s&&l!==i&&Math.abs(l-s)>3&&Math.abs(l-i)>3&&(o=l,r&&r()),i=s,s=Math.round(o),s}},Xg=function(e,t,r){var s={};s[t.p]="+="+r,Ie.set(e,s)},uN=function(e,t){var r=Ql(e,t),s="_scroll"+t.p2,i=function o(l,u,d,h,m){var v=o.tween,w=u.onComplete,T={};d=d||r();var x=WF(r,d,function(){v.kill(),o.tween=0});return m=h&&m||0,h=h||l-d,v&&v.kill(),u[s]=l,u.inherit=!1,u.modifiers=T,T[s]=function(){return x(d+h*v.ratio+m*v.ratio*v.ratio)},u.onUpdate=function(){vt.cache++,o.tween&&Sa()},u.onComplete=function(){o.tween=0,w&&w.call(v)},v=o.tween=Ie.to(e,u),v};return e[s]=r,r.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},vr(e,"wheel",r.wheelHandler),wt.isTouch&&vr(e,"touchmove",r.wheelHandler),i},wt=(function(){function n(t,r){fd||n.register(Ie)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),f1(this),this.init(t,r)}var e=n.prototype;return e.init=function(r,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!jf){this.update=this.refresh=this.kill=Po;return}r=rN(ti(r)||Mf(r)||r.nodeType?{trigger:r}:r,Gg);var i=r,o=i.onUpdate,l=i.toggleClass,u=i.id,d=i.onToggle,h=i.onRefresh,m=i.scrub,v=i.trigger,w=i.pin,T=i.pinSpacing,x=i.invalidateOnRefresh,S=i.anticipatePin,R=i.onScrubComplete,k=i.onSnapComplete,j=i.once,I=i.snap,L=i.pinReparent,z=i.pinSpacer,P=i.containerAnimation,A=i.fastScrollEnd,D=i.preventOverlaps,O=r.horizontal||r.containerAnimation&&r.horizontal!==!1?vs:ir,V=!m&&m!==0,F=Ns(r.scroller||gt),U=Ie.core.getCache(F),X=pu(F),se=("pinType"in r?r.pinType:jl(F,"pinType")||X&&"fixed")==="fixed",re=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],J=V&&r.toggleActions.split(" "),q="markers"in r?r.markers:Gg.markers,G=X?0:parseFloat(Ti(F)["border"+O.p2+dh])||0,B=this,W=r.onRefreshInit&&function(){return r.onRefreshInit(B)},Q=sre(F,X,O),ie=ire(F,X),ue=0,Z=0,me=0,ce=Ql(F,O),xe,Ee,Fe,ze,Ze,Oe,ft,nn,qt,oe,pn,Dt,It,ct,cr,Cn,Ss,zt,Ht,Tt,Pn,er,kn,$r,Bt,Er,mn,os,rn,Cr,ur,Qe,Un,gn,pt,Jt,dr,Ve,st;if(B._startClamp=B._endClamp=!1,B._dir=O,S*=45,B.scroller=F,B.scroll=P?P.time.bind(P):ce,ze=ce(),B.vars=r,s=s||r.animation,"refreshPriority"in r&&(RF=1,r.refreshPriority===-9999&&(hp=B)),U.tweenScroll=U.tweenScroll||{top:uN(F,ir),left:uN(F,vs)},B.tweenTo=xe=U.tweenScroll[O.p],B.scrubDuration=function(ye){Un=Mf(ye)&&ye,Un?Qe?Qe.duration(ye):Qe=Ie.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Un,paused:!0,onComplete:function(){return R&&R(B)}}):(Qe&&Qe.progress(1).kill(),Qe=0)},s&&(s.vars.lazy=!1,s._initted&&!B.isReverted||s.vars.immediateRender!==!1&&r.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),B.animation=s.pause(),s.scrollTrigger=B,B.scrubDuration(m),Cr=0,u||(u=s.vars.id)),I&&((!Nc(I)||I.push)&&(I={snapTo:I}),"scrollBehavior"in Vt.style&&Ie.set(X?[Vt,si]:F,{scrollBehavior:"auto"}),vt.forEach(function(ye){return es(ye)&&ye.target===(X?en.scrollingElement||si:F)&&(ye.smooth=!1)}),Fe=es(I.snapTo)?I.snapTo:I.snapTo==="labels"?are(s):I.snapTo==="labelsDirectional"?lre(s):I.directional!==!1?function(ye,Ne){return aE(I.snapTo)(ye,Xr()-Z<500?0:Ne.direction)}:Ie.utils.snap(I.snapTo),gn=I.duration||{min:.1,max:2},gn=Nc(gn)?ap(gn.min,gn.max):ap(gn,gn),pt=Ie.delayedCall(I.delay||Un/2||.1,function(){var ye=ce(),Ne=Xr()-Z<500,ke=xe.tween;if((Ne||Math.abs(B.getVelocity())<10)&&!ke&&!Rw&&ue!==ye){var Be=(ye-Oe)/ct,Ut=s&&!V?s.totalProgress():Be,ot=Ne?0:(Ut-ur)/(Xr()-Df)*1e3||0,Rt=Ie.utils.clamp(-Be,1-Be,ad(ot/2)*ot/.185),Nn=Be+(I.inertia===!1?0:Rt),Kt,Lt,ut=I,Pr=ut.onStart,Wt=ut.onInterrupt,hr=ut.onComplete;if(Kt=Fe(Nn,B),Mf(Kt)||(Kt=Nn),Lt=Math.max(0,Math.round(Oe+Kt*ct)),ye<=ft&&ye>=Oe&&Lt!==ye){if(ke&&!ke._initted&&ke.data<=ad(Lt-ye))return;I.inertia===!1&&(Rt=Kt-Be),xe(Lt,{duration:gn(ad(Math.max(ad(Nn-Ut),ad(Kt-Ut))*.185/ot/.05||0)),ease:I.ease||"power3",data:ad(Lt-ye),onInterrupt:function(){return pt.restart(!0)&&Wt&&Wt(B)},onComplete:function(){B.update(),ue=ce(),s&&!V&&(Qe?Qe.resetTo("totalProgress",Kt,s._tTime/s._tDur):s.progress(Kt)),Cr=ur=s&&!V?s.totalProgress():B.progress,k&&k(B),hr&&hr(B)}},ye,Rt*ct,Lt-ye-Rt*ct),Pr&&Pr(B,xe.tween)}}else B.isActive&&ue!==ye&&pt.restart(!0)}).pause()),u&&(m1[u]=B),v=B.trigger=Ns(v||w!==!0&&w),st=v&&v._gsap&&v._gsap.stRevert,st&&(st=st(B)),w=w===!0?v:Ns(w),ti(l)&&(l={targets:v,className:l}),w&&(T===!1||T===Si||(T=!T&&w.parentNode&&w.parentNode.style&&Ti(w.parentNode).display==="flex"?!1:qn),B.pin=w,Ee=Ie.core.getCache(w),Ee.spacer?cr=Ee.pinState:(z&&(z=Ns(z),z&&!z.nodeType&&(z=z.current||z.nativeElement),Ee.spacerIsNative=!!z,z&&(Ee.spacerState=Qg(z))),Ee.spacer=zt=z||en.createElement("div"),zt.classList.add("pin-spacer"),u&&zt.classList.add("pin-spacer-"+u),Ee.pinState=cr=Qg(w)),r.force3D!==!1&&Ie.set(w,{force3D:!0}),B.spacer=zt=Ee.spacer,rn=Ti(w),$r=rn[T+O.os2],Tt=Ie.getProperty(w),Pn=Ie.quickSetter(w,O.a,rr),g_(w,zt,rn),Ss=Qg(w)),q){Dt=Nc(q)?rN(q,sN):sN,oe=Yg("scroller-start",u,F,O,Dt,0),pn=Yg("scroller-end",u,F,O,Dt,0,oe),Ht=oe["offset"+O.op.d2];var Et=Ns(jl(F,"content")||F);nn=this.markerStart=Yg("start",u,Et,O,Dt,Ht,0,P),qt=this.markerEnd=Yg("end",u,Et,O,Dt,Ht,0,P),P&&(Ve=Ie.quickSetter([nn,qt],O.a,rr)),!se&&!(qo.length&&jl(F,"fixedMarkers")===!0)&&(ore(X?Vt:F),Ie.set([oe,pn],{force3D:!0}),Er=Ie.quickSetter(oe,O.a,rr),os=Ie.quickSetter(pn,O.a,rr))}if(P){var Ae=P.vars.onUpdate,Pe=P.vars.onUpdateParams;P.eventCallback("onUpdate",function(){B.update(0,0,1),Ae&&Ae.apply(P,Pe||[])})}if(B.previous=function(){return dt[dt.indexOf(B)-1]},B.next=function(){return dt[dt.indexOf(B)+1]},B.revert=function(ye,Ne){if(!Ne)return B.kill(!0);var ke=ye!==!1||!B.enabled,Be=Yr;ke!==B.isReverted&&(ke&&(Jt=Math.max(ce(),B.scroll.rec||0),me=B.progress,dr=s&&s.progress()),nn&&[nn,qt,oe,pn].forEach(function(Ut){return Ut.style.display=ke?"none":"block"}),ke&&(Yr=B,B.update(ke)),w&&(!L||!B.isActive)&&(ke?dre(w,zt,cr):g_(w,zt,Ti(w),Bt)),ke||B.update(ke),Yr=Be,B.isReverted=ke)},B.refresh=function(ye,Ne,ke,Be){if(!((Yr||!B.enabled)&&!Ne)){if(w&&ye&&Di){vr(n,"scrollEnd",zF);return}!ms&&W&&W(B),Yr=B,xe.tween&&!ke&&(xe.tween.kill(),xe.tween=0),Qe&&Qe.pause(),x&&s&&(s.revert({kill:!1}).invalidate(),s.getChildren&&s.getChildren(!0,!0,!1).forEach(function(Ws){return Ws.vars.immediateRender&&Ws.render(0,!0,!0)})),B.isReverted||B.revert(!0,!0),B._subPinOffset=!1;var Ut=Q(),ot=ie(),Rt=P?P.duration():Mo(F,O),Nn=ct<=.01||!ct,Kt=0,Lt=Be||0,ut=Nc(ke)?ke.end:r.end,Pr=r.endTrigger||v,Wt=Nc(ke)?ke.start:r.start||(r.start===0||!v?0:w?"0 0":"0 100%"),hr=B.pinnedContainer=r.pinnedContainer&&Ns(r.pinnedContainer,B),as=v&&Math.max(0,dt.indexOf(B))||0,sn=as,yn,vn,ls,Ts,at,wn,kr,Zo,oo,Mi,Rr,Bs,fr;for(q&&Nc(ke)&&(Bs=Ie.getProperty(oe,O.p),fr=Ie.getProperty(pn,O.p));sn-- >0;)wn=dt[sn],wn.end||wn.refresh(0,1)||(Yr=B),kr=wn.pin,kr&&(kr===v||kr===w||kr===hr)&&!wn.isReverted&&(Mi||(Mi=[]),Mi.unshift(wn),wn.revert(!0,!0)),wn!==dt[sn]&&(as--,sn--);for(es(Wt)&&(Wt=Wt(B)),Wt=ZI(Wt,"start",B),Oe=lN(Wt,v,Ut,O,ce(),nn,oe,B,ot,G,se,Rt,P,B._startClamp&&"_startClamp")||(w?-.001:0),es(ut)&&(ut=ut(B)),ti(ut)&&!ut.indexOf("+=")&&(~ut.indexOf(" ")?ut=(ti(Wt)?Wt.split(" ")[0]:"")+ut:(Kt=Sy(ut.substr(2),Ut),ut=ti(Wt)?Wt:(P?Ie.utils.mapRange(0,P.duration(),P.scrollTrigger.start,P.scrollTrigger.end,Oe):Oe)+Kt,Pr=v)),ut=ZI(ut,"end",B),ft=Math.max(Oe,lN(ut||(Pr?"100% 0":Rt),Pr,Ut,O,ce()+Kt,qt,pn,B,ot,G,se,Rt,P,B._endClamp&&"_endClamp"))||-.001,Kt=0,sn=as;sn--;)wn=dt[sn],kr=wn.pin,kr&&wn.start-wn._pinPush<=Oe&&!P&&wn.end>0&&(yn=wn.end-(B._startClamp?Math.max(0,wn.start):wn.start),(kr===v&&wn.start-wn._pinPush<Oe||kr===hr)&&isNaN(Wt)&&(Kt+=yn*(1-wn.progress)),kr===w&&(Lt+=yn));if(Oe+=Kt,ft+=Kt,B._startClamp&&(B._startClamp+=Kt),B._endClamp&&!ms&&(B._endClamp=ft||-.001,ft=Math.min(ft,Mo(F,O))),ct=ft-Oe||(Oe-=.01)&&.001,Nn&&(me=Ie.utils.clamp(0,1,Ie.utils.normalize(Oe,ft,Jt))),B._pinPush=Lt,nn&&Kt&&(yn={},yn[O.a]="+="+Kt,hr&&(yn[O.p]="-="+ce()),Ie.set([nn,qt],yn)),w&&!(p1&&B.end>=Mo(F,O)))yn=Ti(w),Ts=O===ir,ls=ce(),er=parseFloat(Tt(O.a))+Lt,!Rt&&ft>1&&(Rr=(X?en.scrollingElement||si:F).style,Rr={style:Rr,value:Rr["overflow"+O.a.toUpperCase()]},X&&Ti(Vt)["overflow"+O.a.toUpperCase()]!=="scroll"&&(Rr.style["overflow"+O.a.toUpperCase()]="scroll")),g_(w,zt,yn),Ss=Qg(w),vn=va(w,!0),Zo=se&&Ql(F,Ts?vs:ir)(),T?(Bt=[T+O.os2,ct+Lt+rr],Bt.t=zt,sn=T===qn?kv(w,O)+ct+Lt:0,sn&&(Bt.push(O.d,sn+rr),zt.style.flexBasis!=="auto"&&(zt.style.flexBasis=sn+rr)),Ld(Bt),hr&&dt.forEach(function(Ws){Ws.pin===hr&&Ws.vars.pinSpacing!==!1&&(Ws._subPinOffset=!0)}),se&&ce(Jt)):(sn=kv(w,O),sn&&zt.style.flexBasis!=="auto"&&(zt.style.flexBasis=sn+rr)),se&&(at={top:vn.top+(Ts?ls-Oe:Zo)+rr,left:vn.left+(Ts?Zo:ls-Oe)+rr,boxSizing:"border-box",position:"fixed"},at[Yc]=at["max"+dh]=Math.ceil(vn.width)+rr,at[Qc]=at["max"+oE]=Math.ceil(vn.height)+rr,at[Si]=at[Si+up]=at[Si+lp]=at[Si+dp]=at[Si+cp]="0",at[qn]=yn[qn],at[qn+up]=yn[qn+up],at[qn+lp]=yn[qn+lp],at[qn+dp]=yn[qn+dp],at[qn+cp]=yn[qn+cp],Cn=fre(cr,at,L),ms&&ce(0)),s?(oo=s._initted,d_(1),s.render(s.duration(),!0,!0),kn=Tt(O.a)-er+ct+Lt,mn=Math.abs(ct-kn)>1,se&&mn&&Cn.splice(Cn.length-2,2),s.render(0,!0,!0),oo||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),d_(0)):kn=ct,Rr&&(Rr.value?Rr.style["overflow"+O.a.toUpperCase()]=Rr.value:Rr.style.removeProperty("overflow-"+O.a));else if(v&&ce()&&!P)for(vn=v.parentNode;vn&&vn!==Vt;)vn._pinOffset&&(Oe-=vn._pinOffset,ft-=vn._pinOffset),vn=vn.parentNode;Mi&&Mi.forEach(function(Ws){return Ws.revert(!1,!0)}),B.start=Oe,B.end=ft,ze=Ze=ms?Jt:ce(),!P&&!ms&&(ze<Jt&&ce(Jt),B.scroll.rec=0),B.revert(!1,!0),Z=Xr(),pt&&(ue=-1,pt.restart(!0)),Yr=0,s&&V&&(s._initted||dr)&&s.progress()!==dr&&s.progress(dr||0,!0).render(s.time(),!0,!0),(Nn||me!==B.progress||P||x||s&&!s._initted)&&(s&&!V&&(s._initted||me||s.vars.immediateRender!==!1)&&s.totalProgress(P&&Oe<-.001&&!me?Ie.utils.normalize(Oe,ft,0):me,!0),B.progress=Nn||(ze-Oe)/ct===me?0:me),w&&T&&(zt._pinOffset=Math.round(B.progress*kn)),Qe&&Qe.invalidate(),isNaN(Bs)||(Bs-=Ie.getProperty(oe,O.p),fr-=Ie.getProperty(pn,O.p),Xg(oe,O,Bs),Xg(nn,O,Bs-(Be||0)),Xg(pn,O,fr),Xg(qt,O,fr-(Be||0))),Nn&&!ms&&B.update(),h&&!ms&&!It&&(It=!0,h(B),It=!1)}},B.getVelocity=function(){return(ce()-Ze)/(Xr()-Df)*1e3||0},B.endAnimation=function(){Ef(B.callbackAnimation),s&&(Qe?Qe.progress(1):s.paused()?V||Ef(s,B.direction<0,1):Ef(s,s.reversed()))},B.labelToScroll=function(ye){return s&&s.labels&&(Oe||B.refresh()||Oe)+s.labels[ye]/s.duration()*ct||0},B.getTrailing=function(ye){var Ne=dt.indexOf(B),ke=B.direction>0?dt.slice(0,Ne).reverse():dt.slice(Ne+1);return(ti(ye)?ke.filter(function(Be){return Be.vars.preventOverlaps===ye}):ke).filter(function(Be){return B.direction>0?Be.end<=Oe:Be.start>=ft})},B.update=function(ye,Ne,ke){if(!(P&&!ke&&!ye)){var Be=ms===!0?Jt:B.scroll(),Ut=ye?0:(Be-Oe)/ct,ot=Ut<0?0:Ut>1?1:Ut||0,Rt=B.progress,Nn,Kt,Lt,ut,Pr,Wt,hr,as;if(Ne&&(Ze=ze,ze=P?ce():Be,I&&(ur=Cr,Cr=s&&!V?s.totalProgress():ot)),S&&w&&!Yr&&!Wg&&Di&&(!ot&&Oe<Be+(Be-Ze)/(Xr()-Df)*S?ot=1e-4:ot===1&&ft>Be+(Be-Ze)/(Xr()-Df)*S&&(ot=.9999)),ot!==Rt&&B.enabled){if(Nn=B.isActive=!!ot&&ot<1,Kt=!!Rt&&Rt<1,Wt=Nn!==Kt,Pr=Wt||!!ot!=!!Rt,B.direction=ot>Rt?1:-1,B.progress=ot,Pr&&!Yr&&(Lt=ot&&!Rt?0:ot===1?1:Rt===1?2:3,V&&(ut=!Wt&&J[Lt+1]!=="none"&&J[Lt+1]||J[Lt],as=s&&(ut==="complete"||ut==="reset"||ut in s))),D&&(Wt||as)&&(as||m||!s)&&(es(D)?D(B):B.getTrailing(D).forEach(function(ls){return ls.endAnimation()})),V||(Qe&&!Yr&&!Wg?(Qe._dp._time-Qe._start!==Qe._time&&Qe.render(Qe._dp._time-Qe._start),Qe.resetTo?Qe.resetTo("totalProgress",ot,s._tTime/s._tDur):(Qe.vars.totalProgress=ot,Qe.invalidate().restart())):s&&s.totalProgress(ot,!!(Yr&&(Z||ye)))),w){if(ye&&T&&(zt.style[T+O.os2]=$r),!se)Pn(Of(er+kn*ot));else if(Pr){if(hr=!ye&&ot>Rt&&ft+1>Be&&Be+1>=Mo(F,O),L)if(!ye&&(Nn||hr)){var sn=va(w,!0),yn=Be-Oe;cN(w,Vt,sn.top+(O===ir?yn:0)+rr,sn.left+(O===ir?0:yn)+rr)}else cN(w,zt);Ld(Nn||hr?Cn:Ss),mn&&ot<1&&Nn||Pn(er+(ot===1&&!hr?kn:0))}}I&&!xe.tween&&!Yr&&!Wg&&pt.restart(!0),l&&(Wt||j&&ot&&(ot<1||!h_))&&zp(l.targets).forEach(function(ls){return ls.classList[Nn||j?"add":"remove"](l.className)}),o&&!V&&!ye&&o(B),Pr&&!Yr?(V&&(as&&(ut==="complete"?s.pause().totalProgress(1):ut==="reset"?s.restart(!0).pause():ut==="restart"?s.restart(!0):s[ut]()),o&&o(B)),(Wt||!h_)&&(d&&Wt&&p_(B,d),re[Lt]&&p_(B,re[Lt]),j&&(ot===1?B.kill(!1,1):re[Lt]=0),Wt||(Lt=ot===1?1:3,re[Lt]&&p_(B,re[Lt]))),A&&!Nn&&Math.abs(B.getVelocity())>(Mf(A)?A:2500)&&(Ef(B.callbackAnimation),Qe?Qe.progress(1):Ef(s,ut==="reverse"?1:!ot,1))):V&&o&&!Yr&&o(B)}if(os){var vn=P?Be/P.duration()*(P._caScrollDist||0):Be;Er(vn+(oe._isFlipped?1:0)),os(vn)}Ve&&Ve(-Be/P.duration()*(P._caScrollDist||0))}},B.enable=function(ye,Ne){B.enabled||(B.enabled=!0,vr(F,"resize",Lf),X||vr(F,"scroll",ld),W&&vr(n,"refreshInit",W),ye!==!1&&(B.progress=me=0,ze=Ze=ue=ce()),Ne!==!1&&B.refresh())},B.getTween=function(ye){return ye&&xe?xe.tween:Qe},B.setPositions=function(ye,Ne,ke,Be){if(P){var Ut=P.scrollTrigger,ot=P.duration(),Rt=Ut.end-Ut.start;ye=Ut.start+Rt*ye/ot,Ne=Ut.start+Rt*Ne/ot}B.refresh(!1,!1,{start:eN(ye,ke&&!!B._startClamp),end:eN(Ne,ke&&!!B._endClamp)},Be),B.update()},B.adjustPinSpacing=function(ye){if(Bt&&ye){var Ne=Bt.indexOf(O.d)+1;Bt[Ne]=parseFloat(Bt[Ne])+ye+rr,Bt[1]=parseFloat(Bt[1])+ye+rr,Ld(Bt)}},B.disable=function(ye,Ne){if(B.enabled&&(ye!==!1&&B.revert(!0,!0),B.enabled=B.isActive=!1,Ne||Qe&&Qe.pause(),Jt=0,Ee&&(Ee.uncache=1),W&&yr(n,"refreshInit",W),pt&&(pt.pause(),xe.tween&&xe.tween.kill()&&(xe.tween=0)),!X)){for(var ke=dt.length;ke--;)if(dt[ke].scroller===F&&dt[ke]!==B)return;yr(F,"resize",Lf),X||yr(F,"scroll",ld)}},B.kill=function(ye,Ne){B.disable(ye,Ne),Qe&&!Ne&&Qe.kill(),u&&delete m1[u];var ke=dt.indexOf(B);ke>=0&&dt.splice(ke,1),ke===ps&&Ey>0&&ps--,ke=0,dt.forEach(function(Be){return Be.scroller===B.scroller&&(ke=1)}),ke||ms||(B.scroll.rec=0),s&&(s.scrollTrigger=null,ye&&s.revert({kill:!1}),Ne||s.kill()),nn&&[nn,qt,oe,pn].forEach(function(Be){return Be.parentNode&&Be.parentNode.removeChild(Be)}),hp===B&&(hp=0),w&&(Ee&&(Ee.uncache=1),ke=0,dt.forEach(function(Be){return Be.pin===w&&ke++}),ke||(Ee.spacer=0)),r.onKill&&r.onKill(B)},dt.push(B),B.enable(!1,!1),st&&st(B),s&&s.add&&!ct){var Ke=B.update;B.update=function(){B.update=Ke,vt.cache++,Oe||ft||B.refresh()},Ie.delayedCall(.01,B.update),ct=.01,Oe=ft=0}else B.refresh();w&&ure()},n.register=function(r){return fd||(Ie=r||jF(),DF()&&window.document&&n.enable(),fd=jf),fd},n.defaults=function(r){if(r)for(var s in r)Gg[s]=r[s];return Gg},n.disable=function(r,s){jf=0,dt.forEach(function(o){return o[s?"kill":"disable"](r)}),yr(gt,"wheel",ld),yr(en,"scroll",ld),clearInterval(Bg),yr(en,"touchcancel",Po),yr(Vt,"touchstart",Po),Hg(yr,en,"pointerdown,touchstart,mousedown",tN),Hg(yr,en,"pointerup,touchend,mouseup",nN),Cv.kill(),qg(yr);for(var i=0;i<vt.length;i+=3)Kg(yr,vt[i],vt[i+1]),Kg(yr,vt[i],vt[i+2])},n.enable=function(){if(gt=window,en=document,si=en.documentElement,Vt=en.body,Ie&&(zp=Ie.utils.toArray,ap=Ie.utils.clamp,f1=Ie.core.context||Po,d_=Ie.core.suppressOverwrites||Po,nE=gt.history.scrollRestoration||"auto",g1=gt.pageYOffset||0,Ie.core.globals("ScrollTrigger",n),Vt)){jf=1,Md=document.createElement("div"),Md.style.height="100vh",Md.style.position="absolute",BF(),rre(),Fn.register(Ie),n.isTouch=Fn.isTouch,hl=Fn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),h1=Fn.isTouch===1,vr(gt,"wheel",ld),tE=[gt,en,si,Vt],Ie.matchMedia?(n.matchMedia=function(d){var h=Ie.matchMedia(),m;for(m in d)h.add(m,d[m]);return h},Ie.addEventListener("matchMediaInit",function(){return lE()}),Ie.addEventListener("matchMediaRevert",function(){return UF()}),Ie.addEventListener("matchMedia",function(){Vc(0,1),gu("matchMedia")}),Ie.matchMedia().add("(orientation: portrait)",function(){return m_(),m_})):console.warn("Requires GSAP 3.11.0 or later"),m_(),vr(en,"scroll",ld);var r=Vt.hasAttribute("style"),s=Vt.style,i=s.borderTopStyle,o=Ie.core.Animation.prototype,l,u;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),s.borderTopStyle="solid",l=va(Vt),ir.m=Math.round(l.top+ir.sc())||0,vs.m=Math.round(l.left+vs.sc())||0,i?s.borderTopStyle=i:s.removeProperty("border-top-style"),r||(Vt.setAttribute("style",""),Vt.removeAttribute("style")),Bg=setInterval(iN,250),Ie.delayedCall(.5,function(){return Wg=0}),vr(en,"touchcancel",Po),vr(Vt,"touchstart",Po),Hg(vr,en,"pointerdown,touchstart,mousedown",tN),Hg(vr,en,"pointerup,touchend,mouseup",nN),d1=Ie.utils.checkPrefix("transform"),Cy.push(d1),fd=Xr(),Cv=Ie.delayedCall(.2,Vc).pause(),pd=[en,"visibilitychange",function(){var d=gt.innerWidth,h=gt.innerHeight;en.hidden?(XI=d,JI=h):(XI!==d||JI!==h)&&Lf()},en,"DOMContentLoaded",Vc,gt,"load",Vc,gt,"resize",Lf],qg(vr),dt.forEach(function(d){return d.enable(0,1)}),u=0;u<vt.length;u+=3)Kg(yr,vt[u],vt[u+1]),Kg(yr,vt[u],vt[u+2])}},n.config=function(r){"limitCallbacks"in r&&(h_=!!r.limitCallbacks);var s=r.syncInterval;s&&clearInterval(Bg)||(Bg=s)&&setInterval(iN,s),"ignoreMobileResize"in r&&(h1=n.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(qg(yr)||qg(vr,r.autoRefreshEvents||"none"),AF=(r.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(r,s){var i=Ns(r),o=vt.indexOf(i),l=pu(i);~o&&vt.splice(o,l?6:2),s&&(l?qo.unshift(gt,s,Vt,s,si,s):qo.unshift(i,s))},n.clearMatchMedia=function(r){dt.forEach(function(s){return s._ctx&&s._ctx.query===r&&s._ctx.kill(!0,!0)})},n.isInViewport=function(r,s,i){var o=(ti(r)?Ns(r):r).getBoundingClientRect(),l=o[i?Yc:Qc]*s||0;return i?o.right-l>0&&o.left+l<gt.innerWidth:o.bottom-l>0&&o.top+l<gt.innerHeight},n.positionInViewport=function(r,s,i){ti(r)&&(r=Ns(r));var o=r.getBoundingClientRect(),l=o[i?Yc:Qc],u=s==null?l/2:s in Rv?Rv[s]*l:~s.indexOf("%")?parseFloat(s)*l/100:parseFloat(s)||0;return i?(o.left+u)/gt.innerWidth:(o.top+u)/gt.innerHeight},n.killAll=function(r){if(dt.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),r!==!0){var s=mu.killAll||[];mu={},s.forEach(function(i){return i()})}},n})();wt.version="3.13.0";wt.saveStyles=function(n){return n?zp(n).forEach(function(e){if(e&&e.style){var t=ei.indexOf(e);t>=0&&ei.splice(t,5),ei.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ie.core.getCache(e),f1())}}):ei};wt.revert=function(n,e){return lE(!n,e)};wt.create=function(n,e){return new wt(n,e)};wt.refresh=function(n){return n?Lf(!0):(fd||wt.register())&&Vc(!0)};wt.update=function(n){return++vt.cache&&Sa(n===!0?2:0)};wt.clearScrollMemory=$F;wt.maxScroll=function(n,e){return Mo(n,e?vs:ir)};wt.getScrollFunc=function(n,e){return Ql(Ns(n),e?vs:ir)};wt.getById=function(n){return m1[n]};wt.getAll=function(){return dt.filter(function(n){return n.vars.id!=="ScrollSmoother"})};wt.isScrolling=function(){return!!Di};wt.snapDirectional=aE;wt.addEventListener=function(n,e){var t=mu[n]||(mu[n]=[]);~t.indexOf(e)||t.push(e)};wt.removeEventListener=function(n,e){var t=mu[n],r=t&&t.indexOf(e);r>=0&&t.splice(r,1)};wt.batch=function(n,e){var t=[],r={},s=e.interval||.016,i=e.batchMax||1e9,o=function(d,h){var m=[],v=[],w=Ie.delayedCall(s,function(){h(m,v),m=[],v=[]}).pause();return function(T){m.length||w.restart(!0),m.push(T.trigger),v.push(T),i<=m.length&&w.progress(1)}},l;for(l in e)r[l]=l.substr(0,2)==="on"&&es(e[l])&&l!=="onRefreshInit"?o(l,e[l]):e[l];return es(i)&&(i=i(),vr(wt,"refresh",function(){return i=e.batchMax()})),zp(n).forEach(function(u){var d={};for(l in r)d[l]=r[l];d.trigger=u,t.push(wt.create(d))}),t};var dN=function(e,t,r,s){return t>s?e(s):t<0&&e(0),r>s?(s-t)/(r-t):r<0?t/(t-r):1},y_=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Fn.isTouch?" pinch-zoom":""):"none",e===si&&n(Vt,t)},Jg={auto:1,scroll:1},mre=function(e){var t=e.event,r=e.target,s=e.axis,i=(t.changedTouches?t.changedTouches[0]:t).target,o=i._gsap||Ie.core.getCache(i),l=Xr(),u;if(!o._isScrollT||l-o._isScrollT>2e3){for(;i&&i!==Vt&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(Jg[(u=Ti(i)).overflowY]||Jg[u.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==r&&!pu(i)&&(Jg[(u=Ti(i)).overflowY]||Jg[u.overflowX]),o._isScrollT=l}(o._isScroll||s==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},qF=function(e,t,r,s){return Fn.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:s=s&&mre,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return r&&vr(en,Fn.eventTypes[0],fN,!1,!0)},onDisable:function(){return yr(en,Fn.eventTypes[0],fN,!0)}})},gre=/(input|label|select|textarea)/i,hN,fN=function(e){var t=gre.test(e.target.tagName);(t||hN)&&(e._gsapAllow=!0,hN=t)},yre=function(e){Nc(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,r=t.normalizeScrollX,s=t.momentum,i=t.allowNestedScroll,o=t.onRelease,l,u,d=Ns(e.target)||si,h=Ie.core.globals().ScrollSmoother,m=h&&h.get(),v=hl&&(e.content&&Ns(e.content)||m&&e.content!==!1&&!m.smooth()&&m.content()),w=Ql(d,ir),T=Ql(d,vs),x=1,S=(Fn.isTouch&&gt.visualViewport?gt.visualViewport.scale*gt.visualViewport.width:gt.outerWidth)/gt.innerWidth,R=0,k=es(s)?function(){return s(l)}:function(){return s||2.8},j,I,L=qF(d,e.type,!0,i),z=function(){return I=!1},P=Po,A=Po,D=function(){u=Mo(d,ir),A=ap(hl?1:0,u),r&&(P=ap(0,Mo(d,vs))),j=Xc},O=function(){v._gsap.y=Of(parseFloat(v._gsap.y)+w.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",w.offset=w.cacheID=0},V=function(){if(I){requestAnimationFrame(z);var q=Of(l.deltaY/2),G=A(w.v-q);if(v&&G!==w.v+w.offset){w.offset=G-w.v;var B=Of((parseFloat(v&&v._gsap.y)||0)-w.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+B+", 0, 1)",v._gsap.y=B+"px",w.cacheID=vt.cache,Sa()}return!0}w.offset&&O(),I=!0},F,U,X,se,re=function(){D(),F.isActive()&&F.vars.scrollY>u&&(w()>u?F.progress(1)&&w(u):F.resetTo("scrollY",u))};return v&&Ie.set(v,{y:"+=0"}),e.ignoreCheck=function(J){return hl&&J.type==="touchmove"&&V()||x>1.05&&J.type!=="touchstart"||l.isGesturing||J.touches&&J.touches.length>1},e.onPress=function(){I=!1;var J=x;x=Of((gt.visualViewport&&gt.visualViewport.scale||1)/S),F.pause(),J!==x&&y_(d,x>1.01?!0:r?!1:"x"),U=T(),X=w(),D(),j=Xc},e.onRelease=e.onGestureStart=function(J,q){if(w.offset&&O(),!q)se.restart(!0);else{vt.cache++;var G=k(),B,W;r&&(B=T(),W=B+G*.05*-J.velocityX/.227,G*=dN(T,B,W,Mo(d,vs)),F.vars.scrollX=P(W)),B=w(),W=B+G*.05*-J.velocityY/.227,G*=dN(w,B,W,Mo(d,ir)),F.vars.scrollY=A(W),F.invalidate().duration(G).play(.01),(hl&&F.vars.scrollY>=u||B>=u-1)&&Ie.to({},{onUpdate:re,duration:G})}o&&o(J)},e.onWheel=function(){F._ts&&F.pause(),Xr()-R>1e3&&(j=0,R=Xr())},e.onChange=function(J,q,G,B,W){if(Xc!==j&&D(),q&&r&&T(P(B[2]===q?U+(J.startX-J.x):T()+q-B[1])),G){w.offset&&O();var Q=W[2]===G,ie=Q?X+J.startY-J.y:w()+G-W[1],ue=A(ie);Q&&ie!==ue&&(X+=ue-ie),w(ue)}(G||q)&&Sa()},e.onEnable=function(){y_(d,r?!1:"x"),wt.addEventListener("refresh",re),vr(gt,"resize",re),w.smooth&&(w.target.style.scrollBehavior="auto",w.smooth=T.smooth=!1),L.enable()},e.onDisable=function(){y_(d,!0),yr(gt,"resize",re),wt.removeEventListener("refresh",re),L.kill()},e.lockAxis=e.lockAxis!==!1,l=new Fn(e),l.iOS=hl,hl&&!w()&&w(1),hl&&Ie.ticker.add(Po),se=l._dc,F=Ie.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:WF(w,w(),function(){return F.pause()})},onUpdate:Sa,onComplete:se.vars.onComplete}),l};wt.sort=function(n){if(es(n))return dt.sort(n);var e=gt.pageYOffset||0;return wt.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+gt.innerHeight}),dt.sort(n||function(t,r){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};wt.observe=function(n){return new Fn(n)};wt.normalizeScroll=function(n){if(typeof n>"u")return fs;if(n===!0&&fs)return fs.enable();if(n===!1){fs&&fs.kill(),fs=n;return}var e=n instanceof Fn?n:yre(n);return fs&&fs.target===e.target&&fs.kill(),pu(e.target)&&(fs=e),e};wt.core={_getVelocityProp:u1,_inputObserver:qF,_scrollers:vt,_proxies:qo,bridge:{ss:function(){Di||gu("scrollStart"),Di=Xr()},ref:function(){return Yr}}};jF()&&Ie.registerPlugin(wt);rp.registerPlugin(wt);let hh=null;const HF=()=>{hh&&hh.stop()},Av=()=>{hh&&hh.start()},vre=()=>{b.useEffect(()=>{const n=new Vte({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),orientation:"vertical",smoothWheel:!0});return hh=n,n.on("scroll",wt.update),rp.ticker.add(e=>{n.raf(e*1e3)}),rp.ticker.lagSmoothing(0),()=>{n.destroy(),hh=null,rp.ticker.remove(()=>{})}},[])},wre=({children:n})=>{vre();const[e,t]=b.useState(!1);return b.useEffect(()=>{const r=()=>{t(!0)};return window.addEventListener("openFriendsSidebar",r),()=>{window.removeEventListener("openFriendsSidebar",r)}},[]),p.jsxs("div",{className:"flex min-h-screen bg-background",children:[p.jsx(ree,{}),p.jsx(iee,{}),p.jsx("main",{className:"flex-1 lg:ml-64 p-4 pb-24 pt-8 lg:p-8 w-full overflow-x-hidden",children:n}),p.jsx(jte,{isOpen:e,onClose:()=>t(!1)})]})},To=({children:n})=>p.jsx(VG,{children:p.jsx(wre,{children:n})});function xre(){const{pathname:n}=Jl();return b.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function _re(){const[n,e]=b.useState(null),[t,r]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState(!1);b.useEffect(()=>{const h=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");if(l(h),h)return;const m=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;i(m),m&&!h&&(localStorage.getItem("installPromptSeen")||r(!0));const v=w=>{w.preventDefault(),e(w),r(!0)};return window.addEventListener("beforeinstallprompt",v),()=>{window.removeEventListener("beforeinstallprompt",v)}},[]);const u=async()=>{if(!n)return;n.prompt();const{outcome:h}=await n.userChoice;h==="accepted"&&(e(null),r(!1))},d=()=>{r(!1),localStorage.setItem("installPromptSeen","true")};return!t||o?null:p.jsx(lv,{children:p.jsx(fn.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-8 md:w-96",children:p.jsxs("div",{className:"bg-popover border border-border rounded-xl shadow-lg p-4 flex flex-col gap-3",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsx("div",{className:"flex gap-3",children:p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-foreground",children:"Zainstaluj Archiwum"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Dodaj do ekranu gwnego dla lepszego dowiadczenia.":"Zainstaluj aplikacj, aby korzysta offline i szybciej."})]})}),p.jsx("button",{onClick:d,className:"text-muted-foreground hover:text-foreground",children:p.jsx(zc,{className:"w-5 h-5"})})]}),s?p.jsxs("div",{className:"text-sm bg-muted/50 p-3 rounded-lg space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:["1. Kliknij ",p.jsx(tU,{className:"w-4 h-4"})," (Udostpnij)"]}),p.jsxs("div",{className:"flex items-center gap-2",children:["2. Wybierz ",p.jsx(rU,{className:"w-4 h-4"}),' "Do ekranu pocztkowego"']})]}):p.jsx(we,{onClick:u,className:"w-full",children:"Zainstaluj"})]})})})}const bre="modulepreload",Sre=function(n){return"/Archiwum/"+n},pN={},Tre=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let d=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=d;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(t.map(h=>{if(h=Sre(h),h in pN)return;pN[h]=!0;const m=h.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":bre,m||(w.as="script"),w.crossOrigin="",w.href=h,u&&w.setAttribute("nonce",u),document.head.appendChild(w),m)return new Promise((T,x)=>{w.addEventListener("load",T),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Aw=({text:n,className:e="",delay:t=0})=>{const r=n.split(""),s={hidden:{opacity:0},visible:(o=1)=>({opacity:1,transition:{staggerChildren:.03,delayChildren:t}})},i={visible:{opacity:1,y:0,transition:{type:"spring",damping:12,stiffness:200}},hidden:{opacity:0,y:20}};return p.jsx(fn.h1,{className:e,variants:s,initial:"hidden",animate:"visible",children:r.map((o,l)=>p.jsx(fn.span,{variants:i,children:o===" "?"":o},l))})};var Ere="Label",KF=b.forwardRef((n,e)=>p.jsx(Ye.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));KF.displayName=Ere;var GF=KF;const Cre=Lv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vr=b.forwardRef(({className:n,...e},t)=>p.jsx(GF,{ref:t,className:it(Cre(),n),...e}));Vr.displayName=GF.displayName;class Pre{async createCollection(e,t,r){const s=Xn(Ue,"users",e,"collections");return(await WR(s,{name:t,description:r||"",createdAt:ht.now(),updatedAt:ht.now(),itemCount:0})).id}async getUserCollections(e){const t=Xn(Ue,"users",e,"collections");return(await Yn(t)).docs.map(s=>({id:s.id,name:s.data().name,description:s.data().description,createdAt:s.data().createdAt.toDate(),updatedAt:s.data().updatedAt.toDate(),itemCount:s.data().itemCount||0}))}async addItemToCollection(e,t,r){const s=Xn(Ue,"users",e,"collections",t,"items"),i=Ci(s,Kn("tmdbId","==",r.tmdbId),Kn("type","==",r.type));if(!(await Yn(i)).empty)throw new Error("Item already in collection");await WR(s,{...r,addedAt:ht.now()});const l=yt(Ue,"users",e,"collections",t),d=(await js(l)).data()?.itemCount||0;await Kf(l,{itemCount:d+1,updatedAt:ht.now()})}async removeItemFromCollection(e,t,r){const s=yt(Ue,"users",e,"collections",t,"items",r);await Qi(s);const i=yt(Ue,"users",e,"collections",t),l=(await js(i)).data()?.itemCount||0;await Kf(i,{itemCount:Math.max(0,l-1),updatedAt:ht.now()})}async getCollectionItems(e,t){const r=Xn(Ue,"users",e,"collections",t,"items");return(await Yn(r)).docs.map(i=>({id:i.id,tmdbId:i.data().tmdbId,type:i.data().type,title:i.data().title,posterPath:i.data().posterPath,addedAt:i.data().addedAt.toDate()}))}async isItemInCollection(e,t,r,s){const i=Xn(Ue,"users",e,"collections",t,"items"),o=Ci(i,Kn("tmdbId","==",r),Kn("type","==",s));return!(await Yn(o)).empty}async deleteCollection(e,t){const r=Xn(Ue,"users",e,"collections",t,"items"),i=(await Yn(r)).docs.map(l=>Qi(l.ref));await Promise.all(i);const o=yt(Ue,"users",e,"collections",t);await Qi(o)}async updateCollection(e,t,r){const s=yt(Ue,"users",e,"collections",t);await Kf(s,{...r,updatedAt:ht.now()})}}const Fa=new Pre,kre=Object.freeze(Object.defineProperty({__proto__:null,collectionsService:Fa},Symbol.toStringTag,{value:"Module"})),mm=()=>{const{user:n}=Ot();return Ln({queryKey:["collections",n?.uid],queryFn:()=>Fa.getUserCollections(n.uid),enabled:!!n,staleTime:300*1e3})},Rre=n=>{const{user:e}=Ot();return Ln({queryKey:["collection-items",e?.uid,n],queryFn:()=>Fa.getCollectionItems(e.uid,n),enabled:!!e&&!!n,staleTime:300*1e3})},YF=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:({name:t,description:r})=>Fa.createCollection(n.uid,t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["collections",n?.uid]})}})},Are=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:({collectionId:t,item:r})=>Fa.addItemToCollection(n.uid,t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["collections",n?.uid]}),e.invalidateQueries({queryKey:["collection-items",n?.uid,r.collectionId]})}})},Ire=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:({collectionId:t,itemId:r})=>Fa.removeItemFromCollection(n.uid,t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["collections",n?.uid]}),e.invalidateQueries({queryKey:["collection-items",n?.uid,r.collectionId]})}})},Nre=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:t=>Fa.deleteCollection(n.uid,t),onSuccess:()=>{e.invalidateQueries({queryKey:["collections",n?.uid]})}})},Dre=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:({collectionId:t,updates:r})=>Fa.updateCollection(n.uid,t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["collections",n?.uid]})}})},jre=(n,e)=>{const{user:t}=Ot(),{data:r}=mm();return Ln({queryKey:["item-in-collections",t?.uid,n,e],queryFn:async()=>!r||!t?[]:(await Promise.all(r.map(async i=>{const o=await Fa.isItemInCollection(t.uid,i.id,n,e);return{collectionId:i.id,isInCollection:o}}))).filter(i=>i.isInCollection).map(i=>i.collectionId),enabled:!!t&&!!r&&r.length>0,staleTime:30*1e3})},cE=({tmdbId:n,type:e,title:t,posterPath:r})=>{const{user:s}=Ot(),[i,o]=b.useState(!1),[l,u]=b.useState(""),[d,h]=b.useState(!1),{data:m,isLoading:v}=mm(),{data:w}=jre(n,e),T=YF(),x=Are(),S=async()=>{if(l.trim())try{const k=await T.mutateAsync({name:l.trim()});await x.mutateAsync({collectionId:k,item:{tmdbId:n,type:e,title:t,posterPath:r}}),u(""),h(!1),o(!1)}catch(k){console.error("Error creating collection:",k)}},R=async k=>{try{await x.mutateAsync({collectionId:k,item:{tmdbId:n,type:e,title:t,posterPath:r}})}catch(j){j.message==="Item already in collection"||console.error("Error adding to collection:",j)}};return s?p.jsxs(Yo,{open:i,onOpenChange:o,children:[p.jsx(fm,{asChild:!0,children:p.jsx(we,{variant:"outline",size:"icon",children:p.jsx(Wd,{className:"w-4 h-4"})})}),p.jsxs(ro,{children:[p.jsxs(Na,{children:[p.jsx(Da,{children:"Dodaj do kolekcji"}),p.jsx(hu,{children:"Wybierz kolekcj lub utwrz now"})]}),p.jsx("div",{className:"space-y-4",children:v?p.jsx("div",{className:"text-center py-4",children:"adowanie..."}):p.jsxs(p.Fragment,{children:[m&&m.length>0&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(Vr,{children:"Twoje kolekcje"}),p.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.map(k=>{const j=w?.includes(k.id);return p.jsx("button",{onClick:()=>!j&&R(k.id),className:`w-full text-left p-3 rounded-lg border transition-colors ${j?"bg-green-500/10 border-green-500/30":"hover:bg-accent"} ${x.isPending?"opacity-50 cursor-not-allowed":""}`,disabled:x.isPending,children:p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"font-medium flex items-center gap-2",children:[k.name,j&&p.jsx(E_,{className:"w-5 h-5 text-green-500 shrink-0"})]}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[k.itemCount," ",k.itemCount===1?"element":"elementw"]})]})})},k.id)})})]}),d?p.jsxs("div",{className:"space-y-3",children:[p.jsx(Vr,{htmlFor:"collection-name",children:"Nazwa nowej kolekcji"}),p.jsx(xs,{id:"collection-name",value:l,onChange:k=>u(k.target.value),placeholder:"Moja kolekcja",onKeyDown:k=>k.key==="Enter"&&S()}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(we,{onClick:S,disabled:!l.trim()||T.isPending,className:"flex-1",children:[p.jsx(Vv,{className:"w-4 h-4 mr-2"}),"Utwrz i dodaj"]}),p.jsx(we,{variant:"outline",onClick:()=>{h(!1),u("")},children:"Anuluj"})]})]}):p.jsxs(we,{variant:"outline",onClick:()=>h(!0),className:"w-full",children:[p.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Utwrz now kolekcj"]})]})})]})]}):null},Fc=({id:n,title:e,posterUrl:t,year:r,rating:s,layoutId:i,tmdbId:o,type:l,posterPath:u})=>{const[d,h]=b.useState(0),[m,v]=b.useState(0),w=x=>{const S=x.currentTarget.getBoundingClientRect(),R=S.left+S.width/2,k=S.top+S.height/2,j=(x.clientX-R)/(S.width/2),I=(x.clientY-k)/(S.height/2);v(j*10),h(-I*10)},T=()=>{h(0),v(0)};return p.jsx(fn.div,{layoutId:i,className:"group relative aspect-[2/3] overflow-hidden rounded-lg bg-background-secondary cursor-pointer",style:{transformStyle:"preserve-3d",perspective:"1000px"},onMouseMove:w,onMouseLeave:T,whileHover:{scale:1.05},transition:{type:"spring",stiffness:300,damping:20},children:p.jsxs(fn.div,{style:{rotateX:d,rotateY:m},transition:{type:"spring",stiffness:400,damping:30},className:"w-full h-full",children:[p.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover",loading:"lazy"}),o&&l&&p.jsx("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",onClick:x=>x.stopPropagation(),children:p.jsx(cE,{tmdbId:o,type:l,title:e,posterPath:u||null})}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:p.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[p.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:e}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-foreground-secondary",children:[r&&p.jsx("span",{children:r}),s&&s>0&&p.jsxs(p.Fragment,{children:[p.jsx("span",{children:""}),p.jsxs("span",{className:"flex items-center gap-1",children:[" ",s.toFixed(1)]})]})]})]})})]})})};class Ore{requests=[];maxRequests;timeWindow;constructor(e=100,t=6e4){this.maxRequests=e,this.timeWindow=t}canMakeRequest(){const e=Date.now();return this.requests=this.requests.filter(t=>e-t<this.timeWindow),this.requests.length>=this.maxRequests?(console.warn("Rate limit reached. Please wait before making more requests."),!1):!0}recordRequest(){this.requests.push(Date.now())}getRemainingRequests(){const e=Date.now();return this.requests=this.requests.filter(t=>e-t<this.timeWindow),Math.max(0,this.maxRequests-this.requests.length)}getTimeUntilReset(){if(this.requests.length===0)return 0;const t=Math.min(...this.requests)+this.timeWindow;return Math.max(0,t-Date.now())}}const v_=new Ore(35,1e4),Mre="7fe5eb1c5b351c67a82c01791cb9f8a1",Lre="https://api.themoviedb.org/3",Vre="https://image.tmdb.org/t/p/w500";class Fre{apiKey;baseUrl;imageBaseUrl;constructor(){this.apiKey=Mre,this.baseUrl=Lre,this.imageBaseUrl=Vre}async fetch(e,t={}){if(!v_.canMakeRequest()){const o=Math.ceil(v_.getTimeUntilReset()/1e3);throw new Error(`Rate limit exceeded. Please wait ${o} seconds.`)}const r=new URL(`${this.baseUrl}${e}`);r.searchParams.append("api_key",this.apiKey),r.searchParams.append("language","pl-PL"),Object.entries(t).forEach(([o,l])=>{r.searchParams.append(o,l)}),v_.recordRequest();const s=await fetch(r.toString());if(!s.ok)throw new Error(`TMDB API error: ${s.statusText}`);return await s.json()}getImageUrl(e,t="w500"){return e?`https://image.tmdb.org/t/p/${t}${e}`:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=400&h=600&fit=crop"}async searchMovies(e,t=1){return this.fetch("/search/movie",{query:e,page:t.toString()})}async searchTVShows(e,t=1){return this.fetch("/search/tv",{query:e,page:t.toString()})}async searchMulti(e,t=1){return this.fetch("/search/multi",{query:e,page:t.toString()})}async getMovieDetails(e){return this.fetch(`/movie/${e}`)}async getTVShowDetails(e){return this.fetch(`/tv/${e}`)}async getSeasonDetails(e,t){return this.fetch(`/tv/${e}/season/${t}`)}async getPopularMovies(e=1){const t=`tmdb_popular_movies_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch("/movie/popular",{page:e.toString()});return this.saveToCache(t,s,3600*1e3),s}async getPopularTVShows(e=1){const t=`tmdb_popular_tv_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch("/tv/popular",{page:e.toString()});return this.saveToCache(t,s,3600*1e3),s}async getTrendingMovies(e="week"){const t=`tmdb_trending_movies_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch(`/trending/movie/${e}`);return this.saveToCache(t,s,3600*1e3),s}async getTrendingTVShows(e="week"){const t=`tmdb_trending_tv_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch(`/trending/tv/${e}`);return this.saveToCache(t,s,3600*1e3),s}async discoverMovies(e){const t={page:(e.page||1).toString()};return e.with_genres&&(t.with_genres=e.with_genres),e.sort_by&&(t.sort_by=e.sort_by),e.year&&(t.primary_release_year=e.year.toString()),this.fetch("/discover/movie",t)}async discoverTVShows(e){const t={page:(e.page||1).toString()};return e.with_genres&&(t.with_genres=e.with_genres),e.sort_by&&(t.sort_by=e.sort_by),this.fetch("/discover/tv",t)}async getMovieGenres(){return this.fetch("/genre/movie/list")}async getTVGenres(){return this.fetch("/genre/tv/list")}getFromCache(e){try{const t=localStorage.getItem(e);if(!t)return null;const{data:r,timestamp:s}=JSON.parse(t);return Date.now()-s<3600*1e3?r:(localStorage.removeItem(e),null)}catch{return null}}saveToCache(e,t,r){try{localStorage.setItem(e,JSON.stringify({data:t,timestamp:Date.now()}))}catch(s){console.error("Error saving to cache:",s)}}}const cn=new Fre,zre=n=>wu({queryKey:["tmdb","search","movies",n],queryFn:({pageParam:e=1})=>cn.searchMovies(n,e),getNextPageParam:e=>e.page<e.total_pages?e.page+1:void 0,initialPageParam:1,enabled:n.length>0,staleTime:300*1e3}),Ure=n=>wu({queryKey:["tmdb","search","tv",n],queryFn:({pageParam:e=1})=>cn.searchTVShows(n,e),getNextPageParam:e=>e.page<e.total_pages?e.page+1:void 0,initialPageParam:1,enabled:n.length>0,staleTime:300*1e3}),$re=n=>wu({queryKey:["tmdb","search","multi",n],queryFn:({pageParam:e=1})=>cn.searchMulti(n,e),getNextPageParam:e=>e.page<e.total_pages?e.page+1:void 0,initialPageParam:1,enabled:n.length>0,staleTime:300*1e3}),QF=()=>wu({queryKey:["tmdb","popular","movies"],queryFn:({pageParam:n=1})=>cn.getPopularMovies(n),getNextPageParam:n=>n.page<Math.min(n.total_pages,5)?n.page+1:void 0,initialPageParam:1,staleTime:3600*1e3,gcTime:7200*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1}),XF=()=>wu({queryKey:["tmdb","popular","tv"],queryFn:({pageParam:n=1})=>cn.getPopularTVShows(n),getNextPageParam:n=>n.page<Math.min(n.total_pages,5)?n.page+1:void 0,initialPageParam:1,staleTime:3600*1e3,gcTime:7200*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1}),Bre=n=>Ln({queryKey:["tmdb","movie",n],queryFn:()=>cn.getMovieDetails(n),enabled:!!n,staleTime:600*1e3}),Wre=n=>Ln({queryKey:["tmdb","tv",n],queryFn:()=>cn.getTVShowDetails(n),enabled:!!n,staleTime:600*1e3}),qre=(n,e)=>Ln({queryKey:["tmdb","season",n,e],queryFn:()=>cn.getSeasonDetails(n,e),enabled:!!n&&!!e,staleTime:600*1e3}),Hre=n=>wu({queryKey:["tmdb","discover","movies",n],queryFn:({pageParam:e=1})=>cn.discoverMovies({...n,page:e}),getNextPageParam:e=>e.page<Math.min(e.total_pages,5)?e.page+1:void 0,initialPageParam:1,staleTime:3600*1e3}),Kre=n=>wu({queryKey:["tmdb","discover","tv",n],queryFn:({pageParam:e=1})=>cn.discoverTVShows({...n,page:e}),getNextPageParam:e=>e.page<Math.min(e.total_pages,5)?e.page+1:void 0,initialPageParam:1,staleTime:3600*1e3}),Gre=()=>Ln({queryKey:["tmdb","genres","movies"],queryFn:()=>cn.getMovieGenres(),staleTime:1440*60*1e3}),Yre=()=>Ln({queryKey:["tmdb","genres","tv"],queryFn:()=>cn.getTVGenres(),staleTime:1440*60*1e3}),Qre=()=>{const n=is(),{t:e}=bs(),[t,r]=b.useState(""),[s,i]=b.useState(""),{data:o}=QF(),{data:l}=XF(),{data:u,isLoading:d}=$re(s),{data:h}=mm(),m=o?.pages[0]?.results.slice(0,6)||[],v=l?.pages[0]?.results.slice(0,6)||[],[w,T]=b.useState([]),{user:x}=Ot();b.useEffect(()=>{(async()=>{if(!h||h.length===0||!x){T([]);return}try{const{collectionsService:L}=await Tre(async()=>{const{collectionsService:O}=await Promise.resolve().then(()=>kre);return{collectionsService:O}},void 0),z=h.map(async O=>(await L.getCollectionItems(x.uid,O.id)).map(F=>({...F,collectionName:O.name}))),D=[...(await Promise.all(z)).flat()].sort(()=>Math.random()-.5);T(D.slice(0,6))}catch(L){console.error("Error fetching collection items:",L),T([])}})()},[h,x]);const S=u?.pages[0]?.results||[],R=s.trim().length>0;b.useEffect(()=>{const I=setTimeout(()=>{i(t)},500);return()=>clearTimeout(I)},[t]);const k=I=>{I.preventDefault()},j=()=>{r(""),i("")};return p.jsxs("div",{className:"space-y-12",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx(Aw,{text:e("nav.dashboard"),className:"text-5xl lg:text-6xl font-bold"}),p.jsx("p",{className:"text-xl text-foreground-secondary max-w-2xl mx-auto",children:e("dashboard.recommendations")}),p.jsx("form",{onSubmit:k,className:"max-w-2xl mx-auto mt-6",children:p.jsxs("div",{className:"relative",children:[p.jsx(Ml,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),p.jsx(xs,{type:"text",placeholder:"Szukaj filmw i seriali...",value:t,onChange:I=>r(I.target.value),className:"pl-12 pr-12 py-6 text-lg bg-background-secondary border-border"}),t&&p.jsx("button",{type:"button",onClick:j,className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:p.jsx(zc,{className:"w-5 h-5"})})]})})]}),p.jsx(lv,{children:R&&p.jsxs(fn.section,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ml,{className:"w-6 h-6 text-primary"}),p.jsxs("h2",{className:"text-3xl font-bold",children:['Wyniki wyszukiwania dla "',s,'"']})]})}),d&&p.jsx("div",{className:"flex items-center justify-center py-16",children:p.jsx(Sl,{className:"w-8 h-8 animate-spin text-primary"})}),!d&&S.length===0&&p.jsx("div",{className:"text-center py-16 bg-background-secondary rounded-xl",children:p.jsxs("p",{className:"text-foreground-secondary text-lg",children:['Nie znaleziono wynikw dla "',s,'"']})}),!d&&S.length>0&&p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:S.map(I=>{const L=I.media_type==="movie",z=L?I.title:I.name,P=L?I.release_date?new Date(I.release_date).getFullYear():void 0:I.first_air_date?new Date(I.first_air_date).getFullYear():void 0;return p.jsx("div",{onClick:()=>n(L?`/movie/${I.id}`:`/series/${I.id}`),children:p.jsx(Fc,{id:I.id.toString(),title:z||"Unknown",posterUrl:cn.getImageUrl(I.poster_path),year:P,rating:I.vote_average,tmdbId:I.id,type:L?"movie":"tv",posterPath:I.poster_path})},I.id)})})]})}),w.length>0&&p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(nU,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:"Z Twoich Kolekcji"})]}),p.jsx(we,{variant:"ghost",onClick:()=>n("/collections"),className:"text-primary hover:text-primary-hover",children:"Zobacz wszystkie "})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:w.map(I=>{const L=I.type==="movie";return p.jsx("div",{onClick:()=>n(L?`/movie/${I.tmdbId}`:`/series/${I.tmdbId}`),children:p.jsx(Fc,{id:I.tmdbId.toString(),title:I.title,posterUrl:cn.getImageUrl(I.posterPath),tmdbId:I.tmdbId,type:I.type,posterPath:I.posterPath})},`${I.tmdbId}-${I.type}-${I.id}`)})})]}),p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Bd,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:e("movies.popular")})]}),p.jsxs(we,{variant:"ghost",onClick:()=>n("/movies"),className:"text-primary hover:text-primary-hover",children:[e("dashboard.viewAll")," "]})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:m.map(I=>p.jsx("div",{onClick:()=>n(`/movie/${I.id}`),children:p.jsx(Fc,{id:I.id.toString(),title:I.title||"Unknown",posterUrl:cn.getImageUrl(I.poster_path),year:I.release_date?new Date(I.release_date).getFullYear():void 0,rating:I.vote_average,tmdbId:I.id,type:"movie",posterPath:I.poster_path})},I.id))})]}),p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Iy,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:e("series.popular")})]}),p.jsxs(we,{variant:"ghost",onClick:()=>n("/series"),className:"text-primary hover:text-primary-hover",children:[e("dashboard.viewAll")," "]})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:v.map(I=>p.jsx("div",{onClick:()=>n(`/series/${I.id}`),children:p.jsx(Fc,{id:I.id.toString(),title:I.name||"Unknown",posterUrl:cn.getImageUrl(I.poster_path),year:I.first_air_date?new Date(I.first_air_date).getFullYear():void 0,rating:I.vote_average,tmdbId:I.id,type:"tv",posterPath:I.poster_path})},I.id))})]}),p.jsxs("section",{className:"bg-background-secondary rounded-xl p-8 text-center space-y-4",children:[p.jsx(qd,{className:"w-12 h-12 text-primary mx-auto"}),p.jsx("h2",{className:"text-2xl font-bold",children:"Odkryj najlepiej oceniane produkcje"}),p.jsx("p",{className:"text-foreground-secondary max-w-xl mx-auto",children:"Przegldaj tysice filmw i seriali z caego wiata"}),p.jsxs("div",{className:"flex gap-4 justify-center pt-4",children:[p.jsxs(we,{onClick:()=>n("/movies"),size:"lg",children:[p.jsx(Bd,{className:"w-5 h-5 mr-2"}),"Filmy"]}),p.jsxs(we,{onClick:()=>n("/series"),variant:"outline",size:"lg",children:[p.jsx(Iy,{className:"w-5 h-5 mr-2"}),e("series.title")]})]})]})]})},Xre=()=>{const{t:n}=bs(),[e,t]=b.useState(""),[r,s]=b.useState(""),[i,o]=b.useState(!1),[l,u]=b.useState(""),[d,h]=b.useState(""),[m,v]=b.useState("popularity.desc"),w=b.useRef(null),T=is(),{data:x}=Gre(),S=l||d||m!=="popularity.desc",{data:R,isLoading:k,error:j,fetchNextPage:I,hasNextPage:L,isFetchingNextPage:z}=zre(r),{data:P,isLoading:A,error:D,fetchNextPage:O,hasNextPage:V,isFetchingNextPage:F}=Hre({with_genres:l,sort_by:m,year:d?parseInt(d):void 0}),{data:U,isLoading:X,error:se,fetchNextPage:re,hasNextPage:J,isFetchingNextPage:q}=QF(),G=r?R?.pages.flatMap(Z=>Z.results)||[]:S?P?.pages.flatMap(Z=>Z.results)||[]:U?.pages.flatMap(Z=>Z.results)||[],B=r?k:S?A:X,W=r?j:S?D:se,Q=r?I:S?O:re,ie=r?L:S?V:J,ue=r?z:S?F:q;return b.useEffect(()=>{const Z=setTimeout(()=>{s(e)},500);return()=>clearTimeout(Z)},[e]),b.useEffect(()=>{const Z=new IntersectionObserver(ce=>{ce[0].isIntersecting&&ie&&!ue&&Q()},{threshold:.1}),me=w.current;return me&&Z.observe(me),()=>{me&&Z.unobserve(me)}},[ie,ue,Q]),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Aw,{text:n("movies.title"),className:"text-3xl lg:text-5xl font-bold"}),p.jsx(we,{variant:"outline",size:"icon",onClick:()=>o(!i),className:"bg-background-secondary border-border hover:bg-secondary shrink-0",children:p.jsx(rD,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(Ml,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-secondary"}),p.jsx(xs,{type:"text",placeholder:n("movies.search"),value:e,onChange:Z=>t(Z.target.value),className:"pl-10 bg-background-secondary border-border w-full"})]}),p.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[p.jsx(we,{variant:l===""?"default":"outline",size:"sm",onClick:()=>u(""),className:"shrink-0",children:"Wszystkie"}),p.jsx(we,{variant:l==="28"?"default":"outline",size:"sm",onClick:()=>u("28"),className:"shrink-0",children:"Akcja"}),p.jsx(we,{variant:l==="12"?"default":"outline",size:"sm",onClick:()=>u("12"),className:"shrink-0",children:"Przygodowy"}),p.jsx(we,{variant:l==="16"?"default":"outline",size:"sm",onClick:()=>u("16"),className:"shrink-0",children:"Animacja"}),p.jsx(we,{variant:l==="35"?"default":"outline",size:"sm",onClick:()=>u("35"),className:"shrink-0",children:"Komedia"}),p.jsx(we,{variant:l==="80"?"default":"outline",size:"sm",onClick:()=>u("80"),className:"shrink-0",children:"Krymina"}),p.jsx(we,{variant:l==="18"?"default":"outline",size:"sm",onClick:()=>u("18"),className:"shrink-0",children:"Dramat"}),p.jsx(we,{variant:l==="14"?"default":"outline",size:"sm",onClick:()=>u("14"),className:"shrink-0",children:"Fantasy"}),p.jsx(we,{variant:l==="27"?"default":"outline",size:"sm",onClick:()=>u("27"),className:"shrink-0",children:"Horror"}),p.jsx(we,{variant:l==="10749"?"default":"outline",size:"sm",onClick:()=>u("10749"),className:"shrink-0",children:"Romans"}),p.jsx(we,{variant:l==="878"?"default":"outline",size:"sm",onClick:()=>u("878"),className:"shrink-0",children:"Sci-Fi"}),p.jsx(we,{variant:l==="53"?"default":"outline",size:"sm",onClick:()=>u("53"),className:"shrink-0",children:"Thriller"}),p.jsx(we,{variant:l==="10752"?"default":"outline",size:"sm",onClick:()=>u("10752"),className:"shrink-0",children:"Wojenny"})]})]}),i&&p.jsx(fn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-background-secondary rounded-lg p-4 border border-border",children:p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Gatunek"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:l,onChange:Z=>u(Z.target.value),children:[p.jsx("option",{value:"",children:"Wszystkie"}),x?.genres.map(Z=>p.jsx("option",{value:Z.id.toString(),children:Z.name},Z.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Rok"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:d,onChange:Z=>h(Z.target.value),children:[p.jsx("option",{value:"",children:"Wszystkie"}),Array.from({length:10},(Z,me)=>new Date().getFullYear()-me).map(Z=>p.jsx("option",{value:Z.toString(),children:Z},Z))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Sortowanie"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:m,onChange:Z=>v(Z.target.value),children:[p.jsx("option",{value:"popularity.desc",children:"Najpopularniejsze"}),p.jsx("option",{value:"vote_average.desc",children:"Najlepiej oceniane"}),p.jsx("option",{value:"release_date.desc",children:"Najnowsze"}),p.jsx("option",{value:"title.asc",children:"Alfabetycznie A-Z"})]})]})]})}),B&&p.jsx("div",{className:"flex items-center justify-center py-16",children:p.jsx(Sl,{className:"w-8 h-8 animate-spin text-primary"})}),W&&p.jsx("div",{className:"text-center py-16",children:p.jsx("p",{className:"text-foreground-secondary mb-4",children:"Bd podczas adowania filmw. Sprawd klucz API."})}),!B&&!W&&G.length>0&&p.jsx(fn.div,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},children:Array.from(new Map(G.map(Z=>[Z.id,Z])).values()).map((Z,me)=>p.jsx(fn.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},onClick:()=>T(`/movie/${Z.id}`),children:p.jsx(Fc,{id:Z.id.toString(),title:Z.title||"Unknown",posterUrl:cn.getImageUrl(Z.poster_path),year:Z.release_date?new Date(Z.release_date).getFullYear():void 0,rating:Z.vote_average,layoutId:`movie-${Z.id}`,tmdbId:Z.id,type:"movie",posterPath:Z.poster_path})},`${Z.id}-${me}`))}),!B&&!W&&G.length===0&&r&&p.jsx("div",{className:"text-center py-16",children:p.jsxs("p",{className:"text-foreground-secondary mb-4",children:['Nie znaleziono filmw dla "',r,'"']})}),ie&&!B&&p.jsx("div",{ref:w,className:"flex justify-center py-8",children:ue&&p.jsx(Sl,{className:"w-6 h-6 animate-spin text-primary"})}),!ie&&G.length>0&&!B&&p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-foreground-secondary text-sm",children:r?`To wszystkie wyniki dla "${r}"`:`Wywietlono ${G.length} filmw`})})]})},Jre=()=>{const{t:n}=bs(),[e,t]=b.useState(""),[r,s]=b.useState(""),[i,o]=b.useState(!1),[l,u]=b.useState(""),[d,h]=b.useState("popularity.desc"),m=b.useRef(null),v=is(),{data:w}=Yre(),T=l||d!=="popularity.desc",{data:x,isLoading:S,error:R,fetchNextPage:k,hasNextPage:j,isFetchingNextPage:I}=Ure(r),{data:L,isLoading:z,error:P,fetchNextPage:A,hasNextPage:D,isFetchingNextPage:O}=Kre({with_genres:l,sort_by:d}),{data:V,isLoading:F,error:U,fetchNextPage:X,hasNextPage:se,isFetchingNextPage:re}=XF(),J=r?x?.pages.flatMap(ie=>ie.results)||[]:T?L?.pages.flatMap(ie=>ie.results)||[]:V?.pages.flatMap(ie=>ie.results)||[],q=r?S:T?z:F,G=r?R:T?P:U,B=r?k:T?A:X,W=r?j:T?D:se,Q=r?I:T?O:re;return b.useEffect(()=>{const ie=setTimeout(()=>{s(e)},500);return()=>clearTimeout(ie)},[e]),b.useEffect(()=>{const ie=new IntersectionObserver(Z=>{Z[0].isIntersecting&&W&&!Q&&B()},{threshold:.1}),ue=m.current;return ue&&ie.observe(ue),()=>{ue&&ie.unobserve(ue)}},[W,Q,B]),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Aw,{text:n("series.title"),className:"text-3xl lg:text-5xl font-bold"}),p.jsx(we,{variant:"outline",size:"icon",onClick:()=>o(!i),className:"bg-background-secondary border-border hover:bg-secondary shrink-0",children:p.jsx(rD,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(Ml,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-secondary"}),p.jsx(xs,{type:"text",placeholder:n("series.search"),value:e,onChange:ie=>t(ie.target.value),className:"pl-10 bg-background-secondary border-border w-full"})]}),p.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[p.jsx(we,{variant:l===""?"default":"outline",size:"sm",onClick:()=>u(""),className:"shrink-0",children:"Wszystkie"}),p.jsx(we,{variant:l==="10759"?"default":"outline",size:"sm",onClick:()=>u("10759"),className:"shrink-0",children:"Akcja"}),p.jsx(we,{variant:l==="16"?"default":"outline",size:"sm",onClick:()=>u("16"),className:"shrink-0",children:"Animacja"}),p.jsx(we,{variant:l==="35"?"default":"outline",size:"sm",onClick:()=>u("35"),className:"shrink-0",children:"Komedia"}),p.jsx(we,{variant:l==="80"?"default":"outline",size:"sm",onClick:()=>u("80"),className:"shrink-0",children:"Krymina"}),p.jsx(we,{variant:l==="99"?"default":"outline",size:"sm",onClick:()=>u("99"),className:"shrink-0",children:"Dokumentalny"}),p.jsx(we,{variant:l==="18"?"default":"outline",size:"sm",onClick:()=>u("18"),className:"shrink-0",children:"Dramat"}),p.jsx(we,{variant:l==="10751"?"default":"outline",size:"sm",onClick:()=>u("10751"),className:"shrink-0",children:"Familijny"}),p.jsx(we,{variant:l==="9648"?"default":"outline",size:"sm",onClick:()=>u("9648"),className:"shrink-0",children:"Horror"}),p.jsx(we,{variant:l==="10765"?"default":"outline",size:"sm",onClick:()=>u("10765"),className:"shrink-0",children:"Sci-Fi"}),p.jsx(we,{variant:l==="10766"?"default":"outline",size:"sm",onClick:()=>u("10766"),className:"shrink-0",children:"Soap Opera"}),p.jsx(we,{variant:l==="10768"?"default":"outline",size:"sm",onClick:()=>u("10768"),className:"shrink-0",children:"Wojenny"})]})]}),i&&p.jsx(fn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-background-secondary rounded-lg p-4 border border-border",children:p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Gatunek"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:l,onChange:ie=>u(ie.target.value),children:[p.jsx("option",{value:"",children:"Wszystkie"}),w?.genres.map(ie=>p.jsx("option",{value:ie.id.toString(),children:ie.name},ie.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Sortowanie"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:d,onChange:ie=>h(ie.target.value),children:[p.jsx("option",{value:"popularity.desc",children:"Najpopularniejsze"}),p.jsx("option",{value:"vote_average.desc",children:"Najlepiej oceniane"}),p.jsx("option",{value:"first_air_date.desc",children:"Najnowsze"}),p.jsx("option",{value:"name.asc",children:"Alfabetycznie A-Z"})]})]})]})}),q&&p.jsx("div",{className:"flex items-center justify-center py-16",children:p.jsx(Sl,{className:"w-8 h-8 animate-spin text-primary"})}),G&&p.jsx("div",{className:"text-center py-16",children:p.jsx("p",{className:"text-foreground-secondary mb-4",children:"Bd podczas adowania seriali. Sprawd klucz API."})}),!q&&!G&&J.length>0&&p.jsx(fn.div,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},children:Array.from(new Map(J.map(ie=>[ie.id,ie])).values()).map((ie,ue)=>p.jsx(fn.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},onClick:()=>v(`/series/${ie.id}`),children:p.jsx(Fc,{id:ie.id.toString(),title:ie.name||"Unknown",posterUrl:cn.getImageUrl(ie.poster_path),year:ie.first_air_date?new Date(ie.first_air_date).getFullYear():void 0,rating:ie.vote_average,layoutId:`series-${ie.id}`,tmdbId:ie.id,type:"tv",posterPath:ie.poster_path})},`${ie.id}-${ue}`))}),!q&&!G&&J.length===0&&r&&p.jsx("div",{className:"text-center py-16",children:p.jsxs("p",{className:"text-foreground-secondary mb-4",children:['Nie znaleziono seriali dla "',r,'"']})}),W&&!q&&p.jsx("div",{ref:m,className:"flex justify-center py-8",children:Q&&p.jsx(Sl,{className:"w-6 h-6 animate-spin text-primary"})}),!W&&J.length>0&&!q&&p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-foreground-secondary text-sm",children:r?`To wszystkie wyniki dla "${r}"`:`Wywietlono ${J.length} seriali`})})]})};var JF="AlertDialog",[Zre]=so(JF,[tV]),za=tV(),ZF=n=>{const{__scopeAlertDialog:e,...t}=n,r=za(e);return p.jsx(yV,{...r,...t,modal:!0})};ZF.displayName=JF;var ese="AlertDialogTrigger",tse=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=za(t);return p.jsx(vV,{...s,...r,ref:e})});tse.displayName=ese;var nse="AlertDialogPortal",e4=n=>{const{__scopeAlertDialog:e,...t}=n,r=za(e);return p.jsx(wV,{...r,...t})};e4.displayName=nse;var rse="AlertDialogOverlay",t4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=za(t);return p.jsx(NT,{...s,...r,ref:e})});t4.displayName=rse;var Vd="AlertDialogContent",[sse,ise]=Zre(Vd),ose=TN("AlertDialogContent"),n4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...s}=n,i=za(t),o=b.useRef(null),l=St(e,o),u=b.useRef(null);return p.jsx(vte,{contentName:Vd,titleName:r4,docsSlug:"alert-dialog",children:p.jsx(sse,{scope:t,cancelRef:u,children:p.jsxs(DT,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:Le(s.onOpenAutoFocus,d=>{d.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[p.jsx(ose,{children:r}),p.jsx(lse,{contentRef:o})]})})})});n4.displayName=Vd;var r4="AlertDialogTitle",s4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=za(t);return p.jsx(jT,{...s,...r,ref:e})});s4.displayName=r4;var i4="AlertDialogDescription",o4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=za(t);return p.jsx(OT,{...s,...r,ref:e})});o4.displayName=i4;var ase="AlertDialogAction",a4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=za(t);return p.jsx(MT,{...s,...r,ref:e})});a4.displayName=ase;var l4="AlertDialogCancel",c4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:s}=ise(l4,t),i=za(t),o=St(e,s);return p.jsx(MT,{...i,...r,ref:o})});c4.displayName=l4;var lse=({contentRef:n})=>{const e=`\`${Vd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vd}\` by passing a \`${i4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(n.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},cse=ZF,use=e4,u4=t4,d4=n4,h4=a4,f4=c4,p4=s4,m4=o4;const Iv=cse,dse=use,g4=b.forwardRef(({className:n,...e},t)=>p.jsx(u4,{className:it("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));g4.displayName=u4.displayName;const $p=b.forwardRef(({className:n,...e},t)=>p.jsxs(dse,{children:[p.jsx(g4,{}),p.jsx(d4,{ref:t,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));$p.displayName=d4.displayName;const Bp=({className:n,...e})=>p.jsx("div",{className:it("flex flex-col space-y-2 text-center sm:text-left",n),...e});Bp.displayName="AlertDialogHeader";const Wp=({className:n,...e})=>p.jsx("div",{className:it("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Wp.displayName="AlertDialogFooter";const qp=b.forwardRef(({className:n,...e},t)=>p.jsx(p4,{ref:t,className:it("text-lg font-semibold",n),...e}));qp.displayName=p4.displayName;const Hp=b.forwardRef(({className:n,...e},t)=>p.jsx(m4,{ref:t,className:it("text-sm text-muted-foreground",n),...e}));Hp.displayName=m4.displayName;const Kp=b.forwardRef(({className:n,...e},t)=>p.jsx(h4,{ref:t,className:it(bT(),n),...e}));Kp.displayName=h4.displayName;const Gp=b.forwardRef(({className:n,...e},t)=>p.jsx(f4,{ref:t,className:it(bT({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));Gp.displayName=f4.displayName;function y4(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var hse=[" ","Enter","ArrowUp","ArrowDown"],fse=[" ","Enter"],yu="Select",[Iw,Nw,pse]=C1(yu),[Ih]=so(yu,[pse,$v]),Dw=$v(),[mse,rc]=Ih(yu),[gse,yse]=Ih(yu),v4=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:m,disabled:v,required:w,form:T}=n,x=Dw(e),[S,R]=b.useState(null),[k,j]=b.useState(null),[I,L]=b.useState(!1),z=_w(d),[P,A]=eu({prop:r,defaultProp:s??!1,onChange:i,caller:yu}),[D,O]=eu({prop:o,defaultProp:l,onChange:u,caller:yu}),V=b.useRef(null),F=S?T||!!S.closest("form"):!0,[U,X]=b.useState(new Set),se=Array.from(U).map(re=>re.props.value).join(";");return p.jsx(V$,{...x,children:p.jsxs(mse,{required:w,scope:e,trigger:S,onTriggerChange:R,valueNode:k,onValueNodeChange:j,valueNodeHasChildren:I,onValueNodeHasChildrenChange:L,contentId:Tl(),value:D,onValueChange:O,open:P,onOpenChange:A,dir:z,triggerPointerDownPosRef:V,disabled:v,children:[p.jsx(Iw.Provider,{scope:e,children:p.jsx(gse,{scope:n.__scopeSelect,onNativeOptionAdd:b.useCallback(re=>{X(J=>new Set(J).add(re))},[]),onNativeOptionRemove:b.useCallback(re=>{X(J=>{const q=new Set(J);return q.delete(re),q})},[]),children:t})}),F?p.jsxs($4,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:m,value:D,onChange:re=>O(re.target.value),disabled:v,form:T,children:[D===void 0?p.jsx("option",{value:""}):null,Array.from(U)]},se):null]})})};v4.displayName=yu;var w4="SelectTrigger",x4=b.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,i=Dw(t),o=rc(w4,t),l=o.disabled||r,u=St(e,o.onTriggerChange),d=Nw(t),h=b.useRef("touch"),[m,v,w]=W4(x=>{const S=d().filter(j=>!j.disabled),R=S.find(j=>j.value===o.value),k=q4(S,x,R);k!==void 0&&o.onValueChange(k.value)}),T=x=>{l||(o.onOpenChange(!0),w()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return p.jsx(MD,{asChild:!0,...i,children:p.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":B4(o.value)?"":void 0,...s,ref:u,onClick:Le(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&T(x)}),onPointerDown:Le(s.onPointerDown,x=>{h.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(T(x),x.preventDefault())}),onKeyDown:Le(s.onKeyDown,x=>{const S=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&v(x.key),!(S&&x.key===" ")&&hse.includes(x.key)&&(T(),x.preventDefault())})})})});x4.displayName=w4;var _4="SelectValue",b4=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:i,placeholder:o="",...l}=n,u=rc(_4,t),{onValueNodeHasChildrenChange:d}=u,h=i!==void 0,m=St(e,u.onValueNodeChange);return br(()=>{d(h)},[d,h]),p.jsx(Ye.span,{...l,ref:m,style:{pointerEvents:"none"},children:B4(u.value)?p.jsx(p.Fragment,{children:o}):i})});b4.displayName=_4;var vse="SelectIcon",S4=b.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return p.jsx(Ye.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});S4.displayName=vse;var wse="SelectPortal",T4=n=>p.jsx(jv,{asChild:!0,...n});T4.displayName=wse;var vu="SelectContent",E4=b.forwardRef((n,e)=>{const t=rc(vu,n.__scopeSelect),[r,s]=b.useState();if(br(()=>{s(new DocumentFragment)},[]),!t.open){const i=r;return i?fh.createPortal(p.jsx(C4,{scope:n.__scopeSelect,children:p.jsx(Iw.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),i):null}return p.jsx(P4,{...n,ref:e})});E4.displayName=vu;var Gi=10,[C4,sc]=Ih(vu),xse="SelectContentImpl",_se=$d("SelectContent.RemoveScroll"),P4=b.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:v,collisionPadding:w,sticky:T,hideWhenDetached:x,avoidCollisions:S,...R}=n,k=rc(vu,t),[j,I]=b.useState(null),[L,z]=b.useState(null),P=St(e,ce=>I(ce)),[A,D]=b.useState(null),[O,V]=b.useState(null),F=Nw(t),[U,X]=b.useState(!1),se=b.useRef(!1);b.useEffect(()=>{if(j)return ZL(j)},[j]),WL();const re=b.useCallback(ce=>{const[xe,...Ee]=F().map(Ze=>Ze.ref.current),[Fe]=Ee.slice(-1),ze=document.activeElement;for(const Ze of ce)if(Ze===ze||(Ze?.scrollIntoView({block:"nearest"}),Ze===xe&&L&&(L.scrollTop=0),Ze===Fe&&L&&(L.scrollTop=L.scrollHeight),Ze?.focus(),document.activeElement!==ze))return},[F,L]),J=b.useCallback(()=>re([A,j]),[re,A,j]);b.useEffect(()=>{U&&J()},[U,J]);const{onOpenChange:q,triggerPointerDownPosRef:G}=k;b.useEffect(()=>{if(j){let ce={x:0,y:0};const xe=Fe=>{ce={x:Math.abs(Math.round(Fe.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(Fe.pageY)-(G.current?.y??0))}},Ee=Fe=>{ce.x<=10&&ce.y<=10?Fe.preventDefault():j.contains(Fe.target)||q(!1),document.removeEventListener("pointermove",xe),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[j,q,G]),b.useEffect(()=>{const ce=()=>q(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[q]);const[B,W]=W4(ce=>{const xe=F().filter(ze=>!ze.disabled),Ee=xe.find(ze=>ze.ref.current===document.activeElement),Fe=q4(xe,ce,Ee);Fe&&setTimeout(()=>Fe.ref.current.focus())}),Q=b.useCallback((ce,xe,Ee)=>{const Fe=!se.current&&!Ee;(k.value!==void 0&&k.value===xe||Fe)&&(D(ce),Fe&&(se.current=!0))},[k.value]),ie=b.useCallback(()=>j?.focus(),[j]),ue=b.useCallback((ce,xe,Ee)=>{const Fe=!se.current&&!Ee;(k.value!==void 0&&k.value===xe||Fe)&&V(ce)},[k.value]),Z=r==="popper"?v1:k4,me=Z===v1?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:v,collisionPadding:w,sticky:T,hideWhenDetached:x,avoidCollisions:S}:{};return p.jsx(C4,{scope:t,content:j,viewport:L,onViewportChange:z,itemRefCallback:Q,selectedItem:A,onItemLeave:ie,itemTextRefCallback:ue,focusSelectedItem:J,selectedItemText:O,position:r,isPositioned:U,searchRef:B,children:p.jsx(kT,{as:_se,allowPinchZoom:!0,children:p.jsx(PT,{asChild:!0,trapped:k.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Le(s,ce=>{k.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:p.jsx(Yp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:p.jsx(Z,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ce=>ce.preventDefault(),...R,...me,onPlaced:()=>X(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Le(R.onKeyDown,ce=>{const xe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!xe&&ce.key.length===1&&W(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Fe=F().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const ze=ce.target,Ze=Fe.indexOf(ze);Fe=Fe.slice(Ze+1)}setTimeout(()=>re(Fe)),ce.preventDefault()}})})})})})})});P4.displayName=xse;var bse="SelectItemAlignedPosition",k4=b.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,i=rc(vu,t),o=sc(vu,t),[l,u]=b.useState(null),[d,h]=b.useState(null),m=St(e,P=>h(P)),v=Nw(t),w=b.useRef(!1),T=b.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:R,focusSelectedItem:k}=o,j=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&S&&R){const P=i.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),O=R.getBoundingClientRect();if(i.dir!=="rtl"){const ze=O.left-A.left,Ze=D.left-ze,Oe=P.left-Ze,ft=P.width+Oe,nn=Math.max(ft,A.width),qt=window.innerWidth-Gi,oe=Wb(Ze,[Gi,Math.max(Gi,qt-nn)]);l.style.minWidth=ft+"px",l.style.left=oe+"px"}else{const ze=A.right-O.right,Ze=window.innerWidth-D.right-ze,Oe=window.innerWidth-P.right-Ze,ft=P.width+Oe,nn=Math.max(ft,A.width),qt=window.innerWidth-Gi,oe=Wb(Ze,[Gi,Math.max(Gi,qt-nn)]);l.style.minWidth=ft+"px",l.style.right=oe+"px"}const V=v(),F=window.innerHeight-Gi*2,U=x.scrollHeight,X=window.getComputedStyle(d),se=parseInt(X.borderTopWidth,10),re=parseInt(X.paddingTop,10),J=parseInt(X.borderBottomWidth,10),q=parseInt(X.paddingBottom,10),G=se+re+U+q+J,B=Math.min(S.offsetHeight*5,G),W=window.getComputedStyle(x),Q=parseInt(W.paddingTop,10),ie=parseInt(W.paddingBottom,10),ue=P.top+P.height/2-Gi,Z=F-ue,me=S.offsetHeight/2,ce=S.offsetTop+me,xe=se+re+ce,Ee=G-xe;if(xe<=ue){const ze=V.length>0&&S===V[V.length-1].ref.current;l.style.bottom="0px";const Ze=d.clientHeight-x.offsetTop-x.offsetHeight,Oe=Math.max(Z,me+(ze?ie:0)+Ze+J),ft=xe+Oe;l.style.height=ft+"px"}else{const ze=V.length>0&&S===V[0].ref.current;l.style.top="0px";const Oe=Math.max(ue,se+x.offsetTop+(ze?Q:0)+me)+Ee;l.style.height=Oe+"px",x.scrollTop=xe-ue+x.offsetTop}l.style.margin=`${Gi}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=F+"px",r?.(),requestAnimationFrame(()=>w.current=!0)}},[v,i.trigger,i.valueNode,l,d,x,S,R,i.dir,r]);br(()=>j(),[j]);const[I,L]=b.useState();br(()=>{d&&L(window.getComputedStyle(d).zIndex)},[d]);const z=b.useCallback(P=>{P&&T.current===!0&&(j(),k?.(),T.current=!1)},[j,k]);return p.jsx(Tse,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:z,children:p.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:p.jsx(Ye.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});k4.displayName=bse;var Sse="SelectPopperPosition",v1=b.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=Gi,...i}=n,o=Dw(t);return p.jsx(LD,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});v1.displayName=Sse;var[Tse,uE]=Ih(vu,{}),w1="SelectViewport",R4=b.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,i=sc(w1,t),o=uE(w1,t),l=St(e,i.onViewportChange),u=b.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Iw.Slot,{scope:t,children:p.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Le(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=o;if(v?.current&&m){const w=Math.abs(u.current-h.scrollTop);if(w>0){const T=window.innerHeight-Gi*2,x=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),R=Math.max(x,S);if(R<T){const k=R+w,j=Math.min(T,k),I=k-j;m.style.height=j+"px",m.style.bottom==="0px"&&(h.scrollTop=I>0?I:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});R4.displayName=w1;var A4="SelectGroup",[Ese,Cse]=Ih(A4),Pse=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Tl();return p.jsx(Ese,{scope:t,id:s,children:p.jsx(Ye.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Pse.displayName=A4;var I4="SelectLabel",N4=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Cse(I4,t);return p.jsx(Ye.div,{id:s.id,...r,ref:e})});N4.displayName=I4;var Nv="SelectItem",[kse,D4]=Ih(Nv),j4=b.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:i,...o}=n,l=rc(Nv,t),u=sc(Nv,t),d=l.value===r,[h,m]=b.useState(i??""),[v,w]=b.useState(!1),T=St(e,k=>u.itemRefCallback?.(k,r,s)),x=Tl(),S=b.useRef("touch"),R=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(kse,{scope:t,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:b.useCallback(k=>{m(j=>j||(k?.textContent??"").trim())},[]),children:p.jsx(Iw.ItemSlot,{scope:t,value:r,disabled:s,textValue:h,children:p.jsx(Ye.div,{role:"option","aria-labelledby":x,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:Le(o.onFocus,()=>w(!0)),onBlur:Le(o.onBlur,()=>w(!1)),onClick:Le(o.onClick,()=>{S.current!=="mouse"&&R()}),onPointerUp:Le(o.onPointerUp,()=>{S.current==="mouse"&&R()}),onPointerDown:Le(o.onPointerDown,k=>{S.current=k.pointerType}),onPointerMove:Le(o.onPointerMove,k=>{S.current=k.pointerType,s?u.onItemLeave?.():S.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,k=>{k.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Le(o.onKeyDown,k=>{u.searchRef?.current!==""&&k.key===" "||(fse.includes(k.key)&&R(),k.key===" "&&k.preventDefault())})})})})});j4.displayName=Nv;var Vf="SelectItemText",O4=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...i}=n,o=rc(Vf,t),l=sc(Vf,t),u=D4(Vf,t),d=yse(Vf,t),[h,m]=b.useState(null),v=St(e,R=>m(R),u.onItemTextChange,R=>l.itemTextRefCallback?.(R,u.value,u.disabled)),w=h?.textContent,T=b.useMemo(()=>p.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=d;return br(()=>(x(T),()=>S(T)),[x,S,T]),p.jsxs(p.Fragment,{children:[p.jsx(Ye.span,{id:u.textId,...i,ref:v}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fh.createPortal(i.children,o.valueNode):null]})});O4.displayName=Vf;var M4="SelectItemIndicator",L4=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return D4(M4,t).isSelected?p.jsx(Ye.span,{"aria-hidden":!0,...r,ref:e}):null});L4.displayName=M4;var x1="SelectScrollUpButton",V4=b.forwardRef((n,e)=>{const t=sc(x1,n.__scopeSelect),r=uE(x1,n.__scopeSelect),[s,i]=b.useState(!1),o=St(e,r.onScrollButtonChange);return br(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=t.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?p.jsx(z4,{...n,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=t;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});V4.displayName=x1;var _1="SelectScrollDownButton",F4=b.forwardRef((n,e)=>{const t=sc(_1,n.__scopeSelect),r=uE(_1,n.__scopeSelect),[s,i]=b.useState(!1),o=St(e,r.onScrollButtonChange);return br(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;i(h)};const u=t.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?p.jsx(z4,{...n,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=t;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});F4.displayName=_1;var z4=b.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,i=sc("SelectScrollButton",t),o=b.useRef(null),l=Nw(t),u=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>u(),[u]),br(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),p.jsx(Ye.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Le(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Le(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Le(s.onPointerLeave,()=>{u()})})}),Rse="SelectSeparator",U4=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return p.jsx(Ye.div,{"aria-hidden":!0,...r,ref:e})});U4.displayName=Rse;var b1="SelectArrow",Ase=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Dw(t),i=rc(b1,t),o=sc(b1,t);return i.open&&o.position==="popper"?p.jsx(VD,{...s,...r,ref:e}):null});Ase.displayName=b1;var Ise="SelectBubbleInput",$4=b.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const s=b.useRef(null),i=St(r,s),o=y4(e);return b.useEffect(()=>{const l=s.current;if(!l)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&h){const m=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(m)}},[o,e]),p.jsx(Ye.select,{...t,style:{...RN,...t.style},ref:i,defaultValue:e})});$4.displayName=Ise;function B4(n){return n===""||n===void 0}function W4(n){const e=ar(n),t=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const l=t.current+o;e(l),(function u(d){t.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),i=b.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,i]}function q4(n,e,t){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let o=Nse(n,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==t?u:void 0}function Nse(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var Dse=v4,H4=x4,jse=b4,Ose=S4,Mse=T4,K4=E4,Lse=R4,G4=N4,Y4=j4,Vse=O4,Fse=L4,Q4=V4,X4=F4,J4=U4;const Fd=Dse,zd=jse,Jc=b.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(H4,{ref:r,className:it("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,p.jsx(Ose,{asChild:!0,children:p.jsx(ZN,{className:"h-4 w-4 opacity-50"})})]}));Jc.displayName=H4.displayName;const Z4=b.forwardRef(({className:n,...e},t)=>p.jsx(Q4,{ref:t,className:it("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(X5,{className:"h-4 w-4"})}));Z4.displayName=Q4.displayName;const ez=b.forwardRef(({className:n,...e},t)=>p.jsx(X4,{ref:t,className:it("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(ZN,{className:"h-4 w-4"})}));ez.displayName=X4.displayName;const Zc=b.forwardRef(({className:n,children:e,position:t="popper",...r},s)=>p.jsx(Mse,{children:p.jsxs(K4,{ref:s,className:it("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,onWheel:i=>i.stopPropagation(),...r,children:[p.jsx(Z4,{}),p.jsx(Lse,{className:it("p-1",t==="popper"&&"w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(ez,{})]})}));Zc.displayName=K4.displayName;const zse=b.forwardRef(({className:n,...e},t)=>p.jsx(G4,{ref:t,className:it("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));zse.displayName=G4.displayName;const xr=b.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(Y4,{ref:r,className:it("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...t,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Fse,{children:p.jsx(Vv,{className:"h-4 w-4"})})}),p.jsx(Vse,{children:e})]}));xr.displayName=Y4.displayName;const Use=b.forwardRef(({className:n,...e},t)=>p.jsx(J4,{ref:t,className:it("-mx-1 my-1 h-px bg-muted",n),...e}));Use.displayName=J4.displayName;class $se{async addLink(e,t,r,s,i){let o;t==="movie"?o=`${e}_movie`:o=`${e}_s${i?.seasonNumber}_e${i?.episodeNumber}`;const l=yt(Ue,"episodes",o);await Ms(l,{tmdbId:e,type:t,seasonNumber:i?.seasonNumber||null,episodeNumber:i?.episodeNumber||null,title:i?.title||"",link:r,quality:i?.quality||"",language:i?.language||"PL",addedBy:s,addedAt:new Date,updatedAt:new Date},{merge:!0})}async addEpisodeLink(e,t,r,s,i,o){return this.addLink(e,"tv",s,i,{seasonNumber:t,episodeNumber:r,...o})}async getEpisodeLink(e,t,r){const s=`${e}_s${t}_e${r}`,i=yt(Ue,"episodes",s),o=await js(i);if(!o.exists())return null;const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type||"tv",seasonNumber:l.seasonNumber,episodeNumber:l.episodeNumber,title:l.title,link:l.link,links:l.links||[],quality:l.quality,language:l.language,addedBy:l.addedBy,addedAt:l.addedAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}async getSeasonEpisodes(e,t){const r=Xn(Ue,"episodes"),s=Ci(r,Kn("tmdbId","==",e),Kn("seasonNumber","==",t),Hf("episodeNumber","asc"));return(await Yn(s)).docs.map(o=>{const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type||"tv",seasonNumber:l.seasonNumber,episodeNumber:l.episodeNumber,title:l.title,link:l.link,links:l.links||[],quality:l.quality,language:l.language,addedBy:l.addedBy,addedAt:l.addedAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}})}async getSeriesEpisodes(e){const t=Xn(Ue,"episodes"),r=Ci(t,Kn("tmdbId","==",e),Hf("seasonNumber","asc"),Hf("episodeNumber","asc"));return(await Yn(r)).docs.map(i=>{const o=i.data();return{id:i.id,tmdbId:o.tmdbId,type:o.type||"tv",seasonNumber:o.seasonNumber,episodeNumber:o.episodeNumber,title:o.title,link:o.link,links:o.links||[],quality:o.quality,language:o.language,addedBy:o.addedBy,addedAt:o.addedAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date}})}async deleteEpisodeLink(e,t,r){const s=`${e}_s${t}_e${r}`,i=yt(Ue,"episodes",s);await Qi(i)}async hasEpisodeLink(e,t,r){return await this.getEpisodeLink(e,t,r)!==null}async getMovieLinks(e){const t=Xn(Ue,"episodes"),r=Ci(t,Kn("tmdbId","==",e),Kn("type","==","movie"));return(await Yn(r)).docs.map(i=>{const o=i.data();return{id:i.id,tmdbId:o.tmdbId,type:o.type,seasonNumber:o.seasonNumber,episodeNumber:o.episodeNumber,title:o.title,link:o.link,links:o.links||[],quality:o.quality,language:o.language,addedBy:o.addedBy,addedAt:o.addedAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date}})}async deleteMovieLink(e,t){const r=yt(Ue,"episodes",t);await Qi(r)}}const Nh=new $se,Bse=(n,e)=>Ln({queryKey:["episodes",n,e],queryFn:()=>Nh.getSeasonEpisodes(n,e),enabled:!!n&&!!e,staleTime:300*1e3}),Wse=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:({tmdbId:t,seasonNumber:r,episodeNumber:s,link:i,options:o})=>Nh.addEpisodeLink(t,r,s,i,n.uid,o),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["episodes",r.tmdbId]}),e.invalidateQueries({queryKey:["episodes",r.tmdbId,r.seasonNumber]}),e.invalidateQueries({queryKey:["episode",r.tmdbId,r.seasonNumber,r.episodeNumber]})}})},qse=()=>{const n=Tr();return ss({mutationFn:({tmdbId:e,seasonNumber:t,episodeNumber:r})=>Nh.deleteEpisodeLink(e,t,r),onSuccess:(e,t)=>{n.invalidateQueries({queryKey:["episodes",t.tmdbId]}),n.invalidateQueries({queryKey:["episodes",t.tmdbId,t.seasonNumber]}),n.invalidateQueries({queryKey:["episode",t.tmdbId,t.seasonNumber,t.episodeNumber]})}})},Hse=n=>Ln({queryKey:["movie-links",n],queryFn:()=>Nh.getMovieLinks(n),enabled:!!n,staleTime:300*1e3}),Kse=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:({tmdbId:t,link:r,options:s})=>Nh.addLink(t,"movie",r,n.uid,s),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["movie-links",r.tmdbId]})}})},Gse=()=>{const n=Tr();return ss({mutationFn:({tmdbId:e,linkId:t})=>Nh.deleteMovieLink(e,t),onSuccess:(e,t)=>{n.invalidateQueries({queryKey:["movie-links",t.tmdbId]})}})},Yse=({tmdbId:n,movieTitle:e})=>{const{isAdmin:t}=Ot(),{t:r}=bs(),[s,i]=b.useState(!1),[o,l]=b.useState(""),[u,d]=b.useState("1080p"),[h,m]=b.useState("PL"),[v,w]=b.useState(!1),[T,x]=b.useState(""),[S,R]=b.useState(!1),[k,j]=b.useState(null),[I,L]=b.useState(!1),[z,P]=b.useState(null),{data:A,isLoading:D}=Hse(n),O=Kse(),V=Gse();b.useEffect(()=>{if(s||v){HF();const q=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${q}px`}else Av(),document.body.style.overflow="",document.body.style.paddingRight="";return()=>{Av(),document.body.style.overflow="",document.body.style.paddingRight=""}},[s,v]);const F=(q,G)=>{G.preventDefault(),x(q),w(!0)},U=async()=>{if(o.trim())try{await O.mutateAsync({tmdbId:n,link:o.trim(),options:{title:e,quality:u,language:h}}),l(""),i(!1),Qt.success("Link dodany",{description:`${u} - ${h}`})}catch(q){console.error("Error adding movie link:",q),Qt.error("Bd podczas dodawania linku",{description:"Sprbuj ponownie"})}},X=q=>{P(q),L(!0)},se=async()=>{if(!z)return;L(!1);const q=z;P(null),Qt.promise(V.mutateAsync({tmdbId:n,linkId:q}),{loading:"Usuwanie wszystkich linkw...",success:"Wszystkie linki usunite",error:"Bd podczas usuwania"})},re=(q,G)=>{j({linkId:q,linkIndex:G}),R(!0)},J=async()=>{if(!k)return;const{linkId:q,linkIndex:G}=k,B=A?.find(W=>W.id===q);!B||!B.links||(R(!1),j(null),Qt.promise((async()=>{const W=B.links.filter((ue,Z)=>Z!==G);if(W.length===0){await V.mutateAsync({tmdbId:n,linkId:q});return}const Q=yt(Ue,"episodes",q),ie=W[0];await Ms(Q,{...B,link:ie.url,quality:ie.quality||"720p",language:ie.version||"PL",links:W,updatedAt:new Date},{merge:!0}),await V.mutateAsync({tmdbId:n,linkId:q})})(),{loading:"Usuwanie linku...",success:"Link usunity",error:"Bd podczas usuwania linku"}))};return!t&&(!A||A.length===0)?null:p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold",children:r("details.manageLinks")}),t&&p.jsxs(Yo,{open:s,onOpenChange:i,modal:!0,children:[p.jsx(fm,{asChild:!0,children:p.jsxs(we,{size:"sm",variant:"outline",children:[p.jsx(Wd,{className:"w-4 h-4 mr-2"}),r("details.addLink")]})}),p.jsxs(ro,{className:"max-h-[90vh] overflow-y-auto",children:[p.jsxs(Na,{children:[p.jsx(Da,{children:r("details.addLink")}),p.jsx(hu,{children:e})]}),p.jsxs("div",{className:"space-y-4 overflow-visible",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"link",children:"Link do filmu"}),p.jsx(xs,{id:"link",value:o,onChange:q=>l(q.target.value),placeholder:"https://...",type:"url"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"quality",children:"Jako"}),p.jsxs(Fd,{value:u,onValueChange:d,children:[p.jsx(Jc,{id:"quality",children:p.jsx(zd,{})}),p.jsxs(Zc,{children:[p.jsx(xr,{value:"2160p",children:"4K (2160p)"}),p.jsx(xr,{value:"1080p",children:"Full HD (1080p)"}),p.jsx(xr,{value:"720p",children:"HD (720p)"}),p.jsx(xr,{value:"480p",children:"SD (480p)"})]})]})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"language",children:"Jzyk"}),p.jsxs(Fd,{value:h,onValueChange:m,children:[p.jsx(Jc,{id:"language",children:p.jsx(zd,{})}),p.jsxs(Zc,{children:[p.jsx(xr,{value:"PL",children:"Polski"}),p.jsx(xr,{value:"ENG",children:"Angielski"}),p.jsx(xr,{value:"PL/ENG",children:"PL/ENG"})]})]})]})]}),p.jsx(we,{onClick:U,disabled:!o.trim()||O.isPending,className:"w-full",children:r("details.addLink")})]})]})]})]}),D?p.jsx("div",{className:"text-center py-4 text-foreground-secondary",children:"adowanie..."}):A&&A.length>0?p.jsx("div",{className:"space-y-4",children:A.map(q=>p.jsxs("div",{className:"bg-background rounded-xl p-6 border-2 border-border hover:border-primary/50 transition-colors",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-border",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold",children:"Dostpne odtwarzacze"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:q.links&&q.links.length>0?`${q.links.length} ${q.links.length===1?"link":"linki"} streamingowe`:"Brak linkw"})]}),t&&p.jsxs(we,{size:"sm",variant:"ghost",onClick:()=>X(q.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:[p.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Usu wszystkie"]})]}),q.links&&q.links.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:q.links.map((G,B)=>p.jsxs("div",{className:"flex items-center gap-3 p-4 bg-background-secondary hover:bg-primary/5 rounded-lg border border-border hover:border-primary/50 transition-all group/link",children:[p.jsxs("button",{onClick:W=>F(G.url,W),className:"flex items-center gap-3 flex-1 min-w-0 text-left",children:[p.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center group-hover/link:bg-primary/30 transition-colors",children:p.jsx(Ay,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"font-semibold text-sm truncate",children:G.provider}),p.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[G.version&&p.jsx("span",{children:G.version}),G.quality&&p.jsxs(p.Fragment,{children:[G.version&&p.jsx("span",{children:""}),p.jsx("span",{className:"text-primary font-medium",children:G.quality})]})]})]})]}),p.jsx("a",{href:G.url,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-2 hover:bg-background rounded transition-colors",title:"Otwrz w nowej karcie",children:p.jsx(Ry,{className:"w-4 h-4 text-muted-foreground hover:text-primary transition-colors"})}),t&&p.jsx(we,{size:"icon",variant:"ghost",onClick:W=>{W.stopPropagation(),re(q.id,B)},className:"h-8 w-8 flex-shrink-0 opacity-0 group-hover/link:opacity-100 transition-opacity text-destructive hover:bg-destructive/10",children:p.jsx(Ll,{className:"w-4 h-4"})})]},B))}):q.link?p.jsxs("a",{href:q.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-background-secondary hover:bg-primary/5 rounded-lg border border-border hover:border-primary/50 transition-all",children:[p.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:p.jsx(Ay,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"font-semibold",children:"Odtwrz film"}),p.jsxs("div",{className:"text-xs text-muted-foreground",children:[q.quality,"  ",q.language]})]}),p.jsx(Ry,{className:"w-4 h-4 text-muted-foreground"})]}):p.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Brak dostpnych linkw"})]},q.id))}):p.jsxs("div",{className:"text-center py-8 text-foreground-secondary",children:[p.jsx("p",{children:r("details.noLinks")}),t&&p.jsx("p",{className:"text-sm mt-2",children:r("details.addFirstLink")})]}),p.jsx(Yo,{open:v,onOpenChange:w,children:p.jsx(ro,{className:"max-w-7xl w-full h-[90vh] p-0",children:p.jsx("div",{className:"relative w-full h-full bg-black",children:p.jsx("iframe",{src:T,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"Video Player"})})})}),p.jsx(Iv,{open:S,onOpenChange:R,children:p.jsxs($p,{children:[p.jsxs(Bp,{children:[p.jsx(qp,{children:"Usun link?"}),p.jsx(Hp,{children:"Czy na pewno chcesz usun ten link? Ta operacja jest nieodwracalna."})]}),p.jsxs(Wp,{children:[p.jsx(Gp,{children:"Anuluj"}),p.jsx(Kp,{onClick:J,children:"Usu"})]})]})}),p.jsx(Iv,{open:I,onOpenChange:L,children:p.jsxs($p,{children:[p.jsxs(Bp,{children:[p.jsx(qp,{children:"Usun wszystkie linki?"}),p.jsx(Hp,{children:"Czy na pewno chcesz usun wszystkie linki tego filmu? Ta operacja jest nieodwracalna."})]}),p.jsxs(Wp,{children:[p.jsx(Gp,{children:"Anuluj"}),p.jsx(Kp,{onClick:se,children:"Usu wszystkie"})]})]})})]})},tz=b.forwardRef(({className:n,...e},t)=>p.jsx("textarea",{className:it("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));tz.displayName="Textarea";class Qse{async addReview(e,t,r,s,i,o,l){const u=`${e}_${t}_${r}`,d=yt(Ue,"reviews",u);await Ms(d,{tmdbId:e,type:t,userId:r,userName:s,rating:i,review:o,mediaTitle:l||"",createdAt:ht.now(),updatedAt:ht.now()},{merge:!0})}async getUserReview(e,t,r){const s=`${e}_${t}_${r}`,i=yt(Ue,"reviews",s),o=await js(i);if(!o.exists())return null;const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type,userId:l.userId,userName:l.userName,rating:l.rating,review:l.review,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}async getReviews(e,t){const r=Xn(Ue,"reviews"),s=Ci(r,Kn("tmdbId","==",e),Kn("type","==",t),Hf("createdAt","desc"));return(await Yn(s)).docs.map(o=>{const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type,userId:l.userId,userName:l.userName,rating:l.rating,review:l.review,mediaTitle:l.mediaTitle,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}})}async deleteReview(e,t,r){const s=`${e}_${t}_${r}`,i=yt(Ue,"reviews",s);await Qi(i)}async getAverageRating(e,t){const r=await this.getReviews(e,t);return r.length===0?{average:0,count:0}:{average:r.reduce((i,o)=>i+o.rating,0)/r.length,count:r.length}}async getUserReviews(e){const t=Xn(Ue,"reviews"),r=Ci(t,Kn("userId","==",e));return(await Yn(r)).docs.map(o=>{const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type,userId:l.userId,userName:l.userName,rating:l.rating,review:l.review,mediaTitle:l.mediaTitle,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}).sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime())}}const Dh=new Qse,Xse=(n,e)=>Ln({queryKey:["reviews",n,e],queryFn:async()=>{try{return await Dh.getReviews(n,e)}catch(t){throw console.error("Error fetching reviews:",t),t}},enabled:!!n,staleTime:120*1e3}),Jse=(n,e)=>{const{user:t}=Ot();return Ln({queryKey:["user-review",n,e,t?.uid],queryFn:()=>Dh.getUserReview(n,e,t.uid),enabled:!!t&&!!n,staleTime:120*1e3})},Zse=(n,e)=>Ln({queryKey:["average-rating",n,e],queryFn:()=>Dh.getAverageRating(n,e),enabled:!!n,staleTime:120*1e3}),eie=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:({tmdbId:t,type:r,rating:s,review:i,mediaTitle:o})=>Dh.addReview(t,r,n.uid,n.displayName||"Anonim",s,i,o),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["reviews",r.tmdbId,r.type]}),e.invalidateQueries({queryKey:["user-review",r.tmdbId,r.type]}),e.invalidateQueries({queryKey:["average-rating",r.tmdbId,r.type]})}})},tie=()=>{const{user:n}=Ot(),e=Tr();return ss({mutationFn:({tmdbId:t,type:r})=>Dh.deleteReview(t,r,n.uid),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["reviews",r.tmdbId,r.type]}),e.invalidateQueries({queryKey:["user-review",r.tmdbId,r.type]}),e.invalidateQueries({queryKey:["average-rating",r.tmdbId,r.type]})}})};function _r(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function nie(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const Zg=43200,mN=1440;let rie={};function nz(){return rie}function gN(n,e){const t=nz(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=_r(n),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function yN(n){const e=_r(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function ky(n,e){const t=_r(n),r=_r(e),s=t.getTime()-r.getTime();return s<0?-1:s>0?1:s}function sie(n){return nie(n,Date.now())}function iie(n,e){const t=_r(n),r=_r(e),s=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return s*12+i}function oie(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function aie(n,e){return+_r(n)-+_r(e)}function lie(n){const e=_r(n);return e.setHours(23,59,59,999),e}function cie(n){const e=_r(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function uie(n){const e=_r(n);return+lie(e)==+cie(e)}function die(n,e){const t=_r(n),r=_r(e),s=ky(t,r),i=Math.abs(iie(t,r));let o;if(i<1)o=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-s*i);let l=ky(t,r)===-s;uie(_r(n))&&i===1&&ky(n,r)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function hie(n,e,t){const r=aie(n,e)/1e3;return oie(t?.roundingMethod)(r)}const fie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pie=(n,e,t)=>{let r;const s=fie[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Ud(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const mie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vie={date:Ud({formats:mie,defaultWidth:"full"}),time:Ud({formats:gie,defaultWidth:"full"}),dateTime:Ud({formats:yie,defaultWidth:"full"})},wie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xie=(n,e,t,r)=>wie[n];function Ao(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,l=t?.width?String(t.width):o;s=n.formattingValues[l]||n.formattingValues[o]}else{const o=n.defaultWidth,l=t?.width?String(t.width):n.defaultWidth;s=n.values[l]||n.values[o]}const i=n.argumentCallback?n.argumentCallback(e):e;return s[i]}}const _ie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Eie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pie=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},kie={ordinalNumber:Pie,era:Ao({values:_ie,defaultWidth:"wide"}),quarter:Ao({values:bie,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ao({values:Sie,defaultWidth:"wide"}),day:Ao({values:Tie,defaultWidth:"wide"}),dayPeriod:Ao({values:Eie,defaultWidth:"wide",formattingValues:Cie,defaultFormattingWidth:"wide"})};function Io(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(l)?Aie(l,m=>m.test(o)):Rie(l,m=>m.test(o));let d;d=n.valueCallback?n.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function Rie(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Aie(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function rz(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],i=e.match(n.parsePattern);if(!i)return null;let o=n.valueCallback?n.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const Iie=/^(\d+)(th|st|nd|rd)?/i,Nie=/\d+/i,Die={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jie={any:[/^b/i,/^(a|c)/i]},Oie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mie={any:[/1/i,/2/i,/3/i,/4/i]},Lie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Uie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$ie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bie={ordinalNumber:rz({matchPattern:Iie,parsePattern:Nie,valueCallback:n=>parseInt(n,10)}),era:Io({matchPatterns:Die,defaultMatchWidth:"wide",parsePatterns:jie,defaultParseWidth:"any"}),quarter:Io({matchPatterns:Oie,defaultMatchWidth:"wide",parsePatterns:Mie,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Io({matchPatterns:Lie,defaultMatchWidth:"wide",parsePatterns:Vie,defaultParseWidth:"any"}),day:Io({matchPatterns:Fie,defaultMatchWidth:"wide",parsePatterns:zie,defaultParseWidth:"any"}),dayPeriod:Io({matchPatterns:Uie,defaultMatchWidth:"any",parsePatterns:$ie,defaultParseWidth:"any"})},Wie={code:"en-US",formatDistance:pie,formatLong:vie,formatRelative:xie,localize:kie,match:Bie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qie(n,e,t){const r=nz(),s=t?.locale??r.locale??Wie,i=2520,o=ky(n,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:o});let u,d;o>0?(u=_r(e),d=_r(n)):(u=_r(n),d=_r(e));const h=hie(d,u),m=(yN(d)-yN(u))/1e3,v=Math.round((h-m)/60);let w;if(v<2)return t?.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,l):h<10?s.formatDistance("lessThanXSeconds",10,l):h<20?s.formatDistance("lessThanXSeconds",20,l):h<40?s.formatDistance("halfAMinute",0,l):h<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):v===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",v,l);if(v<45)return s.formatDistance("xMinutes",v,l);if(v<90)return s.formatDistance("aboutXHours",1,l);if(v<mN){const T=Math.round(v/60);return s.formatDistance("aboutXHours",T,l)}else{if(v<i)return s.formatDistance("xDays",1,l);if(v<Zg){const T=Math.round(v/mN);return s.formatDistance("xDays",T,l)}else if(v<Zg*2)return w=Math.round(v/Zg),s.formatDistance("aboutXMonths",w,l)}if(w=die(d,u),w<12){const T=Math.round(v/Zg);return s.formatDistance("xMonths",T,l)}else{const T=w%12,x=Math.trunc(w/12);return T<3?s.formatDistance("aboutXYears",x,l):T<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function sz(n,e){return qie(n,sie(n),e)}function Hie(n,e,t){const r=gN(n,t),s=gN(e,t);return+r==+s}const Kie={lessThanXSeconds:{one:{regular:"mniej ni sekunda",past:"mniej ni sekund",future:"mniej ni sekund"},twoFour:"mniej ni {{count}} sekundy",other:"mniej ni {{count}} sekund"},xSeconds:{one:{regular:"sekunda",past:"sekund",future:"sekund"},twoFour:"{{count}} sekundy",other:"{{count}} sekund"},halfAMinute:{one:"p minuty",twoFour:"p minuty",other:"p minuty"},lessThanXMinutes:{one:{regular:"mniej ni minuta",past:"mniej ni minut",future:"mniej ni minut"},twoFour:"mniej ni {{count}} minuty",other:"mniej ni {{count}} minut"},xMinutes:{one:{regular:"minuta",past:"minut",future:"minut"},twoFour:"{{count}} minuty",other:"{{count}} minut"},aboutXHours:{one:{regular:"okoo godziny",past:"okoo godziny",future:"okoo godzin"},twoFour:"okoo {{count}} godziny",other:"okoo {{count}} godzin"},xHours:{one:{regular:"godzina",past:"godzin",future:"godzin"},twoFour:"{{count}} godziny",other:"{{count}} godzin"},xDays:{one:{regular:"dzie",past:"dzie",future:"1 dzie"},twoFour:"{{count}} dni",other:"{{count}} dni"},aboutXWeeks:{one:"okoo tygodnia",twoFour:"okoo {{count}} tygodni",other:"okoo {{count}} tygodni"},xWeeks:{one:"tydzie",twoFour:"{{count}} tygodnie",other:"{{count}} tygodni"},aboutXMonths:{one:"okoo miesic",twoFour:"okoo {{count}} miesice",other:"okoo {{count}} miesicy"},xMonths:{one:"miesic",twoFour:"{{count}} miesice",other:"{{count}} miesicy"},aboutXYears:{one:"okoo rok",twoFour:"okoo {{count}} lata",other:"okoo {{count}} lat"},xYears:{one:"rok",twoFour:"{{count}} lata",other:"{{count}} lat"},overXYears:{one:"ponad rok",twoFour:"ponad {{count}} lata",other:"ponad {{count}} lat"},almostXYears:{one:"prawie rok",twoFour:"prawie {{count}} lata",other:"prawie {{count}} lat"}};function Gie(n,e){if(e===1)return n.one;const t=e%100;if(t<=20&&t>10)return n.other;const r=t%10;return r>=2&&r<=4?n.twoFour:n.other}function w_(n,e,t){const r=Gie(n,e);return(typeof r=="string"?r:r[t]).replace("{{count}}",String(e))}const Yie=(n,e,t)=>{const r=Kie[n];return t?.addSuffix?t.comparison&&t.comparison>0?"za "+w_(r,e,"future"):w_(r,e,"past")+" temu":w_(r,e,"regular")},Qie={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},Xie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Jie={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zie={date:Ud({formats:Qie,defaultWidth:"full"}),time:Ud({formats:Xie,defaultWidth:"full"}),dateTime:Ud({formats:Jie,defaultWidth:"full"})},eoe={masculine:"ostatni",feminine:"ostatnia"},toe={masculine:"ten",feminine:"ta"},noe={masculine:"nastpny",feminine:"nastpna"},roe={0:"feminine",1:"masculine",2:"masculine",3:"feminine",4:"masculine",5:"masculine",6:"feminine"};function vN(n,e,t,r){let s;if(Hie(e,t,r))s=toe;else if(n==="lastWeek")s=eoe;else if(n==="nextWeek")s=noe;else throw new Error(`Cannot determine adjectives for token ${n}`);const i=e.getDay(),o=roe[i];return`'${s[o]}' eeee 'o' p`}const soe={lastWeek:vN,yesterday:"'wczoraj o' p",today:"'dzisiaj o' p",tomorrow:"'jutro o' p",nextWeek:vN,other:"P"},ioe=(n,e,t,r)=>{const s=soe[n];return typeof s=="function"?s(n,e,t,r):s},ooe={narrow:["p.n.e.","n.e."],abbreviated:["p.n.e.","n.e."],wide:["przed nasz er","naszej ery"]},aoe={narrow:["1","2","3","4"],abbreviated:["I kw.","II kw.","III kw.","IV kw."],wide:["I kwarta","II kwarta","III kwarta","IV kwarta"]},loe={narrow:["S","L","M","K","M","C","L","S","W","P","L","G"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie"]},coe={narrow:["s","l","m","k","m","c","l","s","w","p","l","g"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia"]},uoe={narrow:["N","P","W","","C","P","S"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},doe={narrow:["n","p","w","","c","p","s"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},hoe={narrow:{am:"a",pm:"p",midnight:"pn.",noon:"po",morning:"rano",afternoon:"popo.",evening:"wiecz.",night:"noc"},abbreviated:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"},wide:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"}},foe={narrow:{am:"a",pm:"p",midnight:"o pn.",noon:"w po.",morning:"rano",afternoon:"po po.",evening:"wiecz.",night:"w nocy"},abbreviated:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"},wide:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"}},poe=(n,e)=>String(n),moe={ordinalNumber:poe,era:Ao({values:ooe,defaultWidth:"wide"}),quarter:Ao({values:aoe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ao({values:loe,defaultWidth:"wide",formattingValues:coe,defaultFormattingWidth:"wide"}),day:Ao({values:uoe,defaultWidth:"wide",formattingValues:doe,defaultFormattingWidth:"wide"}),dayPeriod:Ao({values:hoe,defaultWidth:"wide",formattingValues:foe,defaultFormattingWidth:"wide"})},goe=/^(\d+)?/i,yoe=/\d+/i,voe={narrow:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,abbreviated:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,wide:/^(przed\s*nasz(|a)\s*er(|a)|naszej\s*ery)/i},woe={any:[/^p/i,/^n/i]},xoe={narrow:/^[1234]/i,abbreviated:/^(I|II|III|IV)\s*kw\.?/i,wide:/^(I|II|III|IV)\s*kwarta(|l)/i},_oe={narrow:[/1/i,/2/i,/3/i,/4/i],any:[/^I kw/i,/^II kw/i,/^III kw/i,/^IV kw/i]},boe={narrow:/^[slmkcwpg]/i,abbreviated:/^(sty|lut|mar|kwi|maj|cze|lip|sie|wrz|pa(|z)|lis|gru)/i,wide:/^(stycznia|stycze(|n)|lutego|luty|marca|marzec|kwietnia|kwiecie(|n)|maja|maj|czerwca|czerwiec|lipca|lipiec|sierpnia|sierpie(|n)|wrze(|s)nia|wrzesie(|n)|pa(|z)dziernika|pa(|z)dziernik|listopada|listopad|grudnia|grudzie(|n))/i},Soe={narrow:[/^s/i,/^l/i,/^m/i,/^k/i,/^m/i,/^c/i,/^l/i,/^s/i,/^w/i,/^p/i,/^l/i,/^g/i],any:[/^st/i,/^lu/i,/^mar/i,/^k/i,/^maj/i,/^c/i,/^lip/i,/^si/i,/^w/i,/^p/i,/^lis/i,/^g/i]},Toe={narrow:/^[npwcs]/i,short:/^(nie|pon|wto|(|s)ro|czw|pi(|a)|sob)/i,abbreviated:/^(niedz|pon|wt|(|s)r|czw|pt|sob)\.?/i,wide:/^(niedziela|poniedzia(|l)ek|wtorek|(|s)roda|czwartek|pi(|a)tek|sobota)/i},Eoe={narrow:[/^n/i,/^p/i,/^w/i,/^/i,/^c/i,/^p/i,/^s/i],abbreviated:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pt/i,/^so/i],any:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pi/i,/^so/i]},Coe={narrow:/^(^a$|^p$|p(|l)n\.?|o\s*p(|l)n\.?|po(|l)\.?|w\s*po(|l)\.?|po\s*po(|l)\.?|rano|wiecz\.?|noc|w\s*nocy)/i,any:/^(am|pm|p(|l)noc|o\s*p(|l)nocy|po(|l)udnie|w\s*po(|l)udnie|popo(|l)udnie|po\s*po(|l)udniu|rano|wieczr|wieczorem|noc|w\s*nocy)/i},Poe={narrow:{am:/^a$/i,pm:/^p$/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i},any:{am:/^am/i,pm:/^pm/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i}},koe={ordinalNumber:rz({matchPattern:goe,parsePattern:yoe,valueCallback:n=>parseInt(n,10)}),era:Io({matchPatterns:voe,defaultMatchWidth:"wide",parsePatterns:woe,defaultParseWidth:"any"}),quarter:Io({matchPatterns:xoe,defaultMatchWidth:"wide",parsePatterns:_oe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Io({matchPatterns:boe,defaultMatchWidth:"wide",parsePatterns:Soe,defaultParseWidth:"any"}),day:Io({matchPatterns:Toe,defaultMatchWidth:"wide",parsePatterns:Eoe,defaultParseWidth:"any"}),dayPeriod:Io({matchPatterns:Coe,defaultMatchWidth:"any",parsePatterns:Poe,defaultParseWidth:"any"})},iz={code:"pl",formatDistance:Yie,formatLong:Zie,formatRelative:ioe,localize:moe,match:koe,options:{weekStartsOn:1,firstWeekContainsDate:4}},oz=({tmdbId:n,type:e,mediaTitle:t})=>{const{user:r}=Ot(),[s,i]=b.useState(!1),[o,l]=b.useState(0),[u,d]=b.useState(0),[h,m]=b.useState(""),{data:v,isLoading:w}=Xse(n,e),{data:T}=Jse(n,e),{data:x}=Zse(n,e),S=eie(),R=tie(),k=async()=>{if(o===0){alert("Wybierz ocen");return}try{await S.mutateAsync({tmdbId:n,type:e,rating:o,review:h.trim(),mediaTitle:t}),i(!1),l(0),m("")}catch(z){console.error("Error adding review:",z),alert("Bd podczas dodawania recenzji")}},j=()=>{T&&(l(T.rating),m(T.review),i(!0))},I=async()=>{if(confirm("Czy na pewno chcesz usun swoj recenzj?"))try{await R.mutateAsync({tmdbId:n,type:e})}catch(z){console.error("Error deleting review:",z),alert("Bd podczas usuwania recenzji")}},L=({value:z,onChange:P,readonly:A=!1})=>p.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(D=>p.jsx("button",{type:"button",disabled:A,onClick:()=>!A&&P?.(D),onMouseEnter:()=>!A&&d(D),onMouseLeave:()=>!A&&d(0),className:`transition-colors ${A?"cursor-default":"cursor-pointer hover:scale-110"}`,children:p.jsx(qd,{className:`w-6 h-6 ${D<=(A?z:u||z)?"fill-yellow-400 text-yellow-400":"text-gray-400"}`})},D))});return p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8 space-y-6",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Recenzje"}),x&&x.count>0&&p.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[p.jsx("div",{className:"flex",children:[1,2,3,4,5].map(z=>p.jsx(qd,{className:`w-5 h-5 ${z<=Math.round(x.average)?"fill-yellow-400 text-yellow-400":"text-gray-400"}`},z))}),p.jsx("span",{className:"text-lg font-semibold",children:x.average.toFixed(1)}),p.jsxs("span",{className:"text-sm text-foreground-secondary",children:["(",x.count," ",x.count===1?"recenzja":"recenzji",")"]})]})]})}),r&&p.jsx("div",{className:"border border-border rounded-lg p-4 space-y-4",children:T&&!s?p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Twoja recenzja"}),p.jsx(L,{value:T.rating,readonly:!0})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(we,{size:"icon",variant:"ghost",onClick:j,children:p.jsx(nD,{className:"w-4 h-4"})}),p.jsx(we,{size:"icon",variant:"ghost",onClick:I,children:p.jsx(Ll,{className:"w-4 h-4 text-destructive"})})]})]}),T.review&&p.jsx("p",{className:"text-foreground-secondary",children:T.review})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium mb-2",children:"Twoja ocena"}),p.jsx(L,{value:o,onChange:l})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium mb-2",children:"Recenzja (opcjonalnie)"}),p.jsx(tz,{value:h,onChange:z=>m(z.target.value),placeholder:"Podziel si swoj opini...",rows:4,maxLength:500}),p.jsxs("p",{className:"text-xs text-foreground-secondary mt-1",children:[h.length,"/500 znakw"]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(we,{onClick:k,disabled:o===0||S.isPending,children:T?"Zaktualizuj":"Dodaj recenzj"}),s&&p.jsx(we,{variant:"outline",onClick:()=>{i(!1),l(0),m("")},children:"Anuluj"})]})]})}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Wszystkie recenzje"}),w?p.jsx("p",{className:"text-center text-foreground-secondary py-8",children:"adowanie recenzji..."}):(()=>{const z=v?.filter(P=>P.userId!==r?.uid)||[];return z.length>0?z.map(P=>p.jsxs("div",{className:"border border-border rounded-lg p-4 space-y-2",children:[p.jsx("div",{className:"flex items-start justify-between",children:p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:P.userName}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx(L,{value:P.rating,readonly:!0}),p.jsx("span",{className:"text-xs text-foreground-secondary",children:sz(P.createdAt,{addSuffix:!0,locale:iz})})]})]})}),P.review&&p.jsx("p",{className:"text-foreground-secondary",children:P.review})]},P.id)):p.jsx("p",{className:"text-center text-foreground-secondary py-8",children:r?"Brak innych recenzji. Bd pierwszy!":"Brak recenzji"})})()]})]})},Roe=({data:n})=>{const e=is();return p.jsxs("div",{className:"relative h-[50vh] md:h-[60vh] -mx-6 lg:-mx-8 -mt-6 lg:-mt-8 mb-8 overflow-hidden",children:[p.jsx("div",{className:"absolute top-6 left-6 z-10",children:p.jsxs(we,{variant:"ghost",onClick:()=>e("/movies"),className:"gap-2 bg-black/50 hover:bg-black/70 backdrop-blur-sm",children:[p.jsx(tu,{className:"w-4 h-4"}),"Powrt"]})}),p.jsx("img",{src:cn.getImageUrl(n.backdrop_path||n.poster_path,"original"),alt:n.title,className:"w-full h-full object-cover object-top"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 lg:p-8",children:p.jsxs("div",{className:"max-w-4xl",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:n.title}),n.tagline&&p.jsx("p",{className:"text-xl text-foreground-secondary italic mb-6",children:n.tagline})]})})]})};var jw="Checkbox",[Aoe]=so(jw),[Ioe,dE]=Aoe(jw);function Noe(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:u,required:d,value:h="on",internal_do_not_use_render:m}=n,[v,w]=eu({prop:t,defaultProp:s??!1,onChange:u,caller:jw}),[T,x]=b.useState(null),[S,R]=b.useState(null),k=b.useRef(!1),j=T?!!o||!!T.closest("form"):!0,I={checked:v,disabled:i,setChecked:w,control:T,setControl:x,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:k,required:d,defaultChecked:Ol(s)?!1:s,isFormControl:j,bubbleInput:S,setBubbleInput:R};return p.jsx(Ioe,{scope:e,...I,children:Doe(m)?m(I):r})}var az="CheckboxTrigger",lz=b.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:o,disabled:l,checked:u,required:d,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:T}=dE(az,n),x=St(s,h),S=b.useRef(u);return b.useEffect(()=>{const R=i?.form;if(R){const k=()=>m(S.current);return R.addEventListener("reset",k),()=>R.removeEventListener("reset",k)}},[i,m]),p.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Ol(u)?"mixed":u,"aria-required":d,"data-state":fz(u),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:x,onKeyDown:Le(e,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:Le(t,R=>{m(k=>Ol(k)?!0:!k),T&&w&&(v.current=R.isPropagationStopped(),v.current||R.stopPropagation())})})});lz.displayName=az;var hE=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:u,onCheckedChange:d,form:h,...m}=n;return p.jsx(Noe,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:r,form:h,value:u,internal_do_not_use_render:({isFormControl:v})=>p.jsxs(p.Fragment,{children:[p.jsx(lz,{...m,ref:e,__scopeCheckbox:t}),v&&p.jsx(hz,{__scopeCheckbox:t})]})})});hE.displayName=jw;var cz="CheckboxIndicator",uz=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=dE(cz,t);return p.jsx(ji,{present:r||Ol(i.checked)||i.checked===!0,children:p.jsx(Ye.span,{"data-state":fz(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});uz.displayName=cz;var dz="CheckboxBubbleInput",hz=b.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:u,name:d,value:h,form:m,bubbleInput:v,setBubbleInput:w}=dE(dz,n),T=St(t,w),x=y4(i),S=CD(r);b.useEffect(()=>{const k=v;if(!k)return;const j=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(j,"checked").set,z=!s.current;if(x!==i&&L){const P=new Event("click",{bubbles:z});k.indeterminate=Ol(i),L.call(k,Ol(i)?!1:i),k.dispatchEvent(P)}},[v,x,i,s]);const R=b.useRef(Ol(i)?!1:i);return p.jsx(Ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??R.current,required:l,disabled:u,name:d,value:h,form:m,...e,tabIndex:-1,ref:T,style:{...e.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hz.displayName=dz;function Doe(n){return typeof n=="function"}function Ol(n){return n==="indeterminate"}function fz(n){return Ol(n)?"indeterminate":n?"checked":"unchecked"}const S1=b.forwardRef(({className:n,...e},t)=>p.jsx(hE,{ref:t,className:it("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(uz,{className:it("flex items-center justify-center text-current"),children:p.jsx(Vv,{className:"h-4 w-4"})})}));S1.displayName=hE.displayName;function pz({movieId:n,title:e,type:t,year:r}){const{user:s,isAdmin:i}=Ot(),{t:o}=bs(),[l,u]=b.useState(!1),[d,h]=b.useState(!1),[m,v]=b.useState(!1),[w,T]=b.useState([]),[x,S]=b.useState(new Set),[R,k]=b.useState([]),[j,I]=b.useState(!1),[L,z]=b.useState("");if(!i)return null;const P="https://desktop-posj0te.tail771563.ts.net/api",A=async se=>{h(!0);const re=se||e;try{const q=await(await fetch(`${P}/scrape/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:re,type:t==="series"?"serial":"film",year:r})})).json();if(q.success&&q.episodes&&q.episodes.length>0){if(T(q.episodes||[]),t==="series"){const G=[...new Set(q.episodes.map(B=>B.episode.match(/S(\d+)/)?.[0]||""))].filter(Boolean);k(G)}else t==="movie"&&q.episodes.length===1&&S(new Set([q.episodes[0].episode]));u(!0),I(!1),Qt.success(`Znaleziono ${q.episodes.length} odcinkw`,{description:"Wybierz odcinki do pobrania linkw",icon:p.jsx(E_,{className:"w-5 h-5"})})}else se?Qt.error("Nie znaleziono wynikw",{description:"Sprbuj innego tytuu",icon:p.jsx(VP,{className:"w-5 h-5"})}):(I(!0),z(e),Qt.warning("Nie znaleziono wynikw",{description:"Sprbuj wpisa tytu rcznie",icon:p.jsx(_g,{className:"w-5 h-5"})}))}catch(J){console.error("Search error:",J),Qt.error("Nie mona poczy si z scraperem",{description:"Sprawd czy backend dziaa na porcie 5001",icon:p.jsx(_g,{className:"w-5 h-5"}),duration:5e3})}finally{h(!1)}},D=()=>{L.trim()&&A(L.trim())},O=se=>{const re=new Set(x);re.has(se)?re.delete(se):re.add(se),S(re)},V=se=>{const re=w.filter(q=>q.episode.startsWith(se)).map(q=>q.episode),J=new Set(x);re.forEach(q=>J.add(q)),S(J)},F=()=>{S(new Set(w.map(se=>se.episode)))},U=()=>{S(new Set)},X=async()=>{if(x.size===0){Qt.warning("Wybierz przynajmniej jeden odcinek",{icon:p.jsx(_g,{className:"w-5 h-5"})});return}v(!0);try{const se=w.filter(q=>x.has(q.episode)),J=await(await fetch(`${P}/scrape/links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({episodes:se})})).json();if(J.success){for(const q of J.results)if(!(!q.links||q.links.length===0))if(t==="series"){const G=q.episode.match(/S(\d+)E(\d+)/i);if(!G)continue;const B=parseInt(G[1]),W=parseInt(G[2]),Q=`${n.replace("tmdb_","")}_s${B}_e${W}`,ie=q.links[0],ue=yt(Ue,"episodes",Q);await Ms(ue,{tmdbId:parseInt(n.replace("tmdb_","")),type:"tv",seasonNumber:B,episodeNumber:W,title:`Odcinek ${W}`,link:ie.url,quality:ie.quality||"720p",language:ie.version||"PL",links:q.links.map(Z=>({url:Z.url,provider:Z.provider,quality:Z.quality||"720p",version:Z.version||"PL",dateAdded:Z.date_added||""})),addedBy:s?.uid,addedAt:new Date,updatedAt:new Date})}else{const G=`${n.replace("tmdb_","")}_movie`,B=q.links[0],W=yt(Ue,"episodes",G);await Ms(W,{tmdbId:parseInt(n.replace("tmdb_","")),type:"movie",seasonNumber:null,episodeNumber:null,title:e,link:B.url,quality:B.quality||"720p",language:B.version||"PL",links:q.links.map(Q=>({url:Q.url,provider:Q.provider,quality:Q.quality||"720p",version:Q.version||"PL",dateAdded:Q.date_added||""})),addedBy:s?.uid,addedAt:new Date,updatedAt:new Date})}Qt.success(`Pobrano linki dla ${J.results.length} odcinkw`,{description:"Strona zostanie odwieona za chwil...",icon:p.jsx(E_,{className:"w-5 h-5"}),duration:3e3}),u(!1),S(new Set),setTimeout(()=>{window.location.reload()},2e3)}else Qt.error("Nie udao si pobra linkw",{description:J.error||"Sprawd logi w konsoli",icon:p.jsx(VP,{className:"w-5 h-5"})})}catch(se){console.error("Scrape error:",se),Qt.error("Nie mona pobra linkw",{description:"Sprawd czy backend dziaa i czy jeste zalogowany",icon:p.jsx(_g,{className:"w-5 h-5"}),duration:5e3})}finally{v(!1)}};return p.jsxs(p.Fragment,{children:[p.jsx(we,{onClick:()=>A(),disabled:d,variant:"outline",size:"sm",children:d?p.jsxs(p.Fragment,{children:[p.jsx(Sl,{className:"mr-2 h-4 w-4 animate-spin"}),"Wyszukiwanie..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Ml,{className:"mr-2 h-4 w-4"}),"Przeszukaj"]})}),p.jsx(Yo,{open:j,onOpenChange:I,children:p.jsxs(ro,{className:"max-w-md",children:[p.jsx(Na,{children:p.jsx(Da,{children:"Wpisz tytu rcznie"})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:['Nie znaleziono wynikw dla "',e,'". Sprbuj wpisa tytu w innej formie.']}),p.jsx(xs,{value:L,onChange:se=>z(se.target.value),placeholder:"Wpisz tytu...",onKeyDown:se=>{se.key==="Enter"&&D()}}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx(we,{variant:"outline",onClick:()=>I(!1),children:"Anuluj"}),p.jsx(we,{onClick:D,disabled:d||!L.trim(),children:d?p.jsxs(p.Fragment,{children:[p.jsx(Sl,{className:"mr-2 h-4 w-4 animate-spin"}),"Szukam..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Ml,{className:"mr-2 h-4 w-4"}),"Szukaj"]})})]})]})]})}),p.jsx(Yo,{open:l,onOpenChange:u,children:p.jsxs(ro,{className:"max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[p.jsx(Na,{className:"flex-shrink-0",children:p.jsxs(Da,{children:["Wybierz ",t==="series"?"odcinki":"film"," do pobrania"]})}),p.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto",children:t==="movie"&&w.length===1?p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{className:"bg-primary/10 border-2 border-primary rounded-lg p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(S1,{checked:x.has(w[0].episode),onCheckedChange:()=>O(w[0].episode),className:"h-6 w-6"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold",children:w[0].title}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Gotowy do pobrania linkw"})]})]}),p.jsx(FP,{className:"w-8 h-8 text-primary"})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:'Kliknij "Pobierz linki" aby pobra wszystkie dostpne linki streamingowe dla tego filmu.'})]})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-2 flex-wrap",children:[p.jsx(we,{onClick:F,variant:"outline",size:"sm",children:o("common.selectAll")}),p.jsx(we,{onClick:U,variant:"outline",size:"sm",children:o("common.deselectAll")}),t==="series"&&R.map(se=>p.jsxs(we,{onClick:()=>V(se),variant:"outline",size:"sm",children:["Zaznacz ",se]},se))]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:w.map(se=>p.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded hover:bg-accent cursor-pointer",onClick:()=>O(se.episode),children:[p.jsx(S1,{checked:x.has(se.episode),onCheckedChange:()=>O(se.episode)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"font-medium text-sm",children:se.episode}),p.jsx("div",{className:"text-xs text-muted-foreground truncate",children:se.title})]})]},se.episode))})]})}),p.jsxs("div",{className:"flex items-center justify-between pt-4 border-t flex-shrink-0",children:[p.jsxs("div",{className:"text-sm text-muted-foreground",children:["Wybrano: ",x.size," / ",w.length]}),p.jsx(we,{onClick:X,disabled:m||x.size===0,children:m?p.jsxs(p.Fragment,{children:[p.jsx(Sl,{className:"mr-2 h-4 w-4 animate-spin"}),"Pobieranie..."]}):p.jsxs(p.Fragment,{children:[p.jsx(FP,{className:"mr-2 h-4 w-4"}),"Pobierz linki (",x.size,")"]})})]})]})})]})}const joe=({data:n})=>p.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[p.jsx(cE,{tmdbId:n.id,type:"movie",title:n.title,posterPath:n.poster_path}),p.jsx(pz,{movieId:`tmdb_${n.id}`,title:n.title,type:"movie",year:n.release_date?new Date(n.release_date).getFullYear():void 0}),n.vote_average>0&&p.jsxs("div",{className:"flex items-center gap-2 bg-primary/20 px-4 py-2 rounded-lg",children:[p.jsx(qd,{className:"w-5 h-5 text-primary fill-current"}),p.jsx("span",{className:"text-2xl font-bold",children:n.vote_average.toFixed(1)}),p.jsx("span",{className:"text-foreground-secondary text-sm",children:"/ 10"})]}),n.release_date&&p.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[p.jsx(JN,{className:"w-5 h-5"}),p.jsx("span",{className:"text-lg",children:new Date(n.release_date).getFullYear()})]}),n.runtime&&p.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[p.jsx(eD,{className:"w-5 h-5"}),p.jsxs("span",{className:"text-lg",children:[n.runtime," min"]})]}),n.status&&p.jsx("div",{className:"px-4 py-2 bg-background-secondary rounded-lg text-lg",children:n.status})]}),Ooe=({data:n})=>{const{t:e}=bs(),t=[];return n.popularity>0&&t.push({label:e("common.rating"),value:n.popularity.toFixed(0)}),n.vote_count>0&&t.push({label:e("common.rating"),value:n.vote_count.toLocaleString()}),n.budget&&n.budget>0&&t.push({label:e("details.budget"),value:`$${(n.budget/1e6).toFixed(0)}M`}),n.revenue&&n.revenue>0&&t.push({label:e("details.revenue"),value:`$${(n.revenue/1e6).toFixed(0)}M`}),n.spoken_languages&&n.spoken_languages.length>0&&t.push({label:e("details.originalLanguage"),value:n.spoken_languages.map(r=>r.name).join(", ")}),n.production_companies&&n.production_companies.length>0&&t.push({label:e("details.productionCompanies"),value:n.production_companies[0].name}),t.length===0?null:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((r,s)=>p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6",children:[p.jsx("h3",{className:"text-sm text-foreground-secondary mb-2",children:r.label}),p.jsx("p",{className:"text-2xl font-bold",children:r.value})]},s))})},Moe=()=>{const{id:n}=Hv(),e=is(),{data:t,isLoading:r,error:s}=Bre(parseInt(n||"0")),{t:i}=bs(),{isAdmin:o}=Ot();return r?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s||!t?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[p.jsx("p",{className:"text-foreground-secondary",children:i("movies.noResults")}),p.jsxs(we,{onClick:()=>e("/movies"),children:[p.jsx(tu,{className:"w-4 h-4 mr-2"}),i("common.back")]})]}):p.jsxs(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen",children:[p.jsx(Roe,{data:t}),p.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[p.jsx(joe,{data:t}),t.genres&&t.genres.length>0&&p.jsx("div",{className:"flex flex-wrap gap-3",children:t.genres.map(l=>p.jsx("span",{className:"px-4 py-2 bg-primary/10 text-primary rounded-full text-base font-medium",children:l.name},l.id))}),o&&p.jsx(Yse,{tmdbId:t.id,movieTitle:t.title}),p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:i("common.overview")}),p.jsx("p",{className:"text-foreground-secondary text-lg leading-relaxed",children:t.overview||i("common.noDescription")})]}),p.jsx(Ooe,{data:t}),p.jsx(oz,{tmdbId:t.id,type:"movie",mediaTitle:t.title})]})]})},Loe=({tmdbId:n,seasonNumber:e,episodeCount:t,seasonName:r})=>{const{isAdmin:s}=Ot(),{t:i}=bs(),[o,l]=b.useState(!1),[u,d]=b.useState(1),[h,m]=b.useState(""),[v,w]=b.useState("1080p"),[T,x]=b.useState("PL"),[S,R]=b.useState(!1),[k,j]=b.useState(""),[I,L]=b.useState(!1),[z,P]=b.useState(null),[A,D]=b.useState(!1),[O,V]=b.useState(null),{data:F,isLoading:U}=Bse(n,e),{data:X}=qre(n,e),se=Wse(),re=qse();b.useEffect(()=>{if(o||S){HF();const Z=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${Z}px`}else Av(),document.body.style.overflow="",document.body.style.paddingRight="";return()=>{Av(),document.body.style.overflow="",document.body.style.paddingRight=""}},[o,S]);const J=(Z,me)=>{me.preventDefault(),j(Z),R(!0)},q=async()=>{if(!h.trim())return;const Z=X?.episodes?.find(me=>me.episode_number===u)?.name||"";try{await se.mutateAsync({tmdbId:n,seasonNumber:e,episodeNumber:u,link:h.trim(),options:{title:Z,quality:v,language:T}}),m(""),l(!1),Qt.success(i("common.success"),{description:`${i("details.episode")} ${u} - ${v}`})}catch(me){console.error("Error adding episode link:",me),Qt.error(i("common.error"),{description:"Sprbuj ponownie"})}},G=Z=>{V(Z),D(!0)},B=async()=>{if(O===null)return;D(!1);const Z=O;V(null),Qt.promise(re.mutateAsync({tmdbId:n,seasonNumber:e,episodeNumber:Z}),{loading:"Usuwanie wszystkich linkw...",success:"Wszystkie linki usunite",error:"Bd podczas usuwania"})},W=(Z,me)=>{P({episodeNumber:Z,linkIndex:me}),L(!0)},Q=async()=>{if(!z)return;const{episodeNumber:Z,linkIndex:me}=z,ce=ue.get(Z);!ce||!ce.links||(L(!1),P(null),Qt.promise((async()=>{const xe=ce.links.filter((Ze,Oe)=>Oe!==me);if(xe.length===0){await re.mutateAsync({tmdbId:n,seasonNumber:e,episodeNumber:Z});return}const Ee=`${n}_s${e}_e${Z}`,Fe=yt(Ue,"episodes",Ee),ze=xe[0];await Ms(Fe,{...ce,link:ze.url,quality:ze.quality||"720p",language:ze.version||"PL",links:xe,updatedAt:new Date},{merge:!0}),await re.mutateAsync({tmdbId:n,seasonNumber:e,episodeNumber:Z})})(),{loading:"Usuwanie linku...",success:"Link usunity",error:"Bd podczas usuwania linku"}))},ie=Array.from({length:t},(Z,me)=>me+1),ue=new Map(F?.map(Z=>[Z.episodeNumber,Z])||[]);return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-lg font-semibold",children:r}),s&&p.jsxs(Yo,{open:o,onOpenChange:l,modal:!0,children:[p.jsx(fm,{asChild:!0,children:p.jsxs(we,{size:"sm",variant:"outline",children:[p.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Dodaj link"]})}),p.jsxs(ro,{className:"max-h-[90vh] overflow-y-auto",children:[p.jsxs(Na,{children:[p.jsx(Da,{children:"Dodaj link do odcinka"}),p.jsxs(hu,{children:[r," - Dodaj lub zaktualizuj link do odcinka"]})]}),p.jsxs("div",{className:"space-y-4 overflow-visible",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"episode",children:"Odcinek"}),p.jsxs(Fd,{value:u.toString(),onValueChange:Z=>d(parseInt(Z)),children:[p.jsx(Jc,{id:"episode",children:p.jsx(zd,{})}),p.jsx(Zc,{className:"max-h-[300px]",position:"popper",sideOffset:5,children:ie.map(Z=>p.jsxs(xr,{value:Z.toString(),children:["Odcinek ",Z,ue.has(Z)&&" "]},Z))})]})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"link",children:"Link do odcinka"}),p.jsx(xs,{id:"link",value:h,onChange:Z=>m(Z.target.value),placeholder:"https://...",type:"url"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"quality",children:"Jako"}),p.jsxs(Fd,{value:v,onValueChange:w,children:[p.jsx(Jc,{id:"quality",children:p.jsx(zd,{})}),p.jsxs(Zc,{children:[p.jsx(xr,{value:"2160p",children:"4K (2160p)"}),p.jsx(xr,{value:"1080p",children:"Full HD (1080p)"}),p.jsx(xr,{value:"720p",children:"HD (720p)"}),p.jsx(xr,{value:"480p",children:"SD (480p)"})]})]})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"language",children:"Jzyk"}),p.jsxs(Fd,{value:T,onValueChange:x,children:[p.jsx(Jc,{id:"language",children:p.jsx(zd,{})}),p.jsxs(Zc,{children:[p.jsx(xr,{value:"PL",children:"Polski"}),p.jsx(xr,{value:"ENG",children:"Angielski"}),p.jsx(xr,{value:"PL/ENG",children:"PL/ENG"})]})]})]})]}),p.jsx(we,{onClick:q,disabled:!h.trim()||se.isPending,className:"w-full",children:ue.has(u)?"Zaktualizuj link":"Dodaj link"})]})]})]})]}),U?p.jsx("div",{className:"text-center py-4 text-foreground-secondary",children:"adowanie..."}):F&&F.length>0?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:F.map(Z=>p.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border hover:border-primary/50 transition-colors group",children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("h4",{className:"font-semibold",children:["Odcinek ",Z.episodeNumber]}),Z.title&&Z.title!==`Odcinek ${Z.episodeNumber}`&&p.jsx("p",{className:"text-sm text-foreground-secondary line-clamp-1 mt-0.5",children:Z.title})]}),s&&p.jsx(we,{size:"icon",variant:"ghost",onClick:()=>G(Z.episodeNumber),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(Ll,{className:"w-4 h-4 text-destructive"})})]}),Z.links&&Z.links.length>0?p.jsx("div",{className:"space-y-1 mt-2",children:Z.links.map((me,ce)=>p.jsxs("div",{className:"flex items-start gap-1 hover:bg-primary/5 p-1 rounded transition-colors group/link",children:[p.jsxs("button",{onClick:xe=>J(me.url,xe),className:"flex items-start gap-1.5 text-xs text-primary hover:underline flex-1 min-w-0 text-left",children:[p.jsx(Ay,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),p.jsxs("span",{className:"flex-1 min-w-0 break-words",children:[p.jsx("span",{className:"font-medium",children:me.provider}),me.version&&p.jsxs("span",{className:"text-foreground-secondary",children:["  ",me.version]}),me.quality&&p.jsxs("span",{className:"text-foreground-secondary",children:["  ",me.quality]})]})]}),p.jsx("a",{href:me.url,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0",title:"Otwrz w nowej karcie",children:p.jsx(Ry,{className:"w-2.5 h-2.5 text-muted-foreground hover:text-primary transition-colors"})}),s&&p.jsx(we,{size:"icon",variant:"ghost",onClick:xe=>{xe.stopPropagation(),W(Z.episodeNumber,ce)},className:"h-5 w-5 flex-shrink-0 opacity-0 group-hover/link:opacity-100 transition-opacity",children:p.jsx(Ll,{className:"w-2.5 h-2.5 text-destructive"})})]},ce))}):Z.link?p.jsxs("a",{href:Z.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-primary hover:underline mt-2",children:[p.jsx(Ay,{className:"w-4 h-4"}),"Odtwrz",p.jsx(Ry,{className:"w-3 h-3"})]}):p.jsx("p",{className:"text-xs text-foreground-secondary mt-2",children:"Brak dostpnych linkw"})]},Z.id))}):p.jsxs("div",{className:"text-center py-8 text-foreground-secondary",children:[p.jsx("p",{children:"Brak dodanych linkw do odcinkw"}),s&&p.jsx("p",{className:"text-sm mt-2",children:'Kliknij "Dodaj link" aby doda pierwszy odcinek'})]}),p.jsx(Yo,{open:S,onOpenChange:R,children:p.jsx(ro,{className:"max-w-7xl w-full h-[90vh] p-0",children:p.jsx("div",{className:"relative w-full h-full bg-black",children:p.jsx("iframe",{src:k,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"Video Player"})})})}),p.jsx(Iv,{open:I,onOpenChange:L,children:p.jsxs($p,{children:[p.jsxs(Bp,{children:[p.jsx(qp,{children:"Usun link?"}),p.jsx(Hp,{children:"Czy na pewno chcesz usun ten link? Ta operacja jest nieodwracalna."})]}),p.jsxs(Wp,{children:[p.jsx(Gp,{children:"Anuluj"}),p.jsx(Kp,{onClick:Q,children:"Usu"})]})]})}),p.jsx(Iv,{open:A,onOpenChange:D,children:p.jsxs($p,{children:[p.jsxs(Bp,{children:[p.jsx(qp,{children:"Usun wszystkie linki?"}),p.jsx(Hp,{children:"Czy na pewno chcesz usun wszystkie linki tego odcinka? Ta operacja jest nieodwracalna."})]}),p.jsxs(Wp,{children:[p.jsx(Gp,{children:"Anuluj"}),p.jsx(Kp,{onClick:B,children:"Usu wszystkie"})]})]})})]})},Voe=()=>{const{id:n}=Hv(),e=is(),{data:t,isLoading:r,error:s}=Wre(parseInt(n||"0")),[i,o]=b.useState(null),[l,u]=b.useState(!1),{t:d}=bs(),{isAdmin:h}=Ot();return r?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s||!t?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[p.jsx("p",{className:"text-foreground-secondary",children:d("series.noResults")}),p.jsxs(we,{onClick:()=>e("/series"),children:[p.jsx(tu,{className:"w-4 h-4 mr-2"}),d("common.back")]})]}):p.jsxs(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen",children:[p.jsxs("div",{className:"relative h-[50vh] md:h-[60vh] -mx-6 lg:-mx-8 -mt-6 lg:-mt-8 mb-8 overflow-hidden",children:[p.jsx("div",{className:"absolute top-6 left-6 z-10",children:p.jsxs(we,{variant:"ghost",onClick:()=>e("/series"),className:"gap-2 bg-black/50 hover:bg-black/70 backdrop-blur-sm",children:[p.jsx(tu,{className:"w-4 h-4"}),d("common.back")]})}),p.jsx("img",{src:cn.getImageUrl(t.backdrop_path||t.poster_path,"original"),alt:t.name,className:"w-full h-full object-cover object-top"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 lg:p-8",children:p.jsxs("div",{className:"max-w-4xl",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:t.name}),t.tagline&&p.jsx("p",{className:"text-xl text-foreground-secondary italic mb-6",children:t.tagline})]})})]}),p.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[p.jsx(cE,{tmdbId:t.id,type:"tv",title:t.name,posterPath:t.poster_path}),p.jsx(pz,{movieId:`tmdb_${t.id}`,title:t.name,type:"series",year:t.first_air_date?new Date(t.first_air_date).getFullYear():void 0}),t.vote_average>0&&p.jsxs("div",{className:"flex items-center gap-2 bg-primary/20 px-4 py-2 rounded-lg",children:[p.jsx(qd,{className:"w-5 h-5 text-primary fill-current"}),p.jsx("span",{className:"text-2xl font-bold",children:t.vote_average.toFixed(1)}),p.jsx("span",{className:"text-foreground-secondary text-sm",children:"/ 10"})]}),t.first_air_date&&p.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[p.jsx(JN,{className:"w-5 h-5"}),p.jsx("span",{className:"text-lg",children:new Date(t.first_air_date).getFullYear()})]}),t.episode_run_time&&t.episode_run_time[0]&&p.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[p.jsx(eD,{className:"w-5 h-5"}),p.jsxs("span",{className:"text-lg",children:[t.episode_run_time[0]," min"]})]}),t.status&&p.jsx("div",{className:"px-4 py-2 bg-background-secondary rounded-lg text-lg",children:t.status})]}),t.genres&&t.genres.length>0&&p.jsx("div",{className:"flex flex-wrap gap-3",children:t.genres.map(m=>p.jsx("span",{className:"px-4 py-2 bg-primary/10 text-primary rounded-full text-base font-medium",children:m.name},m.id))}),t.number_of_seasons&&t.number_of_seasons>0&&p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Sezony i Odcinki"}),p.jsx("div",{className:"space-y-4",children:t.seasons?.filter(m=>m.season_number>0).slice(0,l?void 0:3).map(m=>p.jsxs("div",{className:"bg-background rounded-lg border border-border overflow-hidden",children:[p.jsxs("button",{onClick:()=>o(i===m.season_number?null:m.season_number),className:"w-full p-4 flex items-center gap-4 hover:bg-background/80 transition-colors",children:[m.poster_path&&p.jsx("img",{src:cn.getImageUrl(m.poster_path,"w200"),alt:m.name,className:"w-12 h-18 object-cover rounded"}),p.jsxs("div",{className:"flex-1 text-left",children:[p.jsx("h3",{className:"font-semibold text-lg",children:m.name}),p.jsxs("p",{className:"text-sm text-foreground-secondary",children:[m.episode_count," ",m.episode_count===1?"odcinek":"odcinkw",m.air_date&&`  ${new Date(m.air_date).getFullYear()}`]})]}),p.jsx("div",{className:"text-foreground-secondary",children:i===m.season_number?"":""})]}),i===m.season_number&&h&&p.jsx("div",{className:"p-4 border-t border-border",children:p.jsx(Loe,{tmdbId:t.id,seasonNumber:m.season_number,episodeCount:m.episode_count,seasonName:m.name})})]},m.id))}),t.seasons&&t.seasons.filter(m=>m.season_number>0).length>3&&p.jsx("div",{className:"mt-4 flex justify-center",children:p.jsx(we,{variant:"outline",onClick:()=>u(!l),className:"w-full sm:w-auto",children:l?p.jsx(p.Fragment,{children:d("common.showLess")}):p.jsxs(p.Fragment,{children:[d("common.showMore")," (",t.seasons.filter(m=>m.season_number>0).length,")"]})})}),p.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:p.jsxs("p",{className:"text-foreground-secondary",children:[p.jsx("span",{className:"font-semibold",children:t.number_of_seasons})," ",t.number_of_seasons===1?"sezon":"sezonw"," ",p.jsx("span",{className:"font-semibold ml-1",children:t.number_of_episodes})," ",t.number_of_episodes===1?"odcinek":"odcinkw"," cznie"]})})]}),p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:d("common.overview")}),p.jsx("p",{className:"text-foreground-secondary text-lg leading-relaxed",children:t.overview||d("common.noDescription")})]}),(()=>{const m=[];return t.popularity>0&&m.push({label:"Popularno",value:t.popularity.toFixed(0)}),t.vote_count>0&&m.push({label:"Liczba gosw",value:t.vote_count.toLocaleString()}),t.spoken_languages&&t.spoken_languages.length>0&&m.push({label:"Jzyki",value:t.spoken_languages.map(v=>v.name).join(", ")}),t.production_companies&&t.production_companies.length>0&&m.push({label:"Produkcja",value:t.production_companies[0].name}),m.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((v,w)=>p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6",children:[p.jsx("h3",{className:"text-sm text-foreground-secondary mb-2",children:v.label}),p.jsx("p",{className:"text-2xl font-bold",children:v.value})]},w))}):null})(),p.jsx(oz,{tmdbId:t.id,type:"tv",mediaTitle:t.name})]})]})},Foe=()=>{const{t:n}=bs(),e=is(),{data:t,isLoading:r}=mm(),s=YF(),i=Nre(),o=Dre(),[l,u]=b.useState(""),[d,h]=b.useState(""),[m,v]=b.useState(null),[w,T]=b.useState(!1),[x,S]=b.useState(!1),R=async()=>{if(l.trim())try{await s.mutateAsync({name:l.trim(),description:d.trim()||void 0}),u(""),h(""),T(!1)}catch(I){console.error("Error creating collection:",I)}},k=async()=>{if(!(!m||!m.name.trim()))try{await o.mutateAsync({collectionId:m.id,updates:{name:m.name.trim(),description:m.description?.trim()||void 0}}),v(null),S(!1)}catch(I){console.error("Error updating collection:",I)}},j=async I=>{if(confirm("Czy na pewno chcesz usun t kolekcj? Wszystkie elementy zostan usunite."))try{await i.mutateAsync(I)}catch(L){console.error("Error deleting collection:",L)}};return r?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):p.jsxs(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:n("collections.myCollections")}),p.jsx("p",{className:"text-foreground-secondary",children:n("collections.myCollections")})]}),p.jsxs(Yo,{open:w,onOpenChange:T,children:[p.jsx(fm,{asChild:!0,children:p.jsxs(we,{children:[p.jsx(Wd,{className:"w-4 h-4 mr-2"}),n("collections.createNew")]})}),p.jsxs(ro,{children:[p.jsxs(Na,{children:[p.jsx(Da,{children:n("collections.create")}),p.jsx(hu,{children:"Nadaj nazw swojej nowej kolekcji"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"name",children:n("collections.name")}),p.jsx(xs,{id:"name",value:l,onChange:I=>u(I.target.value),placeholder:n("collections.name"),onKeyDown:I=>I.key==="Enter"&&R()})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"description",children:n("collections.description")}),p.jsx(xs,{id:"description",value:d,onChange:I=>h(I.target.value),placeholder:"Opis kolekcji"})]}),p.jsx(we,{onClick:R,disabled:!l.trim()||s.isPending,className:"w-full",children:n("collections.save")})]})]})]})]}),!t||t.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[p.jsx(J5,{className:"w-20 h-20 text-foreground-secondary mb-4"}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Brak kolekcji"}),p.jsx("p",{className:"text-foreground-secondary mb-6",children:"Utwrz swoj pierwsz kolekcj, aby zacz organizowa filmy i seriale"}),p.jsxs(we,{onClick:()=>T(!0),children:[p.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Utwrz pierwsz kolekcj"]})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(I=>p.jsxs(fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-background-secondary rounded-xl p-6 hover:bg-background-secondary/80 transition-colors cursor-pointer group",onClick:()=>e(`/collections/${I.id}`),children:[p.jsx("div",{className:"flex items-start justify-between mb-4",children:p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-xl font-bold mb-1 group-hover:text-primary transition-colors",children:I.name}),I.description&&p.jsx("p",{className:"text-sm text-foreground-secondary line-clamp-2",children:I.description})]})}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("span",{className:"text-sm text-foreground-secondary",children:[I.itemCount," ",I.itemCount===1?"element":"elementw"]}),p.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx(we,{size:"icon",variant:"ghost",onClick:L=>{L.stopPropagation(),v({id:I.id,name:I.name,description:I.description}),S(!0)},children:p.jsx(nD,{className:"w-4 h-4"})}),p.jsx(we,{size:"icon",variant:"ghost",onClick:L=>{L.stopPropagation(),j(I.id)},children:p.jsx(Ll,{className:"w-4 h-4"})})]})]})]},I.id))}),p.jsx(Yo,{open:x,onOpenChange:S,children:p.jsxs(ro,{children:[p.jsxs(Na,{children:[p.jsx(Da,{children:"Edytuj kolekcj"}),p.jsx(hu,{children:"Zmie nazw lub opis kolekcji"})]}),m&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"edit-name",children:"Nazwa"}),p.jsx(xs,{id:"edit-name",value:m.name,onChange:I=>v({...m,name:I.target.value}),placeholder:n("collections.name")})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"edit-description",children:"Opis (opcjonalnie)"}),p.jsx(xs,{id:"edit-description",value:m.description||"",onChange:I=>v({...m,description:I.target.value}),placeholder:"Opis kolekcji"})]}),p.jsx(we,{onClick:k,disabled:!m.name.trim()||o.isPending,className:"w-full",children:"Zapisz zmiany"})]})]})})]})},zoe=()=>{const{id:n}=Hv(),e=is(),{t}=bs(),{data:r}=mm(),{data:s,isLoading:i}=Rre(n||""),o=Ire(),l=r?.find(h=>h.id===n),u=async h=>{if(n)try{await o.mutateAsync({collectionId:n,itemId:h})}catch(m){console.error("Error removing item:",m)}},d=h=>{h.type==="movie"?e(`/movie/${h.tmdbId}`):e(`/series/${h.tmdbId}`)};return i?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):p.jsxs(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs(we,{variant:"ghost",onClick:()=>e("/collections"),children:[p.jsx(tu,{className:"w-4 h-4 mr-2"}),t("common.back")]})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:l?.name||t("collections.title")}),l?.description&&p.jsx("p",{className:"text-foreground-secondary",children:l.description}),p.jsxs("p",{className:"text-sm text-foreground-secondary mt-2",children:[s?.length||0," ",t("collections.items")]})]}),!s||s.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[p.jsx("p",{className:"text-foreground-secondary mb-4",children:t("collections.noCollections")}),p.jsx("p",{className:"text-sm text-foreground-secondary",children:t("collections.createFirst")})]}):p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:s.map(h=>p.jsxs(fn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative",children:[p.jsxs("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden cursor-pointer",onClick:()=>d(h),children:[p.jsx("img",{src:h.posterPath?cn.getImageUrl(h.posterPath,"w500"):"https://via.placeholder.com/500x750?text=No+Image",alt:h.title,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),p.jsx(we,{size:"icon",variant:"destructive",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:m=>{m.stopPropagation(),u(h.id)},children:p.jsx(Ll,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"mt-2",children:[p.jsx("h3",{className:"font-medium text-sm line-clamp-2 group-hover:text-primary transition-colors",children:h.title}),p.jsx("p",{className:"text-xs text-foreground-secondary",children:h.type==="movie"?t("movies.title"):t("series.title")})]})]},h.id))})]})},Uoe=()=>{const{isAdmin:n}=Ot(),e=is(),{t}=bs(),[r,s]=b.useState([]),[i,o]=b.useState(!0);b.useEffect(()=>{if(!n){e("/");return}l()},[n,e]);const l=async()=>{try{const d=Xn(Ue,"users"),h=Ci(d,Hf("createdAt","desc")),v=(await Yn(h)).docs.map(w=>{const T=w.data();return{uid:T.uid,email:T.email,displayName:T.displayName,role:T.role||"user",createdAt:T.createdAt?.toDate()||new Date,lastLogin:T.lastLogin?.toDate()||new Date}});s(v)}catch(d){console.error("Error loading users:",d)}finally{o(!1)}},u=async(d,h)=>{try{await yb.updateUserRole(d,h),s(r.map(m=>m.uid===d?{...m,role:h}:m))}catch(m){console.error("Error updating role:",m),alert("Bd podczas zmiany roli")}};return n?i?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):p.jsxs(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(k_,{className:"w-8 h-8 text-primary"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold",children:t("admin.userManagement")}),p.jsx("p",{className:"text-foreground-secondary",children:t("admin.title")})]})]}),p.jsx("div",{className:"bg-background-secondary rounded-xl overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-background border-b border-border",children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left p-4 font-semibold",children:t("profile.user")}),p.jsx("th",{className:"text-left p-4 font-semibold",children:t("profile.email")}),p.jsx("th",{className:"text-left p-4 font-semibold",children:t("admin.role")}),p.jsx("th",{className:"text-left p-4 font-semibold",children:"Utworzono"}),p.jsx("th",{className:"text-left p-4 font-semibold",children:"Ostatnie logowanie"})]})}),p.jsx("tbody",{children:r.map(d=>p.jsxs("tr",{className:"border-b border-border hover:bg-background/50",children:[p.jsx("td",{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:d.role==="admin"?p.jsx(C_,{className:"w-5 h-5 text-primary"}):p.jsx(No,{className:"w-5 h-5 text-foreground-secondary"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:d.displayName||"Brak nazwy"}),p.jsxs("p",{className:"text-xs text-foreground-secondary",children:[d.uid.slice(0,8),"..."]})]})]})}),p.jsx("td",{className:"p-4 text-foreground-secondary",children:d.email}),p.jsx("td",{className:"p-4",children:p.jsxs(Fd,{value:d.role,onValueChange:h=>u(d.uid,h),children:[p.jsx(Jc,{className:"w-32",children:p.jsx(zd,{})}),p.jsxs(Zc,{children:[p.jsx(xr,{value:"user",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(No,{className:"w-4 h-4"}),"User"]})}),p.jsx(xr,{value:"admin",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(C_,{className:"w-4 h-4"}),"Admin"]})})]})]})}),p.jsx("td",{className:"p-4 text-foreground-secondary text-sm",children:d.createdAt.toLocaleDateString("pl-PL")}),p.jsx("td",{className:"p-4 text-foreground-secondary text-sm",children:d.lastLogin.toLocaleDateString("pl-PL")})]},d.uid))})]})})}),p.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-6",children:[p.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[p.jsx(k_,{className:"w-5 h-5"}),"Informacje o rolach"]}),p.jsxs("ul",{className:"space-y-2 text-sm text-foreground-secondary",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"User"})," - Standardowy uytkownik z dostpem do filmw, seriali i kolekcji"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Admin"})," - Peny dostp + zarzdzanie uytkownikami"]})]})]})]}):null},$oe=({review:n})=>{const[e,t]=b.useState("");return b.useEffect(()=>{(async()=>{try{if(n.type==="movie"){const s=await cn.getMovieDetails(n.tmdbId);t(s.title);const i=yt(Ue,"reviews",n.id);await Kf(i,{mediaTitle:s.title})}else{const s=await cn.getTVShowDetails(n.tmdbId);t(s.name||"");const i=yt(Ue,"reviews",n.id);await Kf(i,{mediaTitle:s.name})}}catch(s){console.error("Error fetching title:",s),t(`${n.type==="movie"?"Film":"Serial"} #${n.tmdbId}`)}})()},[n]),e?p.jsx("span",{className:"text-sm text-primary font-medium",children:e}):null},Boe=()=>{const{userId:n}=Hv(),e=is(),{data:t,isLoading:r}=Ln({queryKey:["user-profile",n],queryFn:async()=>{const u=await js(yt(Ue,"users",n));if(!u.exists())throw new Error("User not found");return u.data()},enabled:!!n}),{data:s,isLoading:i}=Ln({queryKey:["user-collections",n],queryFn:async()=>{const u=Xn(Ue,"users",n,"collections");return(await Yn(u)).docs.map(h=>({id:h.id,...h.data()}))},enabled:!!n,staleTime:300*1e3}),{data:o}=Ln({queryKey:["all-collection-items",n,s?.map(u=>u.id)],queryFn:async()=>{if(!s||s.length===0)return{};const u={};return await Promise.all(s.map(async d=>{const h=Xn(Ue,"users",n,"collections",d.id,"items"),m=await Yn(h);u[d.id]=m.docs.slice(0,6).map(v=>v.data())})),u},enabled:!!n&&!!s&&s.length>0,staleTime:300*1e3}),{data:l}=Ln({queryKey:["user-reviews",n],queryFn:()=>Dh.getUserReviews(n),enabled:!!n,staleTime:300*1e3});return r?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?p.jsxs(fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs(we,{variant:"ghost",onClick:()=>e(-1),children:[p.jsx(tu,{className:"w-4 h-4 mr-2"}),"Powrt"]})}),p.jsxs("div",{className:"bg-background-secondary rounded-xl p-8 flex items-center gap-6",children:[p.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/20 flex items-center justify-center",children:p.jsx(No,{className:"w-12 h-12 text-primary"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:t.displayName}),p.jsx("p",{className:"text-foreground-secondary",children:t.email})]})]}),l&&l.length>0&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(eU,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:"Recenzje"}),p.jsxs("span",{className:"text-foreground-secondary",children:["(",l.length,")"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(u=>(u.mediaTitle,p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 space-y-3 cursor-pointer hover:bg-secondary/50 transition-colors",onClick:()=>e(u.type==="movie"?`/movie/${u.tmdbId}`:`/series/${u.tmdbId}`),children:[p.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(d=>p.jsx(qd,{className:`w-5 h-5 ${d<=u.rating?"fill-yellow-400 text-yellow-400":"text-gray-400"}`},d)),p.jsx("span",{className:"text-xs text-foreground-secondary ml-2",children:sz(u.createdAt,{addSuffix:!0,locale:iz})})]}),u.review&&p.jsx("p",{className:"text-foreground-secondary line-clamp-3",children:u.review}),u.mediaTitle?p.jsx("p",{className:"text-sm text-primary font-medium",children:u.mediaTitle}):p.jsx($oe,{review:u})]},u.id)))})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(P_,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:"Kolekcje"}),p.jsxs("span",{className:"text-foreground-secondary",children:["(",s?.length||0,")"]})]}),s&&s.length>0?p.jsx("div",{className:"space-y-6",children:s.map(u=>p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"text-2xl font-bold mb-1",children:u.name}),u.description&&p.jsx("p",{className:"text-foreground-secondary",children:u.description}),p.jsxs("p",{className:"text-sm text-foreground-secondary mt-2",children:[u.itemCount," ",u.itemCount===1?"element":"elementw"]})]}),o?.[u.id]&&o[u.id].length>0&&p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:o[u.id].map(d=>p.jsx("div",{onClick:()=>e(d.type==="movie"?`/movie/${d.tmdbId}`:`/series/${d.tmdbId}`),children:p.jsx(Fc,{id:d.tmdbId.toString(),title:d.title,posterUrl:d.posterPath?cn.getImageUrl(d.posterPath,"w500"):"https://via.placeholder.com/500x750?text=No+Image",tmdbId:d.tmdbId,type:d.type,posterPath:d.posterPath})},`${d.tmdbId}-${d.type}`))})]},u.id))}):p.jsxs("div",{className:"text-center py-12 bg-background-secondary rounded-xl",children:[p.jsx(P_,{className:"w-16 h-16 text-foreground-secondary mx-auto mb-4"}),p.jsx("p",{className:"text-foreground-secondary",children:"Ten uytkownik nie ma jeszcze kolekcji"})]})]})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[p.jsx("p",{className:"text-foreground-secondary",children:"Nie znaleziono uytkownika"}),p.jsxs(we,{onClick:()=>e(-1),children:[p.jsx(tu,{className:"w-4 h-4 mr-2"}),"Powrt"]})]})};var x_="rovingFocusGroup.onEntryFocus",Woe={bubbles:!1,cancelable:!0},gm="RovingFocusGroup",[T1,mz,qoe]=C1(gm),[Hoe,gz]=so(gm,[qoe]),[Koe,Goe]=Hoe(gm),yz=b.forwardRef((n,e)=>p.jsx(T1.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(T1.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(Yoe,{...n,ref:e})})}));yz.displayName=gm;var Yoe=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=n,v=b.useRef(null),w=St(e,v),T=_w(i),[x,S]=eu({prop:o,defaultProp:l??null,onChange:u,caller:gm}),[R,k]=b.useState(!1),j=ar(d),I=mz(t),L=b.useRef(!1),[z,P]=b.useState(0);return b.useEffect(()=>{const A=v.current;if(A)return A.addEventListener(x_,j),()=>A.removeEventListener(x_,j)},[j]),p.jsx(Koe,{scope:t,orientation:r,dir:T,loop:s,currentTabStopId:x,onItemFocus:b.useCallback(A=>S(A),[S]),onItemShiftTab:b.useCallback(()=>k(!0),[]),onFocusableItemAdd:b.useCallback(()=>P(A=>A+1),[]),onFocusableItemRemove:b.useCallback(()=>P(A=>A-1),[]),children:p.jsx(Ye.div,{tabIndex:R||z===0?-1:0,"data-orientation":r,...m,ref:w,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{L.current=!0}),onFocus:Le(n.onFocus,A=>{const D=!L.current;if(A.target===A.currentTarget&&D&&!R){const O=new CustomEvent(x_,Woe);if(A.currentTarget.dispatchEvent(O),!O.defaultPrevented){const V=I().filter(re=>re.focusable),F=V.find(re=>re.active),U=V.find(re=>re.id===x),se=[F,U,...V].filter(Boolean).map(re=>re.ref.current);xz(se,h)}}L.current=!1}),onBlur:Le(n.onBlur,()=>k(!1))})})}),vz="RovingFocusGroupItem",wz=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=n,u=Tl(),d=i||u,h=Goe(vz,t),m=h.currentTabStopId===d,v=mz(t),{onFocusableItemAdd:w,onFocusableItemRemove:T,currentTabStopId:x}=h;return b.useEffect(()=>{if(r)return w(),()=>T()},[r,w,T]),p.jsx(T1.ItemSlot,{scope:t,id:d,focusable:r,active:s,children:p.jsx(Ye.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Le(n.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:Le(n.onFocus,()=>h.onItemFocus(d)),onKeyDown:Le(n.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const R=Joe(S,h.orientation,h.dir);if(R!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let j=v().filter(I=>I.focusable).map(I=>I.ref.current);if(R==="last")j.reverse();else if(R==="prev"||R==="next"){R==="prev"&&j.reverse();const I=j.indexOf(S.currentTarget);j=h.loop?Zoe(j,I+1):j.slice(I+1)}setTimeout(()=>xz(j))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});wz.displayName=vz;var Qoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xoe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Joe(n,e,t){const r=Xoe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Qoe[r]}function xz(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function Zoe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var eae=yz,tae=wz,Ow="Tabs",[nae]=so(Ow,[gz]),_z=gz(),[rae,fE]=nae(Ow),bz=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=n,h=_w(l),[m,v]=eu({prop:r,onChange:s,defaultProp:i??"",caller:Ow});return p.jsx(rae,{scope:t,baseId:Tl(),value:m,onValueChange:v,orientation:o,dir:h,activationMode:u,children:p.jsx(Ye.div,{dir:h,"data-orientation":o,...d,ref:e})})});bz.displayName=Ow;var Sz="TabsList",Tz=b.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...s}=n,i=fE(Sz,t),o=_z(t);return p.jsx(eae,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:p.jsx(Ye.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Tz.displayName=Sz;var Ez="TabsTrigger",Cz=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:s=!1,...i}=n,o=fE(Ez,t),l=_z(t),u=Rz(o.baseId,r),d=Az(o.baseId,r),h=r===o.value;return p.jsx(tae,{asChild:!0,...l,focusable:!s,active:h,children:p.jsx(Ye.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:Le(n.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:Le(n.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:Le(n.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!s&&m&&o.onValueChange(r)})})})});Cz.displayName=Ez;var Pz="TabsContent",kz=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:s,children:i,...o}=n,l=fE(Pz,t),u=Rz(l.baseId,r),d=Az(l.baseId,r),h=r===l.value,m=b.useRef(h);return b.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),p.jsx(ji,{present:s||h,children:({present:v})=>p.jsx(Ye.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:d,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:m.current?"0s":void 0},children:v&&i})})});kz.displayName=Pz;function Rz(n,e){return`${n}-trigger-${e}`}function Az(n,e){return`${n}-content-${e}`}var sae=bz,Iz=Tz,Nz=Cz,Dz=kz;const iae=sae,jz=b.forwardRef(({className:n,...e},t)=>p.jsx(Iz,{ref:t,className:it("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));jz.displayName=Iz.displayName;const Oz=b.forwardRef(({className:n,...e},t)=>p.jsx(Nz,{ref:t,className:it("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n),...e}));Oz.displayName=Nz.displayName;const Mz=b.forwardRef(({className:n,...e},t)=>p.jsx(Dz,{ref:t,className:it("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Mz.displayName=Dz.displayName;const oae=()=>{const{user:n,isAdmin:e,signOut:t}=Ot(),r=is(),{t:s,i18n:i}=bs(),o=u=>{i.changeLanguage(u),localStorage.setItem("language",u)},l=async()=>{try{await t(),r("/login")}catch(u){console.error("Error signing out:",u)}};return p.jsxs("div",{className:"space-y-8 max-w-4xl",children:[p.jsx(Aw,{text:s("profile.settings"),className:"text-4xl lg:text-5xl font-bold"}),p.jsxs(iae,{defaultValue:"account",className:"w-full",children:[p.jsx(jz,{className:"grid w-full grid-cols-1 bg-background-secondary",children:p.jsx(Oz,{value:"account",children:s("profile.account")})}),p.jsxs(Mz,{value:"account",className:"space-y-6 mt-6",children:[p.jsxs("div",{className:"bg-background-secondary rounded-lg p-6 border border-border space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-lg font-bold",children:s("profile.accountInfo")}),p.jsx("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${e?"bg-primary/20 text-primary":"bg-background text-foreground-secondary"}`,children:e?p.jsxs(p.Fragment,{children:[p.jsx(C_,{className:"w-4 h-4"}),s("profile.administrator")]}):p.jsxs(p.Fragment,{children:[p.jsx(No,{className:"w-4 h-4"}),s("profile.user")]})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"email",children:s("profile.email")}),p.jsx(xs,{id:"email",type:"email",value:n?.email||"",className:"mt-1.5 bg-background",readOnly:!0})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"name",children:s("profile.name")}),p.jsx(xs,{id:"name",type:"text",value:n?.displayName||"",className:"mt-1.5 bg-background"})]})]})]}),p.jsxs("div",{className:"pt-4 border-t border-border",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:s("profile.preferences")}),p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"language",children:s("profile.language")}),p.jsxs("select",{id:"language",value:i.language,onChange:u=>o(u.target.value),className:"w-full mt-1.5 bg-background border-border rounded-md px-3 py-2 text-sm",children:[p.jsx("option",{value:"pl",children:"Polski"}),p.jsx("option",{value:"en",children:"English"})]})]})})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(we,{variant:"outline",children:s("profile.cancel")}),p.jsx(we,{className:"bg-primary hover:bg-primary-hover",children:s("profile.save")})]})]}),p.jsxs("div",{className:"bg-background-secondary rounded-lg p-6 border border-border",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:s("profile.session")}),p.jsx("p",{className:"text-foreground-secondary mb-4",children:s("profile.sessionDescription")}),p.jsxs(we,{onClick:l,variant:"destructive",className:"w-full sm:w-auto",children:[p.jsx(tD,{className:"w-4 h-4 mr-2"}),s("auth.signOut")]})]})]})]})]})},aae=()=>{const{signInWithGoogle:n,user:e}=Ot(),t=is(),[r,s]=b.useState(!1),{t:i}=bs();b.useEffect(()=>{e&&t("/")},[e,t]);const o=async()=>{s(!0);try{await n()}catch(l){console.error("Login failed:",l);let u="Nie udao si zalogowa. Sprbuj ponownie.";l.code==="auth/configuration-not-found"?u="Bd konfiguracji Firebase. Sprawd czy domena jest autoryzowana w Firebase Console.":l.code==="auth/popup-closed-by-user"?u="Logowanie anulowane.":l.code==="auth/popup-blocked"&&(u="Popup zosta zablokowany przez przegldark."),Qt.error(u)}finally{s(!1)}};return p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:p.jsx(fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:p.jsxs("div",{className:"bg-background-secondary border border-border rounded-2xl p-8 shadow-xl",children:[p.jsx("div",{className:"flex justify-center mb-8",children:p.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary flex items-center justify-center",children:p.jsx(Bd,{className:"w-10 h-10 text-primary-foreground"})})}),p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Archiwum"}),p.jsx("p",{className:"text-foreground-secondary",children:i("auth.loginDescription")})]}),p.jsxs(we,{onClick:o,disabled:r,className:"w-full bg-primary hover:bg-primary-hover text-primary-foreground py-6 text-lg",size:"lg",children:[p.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r?"Logowanie...":i("auth.signInWithGoogle")]}),p.jsx("p",{className:"text-center text-sm text-foreground-secondary mt-6",children:"Logujc si, akceptujesz nasze warunki uytkowania"})]})})})},lae=()=>p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})}),cae=new xB,uae=()=>p.jsx(EB,{client:cae,children:p.jsx(LG,{children:p.jsxs(nB,{children:[p.jsx(FU,{}),p.jsx(y6,{}),p.jsxs(j9,{basename:"/Archiwum/",children:[p.jsx(xre,{}),p.jsx(_re,{}),p.jsxs(P9,{children:[p.jsx(Zs,{path:"/login",element:p.jsx(aae,{})}),p.jsx(Zs,{path:"/",element:p.jsx(To,{children:p.jsx(Qre,{})})}),p.jsx(Zs,{path:"/movies",element:p.jsx(To,{children:p.jsx(Xre,{})})}),p.jsx(Zs,{path:"/series",element:p.jsx(To,{children:p.jsx(Jre,{})})}),p.jsx(Zs,{path:"/movie/:id",element:p.jsx(To,{children:p.jsx(Moe,{})})}),p.jsx(Zs,{path:"/series/:id",element:p.jsx(To,{children:p.jsx(Voe,{})})}),p.jsx(Zs,{path:"/collections",element:p.jsx(To,{children:p.jsx(Foe,{})})}),p.jsx(Zs,{path:"/collections/:id",element:p.jsx(To,{children:p.jsx(zoe,{})})}),p.jsx(Zs,{path:"/admin/users",element:p.jsx(To,{children:p.jsx(Uoe,{})})}),p.jsx(Zs,{path:"/profile/:userId",element:p.jsx(To,{children:p.jsx(Boe,{})})}),p.jsx(Zs,{path:"/profile",element:p.jsx(To,{children:p.jsx(oae,{})})}),p.jsx(Zs,{path:"*",element:p.jsx(lae,{})})]})]})]})})}),dae={dashboard:"Panel",movies:"Filmy",series:"Seriale",collections:"Kolekcje",profile:"Profil",admin:"Admin"},hae={signIn:"Zaloguj si",signInWithGoogle:"Zaloguj si przez Google",signOut:"Wyloguj si",welcome:"Witaj ponownie",loginDescription:"Zaloguj si, aby kontynuowa"},fae={settings:"Ustawienia",account:"Konto",accountInfo:"Informacje o koncie",email:"Email",name:"Imi i nazwisko",preferences:"Preferencje",language:"Jzyk",session:"Sesja",sessionDescription:"Wyloguj si ze swojego konta",cancel:"Anuluj",save:"Zapisz",administrator:"Administrator",user:"Uytkownik"},pae={title:"Filmy",popular:"Popularne",topRated:"Najwyej oceniane",upcoming:"Nadchodzce",nowPlaying:"Teraz w kinach",search:"Szukaj filmw...",noResults:"Nie znaleziono filmw",loading:"adowanie...",addToCollection:"Dodaj do kolekcji",scrape:"Przeszukaj"},mae={title:"Seriale",popular:"Popularne",topRated:"Najwyej oceniane",onTheAir:"Na antenie",airingToday:"Dzisiaj w TV",search:"Szukaj seriali...",noResults:"Nie znaleziono seriali",loading:"adowanie...",seasons:"Sezony",episodes:"Odcinki"},gae={title:"Kolekcje",myCollections:"Moje kolekcje",create:"Utwrz kolekcj",createNew:"Nowa kolekcja",name:"Nazwa",description:"Opis",cancel:"Anuluj",save:"Zapisz",delete:"Usu",edit:"Edytuj",items:"elementw",noCollections:"Nie masz jeszcze adnych kolekcji",createFirst:"Utwrz swoj pierwsz kolekcj"},yae={welcome:"Witaj",stats:"Statystyki",recentActivity:"Ostatnia aktywno",friends:"Znajomi",recommendations:"Odkryj najpopularniejsze filmy i seriale",yourCollections:"Twoje kolekcje",viewAll:"Zobacz wszystkie",noCollectionsYet:"Nie masz jeszcze adnych kolekcji",createFirstCollection:"Utwrz swoj pierwsz kolekcj"},vae={title:"Znajomi",myFriends:"Moi znajomi",friendRequests:"Zaproszenia",searchUsers:"Szukaj uytkownikw",addFriend:"Dodaj znajomego",removeFriend:"Usu znajomego",acceptRequest:"Akceptuj",rejectRequest:"Odrzu",pending:"Oczekujce",noFriends:"Nie masz jeszcze znajomych",noRequests:"Brak zaprosze"},wae={title:"Panel Administratora",users:"Uytkownicy",manageUsers:"Zarzdzaj uytkownikami",userManagement:"Zarzdzanie uytkownikami",role:"Rola",changeRole:"Zmie rol",totalUsers:"cznie uytkownikw"},xae={loading:"adowanie...",error:"Bd",success:"Sukces",close:"Zamknij",back:"Wstecz",next:"Dalej",previous:"Poprzedni",search:"Szukaj",filter:"Filtruj",sort:"Sortuj",year:"Rok",rating:"Ocena",genre:"Gatunek",duration:"Czas trwania",overview:"Opis",all:"Wszystkie",selectAll:"Zaznacz wszystkie",deselectAll:"Odznacz wszystkie",noDescription:"Brak opisu.",noName:"Brak nazwy",showMore:"Poka wicej",showLess:"Poka mniej",confirmDelete:"Czy na pewno chcesz usun?",update:"Zaktualizuj",add:"Dodaj"},_ae={cast:"Obsada",crew:"Ekipa",director:"Reyser",writer:"Scenarzysta",producer:"Producent",releaseDate:"Data premiery",runtime:"Czas trwania",budget:"Budet",revenue:"Przychody",status:"Status",originalLanguage:"Jzyk oryginalny",productionCompanies:"Firmy produkcyjne",reviews:"Recenzje",addReview:"Dodaj recenzj",yourReview:"Twoja recenzja",writeReview:"Napisz recenzj...",submit:"Wylij",delete:"Usu",edit:"Edytuj",season:"Sezon",episode:"Odcinek",episodes:"Odcinki",aired:"Emisja",addLink:"Dodaj link",manageLinks:"Zarzdzaj linkami",quality:"Jako",language:"Jzyk",link:"Link",play:"Odtwrz",noLinks:"Brak dostpnych linkw",addFirstLink:"Dodaj pierwszy link do tego odcinka"},bae={nav:dae,auth:hae,profile:fae,movies:pae,series:mae,collections:gae,dashboard:yae,friends:vae,admin:wae,common:xae,details:_ae},Sae={dashboard:"Dashboard",movies:"Movies",series:"Series",collections:"Collections",profile:"Profile",admin:"Admin"},Tae={signIn:"Sign In",signInWithGoogle:"Sign in with Google",signOut:"Sign Out",welcome:"Welcome back",loginDescription:"Sign in to continue"},Eae={settings:"Settings",account:"Account",accountInfo:"Account Information",email:"Email",name:"Full Name",preferences:"Preferences",language:"Language",session:"Session",sessionDescription:"Sign out of your account",cancel:"Cancel",save:"Save",administrator:"Administrator",user:"User"},Cae={title:"Movies",popular:"Popular",topRated:"Top Rated",upcoming:"Upcoming",nowPlaying:"Now Playing",search:"Search movies...",noResults:"No movies found",loading:"Loading...",addToCollection:"Add to Collection",scrape:"Scrape"},Pae={title:"Series",popular:"Popular",topRated:"Top Rated",onTheAir:"On The Air",airingToday:"Airing Today",search:"Search series...",noResults:"No series found",loading:"Loading...",seasons:"Seasons",episodes:"Episodes"},kae={title:"Collections",myCollections:"My Collections",create:"Create Collection",createNew:"New Collection",name:"Name",description:"Description",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",items:"items",noCollections:"You don't have any collections yet",createFirst:"Create your first collection"},Rae={welcome:"Welcome",stats:"Statistics",recentActivity:"Recent Activity",friends:"Friends",recommendations:"Discover the most popular movies and series",yourCollections:"Your Collections",viewAll:"View All",noCollectionsYet:"You don't have any collections yet",createFirstCollection:"Create your first collection"},Aae={title:"Friends",myFriends:"My Friends",friendRequests:"Friend Requests",searchUsers:"Search Users",addFriend:"Add Friend",removeFriend:"Remove Friend",acceptRequest:"Accept",rejectRequest:"Reject",pending:"Pending",noFriends:"You don't have any friends yet",noRequests:"No friend requests"},Iae={title:"Admin Panel",users:"Users",manageUsers:"Manage Users",userManagement:"User Management",role:"Role",changeRole:"Change Role",totalUsers:"Total Users"},Nae={loading:"Loading...",error:"Error",success:"Success",close:"Close",back:"Back",next:"Next",previous:"Previous",search:"Search",filter:"Filter",sort:"Sort",year:"Year",rating:"Rating",genre:"Genre",duration:"Duration",overview:"Overview",all:"All",selectAll:"Select All",deselectAll:"Deselect All",noDescription:"No description available.",noName:"No name",showMore:"Show More",showLess:"Show Less",confirmDelete:"Are you sure you want to delete?",update:"Update",add:"Add"},Dae={cast:"Cast",crew:"Crew",director:"Director",writer:"Writer",producer:"Producer",releaseDate:"Release Date",runtime:"Runtime",budget:"Budget",revenue:"Revenue",status:"Status",originalLanguage:"Original Language",productionCompanies:"Production Companies",reviews:"Reviews",addReview:"Add Review",yourReview:"Your Review",writeReview:"Write a review...",submit:"Submit",delete:"Delete",edit:"Edit",season:"Season",episode:"Episode",episodes:"Episodes",aired:"Aired",addLink:"Add Link",manageLinks:"Manage Links",quality:"Quality",language:"Language",link:"Link",play:"Play",noLinks:"No links available",addFirstLink:"Add the first link to this episode"},jae={nav:Sae,auth:Tae,profile:Eae,movies:Cae,series:Pae,collections:kae,dashboard:Rae,friends:Aae,admin:Iae,common:Nae,details:Dae},Oae=localStorage.getItem("language")||"pl";_s.use(GZ).init({resources:{pl:{translation:bae},en:{translation:jae}},lng:Oae,fallbackLng:"pl",interpolation:{escapeValue:!1}});X3.createRoot(document.getElementById("root")).render(p.jsx(uae,{}));
