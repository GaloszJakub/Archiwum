import{O as K,r,al as pe,j as t,ak as U,a6 as j,V as x,N as xe,ai as V,a7 as B,ar as he,a5 as ye,a2 as P,u as Ie,b as je,U as Te,I as O,B as A,aE as we}from"./index-Do5FezME.js";import{L}from"./label-qC8oY3ar.js";import{C as Ne}from"./crown-CRK_7dKR.js";var _="rovingFocusGroup.onEntryFocus",Fe={bubbles:!1,cancelable:!0},T="RovingFocusGroup",[k,$,Ce]=pe(T),[Re,z]=K(T,[Ce]),[Ee,Se]=Re(T),Y=r.forwardRef((e,o)=>t.jsx(k.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(k.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Ae,{...e,ref:o})})}));Y.displayName=T;var Ae=r.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:a,orientation:s,loop:c=!1,dir:d,currentTabStopId:i,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:p,onEntryFocus:b,preventScrollOnEntryFocus:n=!1,...l}=e,v=r.useRef(null),w=xe(o,v),N=V(d),[F,u]=B({prop:i,defaultProp:m??null,onChange:p,caller:T}),[h,R]=r.useState(!1),g=he(b),y=$(a),E=r.useRef(!1),[fe,M]=r.useState(0);return r.useEffect(()=>{const f=v.current;if(f)return f.addEventListener(_,g),()=>f.removeEventListener(_,g)},[g]),t.jsx(Ee,{scope:a,orientation:s,dir:N,loop:c,currentTabStopId:F,onItemFocus:r.useCallback(f=>u(f),[u]),onItemShiftTab:r.useCallback(()=>R(!0),[]),onFocusableItemAdd:r.useCallback(()=>M(f=>f+1),[]),onFocusableItemRemove:r.useCallback(()=>M(f=>f-1),[]),children:t.jsx(j.div,{tabIndex:h||fe===0?-1:0,"data-orientation":s,...l,ref:w,style:{outline:"none",...e.style},onMouseDown:x(e.onMouseDown,()=>{E.current=!0}),onFocus:x(e.onFocus,f=>{const me=!E.current;if(f.target===f.currentTarget&&me&&!h){const G=new CustomEvent(_,Fe);if(f.currentTarget.dispatchEvent(G),!G.defaultPrevented){const S=y().filter(I=>I.focusable),be=S.find(I=>I.active),ve=S.find(I=>I.id===F),ge=[be,ve,...S].filter(Boolean).map(I=>I.ref.current);q(ge,n)}}E.current=!1}),onBlur:x(e.onBlur,()=>R(!1))})})}),H="RovingFocusGroupItem",W=r.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:a,focusable:s=!0,active:c=!1,tabStopId:d,children:i,...m}=e,p=U(),b=d||p,n=Se(H,a),l=n.currentTabStopId===b,v=$(a),{onFocusableItemAdd:w,onFocusableItemRemove:N,currentTabStopId:F}=n;return r.useEffect(()=>{if(s)return w(),()=>N()},[s,w,N]),t.jsx(k.ItemSlot,{scope:a,id:b,focusable:s,active:c,children:t.jsx(j.span,{tabIndex:l?0:-1,"data-orientation":n.orientation,...m,ref:o,onMouseDown:x(e.onMouseDown,u=>{s?n.onItemFocus(b):u.preventDefault()}),onFocus:x(e.onFocus,()=>n.onItemFocus(b)),onKeyDown:x(e.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){n.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const h=Pe(u,n.orientation,n.dir);if(h!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let g=v().filter(y=>y.focusable).map(y=>y.ref.current);if(h==="last")g.reverse();else if(h==="prev"||h==="next"){h==="prev"&&g.reverse();const y=g.indexOf(u.currentTarget);g=n.loop?De(g,y+1):g.slice(y+1)}setTimeout(()=>q(g))}}),children:typeof i=="function"?i({isCurrentTabStop:l,hasTabStop:F!=null}):i})})});W.displayName=H;var _e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ke(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Pe(e,o,a){const s=ke(e.key,a);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return _e[s]}function q(e,o=!1){const a=document.activeElement;for(const s of e)if(s===a||(s.focus({preventScroll:o}),document.activeElement!==a))return}function De(e,o){return e.map((a,s)=>e[(o+s)%e.length])}var Me=Y,Ge=W,C="Tabs",[Oe]=K(C,[z]),Z=z(),[Le,D]=Oe(C),J=r.forwardRef((e,o)=>{const{__scopeTabs:a,value:s,onValueChange:c,defaultValue:d,orientation:i="horizontal",dir:m,activationMode:p="automatic",...b}=e,n=V(m),[l,v]=B({prop:s,onChange:c,defaultProp:d??"",caller:C});return t.jsx(Le,{scope:a,baseId:U(),value:l,onValueChange:v,orientation:i,dir:n,activationMode:p,children:t.jsx(j.div,{dir:n,"data-orientation":i,...b,ref:o})})});J.displayName=C;var Q="TabsList",X=r.forwardRef((e,o)=>{const{__scopeTabs:a,loop:s=!0,...c}=e,d=D(Q,a),i=Z(a);return t.jsx(Me,{asChild:!0,...i,orientation:d.orientation,dir:d.dir,loop:s,children:t.jsx(j.div,{role:"tablist","aria-orientation":d.orientation,...c,ref:o})})});X.displayName=Q;var ee="TabsTrigger",te=r.forwardRef((e,o)=>{const{__scopeTabs:a,value:s,disabled:c=!1,...d}=e,i=D(ee,a),m=Z(a),p=ae(i.baseId,s),b=ne(i.baseId,s),n=s===i.value;return t.jsx(Ge,{asChild:!0,...m,focusable:!c,active:n,children:t.jsx(j.button,{type:"button",role:"tab","aria-selected":n,"aria-controls":b,"data-state":n?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:p,...d,ref:o,onMouseDown:x(e.onMouseDown,l=>{!c&&l.button===0&&l.ctrlKey===!1?i.onValueChange(s):l.preventDefault()}),onKeyDown:x(e.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&i.onValueChange(s)}),onFocus:x(e.onFocus,()=>{const l=i.activationMode!=="manual";!n&&!c&&l&&i.onValueChange(s)})})})});te.displayName=ee;var oe="TabsContent",se=r.forwardRef((e,o)=>{const{__scopeTabs:a,value:s,forceMount:c,children:d,...i}=e,m=D(oe,a),p=ae(m.baseId,s),b=ne(m.baseId,s),n=s===m.value,l=r.useRef(n);return r.useEffect(()=>{const v=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(v)},[]),t.jsx(ye,{present:c||n,children:({present:v})=>t.jsx(j.div,{"data-state":n?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":p,hidden:!v,id:b,tabIndex:0,...i,ref:o,style:{...e.style,animationDuration:l.current?"0s":void 0},children:v&&d})})});se.displayName=oe;function ae(e,o){return`${e}-trigger-${o}`}function ne(e,o){return`${e}-content-${o}`}var Ke=J,re=X,ie=te,ce=se;const Ue=Ke,le=r.forwardRef(({className:e,...o},a)=>t.jsx(re,{ref:a,className:P("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...o}));le.displayName=re.displayName;const ue=r.forwardRef(({className:e,...o},a)=>t.jsx(ie,{ref:a,className:P("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...o}));ue.displayName=ie.displayName;const de=r.forwardRef(({className:e,...o},a)=>t.jsx(ce,{ref:a,className:P("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...o}));de.displayName=ce.displayName;const Ye=()=>{const{user:e,isAdmin:o,signOut:a}=Ie(),s=je(),c=async()=>{try{await a(),s("/login")}catch{}};return t.jsxs("div",{className:"space-y-8 max-w-4xl",children:[t.jsx("h1",{className:"text-4xl lg:text-5xl font-bold",children:"Ustawienia"}),t.jsxs(Ue,{defaultValue:"account",className:"w-full",children:[t.jsx(le,{className:"grid w-full grid-cols-1 bg-background-secondary",children:t.jsx(ue,{value:"account",children:"Konto"})}),t.jsxs(de,{value:"account",className:"space-y-6 mt-6",children:[t.jsxs("div",{className:"bg-background-secondary rounded-lg p-6 border border-border space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-bold",children:"Informacje o koncie"}),t.jsx("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${o?"bg-primary/20 text-primary":"bg-background text-foreground-secondary"}`,children:o?t.jsxs(t.Fragment,{children:[t.jsx(Ne,{className:"w-4 h-4"}),"Administrator"]}):t.jsxs(t.Fragment,{children:[t.jsx(Te,{className:"w-4 h-4"}),"Użytkownik"]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(L,{htmlFor:"email",children:"Email"}),t.jsx(O,{id:"email",type:"email",value:e?.email||"",className:"mt-1.5 bg-background",readOnly:!0})]}),t.jsxs("div",{children:[t.jsx(L,{htmlFor:"name",children:"Imię i nazwisko"}),t.jsx(O,{id:"name",type:"text",value:e?.displayName||"",className:"mt-1.5 bg-background"})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx(A,{variant:"outline",children:"Anuluj"}),t.jsx(A,{className:"bg-primary hover:bg-primary-hover",children:"Zapisz"})]})]}),t.jsxs("div",{className:"bg-background-secondary rounded-lg p-6 border border-border",children:[t.jsx("h3",{className:"text-lg font-bold mb-4",children:"Sesja"}),t.jsx("p",{className:"text-foreground-secondary mb-4",children:"Wyloguj się ze swojego konta"}),t.jsxs(A,{onClick:c,variant:"destructive",className:"w-full sm:w-auto",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Wyloguj się"]})]})]})]})]})};export{Ye as default};
