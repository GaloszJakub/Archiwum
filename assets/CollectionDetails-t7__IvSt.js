import{q as h,b as u,j as e,m as c,B as l,i as g}from"./index-Do5FezME.js";import{u as j,d as v,e as f}from"./useCollections-puYkBbMI.js";import{t as y}from"./tmdb-asYHfBOd.js";import{A as N}from"./arrow-left-BH0XIAJO.js";const I=()=>{const{id:t}=h(),o=u(),{data:n}=j(),{data:a,isLoading:d}=v(t||""),m=f(),i=n?.find(s=>s.id===t),p=async s=>{if(t)try{await m.mutateAsync({collectionId:t,itemId:s})}catch{}},x=s=>{s.type==="movie"?o(`/movie/${s.tmdbId}`):o(`/series/${s.tmdbId}`)};return d?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(l,{variant:"ghost",onClick:()=>o("/collections"),children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Powrót"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:i?.name||"Kolekcja"}),i?.description&&e.jsx("p",{className:"text-foreground-secondary",children:i.description}),e.jsxs("p",{className:"text-sm text-foreground-secondary mt-2",children:[a?.length||0," elementów"]})]}),!a||a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("p",{className:"text-foreground-secondary mb-4",children:"Brak elementów w tej kolekcji"}),e.jsx("p",{className:"text-sm text-foreground-secondary",children:"Dodaj pierwsze filmy lub seriale do kolekcji"})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:a.map(s=>e.jsxs(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative",children:[e.jsxs("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden cursor-pointer",onClick:()=>x(s),children:[e.jsx("img",{src:s.posterPath?y.getImageUrl(s.posterPath,"w500"):"https://via.placeholder.com/500x750?text=No+Image",alt:s.title,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(l,{size:"icon",variant:"destructive",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:r=>{r.stopPropagation(),p(s.id)},children:e.jsx(g,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"font-medium text-sm line-clamp-2 group-hover:text-primary transition-colors",children:s.title}),e.jsx("p",{className:"text-xs text-foreground-secondary",children:s.type==="movie"?"Film":"Serial"})]})]},s.id))})]})};export{I as default};
