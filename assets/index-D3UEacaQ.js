function K3(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function xN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var o_={exports:{}},_f={},a_={exports:{}},gt={};var TP;function G3(){if(TP)return gt;TP=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,_={};function S(W,Q,pe){this.props=W,this.context=Q,this.refs=_,this.updater=pe||w}S.prototype.isReactComponent={},S.prototype.setState=function(W,Q){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Q,"setState")},S.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function R(){}R.prototype=S.prototype;function k(W,Q,pe){this.props=W,this.context=Q,this.refs=_,this.updater=pe||w}var j=k.prototype=new R;j.constructor=k,T(j,S.prototype),j.isPureReactComponent=!0;var I=Array.isArray,L=Object.prototype.hasOwnProperty,z={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(W,Q,pe){var he,ve={},Ee=null,le=null;if(Q!=null)for(he in Q.ref!==void 0&&(le=Q.ref),Q.key!==void 0&&(Ee=""+Q.key),Q)L.call(Q,he)&&!P.hasOwnProperty(he)&&(ve[he]=Q[he]);var xe=arguments.length-2;if(xe===1)ve.children=pe;else if(1<xe){for(var ce=Array(xe),be=0;be<xe;be++)ce[be]=arguments[be+2];ve.children=ce}if(W&&W.defaultProps)for(he in xe=W.defaultProps,xe)ve[he]===void 0&&(ve[he]=xe[he]);return{$$typeof:n,type:W,key:Ee,ref:le,props:ve,_owner:z.current}}function D(W,Q){return{$$typeof:n,type:W.type,key:Q,ref:W.ref,props:W.props,_owner:W._owner}}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function V(W){var Q={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(pe){return Q[pe]})}var F=/\/+/g;function U(W,Q){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):Q.toString(36)}function X(W,Q,pe,he,ve){var Ee=typeof W;(Ee==="undefined"||Ee==="boolean")&&(W=null);var le=!1;if(W===null)le=!0;else switch(Ee){case"string":case"number":le=!0;break;case"object":switch(W.$$typeof){case n:case e:le=!0}}if(le)return le=W,ve=ve(le),W=he===""?"."+U(le,0):he,I(ve)?(pe="",W!=null&&(pe=W.replace(F,"$&/")+"/"),X(ve,Q,pe,"",function(be){return be})):ve!=null&&(O(ve)&&(ve=D(ve,pe+(!ve.key||le&&le.key===ve.key?"":(""+ve.key).replace(F,"$&/")+"/")+W)),Q.push(ve)),1;if(le=0,he=he===""?".":he+":",I(W))for(var xe=0;xe<W.length;xe++){Ee=W[xe];var ce=he+U(Ee,xe);le+=X(Ee,Q,pe,ce,ve)}else if(ce=v(W),typeof ce=="function")for(W=ce.call(W),xe=0;!(Ee=W.next()).done;)Ee=Ee.value,ce=he+U(Ee,xe++),le+=X(Ee,Q,pe,ce,ve);else if(Ee==="object")throw Q=String(W),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return le}function re(W,Q,pe){if(W==null)return W;var he=[],ve=0;return X(W,he,"","",function(Ee){return Q.call(pe,Ee,ve++)}),he}function ne(W){if(W._status===-1){var Q=W._result;Q=Q(),Q.then(function(pe){(W._status===0||W._status===-1)&&(W._status=1,W._result=pe)},function(pe){(W._status===0||W._status===-1)&&(W._status=2,W._result=pe)}),W._status===-1&&(W._status=0,W._result=Q)}if(W._status===1)return W._result.default;throw W._result}var J={current:null},q={transition:null},G={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:q,ReactCurrentOwner:z};function B(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:re,forEach:function(W,Q,pe){re(W,function(){Q.apply(this,arguments)},pe)},count:function(W){var Q=0;return re(W,function(){Q++}),Q},toArray:function(W){return re(W,function(Q){return Q})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},gt.Component=S,gt.Fragment=t,gt.Profiler=s,gt.PureComponent=k,gt.StrictMode=r,gt.Suspense=u,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,gt.act=B,gt.cloneElement=function(W,Q,pe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var he=T({},W.props),ve=W.key,Ee=W.ref,le=W._owner;if(Q!=null){if(Q.ref!==void 0&&(Ee=Q.ref,le=z.current),Q.key!==void 0&&(ve=""+Q.key),W.type&&W.type.defaultProps)var xe=W.type.defaultProps;for(ce in Q)L.call(Q,ce)&&!P.hasOwnProperty(ce)&&(he[ce]=Q[ce]===void 0&&xe!==void 0?xe[ce]:Q[ce])}var ce=arguments.length-2;if(ce===1)he.children=pe;else if(1<ce){xe=Array(ce);for(var be=0;be<ce;be++)xe[be]=arguments[be+2];he.children=xe}return{$$typeof:n,type:W.type,key:ve,ref:Ee,props:he,_owner:le}},gt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},gt.createElement=A,gt.createFactory=function(W){var Q=A.bind(null,W);return Q.type=W,Q},gt.createRef=function(){return{current:null}},gt.forwardRef=function(W){return{$$typeof:l,render:W}},gt.isValidElement=O,gt.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:ne}},gt.memo=function(W,Q){return{$$typeof:d,type:W,compare:Q===void 0?null:Q}},gt.startTransition=function(W){var Q=q.transition;q.transition={};try{W()}finally{q.transition=Q}},gt.unstable_act=B,gt.useCallback=function(W,Q){return J.current.useCallback(W,Q)},gt.useContext=function(W){return J.current.useContext(W)},gt.useDebugValue=function(){},gt.useDeferredValue=function(W){return J.current.useDeferredValue(W)},gt.useEffect=function(W,Q){return J.current.useEffect(W,Q)},gt.useId=function(){return J.current.useId()},gt.useImperativeHandle=function(W,Q,pe){return J.current.useImperativeHandle(W,Q,pe)},gt.useInsertionEffect=function(W,Q){return J.current.useInsertionEffect(W,Q)},gt.useLayoutEffect=function(W,Q){return J.current.useLayoutEffect(W,Q)},gt.useMemo=function(W,Q){return J.current.useMemo(W,Q)},gt.useReducer=function(W,Q,pe){return J.current.useReducer(W,Q,pe)},gt.useRef=function(W){return J.current.useRef(W)},gt.useState=function(W){return J.current.useState(W)},gt.useSyncExternalStore=function(W,Q,pe){return J.current.useSyncExternalStore(W,Q,pe)},gt.useTransition=function(){return J.current.useTransition()},gt.version="18.3.1",gt}var EP;function Ov(){return EP||(EP=1,a_.exports=G3()),a_.exports}var CP;function Y3(){if(CP)return _f;CP=1;var n=Ov(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var h,m={},v=null,w=null;d!==void 0&&(v=""+d),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(h in u)r.call(u,h)&&!i.hasOwnProperty(h)&&(m[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:e,type:l,key:v,ref:w,props:m,_owner:s.current}}return _f.Fragment=t,_f.jsx=o,_f.jsxs=o,_f}var PP;function Q3(){return PP||(PP=1,o_.exports=Y3()),o_.exports}var p=Q3(),xg={},l_={exports:{}},Ns={},c_={exports:{}},u_={};var kP;function X3(){return kP||(kP=1,(function(n){function e(q,G){var B=q.length;q.push(G);e:for(;0<B;){var W=B-1>>>1,Q=q[W];if(0<s(Q,G))q[W]=G,q[B]=Q,B=W;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],B=q.pop();if(B!==G){q[0]=B;e:for(var W=0,Q=q.length,pe=Q>>>1;W<pe;){var he=2*(W+1)-1,ve=q[he],Ee=he+1,le=q[Ee];if(0>s(ve,B))Ee<Q&&0>s(le,ve)?(q[W]=le,q[Ee]=B,W=Ee):(q[W]=ve,q[he]=B,W=he);else if(Ee<Q&&0>s(le,B))q[W]=le,q[Ee]=B,W=Ee;else break e}}return G}function s(q,G){var B=q.sortIndex-G.sortIndex;return B!==0?B:q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,m=null,v=3,w=!1,T=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(q){for(var G=t(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=q)r(d),G.sortIndex=G.expirationTime,e(u,G);else break;G=t(d)}}function I(q){if(_=!1,j(q),!T)if(t(u)!==null)T=!0,ne(L);else{var G=t(d);G!==null&&J(I,G.startTime-q)}}function L(q,G){T=!1,_&&(_=!1,R(A),A=-1),w=!0;var B=v;try{for(j(G),m=t(u);m!==null&&(!(m.expirationTime>G)||q&&!V());){var W=m.callback;if(typeof W=="function"){m.callback=null,v=m.priorityLevel;var Q=W(m.expirationTime<=G);G=n.unstable_now(),typeof Q=="function"?m.callback=Q:m===t(u)&&r(u),j(G)}else r(u);m=t(u)}if(m!==null)var pe=!0;else{var he=t(d);he!==null&&J(I,he.startTime-G),pe=!1}return pe}finally{m=null,v=B,w=!1}}var z=!1,P=null,A=-1,D=5,O=-1;function V(){return!(n.unstable_now()-O<D)}function F(){if(P!==null){var q=n.unstable_now();O=q;var G=!0;try{G=P(!0,q)}finally{G?U():(z=!1,P=null)}}else z=!1}var U;if(typeof k=="function")U=function(){k(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,re=X.port2;X.port1.onmessage=F,U=function(){re.postMessage(null)}}else U=function(){S(F,0)};function ne(q){P=q,z||(z=!0,U())}function J(q,G){A=S(function(){q(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){T||w||(T=!0,ne(L))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(q){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var B=v;v=G;try{return q()}finally{v=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var B=v;v=q;try{return G()}finally{v=B}},n.unstable_scheduleCallback=function(q,G,B){var W=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,q){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=B+Q,q={id:h++,callback:G,priorityLevel:q,startTime:B,expirationTime:Q,sortIndex:-1},B>W?(q.sortIndex=B,e(d,q),t(u)===null&&q===t(d)&&(_?(R(A),A=-1):_=!0,J(I,B-W))):(q.sortIndex=Q,e(u,q),T||w||(T=!0,ne(L))),q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(q){var G=v;return function(){var B=v;v=G;try{return q.apply(this,arguments)}finally{v=B}}}})(u_)),u_}var RP;function J3(){return RP||(RP=1,c_.exports=X3()),c_.exports}var AP;function Z3(){if(AP)return Ns;AP=1;var n=Ov(),e=J3();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(s[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(a){return u.call(m,a)?!0:u.call(h,a)?!1:d.test(a)?m[a]=!0:(h[a]=!0,!1)}function w(a,c,f,y){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,c,f,y){if(c===null||typeof c>"u"||w(a,c,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function _(a,c,f,y,x,E,M){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=a,this.type=c,this.sanitizeURL=E,this.removeEmptyString=M}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){S[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];S[c]=new _(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){S[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){S[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){S[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){S[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){S[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){S[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){S[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(R,k);S[c]=new _(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(R,k);S[c]=new _(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(R,k);S[c]=new _(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){S[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){S[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function j(a,c,f,y){var x=S.hasOwnProperty(c)?S[c]:null;(x!==null?x.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(T(c,f,x,y)&&(f=null),y||x===null?v(c)&&(f===null?a.removeAttribute(c):a.setAttribute(c,""+f)):x.mustUseProperty?a[x.propertyName]=f===null?x.type===3?!1:"":f:(c=x.attributeName,y=x.attributeNamespace,f===null?a.removeAttribute(c):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,y?a.setAttributeNS(y,c,f):a.setAttribute(c,f))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),z=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),q=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var B=Object.assign,W;function Q(a){if(W===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);W=c&&c[1]||""}return`
`+W+a}var pe=!1;function he(a,c){if(!a||pe)return"";pe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ie){var y=ie}Reflect.construct(a,[],c)}else{try{c.call()}catch(ie){y=ie}a.call(c.prototype)}else{try{throw Error()}catch(ie){y=ie}a()}}catch(ie){if(ie&&y&&typeof ie.stack=="string"){for(var x=ie.stack.split(`
`),E=y.stack.split(`
`),M=x.length-1,H=E.length-1;1<=M&&0<=H&&x[M]!==E[H];)H--;for(;1<=M&&0<=H;M--,H--)if(x[M]!==E[H]){if(M!==1||H!==1)do if(M--,H--,0>H||x[M]!==E[H]){var K=`
`+x[M].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),K}while(1<=M&&0<=H);break}}}finally{pe=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?Q(a):""}function ve(a){switch(a.tag){case 5:return Q(a.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return a=he(a.type,!1),a;case 11:return a=he(a.type.render,!1),a;case 1:return a=he(a.type,!0),a;default:return""}}function Ee(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case z:return"Portal";case D:return"Profiler";case A:return"StrictMode";case U:return"Suspense";case X:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case O:return(a._context.displayName||"Context")+".Provider";case F:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case re:return c=a.displayName||null,c!==null?c:Ee(a.type)||"Memo";case ne:c=a._payload,a=a._init;try{return Ee(a(c))}catch{}}return null}function le(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(c);case 8:return c===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function xe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ce(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function be(a){var c=ce(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),y=""+a[c];if(!a.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,E=f.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return x.call(this)},set:function(M){y=""+M,E.call(this,M)}}),Object.defineProperty(a,c,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(M){y=""+M},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Ce(a){a._valueTracker||(a._valueTracker=be(a))}function ue(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var f=c.getValue(),y="";return a&&(y=ce(a)?a.checked?"true":"false":a.value),a=y,a!==f?(c.setValue(a),!0):!1}function ae(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ke(a,c){var f=c.checked;return B({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function Mt(a,c){var f=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;f=xe(c.value!=null?c.value:f),a._wrapperState={initialChecked:y,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function qt(a,c){c=c.checked,c!=null&&j(a,"checked",c,!1)}function se(a,c){qt(a,c);var f=xe(c.value),y=c.type;if(f!=null)y==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?jt(a,c.type,f):c.hasOwnProperty("defaultValue")&&jt(a,c.type,xe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function pn(a,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,f||c===a.value||(a.value=c),a.defaultValue=c}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function jt(a,c,f){(c!=="number"||ae(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var Nt=Array.isArray;function dt(a,c,f,y){if(a=a.options,c){c={};for(var x=0;x<f.length;x++)c["$"+f[x]]=!0;for(f=0;f<a.length;f++)x=c.hasOwnProperty("$"+a[f].value),a[f].selected!==x&&(a[f].selected=x),x&&y&&(a[f].defaultSelected=!0)}else{for(f=""+xe(f),c=null,x=0;x<a.length;x++){if(a[x].value===f){a[x].selected=!0,y&&(a[x].defaultSelected=!0);return}c!==null||a[x].disabled||(c=a[x])}c!==null&&(c.selected=!0)}}function ur(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return B({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Cn(a,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(t(92));if(Nt(f)){if(1<f.length)throw Error(t(93));f=f[0]}c=f}c==null&&(c=""),f=c}a._wrapperState={initialValue:xe(f)}}function Es(a,c){var f=xe(c.value),y=xe(c.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),c.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),y!=null&&(a.defaultValue=""+y)}function $t(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Gt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Gt(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Pn,er=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,y,x){MSApp.execUnsafeLocalFunction(function(){return a(c,f,y,x)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Pn=Pn||document.createElement("div"),Pn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Pn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function kn(a,c){if(c){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=c;return}}a.textContent=c}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(a){Ht.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Wr[c]=Wr[a]})});function Er(a,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Wr.hasOwnProperty(a)&&Wr[a]?(""+c).trim():c+"px"}function mn(a,c){a=a.style;for(var f in c)if(c.hasOwnProperty(f)){var y=f.indexOf("--")===0,x=Er(f,c[f],y);f==="float"&&(f="cssFloat"),y?a.setProperty(f,x):a[f]=x}}var as=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(a,c){if(c){if(as[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function Cr(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dr=null;function Je(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Wn=null,gn=null,mt=null;function en(a){if(a=sf(a)){if(typeof Wn!="function")throw Error(t(280));var c=a.stateNode;c&&(c=Mm(c),Wn(a.stateNode,a.type,c))}}function hr(a){gn?mt?mt.push(a):mt=[a]:gn=a}function $e(){if(gn){var a=gn,c=mt;if(mt=gn=null,en(a),c)for(a=0;a<c.length;a++)en(c[a])}}function it(a,c){return a(c)}function Ct(){}var je=!1;function Ie(a,c,f){if(je)return a(c,f);je=!0;try{return it(a,c,f)}finally{je=!1,(gn!==null||mt!==null)&&(Ct(),$e())}}function Ye(a,c){var f=a.stateNode;if(f===null)return null;var y=Mm(f);if(y===null)return null;f=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(t(231,c,typeof f));return f}var we=!1;if(l)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){we=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch{we=!1}function Ne(a,c,f,y,x,E,M,H,K){var ie=Array.prototype.slice.call(arguments,3);try{c.apply(f,ie)}catch(ge){this.onError(ge)}}var We=!1,Bt=null,at=!1,Rt=null,Mn={onError:function(a){We=!0,Bt=a}};function Yt(a,c,f,y,x,E,M,H,K){We=!1,Bt=null,Ne.apply(Mn,arguments)}function Vt(a,c,f,y,x,E,M,H,K){if(Yt.apply(this,arguments),We){if(We){var ie=Bt;We=!1,Bt=null}else throw Error(t(198));at||(at=!0,Rt=ie)}}function ft(a){var c=a,f=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(f=c.return),a=c.return;while(a)}return c.tag===3?f:null}function Pr(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Kt(a){if(ft(a)!==a)throw Error(t(188))}function fr(a){var c=a.alternate;if(!c){if(c=ft(a),c===null)throw Error(t(188));return c!==a?null:a}for(var f=a,y=c;;){var x=f.return;if(x===null)break;var E=x.alternate;if(E===null){if(y=x.return,y!==null){f=y;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===f)return Kt(x),a;if(E===y)return Kt(x),c;E=E.sibling}throw Error(t(188))}if(f.return!==y.return)f=x,y=E;else{for(var M=!1,H=x.child;H;){if(H===f){M=!0,f=x,y=E;break}if(H===y){M=!0,y=x,f=E;break}H=H.sibling}if(!M){for(H=E.child;H;){if(H===f){M=!0,f=E,y=x;break}if(H===y){M=!0,y=E,f=x;break}H=H.sibling}if(!M)throw Error(t(189))}}if(f.alternate!==y)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?a:c}function ls(a){return a=fr(a),a!==null?an(a):null}function an(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=an(a);if(c!==null)return c;a=a.sibling}return null}var yn=e.unstable_scheduleCallback,vn=e.unstable_cancelCallback,cs=e.unstable_shouldYield,Cs=e.unstable_requestPaint,lt=e.unstable_now,wn=e.unstable_getCurrentPriorityLevel,kr=e.unstable_ImmediatePriority,na=e.unstable_UserBlockingPriority,lo=e.unstable_NormalPriority,Vi=e.unstable_LowPriority,Rr=e.unstable_IdlePriority,qs=null,pr=null;function Hs(a){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(qs,a,void 0,(a.current.flags&128)===128)}catch{}}var Ks=Math.clz32?Math.clz32:lc,co=Math.log,mi=Math.LN2;function lc(a){return a>>>=0,a===0?32:31-(co(a)/mi|0)|0}var uo=64,Ba=4194304;function Lt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ra(a,c){var f=a.pendingLanes;if(f===0)return 0;var y=0,x=a.suspendedLanes,E=a.pingedLanes,M=f&268435455;if(M!==0){var H=M&~x;H!==0?y=Lt(H):(E&=M,E!==0&&(y=Lt(E)))}else M=f&~x,M!==0?y=Lt(M):E!==0&&(y=Lt(E));if(y===0)return 0;if(c!==0&&c!==y&&(c&x)===0&&(x=y&-y,E=c&-c,x>=E||x===16&&(E&4194240)!==0))return c;if((y&4)!==0&&(y|=f&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=y;0<c;)f=31-Ks(c),x=1<<f,y|=a[f],c&=~x;return y}function cc(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(a,c){for(var f=a.suspendedLanes,y=a.pingedLanes,x=a.expirationTimes,E=a.pendingLanes;0<E;){var M=31-Ks(E),H=1<<M,K=x[M];K===-1?((H&f)===0||(H&y)!==0)&&(x[M]=cc(H,c)):K<=c&&(a.expiredLanes|=H),E&=~H}}function Lh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Vh(){var a=uo;return uo<<=1,(uo&4194240)===0&&(uo=64),a}function Fh(a){for(var c=[],f=0;31>f;f++)c.push(a);return c}function dc(a,c,f){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Ks(c),a[c]=f}function Vw(a,c){var f=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<f;){var x=31-Ks(f),E=1<<x;c[x]=0,y[x]=-1,a[x]=-1,f&=~E}}function zh(a,c){var f=a.entangledLanes|=c;for(a=a.entanglements;f;){var y=31-Ks(f),x=1<<y;x&c|a[y]&c&&(a[y]|=c),f&=~x}}var Pt=0;function ho(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Uh,ku,$h,Bh,Wh,fo=!1,Ru=[],po=null,mo=null,Ar=null,hc=new Map,sa=new Map,Gs=[],_m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(a,c){switch(a){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":hc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(c.pointerId)}}function Fi(a,c,f,y,x,E){return a===null||a.nativeEvent!==E?(a={blockedOn:c,domEventName:f,eventSystemFlags:y,nativeEvent:E,targetContainers:[x]},c!==null&&(c=sf(c),c!==null&&ku(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),a)}function xm(a,c,f,y,x){switch(c){case"focusin":return po=Fi(po,a,c,f,y,x),!0;case"dragenter":return mo=Fi(mo,a,c,f,y,x),!0;case"mouseover":return Ar=Fi(Ar,a,c,f,y,x),!0;case"pointerover":var E=x.pointerId;return hc.set(E,Fi(hc.get(E)||null,a,c,f,y,x)),!0;case"gotpointercapture":return E=x.pointerId,sa.set(E,Fi(sa.get(E)||null,a,c,f,y,x)),!0}return!1}function Au(a){var c=gc(a.target);if(c!==null){var f=ft(c);if(f!==null){if(c=f.tag,c===13){if(c=Pr(f),c!==null){a.blockedOn=c,Wh(a.priority,function(){$h(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Qt(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var f=Iu(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var y=new f.constructor(f.type,f);dr=y,f.target.dispatchEvent(y),dr=null}else return c=sf(f),c!==null&&ku(c),a.blockedOn=f,!1;c.shift()}return!0}function bm(a,c,f){Qt(a)&&f.delete(c)}function Fw(){fo=!1,po!==null&&Qt(po)&&(po=null),mo!==null&&Qt(mo)&&(mo=null),Ar!==null&&Qt(Ar)&&(Ar=null),hc.forEach(bm),sa.forEach(bm)}function qa(a,c){a.blockedOn===c&&(a.blockedOn=null,fo||(fo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fw)))}function Ha(a){function c(x){return qa(x,a)}if(0<Ru.length){qa(Ru[0],a);for(var f=1;f<Ru.length;f++){var y=Ru[f];y.blockedOn===a&&(y.blockedOn=null)}}for(po!==null&&qa(po,a),mo!==null&&qa(mo,a),Ar!==null&&qa(Ar,a),hc.forEach(c),sa.forEach(c),f=0;f<Gs.length;f++)y=Gs[f],y.blockedOn===a&&(y.blockedOn=null);for(;0<Gs.length&&(f=Gs[0],f.blockedOn===null);)Au(f),f.blockedOn===null&&Gs.shift()}var ia=I.ReactCurrentBatchConfig,oa=!0;function go(a,c,f,y){var x=Pt,E=ia.transition;ia.transition=null;try{Pt=1,qh(a,c,f,y)}finally{Pt=x,ia.transition=E}}function Sm(a,c,f,y){var x=Pt,E=ia.transition;ia.transition=null;try{Pt=4,qh(a,c,f,y)}finally{Pt=x,ia.transition=E}}function qh(a,c,f,y){if(oa){var x=Iu(a,c,f,y);if(x===null)Qw(a,c,y,yo,f),Wa(a,y);else if(xm(x,a,c,f,y))y.stopPropagation();else if(Wa(a,y),c&4&&-1<_m.indexOf(a)){for(;x!==null;){var E=sf(x);if(E!==null&&Uh(E),E=Iu(a,c,f,y),E===null&&Qw(a,c,y,yo,f),E===x)break;x=E}x!==null&&y.stopPropagation()}else Qw(a,c,y,null,f)}}var yo=null;function Iu(a,c,f,y){if(yo=null,a=Je(y),a=gc(a),a!==null)if(c=ft(a),c===null)a=null;else if(f=c.tag,f===13){if(a=Pr(c),a!==null)return a;a=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return yo=a,null}function Nu(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wn()){case kr:return 1;case na:return 4;case lo:case Vi:return 16;case Rr:return 536870912;default:return 16}default:return 16}}var Ys=null,Du=null,aa=null;function Tm(){if(aa)return aa;var a,c=Du,f=c.length,y,x="value"in Ys?Ys.value:Ys.textContent,E=x.length;for(a=0;a<f&&c[a]===x[a];a++);var M=f-a;for(y=1;y<=M&&c[f-y]===x[E-y];y++);return aa=x.slice(a,1<y?1-y:void 0)}function fc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function vo(){return!0}function Hh(){return!1}function qr(a){function c(f,y,x,E,M){this._reactName=f,this._targetInst=x,this.type=y,this.nativeEvent=E,this.target=M,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(f=a[H],this[H]=f?f(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?vo:Hh,this.isPropagationStopped=Hh,this}return B(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),c}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=qr(wo),Ka=B({},wo,{view:0,detail:0}),ju=qr(Ka),Ou,Mu,Qs,mc=B({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rt,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Qs&&(Qs&&a.type==="mousemove"?(Ou=a.screenX-Qs.screenX,Mu=a.screenY-Qs.screenY):Mu=Ou=0,Qs=a),Ou)},movementY:function(a){return"movementY"in a?a.movementY:Mu}}),Kh=qr(mc),Em=B({},mc,{dataTransfer:0}),Cm=qr(Em),Lu=B({},Ka,{relatedTarget:0}),Ir=qr(Lu),Pm=B({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),km=qr(Pm),Ga=B({},wo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),g=qr(Ga),C=B({},wo,{data:0}),N=qr(C),$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Te(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=oe[a])?!!c[a]:!1}function rt(){return Te}var Ln=B({},Ka,{key:function(a){if(a.key){var c=$[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=fc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ee[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rt,charCode:function(a){return a.type==="keypress"?fc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?fc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Wt=qr(Ln),qn=B({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=qr(qn),la=B({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rt}),_o=qr(la),xo=B({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=qr(xo),Gh=B({},mc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Uz=qr(Gh),$z=[9,13,27,32],zw=l&&"CompositionEvent"in window,Yh=null;l&&"documentMode"in document&&(Yh=document.documentMode);var Bz=l&&"TextEvent"in window&&!Yh,gE=l&&(!zw||Yh&&8<Yh&&11>=Yh),yE=" ",vE=!1;function wE(a,c){switch(a){case"keyup":return $z.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _E(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Fu=!1;function Wz(a,c){switch(a){case"compositionend":return _E(c);case"keypress":return c.which!==32?null:(vE=!0,yE);case"textInput":return a=c.data,a===yE&&vE?null:a;default:return null}}function qz(a,c){if(Fu)return a==="compositionend"||!zw&&wE(a,c)?(a=Tm(),aa=Du=Ys=null,Fu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return gE&&c.locale!=="ko"?null:c.data;default:return null}}var Hz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xE(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Hz[a.type]:c==="textarea"}function bE(a,c,f,y){hr(y),c=Dm(c,"onChange"),0<c.length&&(f=new pc("onChange","change",null,f,y),a.push({event:f,listeners:c}))}var Qh=null,Xh=null;function Kz(a){zE(a,0)}function Rm(a){var c=Wu(a);if(ue(c))return a}function Gz(a,c){if(a==="change")return c}var SE=!1;if(l){var Uw;if(l){var $w="oninput"in document;if(!$w){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),$w=typeof TE.oninput=="function"}Uw=$w}else Uw=!1;SE=Uw&&(!document.documentMode||9<document.documentMode)}function EE(){Qh&&(Qh.detachEvent("onpropertychange",CE),Xh=Qh=null)}function CE(a){if(a.propertyName==="value"&&Rm(Xh)){var c=[];bE(c,Xh,a,Je(a)),Ie(Kz,c)}}function Yz(a,c,f){a==="focusin"?(EE(),Qh=c,Xh=f,Qh.attachEvent("onpropertychange",CE)):a==="focusout"&&EE()}function Qz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Rm(Xh)}function Xz(a,c){if(a==="click")return Rm(c)}function Jz(a,c){if(a==="input"||a==="change")return Rm(c)}function Zz(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var zi=typeof Object.is=="function"?Object.is:Zz;function Jh(a,c){if(zi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var f=Object.keys(a),y=Object.keys(c);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var x=f[y];if(!u.call(c,x)||!zi(a[x],c[x]))return!1}return!0}function PE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function kE(a,c){var f=PE(a);a=0;for(var y;f;){if(f.nodeType===3){if(y=a+f.textContent.length,a<=c&&y>=c)return{node:f,offset:c-a};a=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=PE(f)}}function RE(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?RE(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function AE(){for(var a=window,c=ae();c instanceof a.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)a=c.contentWindow;else break;c=ae(a.document)}return c}function Bw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function e3(a){var c=AE(),f=a.focusedElem,y=a.selectionRange;if(c!==f&&f&&f.ownerDocument&&RE(f.ownerDocument.documentElement,f)){if(y!==null&&Bw(f)){if(c=y.start,a=y.end,a===void 0&&(a=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(a,f.value.length);else if(a=(c=f.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var x=f.textContent.length,E=Math.min(y.start,x);y=y.end===void 0?E:Math.min(y.end,x),!a.extend&&E>y&&(x=y,y=E,E=x),x=kE(f,E);var M=kE(f,y);x&&M&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==M.node||a.focusOffset!==M.offset)&&(c=c.createRange(),c.setStart(x.node,x.offset),a.removeAllRanges(),E>y?(a.addRange(c),a.extend(M.node,M.offset)):(c.setEnd(M.node,M.offset),a.addRange(c)))}}for(c=[],a=f;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)a=c[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var t3=l&&"documentMode"in document&&11>=document.documentMode,zu=null,Ww=null,Zh=null,qw=!1;function IE(a,c,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;qw||zu==null||zu!==ae(y)||(y=zu,"selectionStart"in y&&Bw(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Zh&&Jh(Zh,y)||(Zh=y,y=Dm(Ww,"onSelect"),0<y.length&&(c=new pc("onSelect","select",null,c,f),a.push({event:c,listeners:y}),c.target=zu)))}function Am(a,c){var f={};return f[a.toLowerCase()]=c.toLowerCase(),f["Webkit"+a]="webkit"+c,f["Moz"+a]="moz"+c,f}var Uu={animationend:Am("Animation","AnimationEnd"),animationiteration:Am("Animation","AnimationIteration"),animationstart:Am("Animation","AnimationStart"),transitionend:Am("Transition","TransitionEnd")},Hw={},NE={};l&&(NE=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function Im(a){if(Hw[a])return Hw[a];if(!Uu[a])return a;var c=Uu[a],f;for(f in c)if(c.hasOwnProperty(f)&&f in NE)return Hw[a]=c[f];return a}var DE=Im("animationend"),jE=Im("animationiteration"),OE=Im("animationstart"),ME=Im("transitionend"),LE=new Map,VE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ya(a,c){LE.set(a,c),i(c,[a])}for(var Kw=0;Kw<VE.length;Kw++){var Gw=VE[Kw],n3=Gw.toLowerCase(),r3=Gw[0].toUpperCase()+Gw.slice(1);Ya(n3,"on"+r3)}Ya(DE,"onAnimationEnd"),Ya(jE,"onAnimationIteration"),Ya(OE,"onAnimationStart"),Ya("dblclick","onDoubleClick"),Ya("focusin","onFocus"),Ya("focusout","onBlur"),Ya(ME,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ef));function FE(a,c,f){var y=a.type||"unknown-event";a.currentTarget=f,Vt(y,c,void 0,a),a.currentTarget=null}function zE(a,c){c=(c&4)!==0;for(var f=0;f<a.length;f++){var y=a[f],x=y.event;y=y.listeners;e:{var E=void 0;if(c)for(var M=y.length-1;0<=M;M--){var H=y[M],K=H.instance,ie=H.currentTarget;if(H=H.listener,K!==E&&x.isPropagationStopped())break e;FE(x,H,ie),E=K}else for(M=0;M<y.length;M++){if(H=y[M],K=H.instance,ie=H.currentTarget,H=H.listener,K!==E&&x.isPropagationStopped())break e;FE(x,H,ie),E=K}}}if(at)throw a=Rt,at=!1,Rt=null,a}function ln(a,c){var f=c[n0];f===void 0&&(f=c[n0]=new Set);var y=a+"__bubble";f.has(y)||(UE(c,a,2,!1),f.add(y))}function Yw(a,c,f){var y=0;c&&(y|=4),UE(f,a,y,c)}var Nm="_reactListening"+Math.random().toString(36).slice(2);function tf(a){if(!a[Nm]){a[Nm]=!0,r.forEach(function(f){f!=="selectionchange"&&(s3.has(f)||Yw(f,!1,a),Yw(f,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Nm]||(c[Nm]=!0,Yw("selectionchange",!1,c))}}function UE(a,c,f,y){switch(Nu(c)){case 1:var x=go;break;case 4:x=Sm;break;default:x=qh}f=x.bind(null,c,f,a),x=void 0,!we||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),y?x!==void 0?a.addEventListener(c,f,{capture:!0,passive:x}):a.addEventListener(c,f,!0):x!==void 0?a.addEventListener(c,f,{passive:x}):a.addEventListener(c,f,!1)}function Qw(a,c,f,y,x){var E=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var M=y.tag;if(M===3||M===4){var H=y.stateNode.containerInfo;if(H===x||H.nodeType===8&&H.parentNode===x)break;if(M===4)for(M=y.return;M!==null;){var K=M.tag;if((K===3||K===4)&&(K=M.stateNode.containerInfo,K===x||K.nodeType===8&&K.parentNode===x))return;M=M.return}for(;H!==null;){if(M=gc(H),M===null)return;if(K=M.tag,K===5||K===6){y=E=M;continue e}H=H.parentNode}}y=y.return}Ie(function(){var ie=E,ge=Je(f),ye=[];e:{var me=LE.get(a);if(me!==void 0){var ke=pc,Le=a;switch(a){case"keypress":if(fc(f)===0)break e;case"keydown":case"keyup":ke=Wt;break;case"focusin":Le="focus",ke=Ir;break;case"focusout":Le="blur",ke=Ir;break;case"beforeblur":case"afterblur":ke=Ir;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=_o;break;case DE:case jE:case OE:ke=km;break;case ME:ke=Vu;break;case"scroll":ke=ju;break;case"wheel":ke=Uz;break;case"copy":case"cut":case"paste":ke=g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Xs}var Ve=(c&4)!==0,Vn=!Ve&&a==="scroll",Z=Ve?me!==null?me+"Capture":null:me;Ve=[];for(var Y=ie,te;Y!==null;){te=Y;var _e=te.stateNode;if(te.tag===5&&_e!==null&&(te=_e,Z!==null&&(_e=Ye(Y,Z),_e!=null&&Ve.push(nf(Y,_e,te)))),Vn)break;Y=Y.return}0<Ve.length&&(me=new ke(me,Le,null,f,ge),ye.push({event:me,listeners:Ve}))}}if((c&7)===0){e:{if(me=a==="mouseover"||a==="pointerover",ke=a==="mouseout"||a==="pointerout",me&&f!==dr&&(Le=f.relatedTarget||f.fromElement)&&(gc(Le)||Le[ca]))break e;if((ke||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,ke?(Le=f.relatedTarget||f.toElement,ke=ie,Le=Le?gc(Le):null,Le!==null&&(Vn=ft(Le),Le!==Vn||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(ke=null,Le=ie),ke!==Le)){if(Ve=Kh,_e="onMouseLeave",Z="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ve=Xs,_e="onPointerLeave",Z="onPointerEnter",Y="pointer"),Vn=ke==null?me:Wu(ke),te=Le==null?me:Wu(Le),me=new Ve(_e,Y+"leave",ke,f,ge),me.target=Vn,me.relatedTarget=te,_e=null,gc(ge)===ie&&(Ve=new Ve(Z,Y+"enter",Le,f,ge),Ve.target=te,Ve.relatedTarget=Vn,_e=Ve),Vn=_e,ke&&Le)t:{for(Ve=ke,Z=Le,Y=0,te=Ve;te;te=$u(te))Y++;for(te=0,_e=Z;_e;_e=$u(_e))te++;for(;0<Y-te;)Ve=$u(Ve),Y--;for(;0<te-Y;)Z=$u(Z),te--;for(;Y--;){if(Ve===Z||Z!==null&&Ve===Z.alternate)break t;Ve=$u(Ve),Z=$u(Z)}Ve=null}else Ve=null;ke!==null&&$E(ye,me,ke,Ve,!1),Le!==null&&Vn!==null&&$E(ye,Vn,Le,Ve,!0)}}e:{if(me=ie?Wu(ie):window,ke=me.nodeName&&me.nodeName.toLowerCase(),ke==="select"||ke==="input"&&me.type==="file")var ze=Gz;else if(xE(me))if(SE)ze=Jz;else{ze=Qz;var qe=Yz}else(ke=me.nodeName)&&ke.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(ze=Xz);if(ze&&(ze=ze(a,ie))){bE(ye,ze,f,ge);break e}qe&&qe(a,me,ie),a==="focusout"&&(qe=me._wrapperState)&&qe.controlled&&me.type==="number"&&jt(me,"number",me.value)}switch(qe=ie?Wu(ie):window,a){case"focusin":(xE(qe)||qe.contentEditable==="true")&&(zu=qe,Ww=ie,Zh=null);break;case"focusout":Zh=Ww=zu=null;break;case"mousedown":qw=!0;break;case"contextmenu":case"mouseup":case"dragend":qw=!1,IE(ye,f,ge);break;case"selectionchange":if(t3)break;case"keydown":case"keyup":IE(ye,f,ge)}var He;if(zw)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Fu?wE(a,f)&&(Ze="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Ze="onCompositionStart");Ze&&(gE&&f.locale!=="ko"&&(Fu||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Fu&&(He=Tm()):(Ys=ge,Du="value"in Ys?Ys.value:Ys.textContent,Fu=!0)),qe=Dm(ie,Ze),0<qe.length&&(Ze=new N(Ze,a,null,f,ge),ye.push({event:Ze,listeners:qe}),He?Ze.data=He:(He=_E(f),He!==null&&(Ze.data=He)))),(He=Bz?Wz(a,f):qz(a,f))&&(ie=Dm(ie,"onBeforeInput"),0<ie.length&&(ge=new N("onBeforeInput","beforeinput",null,f,ge),ye.push({event:ge,listeners:ie}),ge.data=He))}zE(ye,c)})}function nf(a,c,f){return{instance:a,listener:c,currentTarget:f}}function Dm(a,c){for(var f=c+"Capture",y=[];a!==null;){var x=a,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=Ye(a,f),E!=null&&y.unshift(nf(a,E,x)),E=Ye(a,c),E!=null&&y.push(nf(a,E,x))),a=a.return}return y}function $u(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function $E(a,c,f,y,x){for(var E=c._reactName,M=[];f!==null&&f!==y;){var H=f,K=H.alternate,ie=H.stateNode;if(K!==null&&K===y)break;H.tag===5&&ie!==null&&(H=ie,x?(K=Ye(f,E),K!=null&&M.unshift(nf(f,K,H))):x||(K=Ye(f,E),K!=null&&M.push(nf(f,K,H)))),f=f.return}M.length!==0&&a.push({event:c,listeners:M})}var i3=/\r\n?/g,o3=/\u0000|\uFFFD/g;function BE(a){return(typeof a=="string"?a:""+a).replace(i3,`
`).replace(o3,"")}function jm(a,c,f){if(c=BE(c),BE(a)!==c&&f)throw Error(t(425))}function Om(){}var Xw=null,Jw=null;function Zw(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var e0=typeof setTimeout=="function"?setTimeout:void 0,a3=typeof clearTimeout=="function"?clearTimeout:void 0,WE=typeof Promise=="function"?Promise:void 0,l3=typeof queueMicrotask=="function"?queueMicrotask:typeof WE<"u"?function(a){return WE.resolve(null).then(a).catch(c3)}:e0;function c3(a){setTimeout(function(){throw a})}function t0(a,c){var f=c,y=0;do{var x=f.nextSibling;if(a.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(y===0){a.removeChild(x),Ha(c);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=x}while(f);Ha(c)}function Qa(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function qE(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return a;c--}else f==="/$"&&c++}a=a.previousSibling}return null}var Bu=Math.random().toString(36).slice(2),bo="__reactFiber$"+Bu,rf="__reactProps$"+Bu,ca="__reactContainer$"+Bu,n0="__reactEvents$"+Bu,u3="__reactListeners$"+Bu,d3="__reactHandles$"+Bu;function gc(a){var c=a[bo];if(c)return c;for(var f=a.parentNode;f;){if(c=f[ca]||f[bo]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(a=qE(a);a!==null;){if(f=a[bo])return f;a=qE(a)}return c}a=f,f=a.parentNode}return null}function sf(a){return a=a[bo]||a[ca],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Wu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Mm(a){return a[rf]||null}var r0=[],qu=-1;function Xa(a){return{current:a}}function cn(a){0>qu||(a.current=r0[qu],r0[qu]=null,qu--)}function tn(a,c){qu++,r0[qu]=a.current,a.current=c}var Ja={},Hr=Xa(Ja),Ps=Xa(!1),yc=Ja;function Hu(a,c){var f=a.type.contextTypes;if(!f)return Ja;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in f)x[E]=c[E];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=x),x}function ks(a){return a=a.childContextTypes,a!=null}function Lm(){cn(Ps),cn(Hr)}function HE(a,c,f){if(Hr.current!==Ja)throw Error(t(168));tn(Hr,c),tn(Ps,f)}function KE(a,c,f){var y=a.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var x in y)if(!(x in c))throw Error(t(108,le(a)||"Unknown",x));return B({},f,y)}function Vm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ja,yc=Hr.current,tn(Hr,a),tn(Ps,Ps.current),!0}function GE(a,c,f){var y=a.stateNode;if(!y)throw Error(t(169));f?(a=KE(a,c,yc),y.__reactInternalMemoizedMergedChildContext=a,cn(Ps),cn(Hr),tn(Hr,a)):cn(Ps),tn(Ps,f)}var ua=null,Fm=!1,s0=!1;function YE(a){ua===null?ua=[a]:ua.push(a)}function h3(a){Fm=!0,YE(a)}function Za(){if(!s0&&ua!==null){s0=!0;var a=0,c=Pt;try{var f=ua;for(Pt=1;a<f.length;a++){var y=f[a];do y=y(!0);while(y!==null)}ua=null,Fm=!1}catch(x){throw ua!==null&&(ua=ua.slice(a+1)),yn(kr,Za),x}finally{Pt=c,s0=!1}}return null}var Ku=[],Gu=0,zm=null,Um=0,gi=[],yi=0,vc=null,da=1,ha="";function wc(a,c){Ku[Gu++]=Um,Ku[Gu++]=zm,zm=a,Um=c}function QE(a,c,f){gi[yi++]=da,gi[yi++]=ha,gi[yi++]=vc,vc=a;var y=da;a=ha;var x=32-Ks(y)-1;y&=~(1<<x),f+=1;var E=32-Ks(c)+x;if(30<E){var M=x-x%5;E=(y&(1<<M)-1).toString(32),y>>=M,x-=M,da=1<<32-Ks(c)+x|f<<x|y,ha=E+a}else da=1<<E|f<<x|y,ha=a}function i0(a){a.return!==null&&(wc(a,1),QE(a,1,0))}function o0(a){for(;a===zm;)zm=Ku[--Gu],Ku[Gu]=null,Um=Ku[--Gu],Ku[Gu]=null;for(;a===vc;)vc=gi[--yi],gi[yi]=null,ha=gi[--yi],gi[yi]=null,da=gi[--yi],gi[yi]=null}var Js=null,Zs=null,dn=!1,Ui=null;function XE(a,c){var f=xi(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=a,c=a.deletions,c===null?(a.deletions=[f],a.flags|=16):c.push(f)}function JE(a,c){switch(a.tag){case 5:var f=a.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Js=a,Zs=Qa(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Js=a,Zs=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=vc!==null?{id:da,overflow:ha}:null,a.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=xi(18,null,null,0),f.stateNode=c,f.return=a,a.child=f,Js=a,Zs=null,!0):!1;default:return!1}}function a0(a){return(a.mode&1)!==0&&(a.flags&128)===0}function l0(a){if(dn){var c=Zs;if(c){var f=c;if(!JE(a,c)){if(a0(a))throw Error(t(418));c=Qa(f.nextSibling);var y=Js;c&&JE(a,c)?XE(y,f):(a.flags=a.flags&-4097|2,dn=!1,Js=a)}}else{if(a0(a))throw Error(t(418));a.flags=a.flags&-4097|2,dn=!1,Js=a}}}function ZE(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Js=a}function $m(a){if(a!==Js)return!1;if(!dn)return ZE(a),dn=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Zw(a.type,a.memoizedProps)),c&&(c=Zs)){if(a0(a))throw eC(),Error(t(418));for(;c;)XE(a,c),c=Qa(c.nextSibling)}if(ZE(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(c===0){Zs=Qa(a.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}a=a.nextSibling}Zs=null}}else Zs=Js?Qa(a.stateNode.nextSibling):null;return!0}function eC(){for(var a=Zs;a;)a=Qa(a.nextSibling)}function Yu(){Zs=Js=null,dn=!1}function c0(a){Ui===null?Ui=[a]:Ui.push(a)}var f3=I.ReactCurrentBatchConfig;function of(a,c,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var y=f.stateNode}if(!y)throw Error(t(147,a));var x=y,E=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===E?c.ref:(c=function(M){var H=x.refs;M===null?delete H[E]:H[E]=M},c._stringRef=E,c)}if(typeof a!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,a))}return a}function Bm(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function tC(a){var c=a._init;return c(a._payload)}function nC(a){function c(Z,Y){if(a){var te=Z.deletions;te===null?(Z.deletions=[Y],Z.flags|=16):te.push(Y)}}function f(Z,Y){if(!a)return null;for(;Y!==null;)c(Z,Y),Y=Y.sibling;return null}function y(Z,Y){for(Z=new Map;Y!==null;)Y.key!==null?Z.set(Y.key,Y):Z.set(Y.index,Y),Y=Y.sibling;return Z}function x(Z,Y){return Z=al(Z,Y),Z.index=0,Z.sibling=null,Z}function E(Z,Y,te){return Z.index=te,a?(te=Z.alternate,te!==null?(te=te.index,te<Y?(Z.flags|=2,Y):te):(Z.flags|=2,Y)):(Z.flags|=1048576,Y)}function M(Z){return a&&Z.alternate===null&&(Z.flags|=2),Z}function H(Z,Y,te,_e){return Y===null||Y.tag!==6?(Y=e_(te,Z.mode,_e),Y.return=Z,Y):(Y=x(Y,te),Y.return=Z,Y)}function K(Z,Y,te,_e){var ze=te.type;return ze===P?ge(Z,Y,te.props.children,_e,te.key):Y!==null&&(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ne&&tC(ze)===Y.type)?(_e=x(Y,te.props),_e.ref=of(Z,Y,te),_e.return=Z,_e):(_e=fg(te.type,te.key,te.props,null,Z.mode,_e),_e.ref=of(Z,Y,te),_e.return=Z,_e)}function ie(Z,Y,te,_e){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=t_(te,Z.mode,_e),Y.return=Z,Y):(Y=x(Y,te.children||[]),Y.return=Z,Y)}function ge(Z,Y,te,_e,ze){return Y===null||Y.tag!==7?(Y=Pc(te,Z.mode,_e,ze),Y.return=Z,Y):(Y=x(Y,te),Y.return=Z,Y)}function ye(Z,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=e_(""+Y,Z.mode,te),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return te=fg(Y.type,Y.key,Y.props,null,Z.mode,te),te.ref=of(Z,null,Y),te.return=Z,te;case z:return Y=t_(Y,Z.mode,te),Y.return=Z,Y;case ne:var _e=Y._init;return ye(Z,_e(Y._payload),te)}if(Nt(Y)||G(Y))return Y=Pc(Y,Z.mode,te,null),Y.return=Z,Y;Bm(Z,Y)}return null}function me(Z,Y,te,_e){var ze=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return ze!==null?null:H(Z,Y,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case L:return te.key===ze?K(Z,Y,te,_e):null;case z:return te.key===ze?ie(Z,Y,te,_e):null;case ne:return ze=te._init,me(Z,Y,ze(te._payload),_e)}if(Nt(te)||G(te))return ze!==null?null:ge(Z,Y,te,_e,null);Bm(Z,te)}return null}function ke(Z,Y,te,_e,ze){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Z=Z.get(te)||null,H(Y,Z,""+_e,ze);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case L:return Z=Z.get(_e.key===null?te:_e.key)||null,K(Y,Z,_e,ze);case z:return Z=Z.get(_e.key===null?te:_e.key)||null,ie(Y,Z,_e,ze);case ne:var qe=_e._init;return ke(Z,Y,te,qe(_e._payload),ze)}if(Nt(_e)||G(_e))return Z=Z.get(te)||null,ge(Y,Z,_e,ze,null);Bm(Y,_e)}return null}function Le(Z,Y,te,_e){for(var ze=null,qe=null,He=Y,Ze=Y=0,yr=null;He!==null&&Ze<te.length;Ze++){He.index>Ze?(yr=He,He=null):yr=He.sibling;var Ot=me(Z,He,te[Ze],_e);if(Ot===null){He===null&&(He=yr);break}a&&He&&Ot.alternate===null&&c(Z,He),Y=E(Ot,Y,Ze),qe===null?ze=Ot:qe.sibling=Ot,qe=Ot,He=yr}if(Ze===te.length)return f(Z,He),dn&&wc(Z,Ze),ze;if(He===null){for(;Ze<te.length;Ze++)He=ye(Z,te[Ze],_e),He!==null&&(Y=E(He,Y,Ze),qe===null?ze=He:qe.sibling=He,qe=He);return dn&&wc(Z,Ze),ze}for(He=y(Z,He);Ze<te.length;Ze++)yr=ke(He,Z,Ze,te[Ze],_e),yr!==null&&(a&&yr.alternate!==null&&He.delete(yr.key===null?Ze:yr.key),Y=E(yr,Y,Ze),qe===null?ze=yr:qe.sibling=yr,qe=yr);return a&&He.forEach(function(ll){return c(Z,ll)}),dn&&wc(Z,Ze),ze}function Ve(Z,Y,te,_e){var ze=G(te);if(typeof ze!="function")throw Error(t(150));if(te=ze.call(te),te==null)throw Error(t(151));for(var qe=ze=null,He=Y,Ze=Y=0,yr=null,Ot=te.next();He!==null&&!Ot.done;Ze++,Ot=te.next()){He.index>Ze?(yr=He,He=null):yr=He.sibling;var ll=me(Z,He,Ot.value,_e);if(ll===null){He===null&&(He=yr);break}a&&He&&ll.alternate===null&&c(Z,He),Y=E(ll,Y,Ze),qe===null?ze=ll:qe.sibling=ll,qe=ll,He=yr}if(Ot.done)return f(Z,He),dn&&wc(Z,Ze),ze;if(He===null){for(;!Ot.done;Ze++,Ot=te.next())Ot=ye(Z,Ot.value,_e),Ot!==null&&(Y=E(Ot,Y,Ze),qe===null?ze=Ot:qe.sibling=Ot,qe=Ot);return dn&&wc(Z,Ze),ze}for(He=y(Z,He);!Ot.done;Ze++,Ot=te.next())Ot=ke(He,Z,Ze,Ot.value,_e),Ot!==null&&(a&&Ot.alternate!==null&&He.delete(Ot.key===null?Ze:Ot.key),Y=E(Ot,Y,Ze),qe===null?ze=Ot:qe.sibling=Ot,qe=Ot);return a&&He.forEach(function(H3){return c(Z,H3)}),dn&&wc(Z,Ze),ze}function Vn(Z,Y,te,_e){if(typeof te=="object"&&te!==null&&te.type===P&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case L:e:{for(var ze=te.key,qe=Y;qe!==null;){if(qe.key===ze){if(ze=te.type,ze===P){if(qe.tag===7){f(Z,qe.sibling),Y=x(qe,te.props.children),Y.return=Z,Z=Y;break e}}else if(qe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ne&&tC(ze)===qe.type){f(Z,qe.sibling),Y=x(qe,te.props),Y.ref=of(Z,qe,te),Y.return=Z,Z=Y;break e}f(Z,qe);break}else c(Z,qe);qe=qe.sibling}te.type===P?(Y=Pc(te.props.children,Z.mode,_e,te.key),Y.return=Z,Z=Y):(_e=fg(te.type,te.key,te.props,null,Z.mode,_e),_e.ref=of(Z,Y,te),_e.return=Z,Z=_e)}return M(Z);case z:e:{for(qe=te.key;Y!==null;){if(Y.key===qe)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){f(Z,Y.sibling),Y=x(Y,te.children||[]),Y.return=Z,Z=Y;break e}else{f(Z,Y);break}else c(Z,Y);Y=Y.sibling}Y=t_(te,Z.mode,_e),Y.return=Z,Z=Y}return M(Z);case ne:return qe=te._init,Vn(Z,Y,qe(te._payload),_e)}if(Nt(te))return Le(Z,Y,te,_e);if(G(te))return Ve(Z,Y,te,_e);Bm(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,Y!==null&&Y.tag===6?(f(Z,Y.sibling),Y=x(Y,te),Y.return=Z,Z=Y):(f(Z,Y),Y=e_(te,Z.mode,_e),Y.return=Z,Z=Y),M(Z)):f(Z,Y)}return Vn}var Qu=nC(!0),rC=nC(!1),Wm=Xa(null),qm=null,Xu=null,u0=null;function d0(){u0=Xu=qm=null}function h0(a){var c=Wm.current;cn(Wm),a._currentValue=c}function f0(a,c,f){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===f)break;a=a.return}}function Ju(a,c){qm=a,u0=Xu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Rs=!0),a.firstContext=null)}function vi(a){var c=a._currentValue;if(u0!==a)if(a={context:a,memoizedValue:c,next:null},Xu===null){if(qm===null)throw Error(t(308));Xu=a,qm.dependencies={lanes:0,firstContext:a}}else Xu=Xu.next=a;return c}var _c=null;function p0(a){_c===null?_c=[a]:_c.push(a)}function sC(a,c,f,y){var x=c.interleaved;return x===null?(f.next=f,p0(c)):(f.next=x.next,x.next=f),c.interleaved=f,fa(a,y)}function fa(a,c){a.lanes|=c;var f=a.alternate;for(f!==null&&(f.lanes|=c),f=a,a=a.return;a!==null;)a.childLanes|=c,f=a.alternate,f!==null&&(f.childLanes|=c),f=a,a=a.return;return f.tag===3?f.stateNode:null}var el=!1;function m0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iC(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function pa(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function tl(a,c,f){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Dt&2)!==0){var x=y.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),y.pending=c,fa(a,f)}return x=y.interleaved,x===null?(c.next=c,p0(y)):(c.next=x.next,x.next=c),y.interleaved=c,fa(a,f)}function Hm(a,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var y=c.lanes;y&=a.pendingLanes,f|=y,c.lanes=f,zh(a,f)}}function oC(a,c){var f=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var x=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var M={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?x=E=M:E=E.next=M,f=f.next}while(f!==null);E===null?x=E=c:E=E.next=c}else x=E=c;f={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:y.shared,effects:y.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=c}function Km(a,c,f,y){var x=a.updateQueue;el=!1;var E=x.firstBaseUpdate,M=x.lastBaseUpdate,H=x.shared.pending;if(H!==null){x.shared.pending=null;var K=H,ie=K.next;K.next=null,M===null?E=ie:M.next=ie,M=K;var ge=a.alternate;ge!==null&&(ge=ge.updateQueue,H=ge.lastBaseUpdate,H!==M&&(H===null?ge.firstBaseUpdate=ie:H.next=ie,ge.lastBaseUpdate=K))}if(E!==null){var ye=x.baseState;M=0,ge=ie=K=null,H=E;do{var me=H.lane,ke=H.eventTime;if((y&me)===me){ge!==null&&(ge=ge.next={eventTime:ke,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Le=a,Ve=H;switch(me=c,ke=f,Ve.tag){case 1:if(Le=Ve.payload,typeof Le=="function"){ye=Le.call(ke,ye,me);break e}ye=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ve.payload,me=typeof Le=="function"?Le.call(ke,ye,me):Le,me==null)break e;ye=B({},ye,me);break e;case 2:el=!0}}H.callback!==null&&H.lane!==0&&(a.flags|=64,me=x.effects,me===null?x.effects=[H]:me.push(H))}else ke={eventTime:ke,lane:me,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ge===null?(ie=ge=ke,K=ye):ge=ge.next=ke,M|=me;if(H=H.next,H===null){if(H=x.shared.pending,H===null)break;me=H,H=me.next,me.next=null,x.lastBaseUpdate=me,x.shared.pending=null}}while(!0);if(ge===null&&(K=ye),x.baseState=K,x.firstBaseUpdate=ie,x.lastBaseUpdate=ge,c=x.shared.interleaved,c!==null){x=c;do M|=x.lane,x=x.next;while(x!==c)}else E===null&&(x.shared.lanes=0);Sc|=M,a.lanes=M,a.memoizedState=ye}}function aC(a,c,f){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var y=a[c],x=y.callback;if(x!==null){if(y.callback=null,y=f,typeof x!="function")throw Error(t(191,x));x.call(y)}}}var af={},So=Xa(af),lf=Xa(af),cf=Xa(af);function xc(a){if(a===af)throw Error(t(174));return a}function g0(a,c){switch(tn(cf,c),tn(lf,a),tn(So,af),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Et(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Et(c,a)}cn(So),tn(So,c)}function Zu(){cn(So),cn(lf),cn(cf)}function lC(a){xc(cf.current);var c=xc(So.current),f=Et(c,a.type);c!==f&&(tn(lf,a),tn(So,f))}function y0(a){lf.current===a&&(cn(So),cn(lf))}var _n=Xa(0);function Gm(a){for(var c=a;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var v0=[];function w0(){for(var a=0;a<v0.length;a++)v0[a]._workInProgressVersionPrimary=null;v0.length=0}var Ym=I.ReactCurrentDispatcher,_0=I.ReactCurrentBatchConfig,bc=0,xn=null,tr=null,mr=null,Qm=!1,uf=!1,df=0,p3=0;function Kr(){throw Error(t(321))}function x0(a,c){if(c===null)return!1;for(var f=0;f<c.length&&f<a.length;f++)if(!zi(a[f],c[f]))return!1;return!0}function b0(a,c,f,y,x,E){if(bc=E,xn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ym.current=a===null||a.memoizedState===null?v3:w3,a=f(y,x),uf){E=0;do{if(uf=!1,df=0,25<=E)throw Error(t(301));E+=1,mr=tr=null,c.updateQueue=null,Ym.current=_3,a=f(y,x)}while(uf)}if(Ym.current=Zm,c=tr!==null&&tr.next!==null,bc=0,mr=tr=xn=null,Qm=!1,c)throw Error(t(300));return a}function S0(){var a=df!==0;return df=0,a}function To(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?xn.memoizedState=mr=a:mr=mr.next=a,mr}function wi(){if(tr===null){var a=xn.alternate;a=a!==null?a.memoizedState:null}else a=tr.next;var c=mr===null?xn.memoizedState:mr.next;if(c!==null)mr=c,tr=a;else{if(a===null)throw Error(t(310));tr=a,a={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},mr===null?xn.memoizedState=mr=a:mr=mr.next=a}return mr}function hf(a,c){return typeof c=="function"?c(a):c}function T0(a){var c=wi(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var y=tr,x=y.baseQueue,E=f.pending;if(E!==null){if(x!==null){var M=x.next;x.next=E.next,E.next=M}y.baseQueue=x=E,f.pending=null}if(x!==null){E=x.next,y=y.baseState;var H=M=null,K=null,ie=E;do{var ge=ie.lane;if((bc&ge)===ge)K!==null&&(K=K.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),y=ie.hasEagerState?ie.eagerState:a(y,ie.action);else{var ye={lane:ge,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};K===null?(H=K=ye,M=y):K=K.next=ye,xn.lanes|=ge,Sc|=ge}ie=ie.next}while(ie!==null&&ie!==E);K===null?M=y:K.next=H,zi(y,c.memoizedState)||(Rs=!0),c.memoizedState=y,c.baseState=M,c.baseQueue=K,f.lastRenderedState=y}if(a=f.interleaved,a!==null){x=a;do E=x.lane,xn.lanes|=E,Sc|=E,x=x.next;while(x!==a)}else x===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function E0(a){var c=wi(),f=c.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var y=f.dispatch,x=f.pending,E=c.memoizedState;if(x!==null){f.pending=null;var M=x=x.next;do E=a(E,M.action),M=M.next;while(M!==x);zi(E,c.memoizedState)||(Rs=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),f.lastRenderedState=E}return[E,y]}function cC(){}function uC(a,c){var f=xn,y=wi(),x=c(),E=!zi(y.memoizedState,x);if(E&&(y.memoizedState=x,Rs=!0),y=y.queue,C0(fC.bind(null,f,y,a),[a]),y.getSnapshot!==c||E||mr!==null&&mr.memoizedState.tag&1){if(f.flags|=2048,ff(9,hC.bind(null,f,y,x,c),void 0,null),gr===null)throw Error(t(349));(bc&30)!==0||dC(f,c,x)}return x}function dC(a,c,f){a.flags|=16384,a={getSnapshot:c,value:f},c=xn.updateQueue,c===null?(c={lastEffect:null,stores:null},xn.updateQueue=c,c.stores=[a]):(f=c.stores,f===null?c.stores=[a]:f.push(a))}function hC(a,c,f,y){c.value=f,c.getSnapshot=y,pC(c)&&mC(a)}function fC(a,c,f){return f(function(){pC(c)&&mC(a)})}function pC(a){var c=a.getSnapshot;a=a.value;try{var f=c();return!zi(a,f)}catch{return!0}}function mC(a){var c=fa(a,1);c!==null&&qi(c,a,1,-1)}function gC(a){var c=To();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:a},c.queue=a,a=a.dispatch=y3.bind(null,xn,a),[c.memoizedState,a]}function ff(a,c,f,y){return a={tag:a,create:c,destroy:f,deps:y,next:null},c=xn.updateQueue,c===null?(c={lastEffect:null,stores:null},xn.updateQueue=c,c.lastEffect=a.next=a):(f=c.lastEffect,f===null?c.lastEffect=a.next=a:(y=f.next,f.next=a,a.next=y,c.lastEffect=a)),a}function yC(){return wi().memoizedState}function Xm(a,c,f,y){var x=To();xn.flags|=a,x.memoizedState=ff(1|c,f,void 0,y===void 0?null:y)}function Jm(a,c,f,y){var x=wi();y=y===void 0?null:y;var E=void 0;if(tr!==null){var M=tr.memoizedState;if(E=M.destroy,y!==null&&x0(y,M.deps)){x.memoizedState=ff(c,f,E,y);return}}xn.flags|=a,x.memoizedState=ff(1|c,f,E,y)}function vC(a,c){return Xm(8390656,8,a,c)}function C0(a,c){return Jm(2048,8,a,c)}function wC(a,c){return Jm(4,2,a,c)}function _C(a,c){return Jm(4,4,a,c)}function xC(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function bC(a,c,f){return f=f!=null?f.concat([a]):null,Jm(4,4,xC.bind(null,c,a),f)}function P0(){}function SC(a,c){var f=wi();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&x0(c,y[1])?y[0]:(f.memoizedState=[a,c],a)}function TC(a,c){var f=wi();c=c===void 0?null:c;var y=f.memoizedState;return y!==null&&c!==null&&x0(c,y[1])?y[0]:(a=a(),f.memoizedState=[a,c],a)}function EC(a,c,f){return(bc&21)===0?(a.baseState&&(a.baseState=!1,Rs=!0),a.memoizedState=f):(zi(f,c)||(f=Vh(),xn.lanes|=f,Sc|=f,a.baseState=!0),c)}function m3(a,c){var f=Pt;Pt=f!==0&&4>f?f:4,a(!0);var y=_0.transition;_0.transition={};try{a(!1),c()}finally{Pt=f,_0.transition=y}}function CC(){return wi().memoizedState}function g3(a,c,f){var y=il(a);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},PC(a))kC(c,f);else if(f=sC(a,c,f,y),f!==null){var x=ds();qi(f,a,y,x),RC(f,c,y)}}function y3(a,c,f){var y=il(a),x={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(PC(a))kC(c,x);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var M=c.lastRenderedState,H=E(M,f);if(x.hasEagerState=!0,x.eagerState=H,zi(H,M)){var K=c.interleaved;K===null?(x.next=x,p0(c)):(x.next=K.next,K.next=x),c.interleaved=x;return}}catch{}finally{}f=sC(a,c,x,y),f!==null&&(x=ds(),qi(f,a,y,x),RC(f,c,y))}}function PC(a){var c=a.alternate;return a===xn||c!==null&&c===xn}function kC(a,c){uf=Qm=!0;var f=a.pending;f===null?c.next=c:(c.next=f.next,f.next=c),a.pending=c}function RC(a,c,f){if((f&4194240)!==0){var y=c.lanes;y&=a.pendingLanes,f|=y,c.lanes=f,zh(a,f)}}var Zm={readContext:vi,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},v3={readContext:vi,useCallback:function(a,c){return To().memoizedState=[a,c===void 0?null:c],a},useContext:vi,useEffect:vC,useImperativeHandle:function(a,c,f){return f=f!=null?f.concat([a]):null,Xm(4194308,4,xC.bind(null,c,a),f)},useLayoutEffect:function(a,c){return Xm(4194308,4,a,c)},useInsertionEffect:function(a,c){return Xm(4,2,a,c)},useMemo:function(a,c){var f=To();return c=c===void 0?null:c,a=a(),f.memoizedState=[a,c],a},useReducer:function(a,c,f){var y=To();return c=f!==void 0?f(c):c,y.memoizedState=y.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},y.queue=a,a=a.dispatch=g3.bind(null,xn,a),[y.memoizedState,a]},useRef:function(a){var c=To();return a={current:a},c.memoizedState=a},useState:gC,useDebugValue:P0,useDeferredValue:function(a){return To().memoizedState=a},useTransition:function(){var a=gC(!1),c=a[0];return a=m3.bind(null,a[1]),To().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,f){var y=xn,x=To();if(dn){if(f===void 0)throw Error(t(407));f=f()}else{if(f=c(),gr===null)throw Error(t(349));(bc&30)!==0||dC(y,c,f)}x.memoizedState=f;var E={value:f,getSnapshot:c};return x.queue=E,vC(fC.bind(null,y,E,a),[a]),y.flags|=2048,ff(9,hC.bind(null,y,E,f,c),void 0,null),f},useId:function(){var a=To(),c=gr.identifierPrefix;if(dn){var f=ha,y=da;f=(y&~(1<<32-Ks(y)-1)).toString(32)+f,c=":"+c+"R"+f,f=df++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=p3++,c=":"+c+"r"+f.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},w3={readContext:vi,useCallback:SC,useContext:vi,useEffect:C0,useImperativeHandle:bC,useInsertionEffect:wC,useLayoutEffect:_C,useMemo:TC,useReducer:T0,useRef:yC,useState:function(){return T0(hf)},useDebugValue:P0,useDeferredValue:function(a){var c=wi();return EC(c,tr.memoizedState,a)},useTransition:function(){var a=T0(hf)[0],c=wi().memoizedState;return[a,c]},useMutableSource:cC,useSyncExternalStore:uC,useId:CC,unstable_isNewReconciler:!1},_3={readContext:vi,useCallback:SC,useContext:vi,useEffect:C0,useImperativeHandle:bC,useInsertionEffect:wC,useLayoutEffect:_C,useMemo:TC,useReducer:E0,useRef:yC,useState:function(){return E0(hf)},useDebugValue:P0,useDeferredValue:function(a){var c=wi();return tr===null?c.memoizedState=a:EC(c,tr.memoizedState,a)},useTransition:function(){var a=E0(hf)[0],c=wi().memoizedState;return[a,c]},useMutableSource:cC,useSyncExternalStore:uC,useId:CC,unstable_isNewReconciler:!1};function $i(a,c){if(a&&a.defaultProps){c=B({},c),a=a.defaultProps;for(var f in a)c[f]===void 0&&(c[f]=a[f]);return c}return c}function k0(a,c,f,y){c=a.memoizedState,f=f(y,c),f=f==null?c:B({},c,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var eg={isMounted:function(a){return(a=a._reactInternals)?ft(a)===a:!1},enqueueSetState:function(a,c,f){a=a._reactInternals;var y=ds(),x=il(a),E=pa(y,x);E.payload=c,f!=null&&(E.callback=f),c=tl(a,E,x),c!==null&&(qi(c,a,x,y),Hm(c,a,x))},enqueueReplaceState:function(a,c,f){a=a._reactInternals;var y=ds(),x=il(a),E=pa(y,x);E.tag=1,E.payload=c,f!=null&&(E.callback=f),c=tl(a,E,x),c!==null&&(qi(c,a,x,y),Hm(c,a,x))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var f=ds(),y=il(a),x=pa(f,y);x.tag=2,c!=null&&(x.callback=c),c=tl(a,x,y),c!==null&&(qi(c,a,y,f),Hm(c,a,y))}};function AC(a,c,f,y,x,E,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,E,M):c.prototype&&c.prototype.isPureReactComponent?!Jh(f,y)||!Jh(x,E):!0}function IC(a,c,f){var y=!1,x=Ja,E=c.contextType;return typeof E=="object"&&E!==null?E=vi(E):(x=ks(c)?yc:Hr.current,y=c.contextTypes,E=(y=y!=null)?Hu(a,x):Ja),c=new c(f,E),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=eg,a.stateNode=c,c._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=E),c}function NC(a,c,f,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,y),c.state!==a&&eg.enqueueReplaceState(c,c.state,null)}function R0(a,c,f,y){var x=a.stateNode;x.props=f,x.state=a.memoizedState,x.refs={},m0(a);var E=c.contextType;typeof E=="object"&&E!==null?x.context=vi(E):(E=ks(c)?yc:Hr.current,x.context=Hu(a,E)),x.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(k0(a,c,E,f),x.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(c=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),c!==x.state&&eg.enqueueReplaceState(x,x.state,null),Km(a,f,x,y),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function ed(a,c){try{var f="",y=c;do f+=ve(y),y=y.return;while(y);var x=f}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:c,stack:x,digest:null}}function A0(a,c,f){return{value:a,source:null,stack:f??null,digest:c??null}}function I0(a,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var x3=typeof WeakMap=="function"?WeakMap:Map;function DC(a,c,f){f=pa(-1,f),f.tag=3,f.payload={element:null};var y=c.value;return f.callback=function(){ag||(ag=!0,H0=y),I0(a,c)},f}function jC(a,c,f){f=pa(-1,f),f.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var x=c.value;f.payload=function(){return y(x)},f.callback=function(){I0(a,c)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){I0(a,c),typeof y!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})}),f}function OC(a,c,f){var y=a.pingCache;if(y===null){y=a.pingCache=new x3;var x=new Set;y.set(c,x)}else x=y.get(c),x===void 0&&(x=new Set,y.set(c,x));x.has(f)||(x.add(f),a=O3.bind(null,a,c,f),c.then(a,a))}function MC(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function LC(a,c,f,y,x){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=pa(-1,1),c.tag=2,tl(f,c,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var b3=I.ReactCurrentOwner,Rs=!1;function us(a,c,f,y){c.child=a===null?rC(c,null,f,y):Qu(c,a.child,f,y)}function VC(a,c,f,y,x){f=f.render;var E=c.ref;return Ju(c,x),y=b0(a,c,f,y,E,x),f=S0(),a!==null&&!Rs?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~x,ma(a,c,x)):(dn&&f&&i0(c),c.flags|=1,us(a,c,y,x),c.child)}function FC(a,c,f,y,x){if(a===null){var E=f.type;return typeof E=="function"&&!Z0(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=E,zC(a,c,E,y,x)):(a=fg(f.type,null,y,c,c.mode,x),a.ref=c.ref,a.return=c,c.child=a)}if(E=a.child,(a.lanes&x)===0){var M=E.memoizedProps;if(f=f.compare,f=f!==null?f:Jh,f(M,y)&&a.ref===c.ref)return ma(a,c,x)}return c.flags|=1,a=al(E,y),a.ref=c.ref,a.return=c,c.child=a}function zC(a,c,f,y,x){if(a!==null){var E=a.memoizedProps;if(Jh(E,y)&&a.ref===c.ref)if(Rs=!1,c.pendingProps=y=E,(a.lanes&x)!==0)(a.flags&131072)!==0&&(Rs=!0);else return c.lanes=a.lanes,ma(a,c,x)}return N0(a,c,f,y,x)}function UC(a,c,f){var y=c.pendingProps,x=y.children,E=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(nd,ei),ei|=f;else{if((f&1073741824)===0)return a=E!==null?E.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,tn(nd,ei),ei|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:f,tn(nd,ei),ei|=y}else E!==null?(y=E.baseLanes|f,c.memoizedState=null):y=f,tn(nd,ei),ei|=y;return us(a,c,x,f),c.child}function $C(a,c){var f=c.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function N0(a,c,f,y,x){var E=ks(f)?yc:Hr.current;return E=Hu(c,E),Ju(c,x),f=b0(a,c,f,y,E,x),y=S0(),a!==null&&!Rs?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~x,ma(a,c,x)):(dn&&y&&i0(c),c.flags|=1,us(a,c,f,x),c.child)}function BC(a,c,f,y,x){if(ks(f)){var E=!0;Vm(c)}else E=!1;if(Ju(c,x),c.stateNode===null)ng(a,c),IC(c,f,y),R0(c,f,y,x),y=!0;else if(a===null){var M=c.stateNode,H=c.memoizedProps;M.props=H;var K=M.context,ie=f.contextType;typeof ie=="object"&&ie!==null?ie=vi(ie):(ie=ks(f)?yc:Hr.current,ie=Hu(c,ie));var ge=f.getDerivedStateFromProps,ye=typeof ge=="function"||typeof M.getSnapshotBeforeUpdate=="function";ye||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==y||K!==ie)&&NC(c,M,y,ie),el=!1;var me=c.memoizedState;M.state=me,Km(c,y,M,x),K=c.memoizedState,H!==y||me!==K||Ps.current||el?(typeof ge=="function"&&(k0(c,f,ge,y),K=c.memoizedState),(H=el||AC(c,f,H,y,me,K,ie))?(ye||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(c.flags|=4194308)):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=K),M.props=y,M.state=K,M.context=ie,y=H):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{M=c.stateNode,iC(a,c),H=c.memoizedProps,ie=c.type===c.elementType?H:$i(c.type,H),M.props=ie,ye=c.pendingProps,me=M.context,K=f.contextType,typeof K=="object"&&K!==null?K=vi(K):(K=ks(f)?yc:Hr.current,K=Hu(c,K));var ke=f.getDerivedStateFromProps;(ge=typeof ke=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==ye||me!==K)&&NC(c,M,y,K),el=!1,me=c.memoizedState,M.state=me,Km(c,y,M,x);var Le=c.memoizedState;H!==ye||me!==Le||Ps.current||el?(typeof ke=="function"&&(k0(c,f,ke,y),Le=c.memoizedState),(ie=el||AC(c,f,ie,y,me,Le,K)||!1)?(ge||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,Le,K),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,Le,K)),typeof M.componentDidUpdate=="function"&&(c.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&me===a.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&me===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Le),M.props=y,M.state=Le,M.context=K,y=ie):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&me===a.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&me===a.memoizedState||(c.flags|=1024),y=!1)}return D0(a,c,f,y,E,x)}function D0(a,c,f,y,x,E){$C(a,c);var M=(c.flags&128)!==0;if(!y&&!M)return x&&GE(c,f,!1),ma(a,c,E);y=c.stateNode,b3.current=c;var H=M&&typeof f.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,a!==null&&M?(c.child=Qu(c,a.child,null,E),c.child=Qu(c,null,H,E)):us(a,c,H,E),c.memoizedState=y.state,x&&GE(c,f,!0),c.child}function WC(a){var c=a.stateNode;c.pendingContext?HE(a,c.pendingContext,c.pendingContext!==c.context):c.context&&HE(a,c.context,!1),g0(a,c.containerInfo)}function qC(a,c,f,y,x){return Yu(),c0(x),c.flags|=256,us(a,c,f,y),c.child}var j0={dehydrated:null,treeContext:null,retryLane:0};function O0(a){return{baseLanes:a,cachePool:null,transitions:null}}function HC(a,c,f){var y=c.pendingProps,x=_n.current,E=!1,M=(c.flags&128)!==0,H;if((H=M)||(H=a!==null&&a.memoizedState===null?!1:(x&2)!==0),H?(E=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),tn(_n,x&1),a===null)return l0(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(M=y.children,a=y.fallback,E?(y=c.mode,E=c.child,M={mode:"hidden",children:M},(y&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=M):E=pg(M,y,0,null),a=Pc(a,y,f,null),E.return=c,a.return=c,E.sibling=a,c.child=E,c.child.memoizedState=O0(f),c.memoizedState=j0,a):M0(c,M));if(x=a.memoizedState,x!==null&&(H=x.dehydrated,H!==null))return S3(a,c,M,y,H,x,f);if(E){E=y.fallback,M=c.mode,x=a.child,H=x.sibling;var K={mode:"hidden",children:y.children};return(M&1)===0&&c.child!==x?(y=c.child,y.childLanes=0,y.pendingProps=K,c.deletions=null):(y=al(x,K),y.subtreeFlags=x.subtreeFlags&14680064),H!==null?E=al(H,E):(E=Pc(E,M,f,null),E.flags|=2),E.return=c,y.return=c,y.sibling=E,c.child=y,y=E,E=c.child,M=a.child.memoizedState,M=M===null?O0(f):{baseLanes:M.baseLanes|f,cachePool:null,transitions:M.transitions},E.memoizedState=M,E.childLanes=a.childLanes&~f,c.memoizedState=j0,y}return E=a.child,a=E.sibling,y=al(E,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=f),y.return=c,y.sibling=null,a!==null&&(f=c.deletions,f===null?(c.deletions=[a],c.flags|=16):f.push(a)),c.child=y,c.memoizedState=null,y}function M0(a,c){return c=pg({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function tg(a,c,f,y){return y!==null&&c0(y),Qu(c,a.child,null,f),a=M0(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function S3(a,c,f,y,x,E,M){if(f)return c.flags&256?(c.flags&=-257,y=A0(Error(t(422))),tg(a,c,M,y)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(E=y.fallback,x=c.mode,y=pg({mode:"visible",children:y.children},x,0,null),E=Pc(E,x,M,null),E.flags|=2,y.return=c,E.return=c,y.sibling=E,c.child=y,(c.mode&1)!==0&&Qu(c,a.child,null,M),c.child.memoizedState=O0(M),c.memoizedState=j0,E);if((c.mode&1)===0)return tg(a,c,M,null);if(x.data==="$!"){if(y=x.nextSibling&&x.nextSibling.dataset,y)var H=y.dgst;return y=H,E=Error(t(419)),y=A0(E,y,void 0),tg(a,c,M,y)}if(H=(M&a.childLanes)!==0,Rs||H){if(y=gr,y!==null){switch(M&-M){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(y.suspendedLanes|M))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,fa(a,x),qi(y,a,x,-1))}return J0(),y=A0(Error(t(421))),tg(a,c,M,y)}return x.data==="$?"?(c.flags|=128,c.child=a.child,c=M3.bind(null,a),x._reactRetry=c,null):(a=E.treeContext,Zs=Qa(x.nextSibling),Js=c,dn=!0,Ui=null,a!==null&&(gi[yi++]=da,gi[yi++]=ha,gi[yi++]=vc,da=a.id,ha=a.overflow,vc=c),c=M0(c,y.children),c.flags|=4096,c)}function KC(a,c,f){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),f0(a.return,c,f)}function L0(a,c,f,y,x){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:x}:(E.isBackwards=c,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=f,E.tailMode=x)}function GC(a,c,f){var y=c.pendingProps,x=y.revealOrder,E=y.tail;if(us(a,c,y.children,f),y=_n.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&KC(a,f,c);else if(a.tag===19)KC(a,f,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(tn(_n,y),(c.mode&1)===0)c.memoizedState=null;else switch(x){case"forwards":for(f=c.child,x=null;f!==null;)a=f.alternate,a!==null&&Gm(a)===null&&(x=f),f=f.sibling;f=x,f===null?(x=c.child,c.child=null):(x=f.sibling,f.sibling=null),L0(c,!1,x,f,E);break;case"backwards":for(f=null,x=c.child,c.child=null;x!==null;){if(a=x.alternate,a!==null&&Gm(a)===null){c.child=x;break}a=x.sibling,x.sibling=f,f=x,x=a}L0(c,!0,f,null,E);break;case"together":L0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ng(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function ma(a,c,f){if(a!==null&&(c.dependencies=a.dependencies),Sc|=c.lanes,(f&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,f=al(a,a.pendingProps),c.child=f,f.return=c;a.sibling!==null;)a=a.sibling,f=f.sibling=al(a,a.pendingProps),f.return=c;f.sibling=null}return c.child}function T3(a,c,f){switch(c.tag){case 3:WC(c),Yu();break;case 5:lC(c);break;case 1:ks(c.type)&&Vm(c);break;case 4:g0(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,x=c.memoizedProps.value;tn(Wm,y._currentValue),y._currentValue=x;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(tn(_n,_n.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?HC(a,c,f):(tn(_n,_n.current&1),a=ma(a,c,f),a!==null?a.sibling:null);tn(_n,_n.current&1);break;case 19:if(y=(f&c.childLanes)!==0,(a.flags&128)!==0){if(y)return GC(a,c,f);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),tn(_n,_n.current),y)break;return null;case 22:case 23:return c.lanes=0,UC(a,c,f)}return ma(a,c,f)}var YC,V0,QC,XC;YC=function(a,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},V0=function(){},QC=function(a,c,f,y){var x=a.memoizedProps;if(x!==y){a=c.stateNode,xc(So.current);var E=null;switch(f){case"input":x=Ke(a,x),y=Ke(a,y),E=[];break;case"select":x=B({},x,{value:void 0}),y=B({},y,{value:void 0}),E=[];break;case"textarea":x=ur(a,x),y=ur(a,y),E=[];break;default:typeof x.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Om)}on(f,y);var M;f=null;for(ie in x)if(!y.hasOwnProperty(ie)&&x.hasOwnProperty(ie)&&x[ie]!=null)if(ie==="style"){var H=x[ie];for(M in H)H.hasOwnProperty(M)&&(f||(f={}),f[M]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?E||(E=[]):(E=E||[]).push(ie,null));for(ie in y){var K=y[ie];if(H=x?.[ie],y.hasOwnProperty(ie)&&K!==H&&(K!=null||H!=null))if(ie==="style")if(H){for(M in H)!H.hasOwnProperty(M)||K&&K.hasOwnProperty(M)||(f||(f={}),f[M]="");for(M in K)K.hasOwnProperty(M)&&H[M]!==K[M]&&(f||(f={}),f[M]=K[M])}else f||(E||(E=[]),E.push(ie,f)),f=K;else ie==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,H=H?H.__html:void 0,K!=null&&H!==K&&(E=E||[]).push(ie,K)):ie==="children"?typeof K!="string"&&typeof K!="number"||(E=E||[]).push(ie,""+K):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(K!=null&&ie==="onScroll"&&ln("scroll",a),E||H===K||(E=[])):(E=E||[]).push(ie,K))}f&&(E=E||[]).push("style",f);var ie=E;(c.updateQueue=ie)&&(c.flags|=4)}},XC=function(a,c,f,y){f!==y&&(c.flags|=4)};function pf(a,c){if(!dn)switch(a.tailMode){case"hidden":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Gr(a){var c=a.alternate!==null&&a.alternate.child===a.child,f=0,y=0;if(c)for(var x=a.child;x!==null;)f|=x.lanes|x.childLanes,y|=x.subtreeFlags&14680064,y|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)f|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=y,a.childLanes=f,c}function E3(a,c,f){var y=c.pendingProps;switch(o0(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(c),null;case 1:return ks(c.type)&&Lm(),Gr(c),null;case 3:return y=c.stateNode,Zu(),cn(Ps),cn(Hr),w0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&($m(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ui!==null&&(Y0(Ui),Ui=null))),V0(a,c),Gr(c),null;case 5:y0(c);var x=xc(cf.current);if(f=c.type,a!==null&&c.stateNode!=null)QC(a,c,f,y,x),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(t(166));return Gr(c),null}if(a=xc(So.current),$m(c)){y=c.stateNode,f=c.type;var E=c.memoizedProps;switch(y[bo]=c,y[rf]=E,a=(c.mode&1)!==0,f){case"dialog":ln("cancel",y),ln("close",y);break;case"iframe":case"object":case"embed":ln("load",y);break;case"video":case"audio":for(x=0;x<ef.length;x++)ln(ef[x],y);break;case"source":ln("error",y);break;case"img":case"image":case"link":ln("error",y),ln("load",y);break;case"details":ln("toggle",y);break;case"input":Mt(y,E),ln("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!E.multiple},ln("invalid",y);break;case"textarea":Cn(y,E),ln("invalid",y)}on(f,E),x=null;for(var M in E)if(E.hasOwnProperty(M)){var H=E[M];M==="children"?typeof H=="string"?y.textContent!==H&&(E.suppressHydrationWarning!==!0&&jm(y.textContent,H,a),x=["children",H]):typeof H=="number"&&y.textContent!==""+H&&(E.suppressHydrationWarning!==!0&&jm(y.textContent,H,a),x=["children",""+H]):s.hasOwnProperty(M)&&H!=null&&M==="onScroll"&&ln("scroll",y)}switch(f){case"input":Ce(y),pn(y,E,!0);break;case"textarea":Ce(y),$t(y);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(y.onclick=Om)}y=x,c.updateQueue=y,y!==null&&(c.flags|=4)}else{M=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Gt(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=M.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=M.createElement(f,{is:y.is}):(a=M.createElement(f),f==="select"&&(M=a,y.multiple?M.multiple=!0:y.size&&(M.size=y.size))):a=M.createElementNS(a,f),a[bo]=c,a[rf]=y,YC(a,c,!1,!1),c.stateNode=a;e:{switch(M=Cr(f,y),f){case"dialog":ln("cancel",a),ln("close",a),x=y;break;case"iframe":case"object":case"embed":ln("load",a),x=y;break;case"video":case"audio":for(x=0;x<ef.length;x++)ln(ef[x],a);x=y;break;case"source":ln("error",a),x=y;break;case"img":case"image":case"link":ln("error",a),ln("load",a),x=y;break;case"details":ln("toggle",a),x=y;break;case"input":Mt(a,y),x=Ke(a,y),ln("invalid",a);break;case"option":x=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},x=B({},y,{value:void 0}),ln("invalid",a);break;case"textarea":Cn(a,y),x=ur(a,y),ln("invalid",a);break;default:x=y}on(f,x),H=x;for(E in H)if(H.hasOwnProperty(E)){var K=H[E];E==="style"?mn(a,K):E==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&er(a,K)):E==="children"?typeof K=="string"?(f!=="textarea"||K!=="")&&kn(a,K):typeof K=="number"&&kn(a,""+K):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?K!=null&&E==="onScroll"&&ln("scroll",a):K!=null&&j(a,E,K,M))}switch(f){case"input":Ce(a),pn(a,y,!1);break;case"textarea":Ce(a),$t(a);break;case"option":y.value!=null&&a.setAttribute("value",""+xe(y.value));break;case"select":a.multiple=!!y.multiple,E=y.value,E!=null?dt(a,!!y.multiple,E,!1):y.defaultValue!=null&&dt(a,!!y.multiple,y.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=Om)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Gr(c),null;case 6:if(a&&c.stateNode!=null)XC(a,c,a.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(t(166));if(f=xc(cf.current),xc(So.current),$m(c)){if(y=c.stateNode,f=c.memoizedProps,y[bo]=c,(E=y.nodeValue!==f)&&(a=Js,a!==null))switch(a.tag){case 3:jm(y.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&jm(y.nodeValue,f,(a.mode&1)!==0)}E&&(c.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[bo]=c,c.stateNode=y}return Gr(c),null;case 13:if(cn(_n),y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(dn&&Zs!==null&&(c.mode&1)!==0&&(c.flags&128)===0)eC(),Yu(),c.flags|=98560,E=!1;else if(E=$m(c),y!==null&&y.dehydrated!==null){if(a===null){if(!E)throw Error(t(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[bo]=c}else Yu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Gr(c),E=!1}else Ui!==null&&(Y0(Ui),Ui=null),E=!0;if(!E)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(_n.current&1)!==0?nr===0&&(nr=3):J0())),c.updateQueue!==null&&(c.flags|=4),Gr(c),null);case 4:return Zu(),V0(a,c),a===null&&tf(c.stateNode.containerInfo),Gr(c),null;case 10:return h0(c.type._context),Gr(c),null;case 17:return ks(c.type)&&Lm(),Gr(c),null;case 19:if(cn(_n),E=c.memoizedState,E===null)return Gr(c),null;if(y=(c.flags&128)!==0,M=E.rendering,M===null)if(y)pf(E,!1);else{if(nr!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(M=Gm(a),M!==null){for(c.flags|=128,pf(E,!1),y=M.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=f,f=c.child;f!==null;)E=f,a=y,E.flags&=14680066,M=E.alternate,M===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=M.childLanes,E.lanes=M.lanes,E.child=M.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=M.memoizedProps,E.memoizedState=M.memoizedState,E.updateQueue=M.updateQueue,E.type=M.type,a=M.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return tn(_n,_n.current&1|2),c.child}a=a.sibling}E.tail!==null&&lt()>rd&&(c.flags|=128,y=!0,pf(E,!1),c.lanes=4194304)}else{if(!y)if(a=Gm(M),a!==null){if(c.flags|=128,y=!0,f=a.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),pf(E,!0),E.tail===null&&E.tailMode==="hidden"&&!M.alternate&&!dn)return Gr(c),null}else 2*lt()-E.renderingStartTime>rd&&f!==1073741824&&(c.flags|=128,y=!0,pf(E,!1),c.lanes=4194304);E.isBackwards?(M.sibling=c.child,c.child=M):(f=E.last,f!==null?f.sibling=M:c.child=M,E.last=M)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=lt(),c.sibling=null,f=_n.current,tn(_n,y?f&1|2:f&1),c):(Gr(c),null);case 22:case 23:return X0(),y=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(ei&1073741824)!==0&&(Gr(c),c.subtreeFlags&6&&(c.flags|=8192)):Gr(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function C3(a,c){switch(o0(c),c.tag){case 1:return ks(c.type)&&Lm(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Zu(),cn(Ps),cn(Hr),w0(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return y0(c),null;case 13:if(cn(_n),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Yu()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return cn(_n),null;case 4:return Zu(),null;case 10:return h0(c.type._context),null;case 22:case 23:return X0(),null;case 24:return null;default:return null}}var rg=!1,Yr=!1,P3=typeof WeakSet=="function"?WeakSet:Set,De=null;function td(a,c){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){Rn(a,c,y)}else f.current=null}function F0(a,c,f){try{f()}catch(y){Rn(a,c,y)}}var JC=!1;function k3(a,c){if(Xw=oa,a=AE(),Bw(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var x=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var M=0,H=-1,K=-1,ie=0,ge=0,ye=a,me=null;t:for(;;){for(var ke;ye!==f||x!==0&&ye.nodeType!==3||(H=M+x),ye!==E||y!==0&&ye.nodeType!==3||(K=M+y),ye.nodeType===3&&(M+=ye.nodeValue.length),(ke=ye.firstChild)!==null;)me=ye,ye=ke;for(;;){if(ye===a)break t;if(me===f&&++ie===x&&(H=M),me===E&&++ge===y&&(K=M),(ke=ye.nextSibling)!==null)break;ye=me,me=ye.parentNode}ye=ke}f=H===-1||K===-1?null:{start:H,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(Jw={focusedElem:a,selectionRange:f},oa=!1,De=c;De!==null;)if(c=De,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,De=a;else for(;De!==null;){c=De;try{var Le=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Ve=Le.memoizedProps,Vn=Le.memoizedState,Z=c.stateNode,Y=Z.getSnapshotBeforeUpdate(c.elementType===c.type?Ve:$i(c.type,Ve),Vn);Z.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var te=c.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(_e){Rn(c,c.return,_e)}if(a=c.sibling,a!==null){a.return=c.return,De=a;break}De=c.return}return Le=JC,JC=!1,Le}function mf(a,c,f){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var x=y=y.next;do{if((x.tag&a)===a){var E=x.destroy;x.destroy=void 0,E!==void 0&&F0(c,f,E)}x=x.next}while(x!==y)}}function sg(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&a)===a){var y=f.create;f.destroy=y()}f=f.next}while(f!==c)}}function z0(a){var c=a.ref;if(c!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof c=="function"?c(a):c.current=a}}function ZC(a){var c=a.alternate;c!==null&&(a.alternate=null,ZC(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[bo],delete c[rf],delete c[n0],delete c[u3],delete c[d3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function eP(a){return a.tag===5||a.tag===3||a.tag===4}function tP(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||eP(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function U0(a,c,f){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(a,c):f.insertBefore(a,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(a,f)):(c=f,c.appendChild(a)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Om));else if(y!==4&&(a=a.child,a!==null))for(U0(a,c,f),a=a.sibling;a!==null;)U0(a,c,f),a=a.sibling}function $0(a,c,f){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?f.insertBefore(a,c):f.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for($0(a,c,f),a=a.sibling;a!==null;)$0(a,c,f),a=a.sibling}var Nr=null,Bi=!1;function nl(a,c,f){for(f=f.child;f!==null;)nP(a,c,f),f=f.sibling}function nP(a,c,f){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(qs,f)}catch{}switch(f.tag){case 5:Yr||td(f,c);case 6:var y=Nr,x=Bi;Nr=null,nl(a,c,f),Nr=y,Bi=x,Nr!==null&&(Bi?(a=Nr,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Nr.removeChild(f.stateNode));break;case 18:Nr!==null&&(Bi?(a=Nr,f=f.stateNode,a.nodeType===8?t0(a.parentNode,f):a.nodeType===1&&t0(a,f),Ha(a)):t0(Nr,f.stateNode));break;case 4:y=Nr,x=Bi,Nr=f.stateNode.containerInfo,Bi=!0,nl(a,c,f),Nr=y,Bi=x;break;case 0:case 11:case 14:case 15:if(!Yr&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){x=y=y.next;do{var E=x,M=E.destroy;E=E.tag,M!==void 0&&((E&2)!==0||(E&4)!==0)&&F0(f,c,M),x=x.next}while(x!==y)}nl(a,c,f);break;case 1:if(!Yr&&(td(f,c),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(H){Rn(f,c,H)}nl(a,c,f);break;case 21:nl(a,c,f);break;case 22:f.mode&1?(Yr=(y=Yr)||f.memoizedState!==null,nl(a,c,f),Yr=y):nl(a,c,f);break;default:nl(a,c,f)}}function rP(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new P3),c.forEach(function(y){var x=L3.bind(null,a,y);f.has(y)||(f.add(y),y.then(x,x))})}}function Wi(a,c){var f=c.deletions;if(f!==null)for(var y=0;y<f.length;y++){var x=f[y];try{var E=a,M=c,H=M;e:for(;H!==null;){switch(H.tag){case 5:Nr=H.stateNode,Bi=!1;break e;case 3:Nr=H.stateNode.containerInfo,Bi=!0;break e;case 4:Nr=H.stateNode.containerInfo,Bi=!0;break e}H=H.return}if(Nr===null)throw Error(t(160));nP(E,M,x),Nr=null,Bi=!1;var K=x.alternate;K!==null&&(K.return=null),x.return=null}catch(ie){Rn(x,c,ie)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)sP(c,a),c=c.sibling}function sP(a,c){var f=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Wi(c,a),Eo(a),y&4){try{mf(3,a,a.return),sg(3,a)}catch(Ve){Rn(a,a.return,Ve)}try{mf(5,a,a.return)}catch(Ve){Rn(a,a.return,Ve)}}break;case 1:Wi(c,a),Eo(a),y&512&&f!==null&&td(f,f.return);break;case 5:if(Wi(c,a),Eo(a),y&512&&f!==null&&td(f,f.return),a.flags&32){var x=a.stateNode;try{kn(x,"")}catch(Ve){Rn(a,a.return,Ve)}}if(y&4&&(x=a.stateNode,x!=null)){var E=a.memoizedProps,M=f!==null?f.memoizedProps:E,H=a.type,K=a.updateQueue;if(a.updateQueue=null,K!==null)try{H==="input"&&E.type==="radio"&&E.name!=null&&qt(x,E),Cr(H,M);var ie=Cr(H,E);for(M=0;M<K.length;M+=2){var ge=K[M],ye=K[M+1];ge==="style"?mn(x,ye):ge==="dangerouslySetInnerHTML"?er(x,ye):ge==="children"?kn(x,ye):j(x,ge,ye,ie)}switch(H){case"input":se(x,E);break;case"textarea":Es(x,E);break;case"select":var me=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var ke=E.value;ke!=null?dt(x,!!E.multiple,ke,!1):me!==!!E.multiple&&(E.defaultValue!=null?dt(x,!!E.multiple,E.defaultValue,!0):dt(x,!!E.multiple,E.multiple?[]:"",!1))}x[rf]=E}catch(Ve){Rn(a,a.return,Ve)}}break;case 6:if(Wi(c,a),Eo(a),y&4){if(a.stateNode===null)throw Error(t(162));x=a.stateNode,E=a.memoizedProps;try{x.nodeValue=E}catch(Ve){Rn(a,a.return,Ve)}}break;case 3:if(Wi(c,a),Eo(a),y&4&&f!==null&&f.memoizedState.isDehydrated)try{Ha(c.containerInfo)}catch(Ve){Rn(a,a.return,Ve)}break;case 4:Wi(c,a),Eo(a);break;case 13:Wi(c,a),Eo(a),x=a.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(q0=lt())),y&4&&rP(a);break;case 22:if(ge=f!==null&&f.memoizedState!==null,a.mode&1?(Yr=(ie=Yr)||ge,Wi(c,a),Yr=ie):Wi(c,a),Eo(a),y&8192){if(ie=a.memoizedState!==null,(a.stateNode.isHidden=ie)&&!ge&&(a.mode&1)!==0)for(De=a,ge=a.child;ge!==null;){for(ye=De=ge;De!==null;){switch(me=De,ke=me.child,me.tag){case 0:case 11:case 14:case 15:mf(4,me,me.return);break;case 1:td(me,me.return);var Le=me.stateNode;if(typeof Le.componentWillUnmount=="function"){y=me,f=me.return;try{c=y,Le.props=c.memoizedProps,Le.state=c.memoizedState,Le.componentWillUnmount()}catch(Ve){Rn(y,f,Ve)}}break;case 5:td(me,me.return);break;case 22:if(me.memoizedState!==null){aP(ye);continue}}ke!==null?(ke.return=me,De=ke):aP(ye)}ge=ge.sibling}e:for(ge=null,ye=a;;){if(ye.tag===5){if(ge===null){ge=ye;try{x=ye.stateNode,ie?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(H=ye.stateNode,K=ye.memoizedProps.style,M=K!=null&&K.hasOwnProperty("display")?K.display:null,H.style.display=Er("display",M))}catch(Ve){Rn(a,a.return,Ve)}}}else if(ye.tag===6){if(ge===null)try{ye.stateNode.nodeValue=ie?"":ye.memoizedProps}catch(Ve){Rn(a,a.return,Ve)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===a)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===a)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===a)break e;ge===ye&&(ge=null),ye=ye.return}ge===ye&&(ge=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Wi(c,a),Eo(a),y&4&&rP(a);break;case 21:break;default:Wi(c,a),Eo(a)}}function Eo(a){var c=a.flags;if(c&2){try{e:{for(var f=a.return;f!==null;){if(eP(f)){var y=f;break e}f=f.return}throw Error(t(160))}switch(y.tag){case 5:var x=y.stateNode;y.flags&32&&(kn(x,""),y.flags&=-33);var E=tP(a);$0(a,E,x);break;case 3:case 4:var M=y.stateNode.containerInfo,H=tP(a);U0(a,H,M);break;default:throw Error(t(161))}}catch(K){Rn(a,a.return,K)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function R3(a,c,f){De=a,iP(a)}function iP(a,c,f){for(var y=(a.mode&1)!==0;De!==null;){var x=De,E=x.child;if(x.tag===22&&y){var M=x.memoizedState!==null||rg;if(!M){var H=x.alternate,K=H!==null&&H.memoizedState!==null||Yr;H=rg;var ie=Yr;if(rg=M,(Yr=K)&&!ie)for(De=x;De!==null;)M=De,K=M.child,M.tag===22&&M.memoizedState!==null?lP(x):K!==null?(K.return=M,De=K):lP(x);for(;E!==null;)De=E,iP(E),E=E.sibling;De=x,rg=H,Yr=ie}oP(a)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,De=E):oP(a)}}function oP(a){for(;De!==null;){var c=De;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Yr||sg(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!Yr)if(f===null)y.componentDidMount();else{var x=c.elementType===c.type?f.memoizedProps:$i(c.type,f.memoizedProps);y.componentDidUpdate(x,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=c.updateQueue;E!==null&&aC(c,E,y);break;case 3:var M=c.updateQueue;if(M!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}aC(c,M,f)}break;case 5:var H=c.stateNode;if(f===null&&c.flags&4){f=H;var K=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&f.focus();break;case"img":K.src&&(f.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ie=c.alternate;if(ie!==null){var ge=ie.memoizedState;if(ge!==null){var ye=ge.dehydrated;ye!==null&&Ha(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Yr||c.flags&512&&z0(c)}catch(me){Rn(c,c.return,me)}}if(c===a){De=null;break}if(f=c.sibling,f!==null){f.return=c.return,De=f;break}De=c.return}}function aP(a){for(;De!==null;){var c=De;if(c===a){De=null;break}var f=c.sibling;if(f!==null){f.return=c.return,De=f;break}De=c.return}}function lP(a){for(;De!==null;){var c=De;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{sg(4,c)}catch(K){Rn(c,f,K)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var x=c.return;try{y.componentDidMount()}catch(K){Rn(c,x,K)}}var E=c.return;try{z0(c)}catch(K){Rn(c,E,K)}break;case 5:var M=c.return;try{z0(c)}catch(K){Rn(c,M,K)}}}catch(K){Rn(c,c.return,K)}if(c===a){De=null;break}var H=c.sibling;if(H!==null){H.return=c.return,De=H;break}De=c.return}}var A3=Math.ceil,ig=I.ReactCurrentDispatcher,B0=I.ReactCurrentOwner,_i=I.ReactCurrentBatchConfig,Dt=0,gr=null,Hn=null,Dr=0,ei=0,nd=Xa(0),nr=0,gf=null,Sc=0,og=0,W0=0,yf=null,As=null,q0=0,rd=1/0,ga=null,ag=!1,H0=null,rl=null,lg=!1,sl=null,cg=0,vf=0,K0=null,ug=-1,dg=0;function ds(){return(Dt&6)!==0?lt():ug!==-1?ug:ug=lt()}function il(a){return(a.mode&1)===0?1:(Dt&2)!==0&&Dr!==0?Dr&-Dr:f3.transition!==null?(dg===0&&(dg=Vh()),dg):(a=Pt,a!==0||(a=window.event,a=a===void 0?16:Nu(a.type)),a)}function qi(a,c,f,y){if(50<vf)throw vf=0,K0=null,Error(t(185));dc(a,f,y),((Dt&2)===0||a!==gr)&&(a===gr&&((Dt&2)===0&&(og|=f),nr===4&&ol(a,Dr)),Is(a,y),f===1&&Dt===0&&(c.mode&1)===0&&(rd=lt()+500,Fm&&Za()))}function Is(a,c){var f=a.callbackNode;uc(a,c);var y=ra(a,a===gr?Dr:0);if(y===0)f!==null&&vn(f),a.callbackNode=null,a.callbackPriority=0;else if(c=y&-y,a.callbackPriority!==c){if(f!=null&&vn(f),c===1)a.tag===0?h3(uP.bind(null,a)):YE(uP.bind(null,a)),l3(function(){(Dt&6)===0&&Za()}),f=null;else{switch(ho(y)){case 1:f=kr;break;case 4:f=na;break;case 16:f=lo;break;case 536870912:f=Rr;break;default:f=lo}f=vP(f,cP.bind(null,a))}a.callbackPriority=c,a.callbackNode=f}}function cP(a,c){if(ug=-1,dg=0,(Dt&6)!==0)throw Error(t(327));var f=a.callbackNode;if(sd()&&a.callbackNode!==f)return null;var y=ra(a,a===gr?Dr:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||c)c=hg(a,y);else{c=y;var x=Dt;Dt|=2;var E=hP();(gr!==a||Dr!==c)&&(ga=null,rd=lt()+500,Ec(a,c));do try{D3();break}catch(H){dP(a,H)}while(!0);d0(),ig.current=E,Dt=x,Hn!==null?c=0:(gr=null,Dr=0,c=nr)}if(c!==0){if(c===2&&(x=Lh(a),x!==0&&(y=x,c=G0(a,x))),c===1)throw f=gf,Ec(a,0),ol(a,y),Is(a,lt()),f;if(c===6)ol(a,y);else{if(x=a.current.alternate,(y&30)===0&&!I3(x)&&(c=hg(a,y),c===2&&(E=Lh(a),E!==0&&(y=E,c=G0(a,E))),c===1))throw f=gf,Ec(a,0),ol(a,y),Is(a,lt()),f;switch(a.finishedWork=x,a.finishedLanes=y,c){case 0:case 1:throw Error(t(345));case 2:Cc(a,As,ga);break;case 3:if(ol(a,y),(y&130023424)===y&&(c=q0+500-lt(),10<c)){if(ra(a,0)!==0)break;if(x=a.suspendedLanes,(x&y)!==y){ds(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=e0(Cc.bind(null,a,As,ga),c);break}Cc(a,As,ga);break;case 4:if(ol(a,y),(y&4194240)===y)break;for(c=a.eventTimes,x=-1;0<y;){var M=31-Ks(y);E=1<<M,M=c[M],M>x&&(x=M),y&=~E}if(y=x,y=lt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*A3(y/1960))-y,10<y){a.timeoutHandle=e0(Cc.bind(null,a,As,ga),y);break}Cc(a,As,ga);break;case 5:Cc(a,As,ga);break;default:throw Error(t(329))}}}return Is(a,lt()),a.callbackNode===f?cP.bind(null,a):null}function G0(a,c){var f=yf;return a.current.memoizedState.isDehydrated&&(Ec(a,c).flags|=256),a=hg(a,c),a!==2&&(c=As,As=f,c!==null&&Y0(c)),a}function Y0(a){As===null?As=a:As.push.apply(As,a)}function I3(a){for(var c=a;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var x=f[y],E=x.getSnapshot;x=x.value;try{if(!zi(E(),x))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ol(a,c){for(c&=~W0,c&=~og,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var f=31-Ks(c),y=1<<f;a[f]=-1,c&=~y}}function uP(a){if((Dt&6)!==0)throw Error(t(327));sd();var c=ra(a,0);if((c&1)===0)return Is(a,lt()),null;var f=hg(a,c);if(a.tag!==0&&f===2){var y=Lh(a);y!==0&&(c=y,f=G0(a,y))}if(f===1)throw f=gf,Ec(a,0),ol(a,c),Is(a,lt()),f;if(f===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Cc(a,As,ga),Is(a,lt()),null}function Q0(a,c){var f=Dt;Dt|=1;try{return a(c)}finally{Dt=f,Dt===0&&(rd=lt()+500,Fm&&Za())}}function Tc(a){sl!==null&&sl.tag===0&&(Dt&6)===0&&sd();var c=Dt;Dt|=1;var f=_i.transition,y=Pt;try{if(_i.transition=null,Pt=1,a)return a()}finally{Pt=y,_i.transition=f,Dt=c,(Dt&6)===0&&Za()}}function X0(){ei=nd.current,cn(nd)}function Ec(a,c){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,a3(f)),Hn!==null)for(f=Hn.return;f!==null;){var y=f;switch(o0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Lm();break;case 3:Zu(),cn(Ps),cn(Hr),w0();break;case 5:y0(y);break;case 4:Zu();break;case 13:cn(_n);break;case 19:cn(_n);break;case 10:h0(y.type._context);break;case 22:case 23:X0()}f=f.return}if(gr=a,Hn=a=al(a.current,null),Dr=ei=c,nr=0,gf=null,W0=og=Sc=0,As=yf=null,_c!==null){for(c=0;c<_c.length;c++)if(f=_c[c],y=f.interleaved,y!==null){f.interleaved=null;var x=y.next,E=f.pending;if(E!==null){var M=E.next;E.next=x,y.next=M}f.pending=y}_c=null}return a}function dP(a,c){do{var f=Hn;try{if(d0(),Ym.current=Zm,Qm){for(var y=xn.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}Qm=!1}if(bc=0,mr=tr=xn=null,uf=!1,df=0,B0.current=null,f===null||f.return===null){nr=1,gf=c,Hn=null;break}e:{var E=a,M=f.return,H=f,K=c;if(c=Dr,H.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=K,ge=H,ye=ge.tag;if((ge.mode&1)===0&&(ye===0||ye===11||ye===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var ke=MC(M);if(ke!==null){ke.flags&=-257,LC(ke,M,H,E,c),ke.mode&1&&OC(E,ie,c),c=ke,K=ie;var Le=c.updateQueue;if(Le===null){var Ve=new Set;Ve.add(K),c.updateQueue=Ve}else Le.add(K);break e}else{if((c&1)===0){OC(E,ie,c),J0();break e}K=Error(t(426))}}else if(dn&&H.mode&1){var Vn=MC(M);if(Vn!==null){(Vn.flags&65536)===0&&(Vn.flags|=256),LC(Vn,M,H,E,c),c0(ed(K,H));break e}}E=K=ed(K,H),nr!==4&&(nr=2),yf===null?yf=[E]:yf.push(E),E=M;do{switch(E.tag){case 3:E.flags|=65536,c&=-c,E.lanes|=c;var Z=DC(E,K,c);oC(E,Z);break e;case 1:H=K;var Y=E.type,te=E.stateNode;if((E.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(rl===null||!rl.has(te)))){E.flags|=65536,c&=-c,E.lanes|=c;var _e=jC(E,H,c);oC(E,_e);break e}}E=E.return}while(E!==null)}pP(f)}catch(ze){c=ze,Hn===f&&f!==null&&(Hn=f=f.return);continue}break}while(!0)}function hP(){var a=ig.current;return ig.current=Zm,a===null?Zm:a}function J0(){(nr===0||nr===3||nr===2)&&(nr=4),gr===null||(Sc&268435455)===0&&(og&268435455)===0||ol(gr,Dr)}function hg(a,c){var f=Dt;Dt|=2;var y=hP();(gr!==a||Dr!==c)&&(ga=null,Ec(a,c));do try{N3();break}catch(x){dP(a,x)}while(!0);if(d0(),Dt=f,ig.current=y,Hn!==null)throw Error(t(261));return gr=null,Dr=0,nr}function N3(){for(;Hn!==null;)fP(Hn)}function D3(){for(;Hn!==null&&!cs();)fP(Hn)}function fP(a){var c=yP(a.alternate,a,ei);a.memoizedProps=a.pendingProps,c===null?pP(a):Hn=c,B0.current=null}function pP(a){var c=a;do{var f=c.alternate;if(a=c.return,(c.flags&32768)===0){if(f=E3(f,c,ei),f!==null){Hn=f;return}}else{if(f=C3(f,c),f!==null){f.flags&=32767,Hn=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{nr=6,Hn=null;return}}if(c=c.sibling,c!==null){Hn=c;return}Hn=c=a}while(c!==null);nr===0&&(nr=5)}function Cc(a,c,f){var y=Pt,x=_i.transition;try{_i.transition=null,Pt=1,j3(a,c,f,y)}finally{_i.transition=x,Pt=y}return null}function j3(a,c,f,y){do sd();while(sl!==null);if((Dt&6)!==0)throw Error(t(327));f=a.finishedWork;var x=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var E=f.lanes|f.childLanes;if(Vw(a,E),a===gr&&(Hn=gr=null,Dr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||lg||(lg=!0,vP(lo,function(){return sd(),null})),E=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||E){E=_i.transition,_i.transition=null;var M=Pt;Pt=1;var H=Dt;Dt|=4,B0.current=null,k3(a,f),sP(f,a),e3(Jw),oa=!!Xw,Jw=Xw=null,a.current=f,R3(f),Cs(),Dt=H,Pt=M,_i.transition=E}else a.current=f;if(lg&&(lg=!1,sl=a,cg=x),E=a.pendingLanes,E===0&&(rl=null),Hs(f.stateNode),Is(a,lt()),c!==null)for(y=a.onRecoverableError,f=0;f<c.length;f++)x=c[f],y(x.value,{componentStack:x.stack,digest:x.digest});if(ag)throw ag=!1,a=H0,H0=null,a;return(cg&1)!==0&&a.tag!==0&&sd(),E=a.pendingLanes,(E&1)!==0?a===K0?vf++:(vf=0,K0=a):vf=0,Za(),null}function sd(){if(sl!==null){var a=ho(cg),c=_i.transition,f=Pt;try{if(_i.transition=null,Pt=16>a?16:a,sl===null)var y=!1;else{if(a=sl,sl=null,cg=0,(Dt&6)!==0)throw Error(t(331));var x=Dt;for(Dt|=4,De=a.current;De!==null;){var E=De,M=E.child;if((De.flags&16)!==0){var H=E.deletions;if(H!==null){for(var K=0;K<H.length;K++){var ie=H[K];for(De=ie;De!==null;){var ge=De;switch(ge.tag){case 0:case 11:case 15:mf(8,ge,E)}var ye=ge.child;if(ye!==null)ye.return=ge,De=ye;else for(;De!==null;){ge=De;var me=ge.sibling,ke=ge.return;if(ZC(ge),ge===ie){De=null;break}if(me!==null){me.return=ke,De=me;break}De=ke}}}var Le=E.alternate;if(Le!==null){var Ve=Le.child;if(Ve!==null){Le.child=null;do{var Vn=Ve.sibling;Ve.sibling=null,Ve=Vn}while(Ve!==null)}}De=E}}if((E.subtreeFlags&2064)!==0&&M!==null)M.return=E,De=M;else e:for(;De!==null;){if(E=De,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:mf(9,E,E.return)}var Z=E.sibling;if(Z!==null){Z.return=E.return,De=Z;break e}De=E.return}}var Y=a.current;for(De=Y;De!==null;){M=De;var te=M.child;if((M.subtreeFlags&2064)!==0&&te!==null)te.return=M,De=te;else e:for(M=Y;De!==null;){if(H=De,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:sg(9,H)}}catch(ze){Rn(H,H.return,ze)}if(H===M){De=null;break e}var _e=H.sibling;if(_e!==null){_e.return=H.return,De=_e;break e}De=H.return}}if(Dt=x,Za(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(qs,a)}catch{}y=!0}return y}finally{Pt=f,_i.transition=c}}return!1}function mP(a,c,f){c=ed(f,c),c=DC(a,c,1),a=tl(a,c,1),c=ds(),a!==null&&(dc(a,1,c),Is(a,c))}function Rn(a,c,f){if(a.tag===3)mP(a,a,f);else for(;c!==null;){if(c.tag===3){mP(c,a,f);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(rl===null||!rl.has(y))){a=ed(f,a),a=jC(c,a,1),c=tl(c,a,1),a=ds(),c!==null&&(dc(c,1,a),Is(c,a));break}}c=c.return}}function O3(a,c,f){var y=a.pingCache;y!==null&&y.delete(c),c=ds(),a.pingedLanes|=a.suspendedLanes&f,gr===a&&(Dr&f)===f&&(nr===4||nr===3&&(Dr&130023424)===Dr&&500>lt()-q0?Ec(a,0):W0|=f),Is(a,c)}function gP(a,c){c===0&&((a.mode&1)===0?c=1:(c=Ba,Ba<<=1,(Ba&130023424)===0&&(Ba=4194304)));var f=ds();a=fa(a,c),a!==null&&(dc(a,c,f),Is(a,f))}function M3(a){var c=a.memoizedState,f=0;c!==null&&(f=c.retryLane),gP(a,f)}function L3(a,c){var f=0;switch(a.tag){case 13:var y=a.stateNode,x=a.memoizedState;x!==null&&(f=x.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(c),gP(a,f)}var yP;yP=function(a,c,f){if(a!==null)if(a.memoizedProps!==c.pendingProps||Ps.current)Rs=!0;else{if((a.lanes&f)===0&&(c.flags&128)===0)return Rs=!1,T3(a,c,f);Rs=(a.flags&131072)!==0}else Rs=!1,dn&&(c.flags&1048576)!==0&&QE(c,Um,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;ng(a,c),a=c.pendingProps;var x=Hu(c,Hr.current);Ju(c,f),x=b0(null,c,y,a,x,f);var E=S0();return c.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ks(y)?(E=!0,Vm(c)):E=!1,c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,m0(c),x.updater=eg,c.stateNode=x,x._reactInternals=c,R0(c,y,a,f),c=D0(null,c,y,!0,E,f)):(c.tag=0,dn&&E&&i0(c),us(null,c,x,f),c=c.child),c;case 16:y=c.elementType;e:{switch(ng(a,c),a=c.pendingProps,x=y._init,y=x(y._payload),c.type=y,x=c.tag=F3(y),a=$i(y,a),x){case 0:c=N0(null,c,y,a,f);break e;case 1:c=BC(null,c,y,a,f);break e;case 11:c=VC(null,c,y,a,f);break e;case 14:c=FC(null,c,y,$i(y.type,a),f);break e}throw Error(t(306,y,""))}return c;case 0:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:$i(y,x),N0(a,c,y,x,f);case 1:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:$i(y,x),BC(a,c,y,x,f);case 3:e:{if(WC(c),a===null)throw Error(t(387));y=c.pendingProps,E=c.memoizedState,x=E.element,iC(a,c),Km(c,y,null,f);var M=c.memoizedState;if(y=M.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){x=ed(Error(t(423)),c),c=qC(a,c,y,f,x);break e}else if(y!==x){x=ed(Error(t(424)),c),c=qC(a,c,y,f,x);break e}else for(Zs=Qa(c.stateNode.containerInfo.firstChild),Js=c,dn=!0,Ui=null,f=rC(c,null,y,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Yu(),y===x){c=ma(a,c,f);break e}us(a,c,y,f)}c=c.child}return c;case 5:return lC(c),a===null&&l0(c),y=c.type,x=c.pendingProps,E=a!==null?a.memoizedProps:null,M=x.children,Zw(y,x)?M=null:E!==null&&Zw(y,E)&&(c.flags|=32),$C(a,c),us(a,c,M,f),c.child;case 6:return a===null&&l0(c),null;case 13:return HC(a,c,f);case 4:return g0(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=Qu(c,null,y,f):us(a,c,y,f),c.child;case 11:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:$i(y,x),VC(a,c,y,x,f);case 7:return us(a,c,c.pendingProps,f),c.child;case 8:return us(a,c,c.pendingProps.children,f),c.child;case 12:return us(a,c,c.pendingProps.children,f),c.child;case 10:e:{if(y=c.type._context,x=c.pendingProps,E=c.memoizedProps,M=x.value,tn(Wm,y._currentValue),y._currentValue=M,E!==null)if(zi(E.value,M)){if(E.children===x.children&&!Ps.current){c=ma(a,c,f);break e}}else for(E=c.child,E!==null&&(E.return=c);E!==null;){var H=E.dependencies;if(H!==null){M=E.child;for(var K=H.firstContext;K!==null;){if(K.context===y){if(E.tag===1){K=pa(-1,f&-f),K.tag=2;var ie=E.updateQueue;if(ie!==null){ie=ie.shared;var ge=ie.pending;ge===null?K.next=K:(K.next=ge.next,ge.next=K),ie.pending=K}}E.lanes|=f,K=E.alternate,K!==null&&(K.lanes|=f),f0(E.return,f,c),H.lanes|=f;break}K=K.next}}else if(E.tag===10)M=E.type===c.type?null:E.child;else if(E.tag===18){if(M=E.return,M===null)throw Error(t(341));M.lanes|=f,H=M.alternate,H!==null&&(H.lanes|=f),f0(M,f,c),M=E.sibling}else M=E.child;if(M!==null)M.return=E;else for(M=E;M!==null;){if(M===c){M=null;break}if(E=M.sibling,E!==null){E.return=M.return,M=E;break}M=M.return}E=M}us(a,c,x.children,f),c=c.child}return c;case 9:return x=c.type,y=c.pendingProps.children,Ju(c,f),x=vi(x),y=y(x),c.flags|=1,us(a,c,y,f),c.child;case 14:return y=c.type,x=$i(y,c.pendingProps),x=$i(y.type,x),FC(a,c,y,x,f);case 15:return zC(a,c,c.type,c.pendingProps,f);case 17:return y=c.type,x=c.pendingProps,x=c.elementType===y?x:$i(y,x),ng(a,c),c.tag=1,ks(y)?(a=!0,Vm(c)):a=!1,Ju(c,f),IC(c,y,x),R0(c,y,x,f),D0(null,c,y,!0,a,f);case 19:return GC(a,c,f);case 22:return UC(a,c,f)}throw Error(t(156,c.tag))};function vP(a,c){return yn(a,c)}function V3(a,c,f,y){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(a,c,f,y){return new V3(a,c,f,y)}function Z0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function F3(a){if(typeof a=="function")return Z0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===F)return 11;if(a===re)return 14}return 2}function al(a,c){var f=a.alternate;return f===null?(f=xi(a.tag,c,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=c,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,c=a.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function fg(a,c,f,y,x,E){var M=2;if(y=a,typeof a=="function")Z0(a)&&(M=1);else if(typeof a=="string")M=5;else e:switch(a){case P:return Pc(f.children,x,E,c);case A:M=8,x|=8;break;case D:return a=xi(12,f,c,x|2),a.elementType=D,a.lanes=E,a;case U:return a=xi(13,f,c,x),a.elementType=U,a.lanes=E,a;case X:return a=xi(19,f,c,x),a.elementType=X,a.lanes=E,a;case J:return pg(f,x,E,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:M=10;break e;case V:M=9;break e;case F:M=11;break e;case re:M=14;break e;case ne:M=16,y=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=xi(M,f,c,x),c.elementType=a,c.type=y,c.lanes=E,c}function Pc(a,c,f,y){return a=xi(7,a,y,c),a.lanes=f,a}function pg(a,c,f,y){return a=xi(22,a,y,c),a.elementType=J,a.lanes=f,a.stateNode={isHidden:!1},a}function e_(a,c,f){return a=xi(6,a,null,c),a.lanes=f,a}function t_(a,c,f){return c=xi(4,a.children!==null?a.children:[],a.key,c),c.lanes=f,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function z3(a,c,f,y,x){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fh(0),this.expirationTimes=Fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fh(0),this.identifierPrefix=y,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function n_(a,c,f,y,x,E,M,H,K){return a=new z3(a,c,f,H,K),c===1?(c=1,E===!0&&(c|=8)):c=0,E=xi(3,null,null,c),a.current=E,E.stateNode=a,E.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},m0(E),a}function U3(a,c,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:y==null?null:""+y,children:a,containerInfo:c,implementation:f}}function wP(a){if(!a)return Ja;a=a._reactInternals;e:{if(ft(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ks(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var f=a.type;if(ks(f))return KE(a,f,c)}return c}function _P(a,c,f,y,x,E,M,H,K){return a=n_(f,y,!0,a,x,E,M,H,K),a.context=wP(null),f=a.current,y=ds(),x=il(f),E=pa(y,x),E.callback=c??null,tl(f,E,x),a.current.lanes=x,dc(a,x,y),Is(a,y),a}function mg(a,c,f,y){var x=c.current,E=ds(),M=il(x);return f=wP(f),c.context===null?c.context=f:c.pendingContext=f,c=pa(E,M),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=tl(x,c,M),a!==null&&(qi(a,x,M,E),Hm(a,x,M)),M}function gg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function xP(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<c?f:c}}function r_(a,c){xP(a,c),(a=a.alternate)&&xP(a,c)}function $3(){return null}var bP=typeof reportError=="function"?reportError:function(a){console.error(a)};function s_(a){this._internalRoot=a}yg.prototype.render=s_.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));mg(a,c,null,null)},yg.prototype.unmount=s_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Tc(function(){mg(null,a,null,null)}),c[ca]=null}};function yg(a){this._internalRoot=a}yg.prototype.unstable_scheduleHydration=function(a){if(a){var c=Bh();a={blockedOn:null,target:a,priority:c};for(var f=0;f<Gs.length&&c!==0&&c<Gs[f].priority;f++);Gs.splice(f,0,a),f===0&&Au(a)}};function i_(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function vg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function SP(){}function B3(a,c,f,y,x){if(x){if(typeof y=="function"){var E=y;y=function(){var ie=gg(M);E.call(ie)}}var M=_P(c,y,a,0,null,!1,!1,"",SP);return a._reactRootContainer=M,a[ca]=M.current,tf(a.nodeType===8?a.parentNode:a),Tc(),M}for(;x=a.lastChild;)a.removeChild(x);if(typeof y=="function"){var H=y;y=function(){var ie=gg(K);H.call(ie)}}var K=n_(a,0,!1,null,null,!1,!1,"",SP);return a._reactRootContainer=K,a[ca]=K.current,tf(a.nodeType===8?a.parentNode:a),Tc(function(){mg(c,K,f,y)}),K}function wg(a,c,f,y,x){var E=f._reactRootContainer;if(E){var M=E;if(typeof x=="function"){var H=x;x=function(){var K=gg(M);H.call(K)}}mg(c,M,a,x)}else M=B3(f,c,a,x,y);return gg(M)}Uh=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var f=Lt(c.pendingLanes);f!==0&&(zh(c,f|1),Is(c,lt()),(Dt&6)===0&&(rd=lt()+500,Za()))}break;case 13:Tc(function(){var y=fa(a,1);if(y!==null){var x=ds();qi(y,a,1,x)}}),r_(a,1)}},ku=function(a){if(a.tag===13){var c=fa(a,134217728);if(c!==null){var f=ds();qi(c,a,134217728,f)}r_(a,134217728)}},$h=function(a){if(a.tag===13){var c=il(a),f=fa(a,c);if(f!==null){var y=ds();qi(f,a,c,y)}r_(a,c)}},Bh=function(){return Pt},Wh=function(a,c){var f=Pt;try{return Pt=a,c()}finally{Pt=f}},Wn=function(a,c,f){switch(c){case"input":if(se(a,f),c=f.name,f.type==="radio"&&c!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var y=f[c];if(y!==a&&y.form===a.form){var x=Mm(y);if(!x)throw Error(t(90));ue(y),se(y,x)}}}break;case"textarea":Es(a,f);break;case"select":c=f.value,c!=null&&dt(a,!!f.multiple,c,!1)}},it=Q0,Ct=Tc;var W3={usingClientEntryPoint:!1,Events:[sf,Wu,Mm,hr,$e,Q0]},wf={findFiberByHostInstance:gc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q3={bundleType:wf.bundleType,version:wf.version,rendererPackageName:wf.rendererPackageName,rendererConfig:wf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=ls(a),a===null?null:a.stateNode},findFiberByHostInstance:wf.findFiberByHostInstance||$3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_g.isDisabled&&_g.supportsFiber)try{qs=_g.inject(q3),pr=_g}catch{}}return Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W3,Ns.createPortal=function(a,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i_(c))throw Error(t(200));return U3(a,c,null,f)},Ns.createRoot=function(a,c){if(!i_(a))throw Error(t(299));var f=!1,y="",x=bP;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),c=n_(a,1,!1,null,null,f,!1,y,x),a[ca]=c.current,tf(a.nodeType===8?a.parentNode:a),new s_(c)},Ns.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=ls(c),a=a===null?null:a.stateNode,a},Ns.flushSync=function(a){return Tc(a)},Ns.hydrate=function(a,c,f){if(!vg(c))throw Error(t(200));return wg(null,a,c,!0,f)},Ns.hydrateRoot=function(a,c,f){if(!i_(a))throw Error(t(405));var y=f!=null&&f.hydratedSources||null,x=!1,E="",M=bP;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(M=f.onRecoverableError)),c=_P(c,null,a,1,f??null,x,!1,E,M),a[ca]=c.current,tf(a),y)for(a=0;a<y.length;a++)f=y[a],x=f._getVersion,x=x(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,x]:c.mutableSourceEagerHydrationData.push(f,x);return new yg(c)},Ns.render=function(a,c,f){if(!vg(c))throw Error(t(200));return wg(null,a,c,!1,f)},Ns.unmountComponentAtNode=function(a){if(!vg(a))throw Error(t(40));return a._reactRootContainer?(Tc(function(){wg(null,null,a,!1,function(){a._reactRootContainer=null,a[ca]=null})}),!0):!1},Ns.unstable_batchedUpdates=Q0,Ns.unstable_renderSubtreeIntoContainer=function(a,c,f,y){if(!vg(f))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return wg(a,c,f,!1,y)},Ns.version="18.3.1-next-f1338f8080-20240426",Ns}var IP;function bN(){if(IP)return l_.exports;IP=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),l_.exports=Z3(),l_.exports}var NP;function e5(){if(NP)return xg;NP=1;var n=bN();return xg.createRoot=n.createRoot,xg.hydrateRoot=n.hydrateRoot,xg}var t5=e5(),b=Ov();const Se=xN(b),P1=K3({__proto__:null,default:Se},[b]),n5=1,r5=1e6;let d_=0;function s5(){return d_=(d_+1)%Number.MAX_SAFE_INTEGER,d_.toString()}const h_=new Map,DP=n=>{if(h_.has(n))return;const e=setTimeout(()=>{h_.delete(n),$f({type:"REMOVE_TOAST",toastId:n})},r5);h_.set(n,e)},i5=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,n5)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?DP(t):n.toasts.forEach(r=>{DP(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ry=[];let sy={toasts:[]};function $f(n){sy=i5(sy,n),ry.forEach(e=>{e(sy)})}function o5({...n}){const e=s5(),t=s=>$f({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>$f({type:"DISMISS_TOAST",toastId:e});return $f({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function a5(){const[n,e]=b.useState(sy);return b.useEffect(()=>(ry.push(e),()=>{const t=ry.indexOf(e);t>-1&&ry.splice(t,1)}),[n]),{...n,toast:o5,dismiss:t=>$f({type:"DISMISS_TOAST",toastId:t})}}var gh=bN();const SN=xN(gh);function Ue(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function jP(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function TN(...n){return e=>{let t=!1;const r=n.map(s=>{const i=jP(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():jP(n[s],null)}}}}function St(...n){return b.useCallback(TN(...n),n)}function l5(n,e){const t=b.createContext(e),r=i=>{const{children:o,...l}=i,u=b.useMemo(()=>l,Object.values(l));return p.jsx(t.Provider,{value:u,children:o})};r.displayName=n+"Provider";function s(i){const o=b.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function io(n,e=[]){let t=[];function r(i,o){const l=b.createContext(o),u=t.length;t=[...t,o];const d=m=>{const{scope:v,children:w,...T}=m,_=v?.[n]?.[u]||l,S=b.useMemo(()=>T,Object.values(T));return p.jsx(_.Provider,{value:S,children:w})};d.displayName=i+"Provider";function h(m,v){const w=v?.[n]?.[u]||l,T=b.useContext(w);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=t.map(o=>b.createContext(o));return function(l){const u=l?.[n]||i;return b.useMemo(()=>({[`__scope${n}`]:{...l,[n]:u}}),[l,u])}};return s.scopeName=n,[r,c5(s,...e)]}function c5(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...l,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Hd(n){const e=d5(n),t=b.forwardRef((r,s)=>{const{children:i,...o}=r,l=b.Children.toArray(i),u=l.find(h5);if(u){const d=u.props.children,h=l.map(m=>m===u?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:m);return p.jsx(e,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,h):null})}return p.jsx(e,{...o,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var u5=Hd("Slot");function d5(n){const e=b.forwardRef((t,r)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const o=p5(s),l=f5(i,s.props);return s.type!==b.Fragment&&(l.ref=r?TN(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var EN=Symbol("radix.slottable");function CN(n){const e=({children:t})=>p.jsx(p.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=EN,e}function h5(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===EN}function f5(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function p5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function k1(n){const e=n+"CollectionProvider",[t,r]=io(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:S,children:R}=_,k=Se.useRef(null),j=Se.useRef(new Map).current;return p.jsx(s,{scope:S,itemMap:j,collectionRef:k,children:R})};o.displayName=e;const l=n+"CollectionSlot",u=Hd(l),d=Se.forwardRef((_,S)=>{const{scope:R,children:k}=_,j=i(l,R),I=St(S,j.collectionRef);return p.jsx(u,{ref:I,children:k})});d.displayName=l;const h=n+"CollectionItemSlot",m="data-radix-collection-item",v=Hd(h),w=Se.forwardRef((_,S)=>{const{scope:R,children:k,...j}=_,I=Se.useRef(null),L=St(S,I),z=i(h,R);return Se.useEffect(()=>(z.itemMap.set(I,{ref:I,...j}),()=>void z.itemMap.delete(I))),p.jsx(v,{[m]:"",ref:L,children:k})});w.displayName=h;function T(_){const S=i(n+"CollectionConsumer",_);return Se.useCallback(()=>{const k=S.collectionRef.current;if(!k)return[];const j=Array.from(k.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((z,P)=>j.indexOf(z.ref.current)-j.indexOf(P.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},T,r]}var m5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=m5.reduce((n,e)=>{const t=Hd(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function PN(n,e){n&&gh.flushSync(()=>n.dispatchEvent(e))}function ar(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function g5(n,e=globalThis?.document){const t=ar(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var y5="DismissableLayer",Sx="dismissableLayer.update",v5="dismissableLayer.pointerDownOutside",w5="dismissableLayer.focusOutside",OP,kN=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jp=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=n,d=b.useContext(kN),[h,m]=b.useState(null),v=h?.ownerDocument??globalThis?.document,[,w]=b.useState({}),T=St(e,P=>m(P)),_=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=_.indexOf(S),k=h?_.indexOf(h):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,I=k>=R,L=x5(P=>{const A=P.target,D=[...d.branches].some(O=>O.contains(A));!I||D||(s?.(P),o?.(P),P.defaultPrevented||l?.())},v),z=b5(P=>{const A=P.target;[...d.branches].some(O=>O.contains(A))||(i?.(P),o?.(P),P.defaultPrevented||l?.())},v);return g5(P=>{k===d.layers.size-1&&(r?.(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},v),b.useEffect(()=>{if(h)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(OP=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),MP(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=OP)}},[h,v,t,d]),b.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),MP())},[h,d]),b.useEffect(()=>{const P=()=>w({});return document.addEventListener(Sx,P),()=>document.removeEventListener(Sx,P)},[]),p.jsx(Xe.div,{...u,ref:T,style:{pointerEvents:j?I?"auto":"none":void 0,...n.style},onFocusCapture:Ue(n.onFocusCapture,z.onFocusCapture),onBlurCapture:Ue(n.onBlurCapture,z.onBlurCapture),onPointerDownCapture:Ue(n.onPointerDownCapture,L.onPointerDownCapture)})});Jp.displayName=y5;var _5="DismissableLayerBranch",RN=b.forwardRef((n,e)=>{const t=b.useContext(kN),r=b.useRef(null),s=St(e,r);return b.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),p.jsx(Xe.div,{...n,ref:s})});RN.displayName=_5;function x5(n,e=globalThis?.document){const t=ar(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){AN(v5,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function b5(n,e=globalThis?.document){const t=ar(n),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&AN(w5,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function MP(){const n=new CustomEvent(Sx);document.dispatchEvent(n)}function AN(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?PN(s,i):s.dispatchEvent(i)}var S5=Jp,T5=RN,Sr=globalThis?.document?b.useLayoutEffect:()=>{},E5="Portal",Mv=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=b.useState(!1);Sr(()=>i(!0),[]);const o=t||s&&globalThis?.document?.body;return o?SN.createPortal(p.jsx(Xe.div,{...r,ref:e}),o):null});Mv.displayName=E5;function C5(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Mi=n=>{const{present:e,children:t}=n,r=P5(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),i=St(r.ref,k5(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};Mi.displayName="Presence";function P5(n){const[e,t]=b.useState(),r=b.useRef(null),s=b.useRef(n),i=b.useRef("none"),o=n?"mounted":"unmounted",[l,u]=C5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=bg(r.current);i.current=l==="mounted"?d:"none"},[l]),Sr(()=>{const d=r.current,h=s.current;if(h!==n){const v=i.current,w=bg(d);n?u("MOUNT"):w==="none"||d?.display==="none"?u("UNMOUNT"):u(h&&v!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,u]),Sr(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,m=w=>{const _=bg(r.current).includes(w.animationName);if(w.target===e&&_&&(u("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},v=w=>{w.target===e&&(i.current=bg(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{r.current=d?getComputedStyle(d):null,t(d)},[])}}function bg(n){return n?.animationName||"none"}function k5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var R5=P1[" useInsertionEffect ".trim().toString()]||Sr;function ru({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,o]=A5({defaultProp:e,onChange:t}),l=n!==void 0,u=l?n:s;{const h=b.useRef(n!==void 0);b.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=b.useCallback(h=>{if(l){const m=I5(h)?h(n):h;m!==n&&o.current?.(m)}else i(h)},[l,n,i,o]);return[u,d]}function A5({defaultProp:n,onChange:e}){const[t,r]=b.useState(n),s=b.useRef(t),i=b.useRef(e);return R5(()=>{i.current=e},[e]),b.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function I5(n){return typeof n=="function"}var IN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),N5="VisuallyHidden",Lv=b.forwardRef((n,e)=>p.jsx(Xe.span,{...n,ref:e,style:{...IN,...n.style}}));Lv.displayName=N5;var D5=Lv,R1="ToastProvider",[A1,j5,O5]=k1("Toast"),[NN]=io("Toast",[O5]),[M5,Vv]=NN(R1),DN=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=n,[l,u]=b.useState(null),[d,h]=b.useState(0),m=b.useRef(!1),v=b.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${R1}\`. Expected non-empty \`string\`.`),p.jsx(A1.Provider,{scope:e,children:p.jsx(M5,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:b.useCallback(()=>h(w=>w+1),[]),onToastRemove:b.useCallback(()=>h(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:v,children:o})})};DN.displayName=R1;var jN="ToastViewport",L5=["F8"],Tx="toast.viewportPause",Ex="toast.viewportResume",ON=b.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=L5,label:s="Notifications ({hotkey})",...i}=n,o=Vv(jN,t),l=j5(t),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),m=b.useRef(null),v=St(e,m,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;b.useEffect(()=>{const S=R=>{r.length!==0&&r.every(j=>R[j]||R.code===j)&&m.current?.focus()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),b.useEffect(()=>{const S=u.current,R=m.current;if(T&&S&&R){const k=()=>{if(!o.isClosePausedRef.current){const z=new CustomEvent(Tx);R.dispatchEvent(z),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const z=new CustomEvent(Ex);R.dispatchEvent(z),o.isClosePausedRef.current=!1}},I=z=>{!S.contains(z.relatedTarget)&&j()},L=()=>{S.contains(document.activeElement)||j()};return S.addEventListener("focusin",k),S.addEventListener("focusout",I),S.addEventListener("pointermove",k),S.addEventListener("pointerleave",L),window.addEventListener("blur",k),window.addEventListener("focus",j),()=>{S.removeEventListener("focusin",k),S.removeEventListener("focusout",I),S.removeEventListener("pointermove",k),S.removeEventListener("pointerleave",L),window.removeEventListener("blur",k),window.removeEventListener("focus",j)}}},[T,o.isClosePausedRef]);const _=b.useCallback(({tabbingDirection:S})=>{const k=l().map(j=>{const I=j.ref.current,L=[I,...Q5(I)];return S==="forwards"?L:L.reverse()});return(S==="forwards"?k.reverse():k).flat()},[l]);return b.useEffect(()=>{const S=m.current;if(S){const R=k=>{const j=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!j){const L=document.activeElement,z=k.shiftKey;if(k.target===S&&z){d.current?.focus();return}const D=_({tabbingDirection:z?"backwards":"forwards"}),O=D.findIndex(V=>V===L);f_(D.slice(O+1))?k.preventDefault():z?d.current?.focus():h.current?.focus()}};return S.addEventListener("keydown",R),()=>S.removeEventListener("keydown",R)}},[l,_]),p.jsxs(T5,{ref:u,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&p.jsx(Cx,{ref:d,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"forwards"});f_(S)}}),p.jsx(A1.Slot,{scope:t,children:p.jsx(Xe.ol,{tabIndex:-1,...i,ref:v})}),T&&p.jsx(Cx,{ref:h,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"backwards"});f_(S)}})]})});ON.displayName=jN;var MN="ToastFocusProxy",Cx=b.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=Vv(MN,t);return p.jsx(Lv,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&r()}})});Cx.displayName=MN;var Zp="Toast",V5="toast.swipeStart",F5="toast.swipeMove",z5="toast.swipeCancel",U5="toast.swipeEnd",LN=b.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...o}=n,[l,u]=ru({prop:r,defaultProp:s??!0,onChange:i,caller:Zp});return p.jsx(Mi,{present:t||l,children:p.jsx(W5,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:ar(n.onPause),onResume:ar(n.onResume),onSwipeStart:Ue(n.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(n.onSwipeMove,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ue(n.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(n.onSwipeEnd,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});LN.displayName=Zp;var[$5,B5]=NN(Zp,{onClose(){}}),W5=b.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:v,onSwipeEnd:w,...T}=n,_=Vv(Zp,t),[S,R]=b.useState(null),k=St(e,X=>R(X)),j=b.useRef(null),I=b.useRef(null),L=s||_.duration,z=b.useRef(0),P=b.useRef(L),A=b.useRef(0),{onToastAdd:D,onToastRemove:O}=_,V=ar(()=>{S?.contains(document.activeElement)&&_.viewport?.focus(),o()}),F=b.useCallback(X=>{!X||X===1/0||(window.clearTimeout(A.current),z.current=new Date().getTime(),A.current=window.setTimeout(V,X))},[V]);b.useEffect(()=>{const X=_.viewport;if(X){const re=()=>{F(P.current),d?.()},ne=()=>{const J=new Date().getTime()-z.current;P.current=P.current-J,window.clearTimeout(A.current),u?.()};return X.addEventListener(Tx,ne),X.addEventListener(Ex,re),()=>{X.removeEventListener(Tx,ne),X.removeEventListener(Ex,re)}}},[_.viewport,L,u,d,F]),b.useEffect(()=>{i&&!_.isClosePausedRef.current&&F(L)},[i,L,_.isClosePausedRef,F]),b.useEffect(()=>(D(),()=>O()),[D,O]);const U=b.useMemo(()=>S?WN(S):null,[S]);return _.viewport?p.jsxs(p.Fragment,{children:[U&&p.jsx(q5,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),p.jsx($5,{scope:t,onClose:V,children:gh.createPortal(p.jsx(A1.ItemSlot,{scope:t,children:p.jsx(S5,{asChild:!0,onEscapeKeyDown:Ue(l,()=>{_.isFocusedToastEscapeKeyDownRef.current||V(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...T,ref:k,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ue(n.onKeyDown,X=>{X.key==="Escape"&&(l?.(X.nativeEvent),X.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Ue(n.onPointerDown,X=>{X.button===0&&(j.current={x:X.clientX,y:X.clientY})}),onPointerMove:Ue(n.onPointerMove,X=>{if(!j.current)return;const re=X.clientX-j.current.x,ne=X.clientY-j.current.y,J=!!I.current,q=["left","right"].includes(_.swipeDirection),G=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,B=q?G(0,re):0,W=q?0:G(0,ne),Q=X.pointerType==="touch"?10:2,pe={x:B,y:W},he={originalEvent:X,delta:pe};J?(I.current=pe,Sg(F5,m,he,{discrete:!1})):LP(pe,_.swipeDirection,Q)?(I.current=pe,Sg(V5,h,he,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(re)>Q||Math.abs(ne)>Q)&&(j.current=null)}),onPointerUp:Ue(n.onPointerUp,X=>{const re=I.current,ne=X.target;if(ne.hasPointerCapture(X.pointerId)&&ne.releasePointerCapture(X.pointerId),I.current=null,j.current=null,re){const J=X.currentTarget,q={originalEvent:X,delta:re};LP(re,_.swipeDirection,_.swipeThreshold)?Sg(U5,w,q,{discrete:!0}):Sg(z5,v,q,{discrete:!0}),J.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),q5=n=>{const{__scopeToast:e,children:t,...r}=n,s=Vv(Zp,e),[i,o]=b.useState(!1),[l,u]=b.useState(!1);return G5(()=>o(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:p.jsx(Mv,{asChild:!0,children:p.jsx(Lv,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",t]})})})},H5="ToastTitle",VN=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return p.jsx(Xe.div,{...r,ref:e})});VN.displayName=H5;var K5="ToastDescription",FN=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return p.jsx(Xe.div,{...r,ref:e})});FN.displayName=K5;var zN="ToastAction",UN=b.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?p.jsx(BN,{altText:t,asChild:!0,children:p.jsx(I1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zN}\`. Expected non-empty \`string\`.`),null)});UN.displayName=zN;var $N="ToastClose",I1=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=B5($N,t);return p.jsx(BN,{asChild:!0,children:p.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Ue(n.onClick,s.onClose)})})});I1.displayName=$N;var BN=b.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return p.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function WN(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Y5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...WN(r))}}),e}function Sg(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?PN(s,i):s.dispatchEvent(i)}var LP=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function G5(n=()=>{}){const e=ar(n);Sr(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function Y5(n){return n.nodeType===n.ELEMENT_NODE}function Q5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function f_(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var X5=DN,qN=ON,HN=LN,KN=VN,GN=FN,YN=UN,QN=I1;function XN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=XN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function JN(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=XN(n))&&(r&&(r+=" "),r+=e);return r}const VP=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,FP=JN,Fv=(n,e)=>t=>{var r;if(e?.variants==null)return FP(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=t?.[d],m=i?.[d];if(h===null)return null;const v=VP(h)||VP(m);return s[d][v]}),l=t&&Object.entries(t).reduce((d,h)=>{let[m,v]=h;return v===void 0||(d[m]=v),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:m,className:v,...w}=h;return Object.entries(w).every(T=>{let[_,S]=T;return Array.isArray(S)?S.includes({...i,...l}[_]):{...i,...l}[_]===S})?[...d,m,v]:d},[]);return FP(n,o,u,t?.class,t?.className)};const J5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZN=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();var Z5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eU=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>b.createElement("svg",{ref:u,...Z5,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:ZN("lucide",s),...l},[...o.map(([d,h])=>b.createElement(d,h)),...Array.isArray(i)?i:[i]]));const Tt=(n,e)=>{const t=b.forwardRef(({className:r,...s},i)=>b.createElement(eU,{ref:i,iconNode:e,className:ZN(`lucide-${J5(n)}`,r),...s}));return t.displayName=`${n}`,t};const su=Tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const eD=Tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const zv=Tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const tD=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const tU=Tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const nU=Tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const rU=Tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Tg=Tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Px=Tt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const zP=Tt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const nD=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const kx=Tt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const UP=Tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Kd=Tt("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);const Rx=Tt("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"wpff58"}]]);const sU=Tt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const iU=Tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Cl=Tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const rD=Tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const oU=Tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const sD=Tt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Ny=Tt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const iu=Tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Fl=Tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const aU=Tt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);const Ax=Tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const lU=Tt("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);const iD=Tt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const cU=Tt("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const Gd=Tt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const zl=Tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Dy=Tt("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);const p_=Tt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const jo=Tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ix=Tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Bc=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),N1="-",uU=n=>{const e=hU(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const l=o.split(N1);return l[0]===""&&l.length!==1&&l.shift(),oD(l,e)||dU(o)},getConflictingClassGroupIds:(o,l)=>{const u=t[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},oD=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?oD(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(N1);return e.validators.find(({validator:o})=>o(i))?.classGroupId},$P=/^\[(.+)\]$/,dU=n=>{if($P.test(n)){const e=$P.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},hU=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return pU(Object.entries(n.classGroups),t).forEach(([i,o])=>{Nx(o,r,i,e)}),r},Nx=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:BP(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(fU(s)){Nx(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,o])=>{Nx(o,BP(e,i),t,r)})})},BP=(n,e)=>{let t=n;return e.split(N1).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},fU=n=>n.isThemeGetter,pU=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[t,s]}):n,mU=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){t.has(i)?t.set(i,o):s(i,o)}}},aD="!",gU=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let d=0,h=0,m;for(let S=0;S<l.length;S++){let R=l[S];if(d===0){if(R===s&&(r||l.slice(S,S+i)===e)){u.push(l.slice(h,S)),h=S+i;continue}if(R==="/"){m=S;continue}}R==="["?d++:R==="]"&&d--}const v=u.length===0?l:l.substring(h),w=v.startsWith(aD),T=w?v.substring(1):v,_=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:_}};return t?l=>t({className:l,parseClassName:o}):o},yU=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},vU=n=>({cache:mU(n.cacheSize),parseClassName:gU(n),...uU(n)}),wU=/\s+/,_U=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=n.trim().split(wU);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:w}=t(d);let T=!!w,_=r(T?v.substring(0,w):v);if(!_){if(!T){l=d+(l.length>0?" "+l:l);continue}if(_=r(v),!_){l=d+(l.length>0?" "+l:l);continue}T=!1}const S=yU(h).join(":"),R=m?S+aD:S,k=R+_;if(i.includes(k))continue;i.push(k);const j=s(_,T);for(let I=0;I<j.length;++I){const L=j[I];i.push(R+L)}l=d+(l.length>0?" "+l:l)}return l};function xU(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=lD(e))&&(r&&(r+=" "),r+=t);return r}const lD=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=lD(n[r]))&&(t&&(t+=" "),t+=e);return t};function bU(n,...e){let t,r,s,i=o;function o(u){const d=e.reduce((h,m)=>m(h),n());return t=vU(d),r=t.cache.get,s=t.cache.set,i=l,l(u)}function l(u){const d=r(u);if(d)return d;const h=_U(u,t);return s(u,h),h}return function(){return i(xU.apply(null,arguments))}}const un=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},cD=/^\[(?:([a-z-]+):)?(.+)\]$/i,SU=/^\d+\/\d+$/,TU=new Set(["px","full","screen"]),EU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ya=n=>Pd(n)||TU.has(n)||SU.test(n),cl=n=>yh(n,"length",LU),Pd=n=>!!n&&!Number.isNaN(Number(n)),m_=n=>yh(n,"number",Pd),xf=n=>!!n&&Number.isInteger(Number(n)),AU=n=>n.endsWith("%")&&Pd(n.slice(0,-1)),ct=n=>cD.test(n),ul=n=>EU.test(n),IU=new Set(["length","size","percentage"]),NU=n=>yh(n,IU,uD),DU=n=>yh(n,"position",uD),jU=new Set(["image","url"]),OU=n=>yh(n,jU,FU),MU=n=>yh(n,"",VU),bf=()=>!0,yh=(n,e,t)=>{const r=cD.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},LU=n=>CU.test(n)&&!PU.test(n),uD=()=>!1,VU=n=>kU.test(n),FU=n=>RU.test(n),zU=()=>{const n=un("colors"),e=un("spacing"),t=un("blur"),r=un("brightness"),s=un("borderColor"),i=un("borderRadius"),o=un("borderSpacing"),l=un("borderWidth"),u=un("contrast"),d=un("grayscale"),h=un("hueRotate"),m=un("invert"),v=un("gap"),w=un("gradientColorStops"),T=un("gradientColorStopPositions"),_=un("inset"),S=un("margin"),R=un("opacity"),k=un("padding"),j=un("saturate"),I=un("scale"),L=un("sepia"),z=un("skew"),P=un("space"),A=un("translate"),D=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",ct,e],F=()=>[ct,e],U=()=>["",ya,cl],X=()=>["auto",Pd,ct],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ct],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Pd,ct];return{cacheSize:500,separator:":",theme:{colors:[bf],spacing:[ya,cl],blur:["none","",ul,ct],brightness:W(),borderColor:[n],borderRadius:["none","","full",ul,ct],borderSpacing:F(),borderWidth:U(),contrast:W(),grayscale:G(),hueRotate:W(),invert:G(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[AU,cl],inset:V(),margin:V(),opacity:W(),padding:F(),saturate:W(),scale:W(),sepia:G(),skew:W(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",ct]}],container:["container"],columns:[{columns:[ul]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ct]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xf,ct]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ct]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",xf,ct]}],"grid-cols":[{"grid-cols":[bf]}],"col-start-end":[{col:["auto",{span:["full",xf,ct]},ct]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[bf]}],"row-start-end":[{row:["auto",{span:[xf,ct]},ct]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ct]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ct,e]}],"min-w":[{"min-w":[ct,e,"min","max","fit"]}],"max-w":[{"max-w":[ct,e,"none","full","min","max","fit","prose",{screen:[ul]},ul]}],h:[{h:[ct,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ct,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ct,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ct,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ul,cl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",m_]}],"font-family":[{font:[bf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",Pd,m_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ya,ct]}],"list-image":[{"list-image":["none",ct]}],"list-style-type":[{list:["none","disc","decimal",ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ya,cl]}],"underline-offset":[{"underline-offset":["auto",ya,ct]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),DU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OU]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[ya,ct]}],"outline-w":[{outline:[ya,cl]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[ya,cl]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ul,MU]}],"shadow-color":[{shadow:[bf]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ul,ct]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ct]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",ct]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[xf,ct]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ya,cl,m_]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UU=bU(zU);function ot(...n){return UU(JN(n))}const $U=X5,dD=b.forwardRef(({className:n,...e},t)=>p.jsx(qN,{ref:t,className:ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));dD.displayName=qN.displayName;const BU=Fv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hD=b.forwardRef(({className:n,variant:e,...t},r)=>p.jsx(HN,{ref:r,className:ot(BU({variant:e}),n),...t}));hD.displayName=HN.displayName;const WU=b.forwardRef(({className:n,...e},t)=>p.jsx(YN,{ref:t,className:ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));WU.displayName=YN.displayName;const fD=b.forwardRef(({className:n,...e},t)=>p.jsx(QN,{ref:t,className:ot("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:p.jsx(Bc,{className:"h-4 w-4"})}));fD.displayName=QN.displayName;const pD=b.forwardRef(({className:n,...e},t)=>p.jsx(KN,{ref:t,className:ot("text-sm font-semibold",n),...e}));pD.displayName=KN.displayName;const mD=b.forwardRef(({className:n,...e},t)=>p.jsx(GN,{ref:t,className:ot("text-sm opacity-90",n),...e}));mD.displayName=GN.displayName;function qU(){const{toasts:n}=a5();return p.jsxs($U,{children:[n.map(function({id:e,title:t,description:r,action:s,...i}){return p.jsxs(hD,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[t&&p.jsx(pD,{children:t}),r&&p.jsx(mD,{children:r})]}),s,p.jsx(fD,{})]},e)}),p.jsx(dD,{})]})}var WP=["light","dark"],HU="(prefers-color-scheme: dark)",KU=b.createContext(void 0),GU={setTheme:n=>{},themes:[]},YU=()=>{var n;return(n=b.useContext(KU))!=null?n:GU};b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:u})=>{let d=i==="system",h=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,m=s?WP.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(T,_=!1,S=!0)=>{let R=o?o[T]:T,k=_?T+"|| ''":`'${R}'`,j="";return s&&S&&!_&&WP.includes(T)&&(j+=`d.style.colorScheme = '${T}';`),t==="class"?_||R?j+=`c.add(${k})`:j+="null":R&&(j+=`d[s](n,${k})`),j},w=n?`!function(){${h}${v(n)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${HU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${v(o?"x[e]":"e",!0)}}${d?"":"else{"+v(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${v(o?"x[e]":"e",!0)}}else{${v(i,!1,!1)};}${m}}catch(t){}}();`;return b.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:w}})});var QU=n=>{switch(n){case"success":return ZU;case"info":return t6;case"warning":return e6;case"error":return n6;default:return null}},XU=Array(12).fill(0),JU=({visible:n,className:e})=>Se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Se.createElement("div",{className:"sonner-spinner"},XU.map((t,r)=>Se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ZU=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),e6=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),t6=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),n6=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),r6=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),s6=()=>{let[n,e]=Se.useState(document.hidden);return Se.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Dx=1,i6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Dx++,o=this.toasts.find(u=>u.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:l,title:r}):u):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,l=s.then(async d=>{if(o=["resolve",d],Se.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(a6(d)&&!d.ok){i=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:r,type:"error",message:h,description:m})}else if(t.success!==void 0){i=!1;let h=typeof t.success=="function"?await t.success(d):t.success,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"success",message:h,description:m})}}).catch(async d=>{if(o=["reject",d],t.error!==void 0){i=!1;let h=typeof t.error=="function"?await t.error(d):t.error,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"error",message:h,description:m})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=t.finally)==null||d.call(t)}),u=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,t)=>{let r=t?.id||Dx++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ds=new i6,o6=(n,e)=>{let t=e?.id||Dx++;return Ds.addToast({title:n,...e,id:t}),t},a6=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",l6=o6,c6=()=>Ds.toasts,u6=()=>Ds.getActiveToasts(),Jt=Object.assign(l6,{success:Ds.success,info:Ds.info,warning:Ds.warning,error:Ds.error,custom:Ds.custom,message:Ds.message,promise:Ds.promise,dismiss:Ds.dismiss,loading:Ds.loading},{getHistory:c6,getToasts:u6});function d6(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}d6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Eg(n){return n.label!==void 0}var h6=3,f6="32px",p6="16px",qP=4e3,m6=356,g6=14,y6=20,v6=200;function Hi(...n){return n.filter(Boolean).join(" ")}function w6(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var _6=n=>{var e,t,r,s,i,o,l,u,d,h,m;let{invert:v,toast:w,unstyled:T,interacting:_,setHeights:S,visibleToasts:R,heights:k,index:j,toasts:I,expanded:L,removeToast:z,defaultRichColors:P,closeButton:A,style:D,cancelButtonStyle:O,actionButtonStyle:V,className:F="",descriptionClassName:U="",duration:X,position:re,gap:ne,loadingIcon:J,expandByDefault:q,classNames:G,icons:B,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:Q}=n,[pe,he]=Se.useState(null),[ve,Ee]=Se.useState(null),[le,xe]=Se.useState(!1),[ce,be]=Se.useState(!1),[Ce,ue]=Se.useState(!1),[ae,Ke]=Se.useState(!1),[Mt,qt]=Se.useState(!1),[se,pn]=Se.useState(0),[jt,Nt]=Se.useState(0),dt=Se.useRef(w.duration||X||qP),ur=Se.useRef(null),Cn=Se.useRef(null),Es=j===0,$t=j+1<=R,Gt=w.type,Et=w.dismissible!==!1,Pn=w.className||"",er=w.descriptionClassName||"",kn=Se.useMemo(()=>k.findIndex($e=>$e.toastId===w.id)||0,[k,w.id]),Wr=Se.useMemo(()=>{var $e;return($e=w.closeButton)!=null?$e:A},[w.closeButton,A]),Ht=Se.useMemo(()=>w.duration||X||qP,[w.duration,X]),Er=Se.useRef(0),mn=Se.useRef(0),as=Se.useRef(0),on=Se.useRef(null),[Cr,dr]=re.split("-"),Je=Se.useMemo(()=>k.reduce(($e,it,Ct)=>Ct>=kn?$e:$e+it.height,0),[k,kn]),Wn=s6(),gn=w.invert||v,mt=Gt==="loading";mn.current=Se.useMemo(()=>kn*ne+Je,[kn,Je]),Se.useEffect(()=>{dt.current=Ht},[Ht]),Se.useEffect(()=>{xe(!0)},[]),Se.useEffect(()=>{let $e=Cn.current;if($e){let it=$e.getBoundingClientRect().height;return Nt(it),S(Ct=>[{toastId:w.id,height:it,position:w.position},...Ct]),()=>S(Ct=>Ct.filter(je=>je.toastId!==w.id))}},[S,w.id]),Se.useLayoutEffect(()=>{if(!le)return;let $e=Cn.current,it=$e.style.height;$e.style.height="auto";let Ct=$e.getBoundingClientRect().height;$e.style.height=it,Nt(Ct),S(je=>je.find(Ie=>Ie.toastId===w.id)?je.map(Ie=>Ie.toastId===w.id?{...Ie,height:Ct}:Ie):[{toastId:w.id,height:Ct,position:w.position},...je])},[le,w.title,w.description,S,w.id]);let en=Se.useCallback(()=>{be(!0),pn(mn.current),S($e=>$e.filter(it=>it.toastId!==w.id)),setTimeout(()=>{z(w)},v6)},[w,z,S,mn]);Se.useEffect(()=>{if(w.promise&&Gt==="loading"||w.duration===1/0||w.type==="loading")return;let $e;return L||_||Q&&Wn?(()=>{if(as.current<Er.current){let it=new Date().getTime()-Er.current;dt.current=dt.current-it}as.current=new Date().getTime()})():dt.current!==1/0&&(Er.current=new Date().getTime(),$e=setTimeout(()=>{var it;(it=w.onAutoClose)==null||it.call(w,w),en()},dt.current)),()=>clearTimeout($e)},[L,_,w,Gt,Q,Wn,en]),Se.useEffect(()=>{w.delete&&en()},[en,w.delete]);function hr(){var $e,it,Ct;return B!=null&&B.loading?Se.createElement("div",{className:Hi(G?.loader,($e=w?.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":Gt==="loading"},B.loading):J?Se.createElement("div",{className:Hi(G?.loader,(it=w?.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":Gt==="loading"},J):Se.createElement(JU,{className:Hi(G?.loader,(Ct=w?.classNames)==null?void 0:Ct.loader),visible:Gt==="loading"})}return Se.createElement("li",{tabIndex:0,ref:Cn,className:Hi(F,Pn,G?.toast,(e=w?.classNames)==null?void 0:e.toast,G?.default,G?.[Gt],(t=w?.classNames)==null?void 0:t[Gt]),"data-sonner-toast":"","data-rich-colors":(r=w.richColors)!=null?r:P,"data-styled":!(w.jsx||w.unstyled||T),"data-mounted":le,"data-promise":!!w.promise,"data-swiped":Mt,"data-removed":ce,"data-visible":$t,"data-y-position":Cr,"data-x-position":dr,"data-index":j,"data-front":Es,"data-swiping":Ce,"data-dismissible":Et,"data-type":Gt,"data-invert":gn,"data-swipe-out":ae,"data-swipe-direction":ve,"data-expanded":!!(L||q&&le),style:{"--index":j,"--toasts-before":j,"--z-index":I.length-j,"--offset":`${ce?se:mn.current}px`,"--initial-height":q?"auto":`${jt}px`,...D,...w.style},onDragEnd:()=>{ue(!1),he(null),on.current=null},onPointerDown:$e=>{mt||!Et||(ur.current=new Date,pn(mn.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(ue(!0),on.current={x:$e.clientX,y:$e.clientY}))},onPointerUp:()=>{var $e,it,Ct,je;if(ae||!Et)return;on.current=null;let Ie=Number((($e=Cn.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ye=Number(((it=Cn.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),we=new Date().getTime()-((Ct=ur.current)==null?void 0:Ct.getTime()),Me=pe==="x"?Ie:Ye,Ne=Math.abs(Me)/we;if(Math.abs(Me)>=y6||Ne>.11){pn(mn.current),(je=w.onDismiss)==null||je.call(w,w),Ee(pe==="x"?Ie>0?"right":"left":Ye>0?"down":"up"),en(),Ke(!0),qt(!1);return}ue(!1),he(null)},onPointerMove:$e=>{var it,Ct,je,Ie;if(!on.current||!Et||((it=window.getSelection())==null?void 0:it.toString().length)>0)return;let Ye=$e.clientY-on.current.y,we=$e.clientX-on.current.x,Me=(Ct=n.swipeDirections)!=null?Ct:w6(re);!pe&&(Math.abs(we)>1||Math.abs(Ye)>1)&&he(Math.abs(we)>Math.abs(Ye)?"x":"y");let Ne={x:0,y:0};pe==="y"?(Me.includes("top")||Me.includes("bottom"))&&(Me.includes("top")&&Ye<0||Me.includes("bottom")&&Ye>0)&&(Ne.y=Ye):pe==="x"&&(Me.includes("left")||Me.includes("right"))&&(Me.includes("left")&&we<0||Me.includes("right")&&we>0)&&(Ne.x=we),(Math.abs(Ne.x)>0||Math.abs(Ne.y)>0)&&qt(!0),(je=Cn.current)==null||je.style.setProperty("--swipe-amount-x",`${Ne.x}px`),(Ie=Cn.current)==null||Ie.style.setProperty("--swipe-amount-y",`${Ne.y}px`)}},Wr&&!w.jsx?Se.createElement("button",{"aria-label":W,"data-disabled":mt,"data-close-button":!0,onClick:mt||!Et?()=>{}:()=>{var $e;en(),($e=w.onDismiss)==null||$e.call(w,w)},className:Hi(G?.closeButton,(s=w?.classNames)==null?void 0:s.closeButton)},(i=B?.close)!=null?i:r6):null,w.jsx||b.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:Se.createElement(Se.Fragment,null,Gt||w.icon||w.promise?Se.createElement("div",{"data-icon":"",className:Hi(G?.icon,(o=w?.classNames)==null?void 0:o.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||hr():null,w.type!=="loading"?w.icon||B?.[Gt]||QU(Gt):null):null,Se.createElement("div",{"data-content":"",className:Hi(G?.content,(l=w?.classNames)==null?void 0:l.content)},Se.createElement("div",{"data-title":"",className:Hi(G?.title,(u=w?.classNames)==null?void 0:u.title)},typeof w.title=="function"?w.title():w.title),w.description?Se.createElement("div",{"data-description":"",className:Hi(U,er,G?.description,(d=w?.classNames)==null?void 0:d.description)},typeof w.description=="function"?w.description():w.description):null),b.isValidElement(w.cancel)?w.cancel:w.cancel&&Eg(w.cancel)?Se.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||O,onClick:$e=>{var it,Ct;Eg(w.cancel)&&Et&&((Ct=(it=w.cancel).onClick)==null||Ct.call(it,$e),en())},className:Hi(G?.cancelButton,(h=w?.classNames)==null?void 0:h.cancelButton)},w.cancel.label):null,b.isValidElement(w.action)?w.action:w.action&&Eg(w.action)?Se.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||V,onClick:$e=>{var it,Ct;Eg(w.action)&&((Ct=(it=w.action).onClick)==null||Ct.call(it,$e),!$e.defaultPrevented&&en())},className:Hi(G?.actionButton,(m=w?.classNames)==null?void 0:m.actionButton)},w.action.label):null))};function HP(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function x6(n,e){let t={};return[n,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?p6:f6;function u(d){["top","right","bottom","left"].forEach(h=>{t[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?t[`${o}-${d}`]=l:t[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):u(l)}),t}var b6=b.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:d,theme:h="light",richColors:m,duration:v,style:w,visibleToasts:T=h6,toastOptions:_,dir:S=HP(),gap:R=g6,loadingIcon:k,icons:j,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:L}=n,[z,P]=Se.useState([]),A=Se.useMemo(()=>Array.from(new Set([r].concat(z.filter(Q=>Q.position).map(Q=>Q.position)))),[z,r]),[D,O]=Se.useState([]),[V,F]=Se.useState(!1),[U,X]=Se.useState(!1),[re,ne]=Se.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Se.useRef(null),q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=Se.useRef(null),B=Se.useRef(!1),W=Se.useCallback(Q=>{P(pe=>{var he;return(he=pe.find(ve=>ve.id===Q.id))!=null&&he.delete||Ds.dismiss(Q.id),pe.filter(({id:ve})=>ve!==Q.id)})},[]);return Se.useEffect(()=>Ds.subscribe(Q=>{if(Q.dismiss){P(pe=>pe.map(he=>he.id===Q.id?{...he,delete:!0}:he));return}setTimeout(()=>{SN.flushSync(()=>{P(pe=>{let he=pe.findIndex(ve=>ve.id===Q.id);return he!==-1?[...pe.slice(0,he),{...pe[he],...Q},...pe.slice(he+1)]:[Q,...pe]})})})}),[]),Se.useEffect(()=>{if(h!=="system"){ne(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:pe})=>{ne(pe?"dark":"light")})}catch{Q.addListener(({matches:he})=>{try{ne(he?"dark":"light")}catch(ve){console.error(ve)}})}},[h]),Se.useEffect(()=>{z.length<=1&&F(!1)},[z]),Se.useEffect(()=>{let Q=pe=>{var he,ve;s.every(Ee=>pe[Ee]||pe.code===Ee)&&(F(!0),(he=J.current)==null||he.focus()),pe.code==="Escape"&&(document.activeElement===J.current||(ve=J.current)!=null&&ve.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),Se.useEffect(()=>{if(J.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,B.current=!1)}},[J.current]),Se.createElement("section",{ref:e,"aria-label":`${I} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((Q,pe)=>{var he;let[ve,Ee]=Q.split("-");return z.length?Se.createElement("ol",{key:Q,dir:S==="auto"?HP():S,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":ve,"data-lifted":V&&z.length>1&&!i,"data-x-position":Ee,style:{"--front-toast-height":`${((he=D[0])==null?void 0:he.height)||0}px`,"--width":`${m6}px`,"--gap":`${R}px`,...w,...x6(u,d)},onBlur:le=>{B.current&&!le.currentTarget.contains(le.relatedTarget)&&(B.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||B.current||(B.current=!0,G.current=le.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{U||F(!1)},onDragEnd:()=>F(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},z.filter(le=>!le.position&&pe===0||le.position===Q).map((le,xe)=>{var ce,be;return Se.createElement(_6,{key:le.id,icons:j,index:xe,toast:le,defaultRichColors:m,duration:(ce=_?.duration)!=null?ce:v,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:t,visibleToasts:T,closeButton:(be=_?.closeButton)!=null?be:o,interacting:U,position:Q,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,removeToast:W,toasts:z.filter(Ce=>Ce.position==le.position),heights:D.filter(Ce=>Ce.position==le.position),setHeights:O,expandByDefault:i,gap:R,loadingIcon:k,expanded:V,pauseWhenPageIsHidden:L,swipeDirections:n.swipeDirections})})):null}))});const S6=({...n})=>{const{theme:e="system"}=YU();return p.jsx(b6,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var T6=P1[" useId ".trim().toString()]||(()=>{}),E6=0;function Pl(n){const[e,t]=b.useState(T6());return Sr(()=>{t(r=>r??String(E6++))},[n]),e?`radix-${e}`:""}const C6=["top","right","bottom","left"],Ul=Math.min,ii=Math.max,jy=Math.round,Cg=Math.floor,Fo=n=>({x:n,y:n}),P6={left:"right",right:"left",bottom:"top",top:"bottom"},k6={start:"end",end:"start"};function jx(n,e,t){return ii(n,Ul(e,t))}function Pa(n,e){return typeof n=="function"?n(e):n}function ka(n){return n.split("-")[0]}function vh(n){return n.split("-")[1]}function D1(n){return n==="x"?"y":"x"}function j1(n){return n==="y"?"height":"width"}const R6=new Set(["top","bottom"]);function Oo(n){return R6.has(ka(n))?"y":"x"}function O1(n){return D1(Oo(n))}function A6(n,e,t){t===void 0&&(t=!1);const r=vh(n),s=O1(n),i=j1(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Oy(o)),[o,Oy(o)]}function I6(n){const e=Oy(n);return[Ox(n),e,Ox(e)]}function Ox(n){return n.replace(/start|end/g,e=>k6[e])}const KP=["left","right"],GP=["right","left"],N6=["top","bottom"],D6=["bottom","top"];function j6(n,e,t){switch(n){case"top":case"bottom":return t?e?GP:KP:e?KP:GP;case"left":case"right":return e?N6:D6;default:return[]}}function O6(n,e,t,r){const s=vh(n);let i=j6(ka(n),t==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ox)))),i}function Oy(n){return n.replace(/left|right|bottom|top/g,e=>P6[e])}function M6(n){return{top:0,right:0,bottom:0,left:0,...n}}function gD(n){return typeof n!="number"?M6(n):{top:n,right:n,bottom:n,left:n}}function My(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function YP(n,e,t){let{reference:r,floating:s}=n;const i=Oo(e),o=O1(e),l=j1(o),u=ka(e),d=i==="y",h=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,v=r[l]/2-s[l]/2;let w;switch(u){case"top":w={x:h,y:r.y-s.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:m};break;case"left":w={x:r.x-s.width,y:m};break;default:w={x:r.x,y:r.y}}switch(vh(e)){case"start":w[o]-=v*(t&&d?-1:1);break;case"end":w[o]+=v*(t&&d?-1:1);break}return w}const L6=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:h,y:m}=YP(d,r,u),v=r,w={},T=0;for(let _=0;_<l.length;_++){const{name:S,fn:R}=l[_],{x:k,y:j,data:I,reset:L}=await R({x:h,y:m,initialPlacement:r,placement:v,strategy:s,middlewareData:w,rects:d,platform:o,elements:{reference:n,floating:e}});h=k??h,m=j??m,w={...w,[S]:{...w[S],...I}},L&&T<=50&&(T++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(d=L.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):L.rects),{x:h,y:m}=YP(d,v,u)),_=-1)}return{x:h,y:m,placement:v,strategy:s,middlewareData:w}};async function gp(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=n,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:v=!1,padding:w=0}=Pa(e,n),T=gD(w),S=l[v?m==="floating"?"reference":"floating":m],R=My(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(S)))==null||t?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),k=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),I=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},L=My(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:k,offsetParent:j,strategy:u}):k);return{top:(R.top-L.top+T.top)/I.y,bottom:(L.bottom-R.bottom+T.bottom)/I.y,left:(R.left-L.left+T.left)/I.x,right:(L.right-R.right+T.right)/I.x}}const V6=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=Pa(n,e)||{};if(d==null)return{};const m=gD(h),v={x:t,y:r},w=O1(s),T=j1(w),_=await o.getDimensions(d),S=w==="y",R=S?"top":"left",k=S?"bottom":"right",j=S?"clientHeight":"clientWidth",I=i.reference[T]+i.reference[w]-v[w]-i.floating[T],L=v[w]-i.reference[w],z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=z?z[j]:0;(!P||!await(o.isElement==null?void 0:o.isElement(z)))&&(P=l.floating[j]||i.floating[T]);const A=I/2-L/2,D=P/2-_[T]/2-1,O=Ul(m[R],D),V=Ul(m[k],D),F=O,U=P-_[T]-V,X=P/2-_[T]/2+A,re=jx(F,X,U),ne=!u.arrow&&vh(s)!=null&&X!==re&&i.reference[T]/2-(X<F?O:V)-_[T]/2<0,J=ne?X<F?X-F:X-U:0;return{[w]:v[w]+J,data:{[w]:re,centerOffset:X-re-J,...ne&&{alignmentOffset:J}},reset:ne}}}),F6=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0,...S}=Pa(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const R=ka(s),k=Oo(l),j=ka(l)===l,I=await(u.isRTL==null?void 0:u.isRTL(d.floating)),L=v||(j||!_?[Oy(l)]:I6(l)),z=T!=="none";!v&&z&&L.push(...O6(l,_,T,I));const P=[l,...L],A=await gp(e,S),D=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&D.push(A[R]),m){const X=A6(s,o,I);D.push(A[X[0]],A[X[1]])}if(O=[...O,{placement:s,overflows:D}],!D.every(X=>X<=0)){var V,F;const X=(((V=i.flip)==null?void 0:V.index)||0)+1,re=P[X];if(re&&(!(m==="alignment"?k!==Oo(re):!1)||O.every(q=>q.overflows[0]>0&&Oo(q.placement)===k)))return{data:{index:X,overflows:O},reset:{placement:re}};let ne=(F=O.filter(J=>J.overflows[0]<=0).sort((J,q)=>J.overflows[1]-q.overflows[1])[0])==null?void 0:F.placement;if(!ne)switch(w){case"bestFit":{var U;const J=(U=O.filter(q=>{if(z){const G=Oo(q.placement);return G===k||G==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(G=>G>0).reduce((G,B)=>G+B,0)]).sort((q,G)=>q[1]-G[1])[0])==null?void 0:U[0];J&&(ne=J);break}case"initialPlacement":ne=l;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function QP(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function XP(n){return C6.some(e=>n[e]>=0)}const z6=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=Pa(n,e);switch(r){case"referenceHidden":{const i=await gp(e,{...s,elementContext:"reference"}),o=QP(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:XP(o)}}}case"escaped":{const i=await gp(e,{...s,altBoundary:!0}),o=QP(i,t.floating);return{data:{escapedOffsets:o,escaped:XP(o)}}}default:return{}}}}},yD=new Set(["left","top"]);async function U6(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ka(t),l=vh(t),u=Oo(t)==="y",d=yD.has(o)?-1:1,h=i&&u?-1:1,m=Pa(e,n);let{mainAxis:v,crossAxis:w,alignmentAxis:T}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof T=="number"&&(w=l==="end"?T*-1:T),u?{x:w*h,y:v*d}:{x:v*d,y:w*h}}const $6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await U6(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},B6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:R,y:k}=S;return{x:R,y:k}}},...u}=Pa(n,e),d={x:t,y:r},h=await gp(e,u),m=Oo(ka(s)),v=D1(m);let w=d[v],T=d[m];if(i){const S=v==="y"?"top":"left",R=v==="y"?"bottom":"right",k=w+h[S],j=w-h[R];w=jx(k,w,j)}if(o){const S=m==="y"?"top":"left",R=m==="y"?"bottom":"right",k=T+h[S],j=T-h[R];T=jx(k,T,j)}const _=l.fn({...e,[v]:w,[m]:T});return{..._,data:{x:_.x-t,y:_.y-r,enabled:{[v]:i,[m]:o}}}}}},W6=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Pa(n,e),h={x:t,y:r},m=Oo(s),v=D1(m);let w=h[v],T=h[m];const _=Pa(l,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const j=v==="y"?"height":"width",I=i.reference[v]-i.floating[j]+S.mainAxis,L=i.reference[v]+i.reference[j]-S.mainAxis;w<I?w=I:w>L&&(w=L)}if(d){var R,k;const j=v==="y"?"width":"height",I=yD.has(ka(s)),L=i.reference[m]-i.floating[j]+(I&&((R=o.offset)==null?void 0:R[m])||0)+(I?0:S.crossAxis),z=i.reference[m]+i.reference[j]+(I?0:((k=o.offset)==null?void 0:k[m])||0)-(I?S.crossAxis:0);T<L?T=L:T>z&&(T=z)}return{[v]:w,[m]:T}}}},q6=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...d}=Pa(n,e),h=await gp(e,d),m=ka(s),v=vh(s),w=Oo(s)==="y",{width:T,height:_}=i.floating;let S,R;m==="top"||m==="bottom"?(S=m,R=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(R=m,S=v==="end"?"top":"bottom");const k=_-h.top-h.bottom,j=T-h.left-h.right,I=Ul(_-h[S],k),L=Ul(T-h[R],j),z=!e.middlewareData.shift;let P=I,A=L;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=k),z&&!v){const O=ii(h.left,0),V=ii(h.right,0),F=ii(h.top,0),U=ii(h.bottom,0);w?A=T-2*(O!==0||V!==0?O+V:ii(h.left,h.right)):P=_-2*(F!==0||U!==0?F+U:ii(h.top,h.bottom))}await u({...e,availableWidth:A,availableHeight:P});const D=await o.getDimensions(l.floating);return T!==D.width||_!==D.height?{reset:{rects:!0}}:{}}}};function Uv(){return typeof window<"u"}function wh(n){return vD(n)?(n.nodeName||"").toLowerCase():"#document"}function di(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ea(n){var e;return(e=(vD(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function vD(n){return Uv()?n instanceof Node||n instanceof di(n).Node:!1}function eo(n){return Uv()?n instanceof Element||n instanceof di(n).Element:!1}function Go(n){return Uv()?n instanceof HTMLElement||n instanceof di(n).HTMLElement:!1}function JP(n){return!Uv()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof di(n).ShadowRoot}const H6=new Set(["inline","contents"]);function em(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=to(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!H6.has(s)}const K6=new Set(["table","td","th"]);function G6(n){return K6.has(wh(n))}const Y6=[":popover-open",":modal"];function $v(n){return Y6.some(e=>{try{return n.matches(e)}catch{return!1}})}const Q6=["transform","translate","scale","rotate","perspective"],X6=["transform","translate","scale","rotate","perspective","filter"],J6=["paint","layout","strict","content"];function M1(n){const e=L1(),t=eo(n)?to(n):n;return Q6.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||X6.some(r=>(t.willChange||"").includes(r))||J6.some(r=>(t.contain||"").includes(r))}function Z6(n){let e=$l(n);for(;Go(e)&&!Yd(e);){if(M1(e))return e;if($v(e))return null;e=$l(e)}return null}function L1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const e$=new Set(["html","body","#document"]);function Yd(n){return e$.has(wh(n))}function to(n){return di(n).getComputedStyle(n)}function Bv(n){return eo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function $l(n){if(wh(n)==="html")return n;const e=n.assignedSlot||n.parentNode||JP(n)&&n.host||ea(n);return JP(e)?e.host:e}function wD(n){const e=$l(n);return Yd(e)?n.ownerDocument?n.ownerDocument.body:n.body:Go(e)&&em(e)?e:wD(e)}function yp(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=wD(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),o=di(s);if(i){const l=Mx(o);return e.concat(o,o.visualViewport||[],em(s)?s:[],l&&t?yp(l):[])}return e.concat(s,yp(s,[],t))}function Mx(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _D(n){const e=to(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Go(n),i=s?n.offsetWidth:t,o=s?n.offsetHeight:r,l=jy(t)!==i||jy(r)!==o;return l&&(t=i,r=o),{width:t,height:r,$:l}}function V1(n){return eo(n)?n:n.contextElement}function kd(n){const e=V1(n);if(!Go(e))return Fo(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=_D(e);let o=(i?jy(t.width):t.width)/r,l=(i?jy(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const t$=Fo(0);function xD(n){const e=di(n);return!L1()||!e.visualViewport?t$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function n$(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==di(n)?!1:e}function ou(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=V1(n);let o=Fo(1);e&&(r?eo(r)&&(o=kd(r)):o=kd(n));const l=n$(i,t,r)?xD(i):Fo(0);let u=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const v=di(i),w=r&&eo(r)?di(r):r;let T=v,_=Mx(T);for(;_&&r&&w!==T;){const S=kd(_),R=_.getBoundingClientRect(),k=to(_),j=R.left+(_.clientLeft+parseFloat(k.paddingLeft))*S.x,I=R.top+(_.clientTop+parseFloat(k.paddingTop))*S.y;u*=S.x,d*=S.y,h*=S.x,m*=S.y,u+=j,d+=I,T=di(_),_=Mx(T)}}return My({width:h,height:m,x:u,y:d})}function F1(n,e){const t=Bv(n).scrollLeft;return e?e.left+t:ou(ea(n)).left+t}function bD(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:F1(n,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function r$(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",o=ea(r),l=e?$v(e.floating):!1;if(r===o||l&&i)return t;let u={scrollLeft:0,scrollTop:0},d=Fo(1);const h=Fo(0),m=Go(r);if((m||!m&&!i)&&((wh(r)!=="body"||em(o))&&(u=Bv(r)),Go(r))){const w=ou(r);d=kd(r),h.x=w.x+r.clientLeft,h.y=w.y+r.clientTop}const v=o&&!m&&!i?bD(o,u,!0):Fo(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+h.x+v.x,y:t.y*d.y-u.scrollTop*d.y+h.y+v.y}}function s$(n){return Array.from(n.getClientRects())}function i$(n){const e=ea(n),t=Bv(n),r=n.ownerDocument.body,s=ii(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ii(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+F1(n);const l=-t.scrollTop;return to(r).direction==="rtl"&&(o+=ii(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function o$(n,e){const t=di(n),r=ea(n),s=t.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const d=L1();(!d||d&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}const a$=new Set(["absolute","fixed"]);function l$(n,e){const t=ou(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=Go(n)?kd(n):Fo(1),o=n.clientWidth*i.x,l=n.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:l,x:u,y:d}}function ZP(n,e,t){let r;if(e==="viewport")r=o$(n,t);else if(e==="document")r=i$(ea(n));else if(eo(e))r=l$(e,t);else{const s=xD(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return My(r)}function SD(n,e){const t=$l(n);return t===e||!eo(t)||Yd(t)?!1:to(t).position==="fixed"||SD(t,e)}function c$(n,e){const t=e.get(n);if(t)return t;let r=yp(n,[],!1).filter(l=>eo(l)&&wh(l)!=="body"),s=null;const i=to(n).position==="fixed";let o=i?$l(n):n;for(;eo(o)&&!Yd(o);){const l=to(o),u=M1(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&a$.has(s.position)||em(o)&&!u&&SD(n,o))?r=r.filter(h=>h!==o):s=l,o=$l(o)}return e.set(n,r),r}function u$(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const o=[...t==="clippingAncestors"?$v(e)?[]:c$(e,this._c):[].concat(t),r],l=o[0],u=o.reduce((d,h)=>{const m=ZP(e,h,s);return d.top=ii(m.top,d.top),d.right=Ul(m.right,d.right),d.bottom=Ul(m.bottom,d.bottom),d.left=ii(m.left,d.left),d},ZP(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function d$(n){const{width:e,height:t}=_D(n);return{width:e,height:t}}function h$(n,e,t){const r=Go(e),s=ea(e),i=t==="fixed",o=ou(n,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=Fo(0);function d(){u.x=F1(s)}if(r||!r&&!i)if((wh(e)!=="body"||em(s))&&(l=Bv(e)),r){const w=ou(e,!0,i,e);u.x=w.x+e.clientLeft,u.y=w.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?bD(s,l):Fo(0),m=o.left+l.scrollLeft-u.x-h.x,v=o.top+l.scrollTop-u.y-h.y;return{x:m,y:v,width:o.width,height:o.height}}function g_(n){return to(n).position==="static"}function ek(n,e){if(!Go(n)||to(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ea(n)===t&&(t=t.ownerDocument.body),t}function TD(n,e){const t=di(n);if($v(n))return t;if(!Go(n)){let s=$l(n);for(;s&&!Yd(s);){if(eo(s)&&!g_(s))return s;s=$l(s)}return t}let r=ek(n,e);for(;r&&G6(r)&&g_(r);)r=ek(r,e);return r&&Yd(r)&&g_(r)&&!M1(r)?t:r||Z6(n)||t}const f$=async function(n){const e=this.getOffsetParent||TD,t=this.getDimensions,r=await t(n.floating);return{reference:h$(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function p$(n){return to(n).direction==="rtl"}const m$={convertOffsetParentRelativeRectToViewportRelativeRect:r$,getDocumentElement:ea,getClippingRect:u$,getOffsetParent:TD,getElementRects:f$,getClientRects:s$,getDimensions:d$,getScale:kd,isElement:eo,isRTL:p$};function ED(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function g$(n,e){let t=null,r;const s=ea(n);function i(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=n.getBoundingClientRect(),{left:h,top:m,width:v,height:w}=d;if(l||e(),!v||!w)return;const T=Cg(m),_=Cg(s.clientWidth-(h+v)),S=Cg(s.clientHeight-(m+w)),R=Cg(h),j={rootMargin:-T+"px "+-_+"px "+-S+"px "+-R+"px",threshold:ii(0,Ul(1,u))||1};let I=!0;function L(z){const P=z[0].intersectionRatio;if(P!==u){if(!I)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!ED(d,n.getBoundingClientRect())&&o(),I=!1}try{t=new IntersectionObserver(L,{...j,root:s.ownerDocument})}catch{t=new IntersectionObserver(L,j)}t.observe(n)}return o(!0),i}function y$(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=V1(n),h=s||i?[...d?yp(d):[],...yp(e)]:[];h.forEach(R=>{s&&R.addEventListener("scroll",t,{passive:!0}),i&&R.addEventListener("resize",t)});const m=d&&l?g$(d,t):null;let v=-1,w=null;o&&(w=new ResizeObserver(R=>{let[k]=R;k&&k.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=w)==null||j.observe(e)})),t()}),d&&!u&&w.observe(d),w.observe(e));let T,_=u?ou(n):null;u&&S();function S(){const R=ou(n);_&&!ED(_,R)&&t(),_=R,T=requestAnimationFrame(S)}return t(),()=>{var R;h.forEach(k=>{s&&k.removeEventListener("scroll",t),i&&k.removeEventListener("resize",t)}),m?.(),(R=w)==null||R.disconnect(),w=null,u&&cancelAnimationFrame(T)}}const v$=$6,w$=B6,_$=F6,x$=q6,b$=z6,tk=V6,S$=W6,T$=(n,e,t)=>{const r=new Map,s={platform:m$,...t},i={...s.platform,_c:r};return L6(n,e,{...s,platform:i})};var E$=typeof document<"u",C$=function(){},iy=E$?b.useLayoutEffect:C$;function Ly(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Ly(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Ly(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function CD(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function nk(n,e){const t=CD(n);return Math.round(e*t)/t}function y_(n){const e=b.useRef(n);return iy(()=>{e.current=n}),e}function P$(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=n,[h,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=b.useState(r);Ly(v,r)||w(r);const[T,_]=b.useState(null),[S,R]=b.useState(null),k=b.useCallback(q=>{q!==z.current&&(z.current=q,_(q))},[]),j=b.useCallback(q=>{q!==P.current&&(P.current=q,R(q))},[]),I=i||T,L=o||S,z=b.useRef(null),P=b.useRef(null),A=b.useRef(h),D=u!=null,O=y_(u),V=y_(s),F=y_(d),U=b.useCallback(()=>{if(!z.current||!P.current)return;const q={placement:e,strategy:t,middleware:v};V.current&&(q.platform=V.current),T$(z.current,P.current,q).then(G=>{const B={...G,isPositioned:F.current!==!1};X.current&&!Ly(A.current,B)&&(A.current=B,gh.flushSync(()=>{m(B)}))})},[v,e,t,V,F]);iy(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[d]);const X=b.useRef(!1);iy(()=>(X.current=!0,()=>{X.current=!1}),[]),iy(()=>{if(I&&(z.current=I),L&&(P.current=L),I&&L){if(O.current)return O.current(I,L,U);U()}},[I,L,U,O,D]);const re=b.useMemo(()=>({reference:z,floating:P,setReference:k,setFloating:j}),[k,j]),ne=b.useMemo(()=>({reference:I,floating:L}),[I,L]),J=b.useMemo(()=>{const q={position:t,left:0,top:0};if(!ne.floating)return q;const G=nk(ne.floating,h.x),B=nk(ne.floating,h.y);return l?{...q,transform:"translate("+G+"px, "+B+"px)",...CD(ne.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:G,top:B}},[t,l,ne.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:U,refs:re,elements:ne,floatingStyles:J}),[h,U,re,ne,J])}const k$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?tk({element:r.current,padding:s}).fn(t):{}:r?tk({element:r,padding:s}).fn(t):{}}}},R$=(n,e)=>({...v$(n),options:[n,e]}),A$=(n,e)=>({...w$(n),options:[n,e]}),I$=(n,e)=>({...S$(n),options:[n,e]}),N$=(n,e)=>({..._$(n),options:[n,e]}),D$=(n,e)=>({...x$(n),options:[n,e]}),j$=(n,e)=>({...b$(n),options:[n,e]}),O$=(n,e)=>({...k$(n),options:[n,e]});var M$="Arrow",PD=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return p.jsx(Xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});PD.displayName=M$;var L$=PD;function kD(n){const[e,t]=b.useState(void 0);return Sr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=n.offsetWidth,l=n.offsetHeight;t({width:o,height:l})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var z1="Popper",[RD,Wv]=io(z1),[V$,AD]=RD(z1),ID=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return p.jsx(V$,{scope:e,anchor:r,onAnchorChange:s,children:t})};ID.displayName=z1;var ND="PopperAnchor",DD=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=AD(ND,t),o=b.useRef(null),l=St(e,o);return b.useEffect(()=>{i.onAnchorChange(r?.current||o.current)}),r?null:p.jsx(Xe.div,{...s,ref:l})});DD.displayName=ND;var U1="PopperContent",[F$,z$]=RD(U1),jD=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:T,..._}=n,S=AD(U1,t),[R,k]=b.useState(null),j=St(e,le=>k(le)),[I,L]=b.useState(null),z=kD(I),P=z?.width??0,A=z?.height??0,D=r+(i!=="center"?"-"+i:""),O=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},V=Array.isArray(d)?d:[d],F=V.length>0,U={padding:O,boundary:V.filter($$),altBoundary:F},{refs:X,floatingStyles:re,placement:ne,isPositioned:J,middlewareData:q}=P$({strategy:"fixed",placement:D,whileElementsMounted:(...le)=>y$(...le,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[R$({mainAxis:s+A,alignmentAxis:o}),u&&A$({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?I$():void 0,...U}),u&&N$({...U}),D$({...U,apply:({elements:le,rects:xe,availableWidth:ce,availableHeight:be})=>{const{width:Ce,height:ue}=xe.reference,ae=le.floating.style;ae.setProperty("--radix-popper-available-width",`${ce}px`),ae.setProperty("--radix-popper-available-height",`${be}px`),ae.setProperty("--radix-popper-anchor-width",`${Ce}px`),ae.setProperty("--radix-popper-anchor-height",`${ue}px`)}}),I&&O$({element:I,padding:l}),B$({arrowWidth:P,arrowHeight:A}),v&&j$({strategy:"referenceHidden",...U})]}),[G,B]=LD(ne),W=ar(T);Sr(()=>{J&&W?.()},[J,W]);const Q=q.arrow?.x,pe=q.arrow?.y,he=q.arrow?.centerOffset!==0,[ve,Ee]=b.useState();return Sr(()=>{R&&Ee(window.getComputedStyle(R).zIndex)},[R]),p.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:J?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(F$,{scope:t,placedSide:G,onArrowChange:L,arrowX:Q,arrowY:pe,shouldHideArrow:he,children:p.jsx(Xe.div,{"data-side":G,"data-align":B,..._,ref:j,style:{..._.style,animation:J?void 0:"none"}})})})});jD.displayName=U1;var OD="PopperArrow",U$={top:"bottom",right:"left",bottom:"top",left:"right"},MD=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=z$(OD,r),o=U$[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(L$,{...s,ref:t,style:{...s.style,display:"block"}})})});MD.displayName=OD;function $$(n){return n!==null}var B$=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,o=s.arrow?.centerOffset!==0,l=o?0:n.arrowWidth,u=o?0:n.arrowHeight,[d,h]=LD(t),m={start:"0%",center:"50%",end:"100%"}[h],v=(s.arrow?.x??0)+l/2,w=(s.arrow?.y??0)+u/2;let T="",_="";return d==="bottom"?(T=o?m:`${v}px`,_=`${-u}px`):d==="top"?(T=o?m:`${v}px`,_=`${r.floating.height+u}px`):d==="right"?(T=`${-u}px`,_=o?m:`${w}px`):d==="left"&&(T=`${r.floating.width+u}px`,_=o?m:`${w}px`),{data:{x:T,y:_}}}});function LD(n){const[e,t="center"]=n.split("-");return[e,t]}var W$=ID,VD=DD,FD=jD,zD=MD,[qv]=io("Tooltip",[Wv]),$1=Wv(),UD="TooltipProvider",q$=700,rk="tooltip.open",[H$,$D]=qv(UD),BD=n=>{const{__scopeTooltip:e,delayDuration:t=q$,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,o=b.useRef(!0),l=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),p.jsx(H$,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};BD.displayName=UD;var WD="Tooltip",[Gae,Hv]=qv(WD),Lx="TooltipTrigger",K$=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Hv(Lx,t),i=$D(Lx,t),o=$1(t),l=b.useRef(null),u=St(e,l,s.onTriggerChange),d=b.useRef(!1),h=b.useRef(!1),m=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),p.jsx(VD,{asChild:!0,...o,children:p.jsx(Xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Ue(n.onPointerMove,v=>{v.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ue(n.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ue(n.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ue(n.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ue(n.onBlur,s.onClose),onClick:Ue(n.onClick,s.onClose)})})});K$.displayName=Lx;var G$="TooltipPortal",[Yae,Y$]=qv(G$,{forceMount:void 0}),Qd="TooltipContent",qD=b.forwardRef((n,e)=>{const t=Y$(Qd,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,o=Hv(Qd,n.__scopeTooltip);return p.jsx(Mi,{present:r||o.open,children:o.disableHoverableContent?p.jsx(HD,{side:s,...i,ref:e}):p.jsx(Q$,{side:s,...i,ref:e})})}),Q$=b.forwardRef((n,e)=>{const t=Hv(Qd,n.__scopeTooltip),r=$D(Qd,n.__scopeTooltip),s=b.useRef(null),i=St(e,s),[o,l]=b.useState(null),{trigger:u,onClose:d}=t,h=s.current,{onPointerInTransitChange:m}=r,v=b.useCallback(()=>{l(null),m(!1)},[m]),w=b.useCallback((T,_)=>{const S=T.currentTarget,R={x:T.clientX,y:T.clientY},k=tB(R,S.getBoundingClientRect()),j=nB(R,k),I=rB(_.getBoundingClientRect()),L=iB([...j,...I]);l(L),m(!0)},[m]);return b.useEffect(()=>()=>v(),[v]),b.useEffect(()=>{if(u&&h){const T=S=>w(S,h),_=S=>w(S,u);return u.addEventListener("pointerleave",T),h.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",_)}}},[u,h,w,v]),b.useEffect(()=>{if(o){const T=_=>{const S=_.target,R={x:_.clientX,y:_.clientY},k=u?.contains(S)||h?.contains(S),j=!sB(R,o);k?v():j&&(v(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,h,o,d,v]),p.jsx(HD,{...n,ref:i})}),[X$,J$]=qv(WD,{isInside:!1}),Z$=CN("TooltipContent"),HD=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=n,u=Hv(Qd,t),d=$1(t),{onClose:h}=u;return b.useEffect(()=>(document.addEventListener(rk,h),()=>document.removeEventListener(rk,h)),[h]),b.useEffect(()=>{if(u.trigger){const m=v=>{v.target?.contains(u.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,h]),p.jsx(Jp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:p.jsxs(FD,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(Z$,{children:r}),p.jsx(X$,{scope:t,isInside:!0,children:p.jsx(D5,{id:u.contentId,role:"tooltip",children:s||r})})]})})});qD.displayName=Qd;var KD="TooltipArrow",eB=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=$1(t);return J$(KD,t).isInside?null:p.jsx(zD,{...s,...r,ref:e})});eB.displayName=KD;function tB(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nB(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function rB(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function sB(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],d=l.x,h=l.y,m=u.x,v=u.y;h>r!=v>r&&t<(m-d)*(r-h)/(v-h)+d&&(s=!s)}return s}function iB(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),oB(e)}function oB(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var aB=BD,GD=qD;const lB=aB,cB=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>p.jsx(GD,{ref:r,sideOffset:e,className:ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));cB.displayName=GD.displayName;var _h=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},au=typeof window>"u"||"Deno"in globalThis;function ys(){}function uB(n,e){return typeof n=="function"?n(e):n}function Vx(n){return typeof n=="number"&&n>=0&&n!==1/0}function YD(n,e){return Math.max(n+(e||0)-Date.now(),0)}function kl(n,e){return typeof n=="function"?n(e):n}function Ti(n,e){return typeof n=="function"?n(e):n}function sk(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=n;if(o){if(r){if(e.queryHash!==B1(o,e.options))return!1}else if(!vp(e.queryKey,o))return!1}if(t!=="all"){const u=e.isActive();if(t==="active"&&!u||t==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function ik(n,e){const{exact:t,status:r,predicate:s,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(lu(e.options.mutationKey)!==lu(i))return!1}else if(!vp(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function B1(n,e){return(e?.queryKeyHashFn||lu)(n)}function lu(n){return JSON.stringify(n,(e,t)=>Fx(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function vp(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>vp(n[t],e[t])):!1}function QD(n,e){if(n===e)return n;const t=ok(n)&&ok(e);if(t||Fx(n)&&Fx(e)){const r=t?n:Object.keys(n),s=r.length,i=t?e:Object.keys(e),o=i.length,l=t?[]:{},u=new Set(r);let d=0;for(let h=0;h<o;h++){const m=t?h:i[h];(!t&&u.has(m)||t)&&n[m]===void 0&&e[m]===void 0?(l[m]=void 0,d++):(l[m]=QD(n[m],e[m]),l[m]===n[m]&&n[m]!==void 0&&d++)}return s===o&&d===s?n:l}return e}function Vy(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function ok(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Fx(n){if(!ak(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ak(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function ak(n){return Object.prototype.toString.call(n)==="[object Object]"}function dB(n){return new Promise(e=>{setTimeout(e,n)})}function zx(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?QD(n,e):e}function hB(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function fB(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var W1=Symbol();function XD(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===W1?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function JD(n,e){return typeof n=="function"?n(...e):!!n}var pB=class extends _h{#t;#e;#n;constructor(){super(),this.#n=n=>{if(!au&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#t!==n&&(this.#t=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},q1=new pB,mB=class extends _h{#t=!0;#e;#n;constructor(){super(),this.#n=n=>{if(!au&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(this.setOnline.bind(this))}setOnline(n){this.#t!==n&&(this.#t=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#t}},Fy=new mB;function Ux(){let n,e;const t=new Promise((s,i)=>{n=s,e=i});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function gB(n){return Math.min(1e3*2**n,3e4)}function ZD(n){return(n??"online")==="online"?Fy.isOnline():!0}var ej=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function v_(n){return n instanceof ej}function tj(n){let e=!1,t=0,r=!1,s;const i=Ux(),o=_=>{r||(v(new ej(_)),n.abort?.())},l=()=>{e=!0},u=()=>{e=!1},d=()=>q1.isFocused()&&(n.networkMode==="always"||Fy.isOnline())&&n.canRun(),h=()=>ZD(n.networkMode)&&n.canRun(),m=_=>{r||(r=!0,n.onSuccess?.(_),s?.(),i.resolve(_))},v=_=>{r||(r=!0,n.onError?.(_),s?.(),i.reject(_))},w=()=>new Promise(_=>{s=S=>{(r||d())&&_(S)},n.onPause?.()}).then(()=>{s=void 0,r||n.onContinue?.()}),T=()=>{if(r)return;let _;const S=t===0?n.initialPromise:void 0;try{_=S??n.fn()}catch(R){_=Promise.reject(R)}Promise.resolve(_).then(m).catch(R=>{if(r)return;const k=n.retry??(au?0:3),j=n.retryDelay??gB,I=typeof j=="function"?j(t,R):j,L=k===!0||typeof k=="number"&&t<k||typeof k=="function"&&k(t,R);if(e||!L){v(R);return}t++,n.onFail?.(t,R),dB(I).then(()=>d()?void 0:w()).then(()=>{e?v(R):T()})})};return{promise:i,cancel:o,continue:()=>(s?.(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?T():w().then(T),i)}}var yB=n=>setTimeout(n,0);function vB(){let n=[],e=0,t=l=>{l()},r=l=>{l()},s=yB;const i=l=>{e?n.push(l):s(()=>{t(l)})},o=()=>{const l=n;n=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{t(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var or=vB(),nj=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vx(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(au?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},wB=class extends nj{#t;#e;#n;#r;#s;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=_B(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=zx(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(ys).catch(ys):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Ti(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===W1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>kl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!YD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},i=()=>{const d=XD(this.options,t),m=(()=>{const v={client:this.#r,queryKey:this.queryKey,meta:this.meta};return s(v),v})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},l=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return s(d),d})();this.options.behavior?.onFetch(l,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta});const u=d=>{v_(d)&&d.silent||this.#i({type:"error",error:d}),v_(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#s=tj({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){u(h);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#s.start()}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rj(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return v_(s)&&s.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),or.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function rj(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZD(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function _B(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var xB=class extends _h{constructor(n={}){super(),this.config=n,this.#t=new Map}#t;build(n,e,t){const r=e.queryKey,s=e.queryHash??B1(r,e);let i=this.get(s);return i||(i=new wB({client:n,queryKey:r,queryHash:s,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(i)),i}add(n){this.#t.has(n.queryHash)||(this.#t.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#t.get(n.queryHash);e&&(n.destroy(),e===n&&this.#t.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){or.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#t.get(n)}getAll(){return[...this.#t.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>sk(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>sk(n,t)):e}notify(n){or.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){or.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){or.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},bB=class extends nj{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||sj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=tj({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",s=!this.#n.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#e.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:s})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),or.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function sj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var SB=class extends _h{constructor(n={}){super(),this.config=n,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(n,e,t){const r=new bB({mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){this.#t.add(n);const e=Pg(n);if(typeof e=="string"){const t=this.#e.get(e);t?t.push(n):this.#e.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#t.delete(n)){const e=Pg(n);if(typeof e=="string"){const t=this.#e.get(e);if(t)if(t.length>1){const r=t.indexOf(n);r!==-1&&t.splice(r,1)}else t[0]===n&&this.#e.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Pg(n);if(typeof e=="string"){const r=this.#e.get(e)?.find(s=>s.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=Pg(n);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){or.batch(()=>{this.#t.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>ik(e,t))}findAll(n={}){return this.getAll().filter(e=>ik(n,e))}notify(n){or.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return or.batch(()=>Promise.all(n.map(e=>e.continue().catch(ys))))}};function Pg(n){return n.options.scope?.id}function zy(n){return{onFetch:(e,t)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const m=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},v=XD(e.options,e.fetchOptions),w=async(T,_,S)=>{if(h)return Promise.reject();if(_==null&&T.pages.length)return Promise.resolve(T);const k=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return m(z),z})(),j=await v(k),{maxPages:I}=e.options,L=S?fB:hB;return{pages:L(T.pages,j,I),pageParams:L(T.pageParams,_,I)}};if(s&&i.length){const T=s==="backward",_=T?ij:$x,S={pages:i,pageParams:o},R=_(r,S);l=await w(S,R,T)}else{const T=n??i.length;do{const _=u===0?o[0]??r.initialPageParam:$x(r,l);if(u>0&&_==null)break;l=await w(l,_),u++}while(u<T)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=d}}}function $x(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function ij(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}function TB(n,e){return e?$x(n,e)!=null:!1}function EB(n,e){return!e||!n.getPreviousPageParam?!1:ij(n,e)!=null}var CB=class{#t;#e;#n;#r;#s;#o;#a;#i;constructor(n={}){this.#t=n.queryCache||new xB,this.#e=n.mutationCache||new SB,this.#n=n.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=q1.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=Fy.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#t.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#e.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#t.build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(kl(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#t.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=this.#t.get(r.queryHash)?.state.data,o=uB(e,i);if(o!==void 0)return this.#t.build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return or.batch(()=>this.#t.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state}removeQueries(n){const e=this.#t;or.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#t;return or.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=or.batch(()=>this.#t.findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(ys).catch(ys)}invalidateQueries(n,e={}){return or.batch(()=>(this.#t.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=or.batch(()=>this.#t.findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(ys)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ys)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#t.build(this,e);return t.isStaleByTime(kl(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ys).catch(ys)}fetchInfiniteQuery(n){return n.behavior=zy(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ys).catch(ys)}ensureInfiniteQueryData(n){return n.behavior=zy(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Fy.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#r.set(lu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(r=>{vp(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){this.#s.set(lu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(r=>{vp(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=B1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===W1&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},oj=class extends _h{constructor(n,e){super(),this.options=e,this.#t=n,this.#i=null,this.#a=Ux(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#s;#o;#a;#i;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),lk(this.#e,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bx(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bx(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#x(),this.#e.removeObserver(this)}setOptions(n){const e=this.options,t=this.#e;if(this.options=this.#t.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ti(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#e.setOptions(this.options),e._defaulted&&!Vy(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&ck(this.#e,t,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#e!==t||Ti(this.options.enabled,this.#e)!==Ti(e.enabled,this.#e)||kl(this.options.staleTime,this.#e)!==kl(e.staleTime,this.#e))&&this.#g();const s=this.#y();r&&(this.#e!==t||Ti(this.options.enabled,this.#e)!==Ti(e.enabled,this.#e)||s!==this.#l)&&this.#v(s)}getOptimisticResult(n){const e=this.#t.getQueryCache().build(this.#t,n),t=this.createResult(e,n);return kB(this,t)&&(this.#r=t,this.#o=this.options,this.#s=this.#e.state),t}getCurrentResult(){return this.#r}trackResult(n,e){return new Proxy(n,{get:(t,r)=>(this.trackProp(r),e?.(r),Reflect.get(t,r))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#e}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#t.defaultQueryOptions(n),t=this.#t.getQueryCache().build(this.#t,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#d({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(n){this.#b();let e=this.#e.fetch(this.options,n);return n?.throwOnError||(e=e.catch(ys)),e}#g(){this.#_();const n=kl(this.options.staleTime,this.#e);if(au||this.#r.isStale||!Vx(n))return;const t=YD(this.#r.dataUpdatedAt,n)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},t)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(n){this.#x(),this.#l=n,!(au||Ti(this.options.enabled,this.#e)===!1||!Vx(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||q1.isFocused())&&this.#d()},this.#l))}#w(){this.#g(),this.#v(this.#y())}#_(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(n,e){const t=this.#e,r=this.options,s=this.#r,i=this.#s,o=this.#o,u=n!==t?n.state:this.#n,{state:d}=n;let h={...d},m=!1,v;if(e._optimisticResults){const A=this.hasListeners(),D=!A&&lk(n,e),O=A&&ck(n,t,e,r);(D||O)&&(h={...h,...rj(d.data,n.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:T,status:_}=h;v=h.data;let S=!1;if(e.placeholderData!==void 0&&v===void 0&&_==="pending"){let A;s?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(A=s.data,S=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(_="success",v=zx(s?.data,A,e),m=!0)}if(e.select&&v!==void 0&&!S)if(s&&v===i?.data&&e.select===this.#m)v=this.#h;else try{this.#m=e.select,v=e.select(v),v=zx(s?.data,v,e),this.#h=v,this.#i=null}catch(A){this.#i=A}this.#i&&(w=this.#i,v=this.#h,T=Date.now(),_="error");const R=h.fetchStatus==="fetching",k=_==="pending",j=_==="error",I=k&&R,L=v!==void 0,P={status:_,fetchStatus:h.fetchStatus,isPending:k,isSuccess:_==="success",isError:j,isInitialLoading:I,isLoading:I,data:v,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:T,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:R,isRefetching:R&&!k,isLoadingError:j&&!L,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&L,isStale:H1(n,e),refetch:this.refetch,promise:this.#a,isEnabled:Ti(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const A=V=>{P.status==="error"?V.reject(P.error):P.data!==void 0&&V.resolve(P.data)},D=()=>{const V=this.#a=P.promise=Ux();A(V)},O=this.#a;switch(O.status){case"pending":n.queryHash===t.queryHash&&A(O);break;case"fulfilled":(P.status==="error"||P.data!==O.value)&&D();break;case"rejected":(P.status!=="error"||P.error!==O.reason)&&D();break}}return P}updateResult(){const n=this.#r,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#f=this.#e),Vy(e,n))return;this.#r=e;const t=()=>{if(!n)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(o=>{const l=o;return this.#r[l]!==n[l]&&i.has(l)})};this.#S({listeners:t()})}#b(){const n=this.#t.getQueryCache().build(this.#t,this.options);if(n===this.#e)return;const e=this.#e;this.#e=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#S(n){or.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function PB(n,e){return Ti(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function lk(n,e){return PB(n,e)||n.state.data!==void 0&&Bx(n,e,e.refetchOnMount)}function Bx(n,e,t){if(Ti(e.enabled,n)!==!1&&kl(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&H1(n,e)}return!1}function ck(n,e,t,r){return(n!==e||Ti(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&H1(n,t)}function H1(n,e){return Ti(e.enabled,n)!==!1&&n.isStaleByTime(kl(e.staleTime,n))}function kB(n,e){return!Vy(n.getCurrentResult(),e)}var RB=class extends oj{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:zy()})}getOptimisticResult(n){return n.behavior=zy(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){const{state:t}=n,r=super.createResult(n,e),{isFetching:s,isRefetching:i,isError:o,isRefetchError:l}=r,u=t.fetchMeta?.fetchMore?.direction,d=o&&u==="forward",h=s&&u==="forward",m=o&&u==="backward",v=s&&u==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:TB(e,t.data),hasPreviousPage:EB(e,t.data),isFetchNextPageError:d,isFetchingNextPage:h,isFetchPreviousPageError:m,isFetchingPreviousPage:v,isRefetchError:l&&!d&&!m,isRefetching:i&&!h&&!v}}},AB=class extends _h{#t;#e=void 0;#n;#r;constructor(e,t){super(),this.#t=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#t.defaultMutationOptions(e),Vy(this.options,t)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&lu(t.mutationKey)!==lu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#o(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#o()}mutate(e,t){return this.#r=t,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??sj();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){or.batch(()=>{if(this.#r&&this.hasListeners()){const t=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,r),this.#r.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#r.onError?.(e.error,t,r),this.#r.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(t=>{t(this.#e)})})}},aj=b.createContext(void 0),cr=n=>{const e=b.useContext(aj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},IB=({client:n,children:e})=>(b.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),p.jsx(aj.Provider,{value:n,children:e})),lj=b.createContext(!1),NB=()=>b.useContext(lj);lj.Provider;function DB(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var jB=b.createContext(DB()),OB=()=>b.useContext(jB),MB=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},LB=n=>{b.useEffect(()=>{n.clearReset()},[n])},VB=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(s&&n.data===void 0||JD(t,[n.error,r])),FB=n=>{if(n.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},zB=(n,e)=>n.isLoading&&n.isFetching&&!e,UB=(n,e)=>n?.suspense&&e.isPending,uk=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function cj(n,e,t){const r=NB(),s=OB(),i=cr(),o=i.defaultQueryOptions(n);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",FB(o),MB(o,s),LB(s);const l=!i.getQueryCache().get(o.queryHash),[u]=b.useState(()=>new e(i,o)),d=u.getOptimisticResult(o),h=!r&&n.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(m=>{const v=h?u.subscribe(or.batchCalls(m)):ys;return u.updateResult(),v},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),b.useEffect(()=>{u.setOptions(o)},[o,u]),UB(o,d))throw uk(o,u,s);if(VB({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!au&&zB(d,r)&&(l?uk(o,u,s):i.getQueryCache().get(o.queryHash)?.promise)?.catch(ys).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function jn(n,e){return cj(n,oj)}function $r(n,e){const t=cr(),[r]=b.useState(()=>new AB(t,n));b.useEffect(()=>{r.setOptions(n)},[r,n]);const s=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(or.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((o,l)=>{r.mutate(o,l).catch(ys)},[r]);if(s.error&&JD(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function oo(n,e){return cj(n,RB)}function wp(){return wp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wp.apply(this,arguments)}var vl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(vl||(vl={}));const dk="popstate";function $B(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Wx("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Uy(s)}return WB(e,t,null,n)}function Bn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function uj(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BB(){return Math.random().toString(36).substr(2,8)}function hk(n,e){return{usr:n.state,key:n.key,idx:e}}function Wx(n,e,t,r){return t===void 0&&(t=null),wp({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?xh(e):e,{state:t,key:e&&e.key||r||BB()})}function Uy(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function WB(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=vl.Pop,u=null,d=h();d==null&&(d=0,o.replaceState(wp({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=vl.Pop;let S=h(),R=S==null?null:S-d;d=S,u&&u({action:l,location:_.location,delta:R})}function v(S,R){l=vl.Push;let k=Wx(_.location,S,R);d=h()+1;let j=hk(k,d),I=_.createHref(k);try{o.pushState(j,"",I)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(I)}i&&u&&u({action:l,location:_.location,delta:1})}function w(S,R){l=vl.Replace;let k=Wx(_.location,S,R);d=h();let j=hk(k,d),I=_.createHref(k);o.replaceState(j,"",I),i&&u&&u({action:l,location:_.location,delta:0})}function T(S){let R=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof S=="string"?S:Uy(S);return k=k.replace(/ $/,"%20"),Bn(R,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,R)}let _={get action(){return l},get location(){return n(s,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(dk,m),u=S,()=>{s.removeEventListener(dk,m),u=null}},createHref(S){return e(s,S)},createURL:T,encodeLocation(S){let R=T(S);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:w,go(S){return o.go(S)}};return _}var fk;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(fk||(fk={}));function qB(n,e,t){return t===void 0&&(t="/"),HB(n,e,t)}function HB(n,e,t,r){let s=typeof e=="string"?xh(e):e,i=K1(s.pathname||"/",t);if(i==null)return null;let o=dj(n);KB(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=i9(i);l=n9(o[u],d)}return l}function dj(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Bn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Rl([r,u.relativePath]),h=t.concat(u);i.children&&i.children.length>0&&(Bn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),dj(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:e9(d,i.index),routesMeta:h})};return n.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of hj(i.path))s(i,o,u)}),e}function hj(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=hj(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function KB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:t9(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const GB=/^:[\w-]+$/,YB=3,QB=2,XB=1,JB=10,ZB=-2,pk=n=>n==="*";function e9(n,e){let t=n.split("/"),r=t.length;return t.some(pk)&&(r+=ZB),e&&(r+=QB),t.filter(s=>!pk(s)).reduce((s,i)=>s+(GB.test(i)?YB:i===""?XB:JB),r)}function t9(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function n9(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=r9({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),v=u.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Rl([i,m.pathname]),pathnameBase:c9(Rl([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=Rl([i,m.pathnameBase]))}return o}function r9(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=s9(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,m)=>{let{paramName:v,isOptional:w}=h;if(v==="*"){let _=l[m]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const T=l[m];return w&&!T?d[v]=void 0:d[v]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:n}}function s9(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),uj(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function i9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uj(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function K1(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function o9(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?xh(n):n;return{pathname:t?t.startsWith("/")?t:a9(t,e):e,search:u9(r),hash:d9(s)}}function a9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function w_(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G1(n,e){let t=l9(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Y1(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=xh(n):(s=wp({},n),Bn(!s.pathname||!s.pathname.includes("?"),w_("?","pathname","search",s)),Bn(!s.pathname||!s.pathname.includes("#"),w_("#","pathname","hash",s)),Bn(!s.search||!s.search.includes("#"),w_("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;s.pathname=v.join("/")}l=m>=0?e[m]:"/"}let u=o9(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const Rl=n=>n.join("/").replace(/\/\/+/g,"/"),c9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),u9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function h9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const fj=["post","put","patch","delete"];new Set(fj);const f9=["get",...fj];new Set(f9);function _p(){return _p=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_p.apply(this,arguments)}const Q1=b.createContext(null),p9=b.createContext(null),ec=b.createContext(null),Kv=b.createContext(null),Va=b.createContext({outlet:null,matches:[],isDataRoute:!1}),pj=b.createContext(null);function m9(n,e){let{relative:t}=e===void 0?{}:e;bh()||Bn(!1);let{basename:r,navigator:s}=b.useContext(ec),{hash:i,pathname:o,search:l}=gj(n,{relative:t}),u=o;return r!=="/"&&(u=o==="/"?r:Rl([r,o])),s.createHref({pathname:u,search:l,hash:i})}function bh(){return b.useContext(Kv)!=null}function tc(){return bh()||Bn(!1),b.useContext(Kv).location}function mj(n){b.useContext(ec).static||b.useLayoutEffect(n)}function Br(){let{isDataRoute:n}=b.useContext(Va);return n?k9():g9()}function g9(){bh()||Bn(!1);let n=b.useContext(Q1),{basename:e,future:t,navigator:r}=b.useContext(ec),{matches:s}=b.useContext(Va),{pathname:i}=tc(),o=JSON.stringify(G1(s,t.v7_relativeSplatPath)),l=b.useRef(!1);return mj(()=>{l.current=!0}),b.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Y1(d,JSON.parse(o),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Rl([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,o,i,n])}function Gv(){let{matches:n}=b.useContext(Va),e=n[n.length-1];return e?e.params:{}}function gj(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=b.useContext(ec),{matches:s}=b.useContext(Va),{pathname:i}=tc(),o=JSON.stringify(G1(s,r.v7_relativeSplatPath));return b.useMemo(()=>Y1(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function y9(n,e){return v9(n,e)}function v9(n,e,t,r){bh()||Bn(!1);let{navigator:s}=b.useContext(ec),{matches:i}=b.useContext(Va),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=tc(),h;if(e){var m;let S=typeof e=="string"?xh(e):e;u==="/"||(m=S.pathname)!=null&&m.startsWith(u)||Bn(!1),h=S}else h=d;let v=h.pathname||"/",w=v;if(u!=="/"){let S=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let T=qB(n,{pathname:w}),_=S9(T&&T.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Rl([u,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Rl([u,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,t,r);return e&&_?b.createElement(Kv.Provider,{value:{location:_p({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:vl.Pop}},_):_}function w9(){let n=P9(),e=h9(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:s},t):null,null)}const _9=b.createElement(w9,null);class x9 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(Va.Provider,{value:this.props.routeContext},b.createElement(pj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b9(n){let{routeContext:e,match:t,children:r}=n,s=b.useContext(Q1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Va.Provider,{value:e},r)}function S9(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(s=t)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);h>=0||Bn(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:v,errors:w}=t,T=m.route.loader&&v[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||T){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,v)=>{let w,T=!1,_=null,S=null;t&&(w=l&&m.route.id?l[m.route.id]:void 0,_=m.route.errorElement||_9,u&&(d<0&&v===0?(R9("route-fallback"),T=!0,S=null):d===v&&(T=!0,S=m.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,v+1)),k=()=>{let j;return w?j=_:T?j=S:m.route.Component?j=b.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=h,b.createElement(b9,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:t!=null},children:j})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?b.createElement(x9,{location:t.location,revalidation:t.revalidation,component:_,error:w,children:k(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):k()},null)}var yj=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(yj||{}),vj=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(vj||{});function T9(n){let e=b.useContext(Q1);return e||Bn(!1),e}function E9(n){let e=b.useContext(p9);return e||Bn(!1),e}function C9(n){let e=b.useContext(Va);return e||Bn(!1),e}function wj(n){let e=C9(),t=e.matches[e.matches.length-1];return t.route.id||Bn(!1),t.route.id}function P9(){var n;let e=b.useContext(pj),t=E9(),r=wj();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function k9(){let{router:n}=T9(yj.UseNavigateStable),e=wj(vj.UseNavigateStable),t=b.useRef(!1);return mj(()=>{t.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,_p({fromRouteId:e},i)))},[n,e])}const mk={};function R9(n,e,t){mk[n]||(mk[n]=!0)}function A9(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function I9(n){let{to:e,replace:t,state:r,relative:s}=n;bh()||Bn(!1);let{future:i,static:o}=b.useContext(ec),{matches:l}=b.useContext(Va),{pathname:u}=tc(),d=Br(),h=Y1(e,G1(l,i.v7_relativeSplatPath),u,s==="path"),m=JSON.stringify(h);return b.useEffect(()=>d(JSON.parse(m),{replace:t,state:r,relative:s}),[d,m,s,t,r]),null}function ti(n){Bn(!1)}function N9(n){let{basename:e="/",children:t=null,location:r,navigationType:s=vl.Pop,navigator:i,static:o=!1,future:l}=n;bh()&&Bn(!1);let u=e.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:i,static:o,future:_p({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=xh(r));let{pathname:h="/",search:m="",hash:v="",state:w=null,key:T="default"}=r,_=b.useMemo(()=>{let S=K1(h,u);return S==null?null:{location:{pathname:S,search:m,hash:v,state:w,key:T},navigationType:s}},[u,h,m,v,w,T,s]);return _==null?null:b.createElement(ec.Provider,{value:d},b.createElement(Kv.Provider,{children:t,value:_}))}function D9(n){let{children:e,location:t}=n;return y9(qx(e),t)}new Promise(()=>{});function qx(n,e){e===void 0&&(e=[]);let t=[];return b.Children.forEach(n,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){t.push.apply(t,qx(r.props.children,i));return}r.type!==ti&&Bn(!1),!r.props.index||!r.props.children||Bn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qx(r.props.children,i)),t.push(o)}),t}function Hx(){return Hx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hx.apply(this,arguments)}function j9(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function O9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function M9(n,e){return n.button===0&&(!e||e==="_self")&&!O9(n)}const L9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V9="6";try{window.__reactRouterVersion=V9}catch{}const F9="startTransition",gk=P1[F9];function z9(n){let{basename:e,children:t,future:r,window:s}=n,i=b.useRef();i.current==null&&(i.current=$B({window:s,v5Compat:!0}));let o=i.current,[l,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=b.useCallback(m=>{d&&gk?gk(()=>u(m)):u(m)},[u,d]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.useEffect(()=>A9(r),[r]),b.createElement(N9,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:r})}const U9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X1=b.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m}=e,v=j9(e,L9),{basename:w}=b.useContext(ec),T,_=!1;if(typeof d=="string"&&$9.test(d)&&(T=d,U9))try{let j=new URL(window.location.href),I=d.startsWith("//")?new URL(j.protocol+d):new URL(d),L=K1(I.pathname,w);I.origin===j.origin&&L!=null?d=L+I.search+I.hash:_=!0}catch{}let S=m9(d,{relative:s}),R=B9(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:m});function k(j){r&&r(j),j.defaultPrevented||R(j)}return b.createElement("a",Hx({},v,{href:T||S,onClick:_||i?r:k,ref:t,target:u}))});var yk;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(yk||(yk={}));var vk;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(vk||(vk={}));function B9(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,u=Br(),d=tc(),h=gj(n,{relative:o});return b.useCallback(m=>{if(M9(m,t)){m.preventDefault();let v=r!==void 0?r:Uy(d)===Uy(h);u(n,{replace:v,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,r,s,t,n,i,o,l])}const W9=()=>{};var wk={};const _j=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},q9=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],l=n[t++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,l=o?n[s+1]:0,u=s+2<n.length,d=u?n[s+2]:0,h=i>>2,m=(i&3)<<4|l>>4;let v=(l&15)<<2|d>>6,w=d&63;u||(w=64,o||(v=64)),r.push(t[h],t[m],t[v],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_j(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):q9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new H9;const v=i<<2|l>>4;if(r.push(v),d!==64){const w=l<<4&240|d>>2;if(r.push(w),m!==64){const T=d<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class H9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K9=function(n){const e=_j(n);return xj.encodeByteArray(e,!0)},$y=function(n){return K9(n).replace(/\./g,"")},bj=function(n){try{return xj.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function G9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Y9=()=>G9().__FIREBASE_DEFAULTS__,Q9=()=>{if(typeof process>"u"||typeof wk>"u")return;const n=wk.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},X9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bj(n[1]);return e&&JSON.parse(e)},Yv=()=>{try{return W9()||Y9()||Q9()||X9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sj=n=>Yv()?.emulatorHosts?.[n],J9=n=>{const e=Sj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Tj=()=>Yv()?.config,Ej=n=>Yv()?.[`_${n}`];class Z9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Sh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cj(n){return(await fetch(n,{credentials:"include"})).ok}function e8(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[$y(JSON.stringify(t)),$y(JSON.stringify(o)),""].join(".")}const Bf={};function t8(){const n={prod:[],emulator:[]};for(const e of Object.keys(Bf))Bf[e]?n.emulator.push(e):n.prod.push(e);return n}function n8(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let _k=!1;function Pj(n,e){if(typeof window>"u"||typeof document>"u"||!Sh(window.location.host)||Bf[n]===e||Bf[n]||_k)return;Bf[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",i=t8().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{_k=!0,o()},v}function h(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=n8(r),w=t("text"),T=document.getElementById(w)||document.createElement("span"),_=t("learnmore"),S=document.getElementById(_)||document.createElement("a"),R=t("preprendIcon"),k=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;l(j),h(S,_);const I=d();u(k,R),j.append(k,T,S,I),document.body.appendChild(j)}i?(T.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function os(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(os())}function s8(){const n=Yv()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o8(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function a8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l8(){const n=os();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function c8(){return!s8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u8(){try{return typeof indexedDB=="object"}catch{return!1}}function d8(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const h8="FirebaseError";class Fa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=h8,Object.setPrototypeOf(this,Fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tm.prototype.create)}}class tm{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?f8(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Fa(s,l,r)}}function f8(n,e){return n.replace(p8,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const p8=/\{\$([^}]+)}/g;function m8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(xk(i)&&xk(o)){if(!cu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function xk(n){return n!==null&&typeof n=="object"}function nm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function g8(n,e){const t=new y8(n,e);return t.subscribe.bind(t)}class y8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");v8(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=__),s.error===void 0&&(s.error=__),s.complete===void 0&&(s.complete=__);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v8(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function __(){}function zr(n){return n&&n._delegate?n._delegate:n}class uu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Nc="[DEFAULT]";class w8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Z9;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x8(e))try{this.getOrInitializeService({instanceIdentifier:Nc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Nc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nc){return this.instances.has(e)}getOptions(e=Nc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_8(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nc){return this.component?this.component.multipleInstances?e:Nc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _8(n){return n===Nc?void 0:n}function x8(n){return n.instantiationMode==="EAGER"}class b8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new w8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var _t;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(_t||(_t={}));const S8={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},T8=_t.INFO,E8={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},C8=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=E8[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let J1=class{constructor(e){this.name=e,this._logLevel=T8,this._logHandler=C8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}};const P8=(n,e)=>e.some(t=>n instanceof t);let bk,Sk;function k8(){return bk||(bk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R8(){return Sk||(Sk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kj=new WeakMap,Kx=new WeakMap,Rj=new WeakMap,x_=new WeakMap,Z1=new WeakMap;function A8(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(Al(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&kj.set(t,n)}).catch(()=>{}),Z1.set(e,n),e}function I8(n){if(Kx.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});Kx.set(n,e)}let Gx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kx.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Rj.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Al(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function N8(n){Gx=n(Gx)}function D8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(b_(this),e,...t);return Rj.set(r,e.sort?e.sort():[e]),Al(r)}:R8().includes(n)?function(...e){return n.apply(b_(this),e),Al(kj.get(this))}:function(...e){return Al(n.apply(b_(this),e))}}function j8(n){return typeof n=="function"?D8(n):(n instanceof IDBTransaction&&I8(n),P8(n,k8())?new Proxy(n,Gx):n)}function Al(n){if(n instanceof IDBRequest)return A8(n);if(x_.has(n))return x_.get(n);const e=j8(n);return e!==n&&(x_.set(n,e),Z1.set(e,n)),e}const b_=n=>Z1.get(n);function O8(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),l=Al(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Al(o.result),u.oldVersion,u.newVersion,Al(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const M8=["get","getKey","getAll","getAllKeys","count"],L8=["put","add","delete","clear"],S_=new Map;function Tk(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(S_.get(e))return S_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=L8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||M8.includes(t)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[t](...l),s&&u.done]))[0]};return S_.set(e,i),i}N8(n=>({...n,get:(e,t,r)=>Tk(e,t)||n.get(e,t,r),has:(e,t)=>!!Tk(e,t)||n.has(e,t)}));class V8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F8(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function F8(n){return n.getComponent()?.type==="VERSION"}const Yx="@firebase/app",Ek="0.14.5";const Ra=new J1("@firebase/app"),z8="@firebase/app-compat",U8="@firebase/analytics-compat",$8="@firebase/analytics",B8="@firebase/app-check-compat",W8="@firebase/app-check",q8="@firebase/auth",H8="@firebase/auth-compat",K8="@firebase/database",G8="@firebase/data-connect",Y8="@firebase/database-compat",Q8="@firebase/functions",X8="@firebase/functions-compat",J8="@firebase/installations",Z8="@firebase/installations-compat",eW="@firebase/messaging",tW="@firebase/messaging-compat",nW="@firebase/performance",rW="@firebase/performance-compat",sW="@firebase/remote-config",iW="@firebase/remote-config-compat",oW="@firebase/storage",aW="@firebase/storage-compat",lW="@firebase/firestore",cW="@firebase/ai",uW="@firebase/firestore-compat",dW="firebase",hW="12.5.0";const Qx="[DEFAULT]",fW={[Yx]:"fire-core",[z8]:"fire-core-compat",[$8]:"fire-analytics",[U8]:"fire-analytics-compat",[W8]:"fire-app-check",[B8]:"fire-app-check-compat",[q8]:"fire-auth",[H8]:"fire-auth-compat",[K8]:"fire-rtdb",[G8]:"fire-data-connect",[Y8]:"fire-rtdb-compat",[Q8]:"fire-fn",[X8]:"fire-fn-compat",[J8]:"fire-iid",[Z8]:"fire-iid-compat",[eW]:"fire-fcm",[tW]:"fire-fcm-compat",[nW]:"fire-perf",[rW]:"fire-perf-compat",[sW]:"fire-rc",[iW]:"fire-rc-compat",[oW]:"fire-gcs",[aW]:"fire-gcs-compat",[lW]:"fire-fst",[uW]:"fire-fst-compat",[cW]:"fire-vertex","fire-js":"fire-js",[dW]:"fire-js-all"};const By=new Map,pW=new Map,Xx=new Map;function Ck(n,e){try{n.container.addComponent(e)}catch(t){Ra.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xd(n){const e=n.name;if(Xx.has(e))return Ra.debug(`There were multiple attempts to register component ${e}.`),!1;Xx.set(e,n);for(const t of By.values())Ck(t,n);for(const t of pW.values())Ck(t,n);return!0}function eS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xi(n){return n==null?!1:n.settings!==void 0}const mW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Il=new tm("app","Firebase",mW);class gW{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Il.create("app-deleted",{appName:this._name})}}const Th=hW;function Aj(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Qx,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Il.create("bad-app-name",{appName:String(s)});if(t||(t=Tj()),!t)throw Il.create("no-options");const i=By.get(s);if(i){if(cu(t,i.options)&&cu(r,i.config))return i;throw Il.create("duplicate-app",{appName:s})}const o=new b8(s);for(const u of Xx.values())o.addComponent(u);const l=new gW(t,r,o);return By.set(s,l),l}function Ij(n=Qx){const e=By.get(n);if(!e&&n===Qx&&Tj())return Aj();if(!e)throw Il.create("no-app",{appName:n});return e}function Nl(n,e,t){let r=fW[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ra.warn(o.join(" "));return}Xd(new uu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const yW="firebase-heartbeat-database",vW=1,xp="firebase-heartbeat-store";let T_=null;function Nj(){return T_||(T_=O8(yW,vW,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Il.create("idb-open",{originalErrorMessage:n.message})})),T_}async function wW(n){try{const t=(await Nj()).transaction(xp),r=await t.objectStore(xp).get(Dj(n));return await t.done,r}catch(e){if(e instanceof Fa)Ra.warn(e.message);else{const t=Il.create("idb-get",{originalErrorMessage:e?.message});Ra.warn(t.message)}}}async function Pk(n,e){try{const r=(await Nj()).transaction(xp,"readwrite");await r.objectStore(xp).put(e,Dj(n)),await r.done}catch(t){if(t instanceof Fa)Ra.warn(t.message);else{const r=Il.create("idb-set",{originalErrorMessage:t?.message});Ra.warn(r.message)}}}function Dj(n){return`${n.name}!${n.options.appId}`}const _W=1024,xW=30;class bW{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TW(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kk();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>xW){const s=EW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ra.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kk(),{heartbeatsToSend:t,unsentEntries:r}=SW(this._heartbeatsCache.heartbeats),s=$y(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ra.warn(e),""}}}function kk(){return new Date().toISOString().substring(0,10)}function SW(n,e=_W){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Rk(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Rk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class TW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u8()?d8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wW(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Pk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Pk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Rk(n){return $y(JSON.stringify({version:2,heartbeats:n})).length}function EW(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function CW(n){Xd(new uu("platform-logger",e=>new V8(e),"PRIVATE")),Xd(new uu("heartbeat",e=>new bW(e),"PRIVATE")),Nl(Yx,Ek,n),Nl(Yx,Ek,"esm2020"),Nl("fire-js","")}CW("");function jj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PW=jj,Oj=new tm("auth","Firebase",jj());const Wy=new J1("@firebase/auth");function kW(n,...e){Wy.logLevel<=_t.WARN&&Wy.warn(`Auth (${Th}): ${n}`,...e)}function oy(n,...e){Wy.logLevel<=_t.ERROR&&Wy.error(`Auth (${Th}): ${n}`,...e)}function Yo(n,...e){throw nS(n,...e)}function Zi(n,...e){return nS(n,...e)}function tS(n,e,t){const r={...PW(),[e]:t};return new tm("auth","Firebase",r).create(e,{appName:n.name})}function Wc(n){return tS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RW(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yo(n,"argument-error"),tS(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nS(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Oj.create(n,...e)}function et(n,e,...t){if(!n)throw nS(e,...t)}function ba(n){const e="INTERNAL ASSERTION FAILED: "+n;throw oy(e),new Error(e)}function Aa(n,e){n||ba(e)}function Jx(){return typeof self<"u"&&self.location?.href||""}function AW(){return Ak()==="http:"||Ak()==="https:"}function Ak(){return typeof self<"u"&&self.location?.protocol||null}function IW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AW()||o8()||"connection"in navigator)?navigator.onLine:!0}function NW(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class rm{constructor(e,t){this.shortDelay=e,this.longDelay=t,Aa(t>e,"Short delay should be less than long delay!"),this.isMobile=r8()||a8()}get(){return IW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rS(n,e){Aa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Mj{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OW=new rm(3e4,6e4);function sS(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Eh(n,e,t,r,s={}){return Lj(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=nm({key:n.config.apiKey,...o}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:u,...i};return i8()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Sh(n.emulatorConfig.host)&&(d.credentials="include"),Mj.fetch()(await Vj(n,n.config.apiHost,t,l),d)})}async function Lj(n,e,t){n._canInitEmulator=!1;const r={...DW,...e};try{const s=new LW(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw kg(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw kg(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw kg(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw kg(n,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw tS(n,h,d);Yo(n,h)}}catch(s){if(s instanceof Fa)throw s;Yo(n,"network-request-failed",{message:String(s)})}}async function MW(n,e,t,r,s={}){const i=await Eh(n,e,t,r,s);return"mfaPendingCredential"in i&&Yo(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function Vj(n,e,t,r){const s=`${e}${t}?${r}`,i=n,o=i.config.emulator?rS(n.config,s):`${n.config.apiScheme}://${s}`;return jW.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class LW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zi(this.auth,"network-request-failed")),OW.get())})}}function kg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Zi(n,e,r);return s.customData._tokenResponse=t,s}async function VW(n,e){return Eh(n,"POST","/v1/accounts:delete",e)}async function qy(n,e){return Eh(n,"POST","/v1/accounts:lookup",e)}function Wf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FW(n,e=!1){const t=zr(n),r=await t.getIdToken(e),s=iS(r);et(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Wf(E_(s.auth_time)),issuedAtTime:Wf(E_(s.iat)),expirationTime:Wf(E_(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function E_(n){return Number(n)*1e3}function iS(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return oy("JWT malformed, contained fewer than 3 sections"),null;try{const s=bj(t);return s?JSON.parse(s):(oy("Failed to decode base64 JWT payload"),null)}catch(s){return oy("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Ik(n){const e=iS(n);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bp(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Fa&&zW(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function zW({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class UW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zx{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wf(this.lastLoginAt),this.creationTime=Wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hy(n){const e=n.auth,t=await n.getIdToken(),r=await bp(n,qy(e,{idToken:t}));et(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?Fj(s.providerUserInfo):[],o=BW(n.providerData,i),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!o?.length,d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Zx(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function $W(n){const e=zr(n);await Hy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BW(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Fj(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function WW(n,e){const t=await Lj(n,{},async()=>{const r=nm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=await Vj(n,s,"/v1/token",`key=${i}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return n.emulatorConfig&&Sh(n.emulatorConfig.host)&&(u.credentials="include"),Mj.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qW(n,e){return Eh(n,"POST","/v2/accounts:revokeToken",sS(n,e))}class Rd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ik(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){et(e.length!==0,"internal-error");const t=Ik(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await WW(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new Rd;return r&&(et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(et(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(et(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rd,this.toJSON())}_performRefresh(){return ba("not implemented")}}function dl(n,e){et(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ji{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new UW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await bp(this,this.stsTokenManager.getToken(this.auth,e));return et(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FW(this,e)}reload(){return $W(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Hy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xi(this.auth.app))return Promise.reject(Wc(this.auth));const e=await this.getIdToken();return await bp(this,VW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,o=t.photoURL??void 0,l=t.tenantId??void 0,u=t._redirectEventId??void 0,d=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:w,providerData:T,stsTokenManager:_}=t;et(m&&_,e,"internal-error");const S=Rd.fromJSON(this.name,_);et(typeof m=="string",e,"internal-error"),dl(r,e.name),dl(s,e.name),et(typeof v=="boolean",e,"internal-error"),et(typeof w=="boolean",e,"internal-error"),dl(i,e.name),dl(o,e.name),dl(l,e.name),dl(u,e.name),dl(d,e.name),dl(h,e.name);const R=new Ji({uid:m,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:h});return T&&Array.isArray(T)&&(R.providerData=T.map(k=>({...k}))),u&&(R._redirectEventId=u),R}static async _fromIdTokenResponse(e,t,r=!1){const s=new Rd;s.updateFromServerResponse(t);const i=new Ji({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hy(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];et(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Fj(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,l=new Rd;l.updateFromIdToken(r);const u=new Ji({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Zx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(u,d),u}}const Nk=new Map;function Sa(n){Aa(n instanceof Function,"Expected a class definition");let e=Nk.get(n);return e?(Aa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Nk.set(n,e),e)}class zj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zj.type="NONE";const Dk=zj;function ay(n,e,t){return`firebase:${n}:${e}:${t}`}class Ad{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ay(this.userKey,s.apiKey,i),this.fullPersistenceKey=ay("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await qy(this.auth,{idToken:e}).catch(()=>{});return t?Ji._fromGetAccountInfoResponse(this.auth,t,e):null}return Ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ad(Sa(Dk),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Sa(Dk);const o=ay(r,e.config.apiKey,e.name);let l=null;for(const d of t)try{const h=await d._get(o);if(h){let m;if(typeof h=="string"){const v=await qy(e,{idToken:h}).catch(()=>{});if(!v)break;m=await Ji._fromGetAccountInfoResponse(e,v,h)}else m=Ji._fromJSON(e,h);d!==i&&(l=m),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ad(i,e,r):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(t.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ad(i,e,r))}}function jk(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hj(e))return"Blackberry";if(Kj(e))return"Webos";if($j(e))return"Safari";if((e.includes("chrome/")||Bj(e))&&!e.includes("edge/"))return"Chrome";if(qj(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Uj(n=os()){return/firefox\//i.test(n)}function $j(n=os()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bj(n=os()){return/crios\//i.test(n)}function Wj(n=os()){return/iemobile/i.test(n)}function qj(n=os()){return/android/i.test(n)}function Hj(n=os()){return/blackberry/i.test(n)}function Kj(n=os()){return/webos/i.test(n)}function oS(n=os()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HW(n=os()){return oS(n)&&!!window.navigator?.standalone}function KW(){return l8()&&document.documentMode===10}function Gj(n=os()){return oS(n)||qj(n)||Kj(n)||Hj(n)||/windows phone/i.test(n)||Wj(n)}function Yj(n,e=[]){let t;switch(n){case"Browser":t=jk(os());break;case"Worker":t=`${jk(os())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Th}/${r}`}class GW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function YW(n,e={}){return Eh(n,"GET","/v2/passwordPolicy",sS(n,e))}const QW=6;class XW{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??QW,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class JW{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ok(this),this.idTokenSubscription=new Ok(this),this.beforeStateQueue=new GW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ad.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qy(this,{idToken:e}),r=await Ji._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xi(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===o)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hy(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xi(this.app))return Promise.reject(Wc(this));const t=e?zr(e):null;return t&&et(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xi(this.app)?Promise.reject(Wc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xi(this.app)?Promise.reject(Wc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YW(this),t=new XW(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tm("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await qW(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sa(e)||this._popupRedirectResolver;et(t,this,"argument-error"),this.redirectPersistenceManager=await Ad.create(this,[Sa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kW(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qv(n){return zr(n)}class Ok{constructor(e){this.auth=e,this.observer=null,this.addObserver=g8(t=>this.observer=t)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let aS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZW(n){aS=n}function eq(n){return aS.loadJS(n)}function tq(){return aS.gapiScript}function nq(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function rq(n,e){const t=eS(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(cu(i,e??{}))return s;Yo(s,"already-initialized")}return t.initialize({options:e})}function sq(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Sa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function iq(n,e,t){const r=Qv(n);et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Qj(e),{host:o,port:l}=oq(e),u=l===null?"":`:${l}`,d={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(cu(d,r.config.emulator)&&cu(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Sh(o)?(Cj(`${i}//${o}${u}`),Pj("Auth",!0)):aq()}function Qj(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oq(n){const e=Qj(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Mk(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Mk(o)}}}function Mk(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function aq(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Xj{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ba("not implemented")}_getIdTokenResponse(e){return ba("not implemented")}_linkToIdToken(e,t){return ba("not implemented")}_getReauthenticationResolver(e){return ba("not implemented")}}async function Id(n,e){return MW(n,"POST","/v1/accounts:signInWithIdp",sS(n,e))}const lq="http://localhost";class du extends Xj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new du(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const o=new du(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Id(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Id(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Id(e,t)}buildRequest(){const e={requestUri:lq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nm(t)}return e}}class lS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sm extends lS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ml extends sm{constructor(){super("facebook.com")}static credential(e){return du._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ml.credential(e.oauthAccessToken)}catch{return null}}}ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";ml.PROVIDER_ID="facebook.com";class _a extends sm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return du._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return _a.credential(t,r)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";class gl extends sm{constructor(){super("github.com")}static credential(e){return du._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gl.credentialFromTaggedObject(e)}static credentialFromError(e){return gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gl.credential(e.oauthAccessToken)}catch{return null}}}gl.GITHUB_SIGN_IN_METHOD="github.com";gl.PROVIDER_ID="github.com";class yl extends sm{constructor(){super("twitter.com")}static credential(e,t){return du._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yl.credentialFromTaggedObject(e)}static credentialFromError(e){return yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return yl.credential(t,r)}catch{return null}}}yl.TWITTER_SIGN_IN_METHOD="twitter.com";yl.PROVIDER_ID="twitter.com";class Jd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Ji._fromIdTokenResponse(e,r,s),o=Lk(r);return new Jd({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Lk(r);return new Jd({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Lk(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ky extends Fa{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ky.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Ky(e,t,r,s)}}function Jj(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ky._fromErrorAndOperation(n,i,e,r):i})}async function cq(n,e,t=!1){const r=await bp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jd._forOperation(n,"link",r)}async function uq(n,e,t=!1){const{auth:r}=n;if(Xi(r.app))return Promise.reject(Wc(r));const s="reauthenticate";try{const i=await bp(n,Jj(r,s,e,n),t);et(i.idToken,r,"internal-error");const o=iS(i.idToken);et(o,r,"internal-error");const{sub:l}=o;return et(n.uid===l,r,"user-mismatch"),Jd._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Yo(r,"user-mismatch"),i}}async function dq(n,e,t=!1){if(Xi(n.app))return Promise.reject(Wc(n));const r="signIn",s=await Jj(n,r,e),i=await Jd._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function hq(n,e,t,r){return zr(n).onIdTokenChanged(e,t,r)}function fq(n,e,t){return zr(n).beforeAuthStateChanged(e,t)}function pq(n,e,t,r){return zr(n).onAuthStateChanged(e,t,r)}function mq(n){return zr(n).signOut()}const Gy="__sak";class Zj{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gy,"1"),this.storage.removeItem(Gy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gq=1e3,yq=10;class e2 extends Zj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);KW()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yq):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},gq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}e2.type="LOCAL";const vq=e2;class t2 extends Zj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}t2.type="SESSION";const n2=t2;function wq(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Xv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Xv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(t.origin,i)),u=await wq(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xv.receivers=[];function cS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class _q{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const d=cS("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(v.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function zo(){return window}function xq(n){zo().location.href=n}function r2(){return typeof zo().WorkerGlobalScope<"u"&&typeof zo().importScripts=="function"}async function bq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sq(){return navigator?.serviceWorker?.controller||null}function Tq(){return r2()?self:null}const s2="firebaseLocalStorageDb",Eq=1,Yy="firebaseLocalStorage",i2="fbase_key";class im{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jv(n,e){return n.transaction([Yy],e?"readwrite":"readonly").objectStore(Yy)}function Cq(){const n=indexedDB.deleteDatabase(s2);return new im(n).toPromise()}function eb(){const n=indexedDB.open(s2,Eq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Yy,{keyPath:i2})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Yy)?e(r):(r.close(),await Cq(),e(await eb()))})})}async function Vk(n,e,t){const r=Jv(n,!0).put({[i2]:e,value:t});return new im(r).toPromise()}async function Pq(n,e){const t=Jv(n,!1).get(e),r=await new im(t).toPromise();return r===void 0?null:r.value}function Fk(n,e){const t=Jv(n,!0).delete(e);return new im(t).toPromise()}const kq=800,Rq=3;class o2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Rq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xv._getInstance(Tq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bq(),!this.activeServiceWorker)return;this.sender=new _q(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eb();return await Vk(e,Gy,"1"),await Fk(e,Gy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vk(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Pq(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Fk(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Jv(s,!1).getAll();return new im(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o2.type="LOCAL";const Aq=o2;new rm(3e4,6e4);function a2(n,e){return e?Sa(e):(et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class uS extends Xj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Id(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Id(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Id(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Iq(n){return dq(n.auth,new uS(n),n.bypassAuthState)}function Nq(n){const{auth:e,user:t}=n;return et(t,e,"internal-error"),uq(t,new uS(n),n.bypassAuthState)}async function Dq(n){const{auth:e,user:t}=n;return et(t,e,"internal-error"),cq(t,new uS(n),n.bypassAuthState)}class l2{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Iq;case"linkViaPopup":case"linkViaRedirect":return Dq;case"reauthViaPopup":case"reauthViaRedirect":return Nq;default:Yo(this.auth,"internal-error")}}resolve(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jq=new rm(2e3,1e4);async function Oq(n,e,t){if(Xi(n.app))return Promise.reject(Zi(n,"operation-not-supported-in-this-environment"));const r=Qv(n);RW(n,e,lS);const s=a2(r,t);return new Lc(r,"signInViaPopup",e,s).executeNotNull()}class Lc extends l2{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Lc.currentPopupAction&&Lc.currentPopupAction.cancel(),Lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){Aa(this.filter.length===1,"Popup operations only handle one event");const e=cS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jq.get())};e()}}Lc.currentPopupAction=null;const Mq="pendingRedirect",ly=new Map;class Lq extends l2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ly.get(this.auth._key());if(!e){try{const r=await Vq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ly.set(this.auth._key(),e)}return this.bypassAuthState||ly.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vq(n,e){const t=Uq(e),r=zq(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Fq(n,e){ly.set(n._key(),e)}function zq(n){return Sa(n._redirectPersistence)}function Uq(n){return ay(Mq,n.config.apiKey,n.name)}async function $q(n,e,t=!1){if(Xi(n.app))return Promise.reject(Wc(n));const r=Qv(n),s=a2(r,e),o=await new Lq(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const Bq=600*1e3;class Wq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!c2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Zi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bq&&this.cachedEventUids.clear(),this.cachedEventUids.has(zk(e))}saveEventToCache(e){this.cachedEventUids.add(zk(e)),this.lastProcessedEventTime=Date.now()}}function zk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function c2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function qq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c2(n);default:return!1}}async function Hq(n,e={}){return Eh(n,"GET","/v1/projects",e)}const Kq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gq=/^https?/;async function Yq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Hq(n);for(const t of e)try{if(Qq(t))return}catch{}Yo(n,"unauthorized-domain")}function Qq(n){const e=Jx(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Gq.test(t))return!1;if(Kq.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Xq=new rm(3e4,6e4);function Uk(){const n=zo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Jq(n){return new Promise((e,t)=>{function r(){Uk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uk(),t(Zi(n,"network-request-failed"))},timeout:Xq.get()})}if(zo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zo().gapi?.load)r();else{const s=nq("iframefcb");return zo()[s]=()=>{gapi.load?r():t(Zi(n,"network-request-failed"))},eq(`${tq()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw cy=null,e})}let cy=null;function Zq(n){return cy=cy||Jq(n),cy}const eH=new rm(5e3,15e3),tH="__/auth/iframe",nH="emulator/auth/iframe",rH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iH(n){const e=n.config;et(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rS(e,nH):`https://${n.config.authDomain}/${tH}`,r={apiKey:e.apiKey,appName:n.name,v:Th},s=sH.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${nm(r).slice(1)}`}async function oH(n){const e=await Zq(n),t=zo().gapi;return et(t,n,"internal-error"),e.open({where:document.body,url:iH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rH,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Zi(n,"network-request-failed"),l=zo().setTimeout(()=>{i(o)},eH.get());function u(){zo().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{i(o)})}))}const aH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lH=500,cH=600,uH="_blank",dH="http://localhost";class $k{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hH(n,e,t,r=lH,s=cH){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...aH,width:r.toString(),height:s.toString(),top:i,left:o},d=os().toLowerCase();t&&(l=Bj(d)?uH:t),Uj(d)&&(e=e||dH,u.scrollbars="yes");const h=Object.entries(u).reduce((v,[w,T])=>`${v}${w}=${T},`,"");if(HW(d)&&l!=="_self")return fH(e||"",l),new $k(null);const m=window.open(e||"",l,h);et(m,n,"popup-blocked");try{m.focus()}catch{}return new $k(m)}function fH(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const pH="__/auth/handler",mH="emulator/auth/handler",gH=encodeURIComponent("fac");async function Bk(n,e,t,r,s,i){et(n.config.authDomain,n,"auth-domain-config-required"),et(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Th,eventId:s};if(e instanceof lS){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",m8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof sm){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await n._getAppCheckToken(),d=u?`#${gH}=${encodeURIComponent(u)}`:"";return`${yH(n)}?${nm(l).slice(1)}${d}`}function yH({config:n}){return n.emulator?rS(n,mH):`https://${n.authDomain}/${pH}`}const C_="webStorageSupport";class vH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n2,this._completeRedirectFn=$q,this._overrideRedirectResult=Fq}async _openPopup(e,t,r,s){Aa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Bk(e,t,r,Jx(),s);return hH(e,i,cS())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await Bk(e,t,r,Jx(),s);return xq(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Aa(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await oH(e),r=new Wq(e);return t.register("authEvent",s=>(et(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(C_,{type:C_},s=>{const i=s?.[0]?.[C_];i!==void 0&&t(!!i),Yo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Yq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gj()||$j()||oS()}}const wH=vH;var Wk="@firebase/auth",qk="1.11.1";class _H{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bH(n){Xd(new uu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;et(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yj(n)},d=new JW(r,s,i,u);return sq(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xd(new uu("auth-internal",e=>{const t=Qv(e.getProvider("auth").getImmediate());return(r=>new _H(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nl(Wk,qk,xH(n)),Nl(Wk,qk,"esm2020")}const SH=300,TH=Ej("authIdTokenMaxAge")||SH;let Hk=null;const EH=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>TH)return;const s=t?.token;Hk!==s&&(Hk=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function CH(n=Ij()){const e=eS(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rq(n,{popupRedirectResolver:wH,persistence:[Aq,vq,n2]}),r=Ej("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=EH(i.toString());fq(t,o,()=>o(t.currentUser)),hq(t,l=>o(l))}}const s=Sj("auth");return s&&iq(t,`http://${s}`),t}function PH(){return document.getElementsByTagName("head")?.[0]??document}ZW({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Zi("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",PH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bH("Browser");var kH="firebase",RH="12.5.0";Nl(kH,RH,"app");var Kk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dl,u2;(function(){var n;function e(P,A){function D(){}D.prototype=A.prototype,P.F=A.prototype,P.prototype=new D,P.prototype.constructor=P,P.D=function(O,V,F){for(var U=Array(arguments.length-2),X=2;X<arguments.length;X++)U[X-2]=arguments[X];return A.prototype[V].apply(O,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,A,D){D||(D=0);const O=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)O[V]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(V=0;V<16;++V)O[V]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=P.g[0],D=P.g[1],V=P.g[2];let F=P.g[3],U;U=A+(F^D&(V^F))+O[0]+3614090360&4294967295,A=D+(U<<7&4294967295|U>>>25),U=F+(V^A&(D^V))+O[1]+3905402710&4294967295,F=A+(U<<12&4294967295|U>>>20),U=V+(D^F&(A^D))+O[2]+606105819&4294967295,V=F+(U<<17&4294967295|U>>>15),U=D+(A^V&(F^A))+O[3]+3250441966&4294967295,D=V+(U<<22&4294967295|U>>>10),U=A+(F^D&(V^F))+O[4]+4118548399&4294967295,A=D+(U<<7&4294967295|U>>>25),U=F+(V^A&(D^V))+O[5]+1200080426&4294967295,F=A+(U<<12&4294967295|U>>>20),U=V+(D^F&(A^D))+O[6]+2821735955&4294967295,V=F+(U<<17&4294967295|U>>>15),U=D+(A^V&(F^A))+O[7]+4249261313&4294967295,D=V+(U<<22&4294967295|U>>>10),U=A+(F^D&(V^F))+O[8]+1770035416&4294967295,A=D+(U<<7&4294967295|U>>>25),U=F+(V^A&(D^V))+O[9]+2336552879&4294967295,F=A+(U<<12&4294967295|U>>>20),U=V+(D^F&(A^D))+O[10]+4294925233&4294967295,V=F+(U<<17&4294967295|U>>>15),U=D+(A^V&(F^A))+O[11]+2304563134&4294967295,D=V+(U<<22&4294967295|U>>>10),U=A+(F^D&(V^F))+O[12]+1804603682&4294967295,A=D+(U<<7&4294967295|U>>>25),U=F+(V^A&(D^V))+O[13]+4254626195&4294967295,F=A+(U<<12&4294967295|U>>>20),U=V+(D^F&(A^D))+O[14]+2792965006&4294967295,V=F+(U<<17&4294967295|U>>>15),U=D+(A^V&(F^A))+O[15]+1236535329&4294967295,D=V+(U<<22&4294967295|U>>>10),U=A+(V^F&(D^V))+O[1]+4129170786&4294967295,A=D+(U<<5&4294967295|U>>>27),U=F+(D^V&(A^D))+O[6]+3225465664&4294967295,F=A+(U<<9&4294967295|U>>>23),U=V+(A^D&(F^A))+O[11]+643717713&4294967295,V=F+(U<<14&4294967295|U>>>18),U=D+(F^A&(V^F))+O[0]+3921069994&4294967295,D=V+(U<<20&4294967295|U>>>12),U=A+(V^F&(D^V))+O[5]+3593408605&4294967295,A=D+(U<<5&4294967295|U>>>27),U=F+(D^V&(A^D))+O[10]+38016083&4294967295,F=A+(U<<9&4294967295|U>>>23),U=V+(A^D&(F^A))+O[15]+3634488961&4294967295,V=F+(U<<14&4294967295|U>>>18),U=D+(F^A&(V^F))+O[4]+3889429448&4294967295,D=V+(U<<20&4294967295|U>>>12),U=A+(V^F&(D^V))+O[9]+568446438&4294967295,A=D+(U<<5&4294967295|U>>>27),U=F+(D^V&(A^D))+O[14]+3275163606&4294967295,F=A+(U<<9&4294967295|U>>>23),U=V+(A^D&(F^A))+O[3]+4107603335&4294967295,V=F+(U<<14&4294967295|U>>>18),U=D+(F^A&(V^F))+O[8]+1163531501&4294967295,D=V+(U<<20&4294967295|U>>>12),U=A+(V^F&(D^V))+O[13]+2850285829&4294967295,A=D+(U<<5&4294967295|U>>>27),U=F+(D^V&(A^D))+O[2]+4243563512&4294967295,F=A+(U<<9&4294967295|U>>>23),U=V+(A^D&(F^A))+O[7]+1735328473&4294967295,V=F+(U<<14&4294967295|U>>>18),U=D+(F^A&(V^F))+O[12]+2368359562&4294967295,D=V+(U<<20&4294967295|U>>>12),U=A+(D^V^F)+O[5]+4294588738&4294967295,A=D+(U<<4&4294967295|U>>>28),U=F+(A^D^V)+O[8]+2272392833&4294967295,F=A+(U<<11&4294967295|U>>>21),U=V+(F^A^D)+O[11]+1839030562&4294967295,V=F+(U<<16&4294967295|U>>>16),U=D+(V^F^A)+O[14]+4259657740&4294967295,D=V+(U<<23&4294967295|U>>>9),U=A+(D^V^F)+O[1]+2763975236&4294967295,A=D+(U<<4&4294967295|U>>>28),U=F+(A^D^V)+O[4]+1272893353&4294967295,F=A+(U<<11&4294967295|U>>>21),U=V+(F^A^D)+O[7]+4139469664&4294967295,V=F+(U<<16&4294967295|U>>>16),U=D+(V^F^A)+O[10]+3200236656&4294967295,D=V+(U<<23&4294967295|U>>>9),U=A+(D^V^F)+O[13]+681279174&4294967295,A=D+(U<<4&4294967295|U>>>28),U=F+(A^D^V)+O[0]+3936430074&4294967295,F=A+(U<<11&4294967295|U>>>21),U=V+(F^A^D)+O[3]+3572445317&4294967295,V=F+(U<<16&4294967295|U>>>16),U=D+(V^F^A)+O[6]+76029189&4294967295,D=V+(U<<23&4294967295|U>>>9),U=A+(D^V^F)+O[9]+3654602809&4294967295,A=D+(U<<4&4294967295|U>>>28),U=F+(A^D^V)+O[12]+3873151461&4294967295,F=A+(U<<11&4294967295|U>>>21),U=V+(F^A^D)+O[15]+530742520&4294967295,V=F+(U<<16&4294967295|U>>>16),U=D+(V^F^A)+O[2]+3299628645&4294967295,D=V+(U<<23&4294967295|U>>>9),U=A+(V^(D|~F))+O[0]+4096336452&4294967295,A=D+(U<<6&4294967295|U>>>26),U=F+(D^(A|~V))+O[7]+1126891415&4294967295,F=A+(U<<10&4294967295|U>>>22),U=V+(A^(F|~D))+O[14]+2878612391&4294967295,V=F+(U<<15&4294967295|U>>>17),U=D+(F^(V|~A))+O[5]+4237533241&4294967295,D=V+(U<<21&4294967295|U>>>11),U=A+(V^(D|~F))+O[12]+1700485571&4294967295,A=D+(U<<6&4294967295|U>>>26),U=F+(D^(A|~V))+O[3]+2399980690&4294967295,F=A+(U<<10&4294967295|U>>>22),U=V+(A^(F|~D))+O[10]+4293915773&4294967295,V=F+(U<<15&4294967295|U>>>17),U=D+(F^(V|~A))+O[1]+2240044497&4294967295,D=V+(U<<21&4294967295|U>>>11),U=A+(V^(D|~F))+O[8]+1873313359&4294967295,A=D+(U<<6&4294967295|U>>>26),U=F+(D^(A|~V))+O[15]+4264355552&4294967295,F=A+(U<<10&4294967295|U>>>22),U=V+(A^(F|~D))+O[6]+2734768916&4294967295,V=F+(U<<15&4294967295|U>>>17),U=D+(F^(V|~A))+O[13]+1309151649&4294967295,D=V+(U<<21&4294967295|U>>>11),U=A+(V^(D|~F))+O[4]+4149444226&4294967295,A=D+(U<<6&4294967295|U>>>26),U=F+(D^(A|~V))+O[11]+3174756917&4294967295,F=A+(U<<10&4294967295|U>>>22),U=V+(A^(F|~D))+O[2]+718787259&4294967295,V=F+(U<<15&4294967295|U>>>17),U=D+(F^(V|~A))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.v=function(P,A){A===void 0&&(A=P.length);const D=A-this.blockSize,O=this.C;let V=this.h,F=0;for(;F<A;){if(V==0)for(;F<=D;)s(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<A;)if(O[V++]=P.charCodeAt(F++),V==this.blockSize){s(this,O),V=0;break}}else for(;F<A;)if(O[V++]=P[F++],V==this.blockSize){s(this,O),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;A=this.o*8;for(var D=P.length-8;D<P.length;++D)P[D]=A&255,A/=256;for(this.v(P),P=Array(16),A=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)P[A++]=this.g[D]>>>O&255;return P};function i(P,A){var D=l;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=A(P)}function o(P,A){this.h=A;const D=[];let O=!0;for(let V=P.length-1;V>=0;V--){const F=P[V]|0;O&&F==A||(D[V]=F,O=!1)}this.g=D}var l={};function u(P){return-128<=P&&P<128?i(P,function(A){return new o([A|0],A<0?-1:0)}):new o([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return S(d(-P));const A=[];let D=1;for(let O=0;P>=D;O++)A[O]=P/D|0,D*=4294967296;return new o(A,0)}function h(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return S(h(P.substring(1),A));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(A,8));let O=m;for(let F=0;F<P.length;F+=8){var V=Math.min(8,P.length-F);const U=parseInt(P.substring(F,F+V),A);V<8?(V=d(Math.pow(A,V)),O=O.j(V).add(d(U))):(O=O.j(D),O=O.add(d(U)))}return O}var m=u(0),v=u(1),w=u(16777216);n=o.prototype,n.m=function(){if(_(this))return-S(this).m();let P=0,A=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);P+=(O>=0?O:4294967296+O)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(_(this))return"-"+S(this).toString(P);const A=d(Math.pow(P,6));var D=this;let O="";for(;;){const V=I(D,A).g;D=R(D,V.j(A));let F=((D.g.length>0?D.g[0]:D.h)>>>0).toString(P);if(D=V,T(D))return F+O;for(;F.length<6;)F="0"+F;O=F+O}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(let A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function _(P){return P.h==-1}n.l=function(P){return P=R(this,P),_(P)?-1:T(P)?0:1};function S(P){const A=P.g.length,D=[];for(let O=0;O<A;O++)D[O]=~P.g[O];return new o(D,~P.h).add(v)}n.abs=function(){return _(this)?S(this):this},n.add=function(P){const A=Math.max(this.g.length,P.g.length),D=[];let O=0;for(let V=0;V<=A;V++){let F=O+(this.i(V)&65535)+(P.i(V)&65535),U=(F>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=U>>>16,F&=65535,U&=65535,D[V]=U<<16|F}return new o(D,D[D.length-1]&-2147483648?-1:0)};function R(P,A){return P.add(S(A))}n.j=function(P){if(T(this)||T(P))return m;if(_(this))return _(P)?S(this).j(S(P)):S(S(this).j(P));if(_(P))return S(this.j(S(P)));if(this.l(w)<0&&P.l(w)<0)return d(this.m()*P.m());const A=this.g.length+P.g.length,D=[];for(var O=0;O<2*A;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<P.g.length;V++){const F=this.i(O)>>>16,U=this.i(O)&65535,X=P.i(V)>>>16,re=P.i(V)&65535;D[2*O+2*V]+=U*re,k(D,2*O+2*V),D[2*O+2*V+1]+=F*re,k(D,2*O+2*V+1),D[2*O+2*V+1]+=U*X,k(D,2*O+2*V+1),D[2*O+2*V+2]+=F*X,k(D,2*O+2*V+2)}for(P=0;P<A;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=A;P<2*A;P++)D[P]=0;return new o(D,0)};function k(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function j(P,A){this.g=P,this.h=A}function I(P,A){if(T(A))throw Error("division by zero");if(T(P))return new j(m,m);if(_(P))return A=I(S(P),A),new j(S(A.g),S(A.h));if(_(A))return A=I(P,S(A)),new j(S(A.g),A.h);if(P.g.length>30){if(_(P)||_(A))throw Error("slowDivide_ only works with positive integers.");for(var D=v,O=A;O.l(P)<=0;)D=L(D),O=L(O);var V=z(D,1),F=z(O,1);for(O=z(O,2),D=z(D,2);!T(O);){var U=F.add(O);U.l(P)<=0&&(V=V.add(D),F=U),O=z(O,1),D=z(D,1)}return A=R(P,V.j(A)),new j(V,A)}for(V=m;P.l(A)>=0;){for(D=Math.max(1,Math.floor(P.m()/A.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),F=d(D),U=F.j(A);_(U)||U.l(P)>0;)D-=O,F=d(D),U=F.j(A);T(F)&&(F=v),V=V.add(F),P=R(P,U)}return new j(V,P)}n.B=function(P){return I(this,P).h},n.and=function(P){const A=Math.max(this.g.length,P.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)&P.i(O);return new o(D,this.h&P.h)},n.or=function(P){const A=Math.max(this.g.length,P.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)|P.i(O);return new o(D,this.h|P.h)},n.xor=function(P){const A=Math.max(this.g.length,P.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)^P.i(O);return new o(D,this.h^P.h)};function L(P){const A=P.g.length+1,D=[];for(let O=0;O<A;O++)D[O]=P.i(O)<<1|P.i(O-1)>>>31;return new o(D,P.h)}function z(P,A){const D=A>>5;A%=32;const O=P.g.length-D,V=[];for(let F=0;F<O;F++)V[F]=A>0?P.i(F+D)>>>A|P.i(F+D+1)<<32-A:P.i(F+D);return new o(V,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Dl=o}).apply(typeof Kk<"u"?Kk:typeof self<"u"?self:typeof window<"u"?window:{});var Rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var d2,Rf,h2,uy,tb,f2,p2,m2;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rg=="object"&&Rg];for(var C=0;C<g.length;++C){var N=g[C];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=t(this);function s(g,C){if(C)e:{var N=r;g=g.split(".");for(var $=0;$<g.length-1;$++){var ee=g[$];if(!(ee in N))break e;N=N[ee]}g=g[g.length-1],$=N[g],C=C($),C!=$&&C!=null&&e(N,g,{configurable:!0,writable:!0,value:C})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(C){var N=[],$;for($ in C)Object.prototype.hasOwnProperty.call(C,$)&&N.push([$,C[$]]);return N}});var i=i||{},o=this||self;function l(g){var C=typeof g;return C=="object"&&g!=null||C=="function"}function u(g,C,N){return g.call.apply(g.bind,arguments)}function d(g,C,N){return d=u,d.apply(null,arguments)}function h(g,C){var N=Array.prototype.slice.call(arguments,1);return function(){var $=N.slice();return $.push.apply($,arguments),g.apply(this,$)}}function m(g,C){function N(){}N.prototype=C.prototype,g.Z=C.prototype,g.prototype=new N,g.prototype.constructor=g,g.Ob=function($,ee,oe){for(var Te=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Te[rt-2]=arguments[rt];return C.prototype[ee].apply($,Te)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const C=g.length;if(C>0){const N=Array(C);for(let $=0;$<C;$++)N[$]=g[$];return N}return[]}function T(g,C){for(let $=1;$<arguments.length;$++){const ee=arguments[$];var N=typeof ee;if(N=N!="object"?N:ee?Array.isArray(ee)?"array":N:"null",N=="array"||N=="object"&&typeof ee.length=="number"){N=g.length||0;const oe=ee.length||0;g.length=N+oe;for(let Te=0;Te<oe;Te++)g[N+Te]=ee[Te]}else g.push(ee)}}class _{constructor(C,N){this.i=C,this.j=N,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function S(g){o.setTimeout(()=>{throw g},0)}function R(){var g=P;let C=null;return g.g&&(C=g.g,g.g=g.g.next,g.g||(g.h=null),C.next=null),C}class k{constructor(){this.h=this.g=null}add(C,N){const $=j.get();$.set(C,N),this.h?this.h.next=$:this.g=$,this.h=$}}var j=new _(()=>new I,g=>g.reset());class I{constructor(){this.next=this.g=this.h=null}set(C,N){this.h=C,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let L,z=!1,P=new k,A=()=>{const g=Promise.resolve(void 0);L=()=>{g.then(D)}};function D(){for(var g;g=R();){try{g.h.call(g.g)}catch(N){S(N)}var C=j;C.j(g),C.h<100&&(C.h++,g.next=C.g,C.g=g)}z=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,C){this.type=g,this.g=this.target=C,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,C=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const N=()=>{};o.addEventListener("test",N,C),o.removeEventListener("test",N,C)}catch{}return g})();function U(g){return/^[\s\xa0]*$/.test(g)}function X(g,C){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,C)}m(X,V),X.prototype.init=function(g,C){const N=this.type=g.type,$=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=C,C=g.relatedTarget,C||(N=="mouseover"?C=g.fromElement:N=="mouseout"&&(C=g.toElement)),this.relatedTarget=C,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),ne=0;function J(g,C,N,$,ee){this.listener=g,this.proxy=null,this.src=C,this.type=N,this.capture=!!$,this.ha=ee,this.key=++ne,this.da=this.fa=!1}function q(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function G(g,C,N){for(const $ in g)C.call(N,g[$],$,g)}function B(g,C){for(const N in g)C.call(void 0,g[N],N,g)}function W(g){const C={};for(const N in g)C[N]=g[N];return C}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(g,C){let N,$;for(let ee=1;ee<arguments.length;ee++){$=arguments[ee];for(N in $)g[N]=$[N];for(let oe=0;oe<Q.length;oe++)N=Q[oe],Object.prototype.hasOwnProperty.call($,N)&&(g[N]=$[N])}}function he(g){this.src=g,this.g={},this.h=0}he.prototype.add=function(g,C,N,$,ee){const oe=g.toString();g=this.g[oe],g||(g=this.g[oe]=[],this.h++);const Te=Ee(g,C,$,ee);return Te>-1?(C=g[Te],N||(C.fa=!1)):(C=new J(C,this.src,oe,!!$,ee),C.fa=N,g.push(C)),C};function ve(g,C){const N=C.type;if(N in g.g){var $=g.g[N],ee=Array.prototype.indexOf.call($,C,void 0),oe;(oe=ee>=0)&&Array.prototype.splice.call($,ee,1),oe&&(q(C),g.g[N].length==0&&(delete g.g[N],g.h--))}}function Ee(g,C,N,$){for(let ee=0;ee<g.length;++ee){const oe=g[ee];if(!oe.da&&oe.listener==C&&oe.capture==!!N&&oe.ha==$)return ee}return-1}var le="closure_lm_"+(Math.random()*1e6|0),xe={};function ce(g,C,N,$,ee){if(Array.isArray(C)){for(let oe=0;oe<C.length;oe++)ce(g,C[oe],N,$,ee);return null}return N=pn(N),g&&g[re]?g.J(C,N,l($)?!!$.capture:!1,ee):be(g,C,N,!1,$,ee)}function be(g,C,N,$,ee,oe){if(!C)throw Error("Invalid event type");const Te=l(ee)?!!ee.capture:!!ee;let rt=qt(g);if(rt||(g[le]=rt=new he(g)),N=rt.add(C,N,$,Te,oe),N.proxy)return N;if($=Ce(),N.proxy=$,$.src=g,$.listener=N,g.addEventListener)F||(ee=Te),ee===void 0&&(ee=!1),g.addEventListener(C.toString(),$,ee);else if(g.attachEvent)g.attachEvent(Ke(C.toString()),$);else if(g.addListener&&g.removeListener)g.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Ce(){function g(N){return C.call(g.src,g.listener,N)}const C=Mt;return g}function ue(g,C,N,$,ee){if(Array.isArray(C))for(var oe=0;oe<C.length;oe++)ue(g,C[oe],N,$,ee);else $=l($)?!!$.capture:!!$,N=pn(N),g&&g[re]?(g=g.i,oe=String(C).toString(),oe in g.g&&(C=g.g[oe],N=Ee(C,N,$,ee),N>-1&&(q(C[N]),Array.prototype.splice.call(C,N,1),C.length==0&&(delete g.g[oe],g.h--)))):g&&(g=qt(g))&&(C=g.g[C.toString()],g=-1,C&&(g=Ee(C,N,$,ee)),(N=g>-1?C[g]:null)&&ae(N))}function ae(g){if(typeof g!="number"&&g&&!g.da){var C=g.src;if(C&&C[re])ve(C.i,g);else{var N=g.type,$=g.proxy;C.removeEventListener?C.removeEventListener(N,$,g.capture):C.detachEvent?C.detachEvent(Ke(N),$):C.addListener&&C.removeListener&&C.removeListener($),(N=qt(C))?(ve(N,g),N.h==0&&(N.src=null,C[le]=null)):q(g)}}}function Ke(g){return g in xe?xe[g]:xe[g]="on"+g}function Mt(g,C){if(g.da)g=!0;else{C=new X(C,this);const N=g.listener,$=g.ha||g.src;g.fa&&ae(g),g=N.call($,C)}return g}function qt(g){return g=g[le],g instanceof he?g:null}var se="__closure_events_fn_"+(Math.random()*1e9>>>0);function pn(g){return typeof g=="function"?g:(g[se]||(g[se]=function(C){return g.handleEvent(C)}),g[se])}function jt(){O.call(this),this.i=new he(this),this.M=this,this.G=null}m(jt,O),jt.prototype[re]=!0,jt.prototype.removeEventListener=function(g,C,N,$){ue(this,g,C,N,$)};function Nt(g,C){var N,$=g.G;if($)for(N=[];$;$=$.G)N.push($);if(g=g.M,$=C.type||C,typeof C=="string")C=new V(C,g);else if(C instanceof V)C.target=C.target||g;else{var ee=C;C=new V($,g),pe(C,ee)}ee=!0;let oe,Te;if(N)for(Te=N.length-1;Te>=0;Te--)oe=C.g=N[Te],ee=dt(oe,$,!0,C)&&ee;if(oe=C.g=g,ee=dt(oe,$,!0,C)&&ee,ee=dt(oe,$,!1,C)&&ee,N)for(Te=0;Te<N.length;Te++)oe=C.g=N[Te],ee=dt(oe,$,!1,C)&&ee}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var g=this.i;for(const C in g.g){const N=g.g[C];for(let $=0;$<N.length;$++)q(N[$]);delete g.g[C],g.h--}}this.G=null},jt.prototype.J=function(g,C,N,$){return this.i.add(String(g),C,!1,N,$)},jt.prototype.K=function(g,C,N,$){return this.i.add(String(g),C,!0,N,$)};function dt(g,C,N,$){if(C=g.i.g[String(C)],!C)return!0;C=C.concat();let ee=!0;for(let oe=0;oe<C.length;++oe){const Te=C[oe];if(Te&&!Te.da&&Te.capture==N){const rt=Te.listener,Ln=Te.ha||Te.src;Te.fa&&ve(g.i,Te),ee=rt.call(Ln,$)!==!1&&ee}}return ee&&!$.defaultPrevented}function ur(g,C){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:o.setTimeout(g,C||0)}function Cn(g){g.g=ur(()=>{g.g=null,g.i&&(g.i=!1,Cn(g))},g.l);const C=g.h;g.h=null,g.m.apply(null,C)}class Es extends O{constructor(C,N){super(),this.m=C,this.l=N,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(g){O.call(this),this.h=g,this.g={}}m($t,O);var Gt=[];function Et(g){G(g.g,function(C,N){this.g.hasOwnProperty(N)&&ae(C)},g),g.g={}}$t.prototype.N=function(){$t.Z.N.call(this),Et(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=o.JSON.stringify,er=o.JSON.parse,kn=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function Wr(){}function Ht(){}var Er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){V.call(this,"d")}m(mn,V);function as(){V.call(this,"c")}m(as,V);var on={},Cr=null;function dr(){return Cr=Cr||new jt}on.Ia="serverreachability";function Je(g){V.call(this,on.Ia,g)}m(Je,V);function Wn(g){const C=dr();Nt(C,new Je(C))}on.STAT_EVENT="statevent";function gn(g,C){V.call(this,on.STAT_EVENT,g),this.stat=C}m(gn,V);function mt(g){const C=dr();Nt(C,new gn(C,g))}on.Ja="timingevent";function en(g,C){V.call(this,on.Ja,g),this.size=C}m(en,V);function hr(g,C){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},C)}function $e(){this.g=!0}$e.prototype.ua=function(){this.g=!1};function it(g,C,N,$,ee,oe){g.info(function(){if(g.g)if(oe){var Te="",rt=oe.split("&");for(let Wt=0;Wt<rt.length;Wt++){var Ln=rt[Wt].split("=");if(Ln.length>1){const qn=Ln[0];Ln=Ln[1];const Xs=qn.split("_");Te=Xs.length>=2&&Xs[1]=="type"?Te+(qn+"="+Ln+"&"):Te+(qn+"=redacted&")}}}else Te=null;else Te=oe;return"XMLHTTP REQ ("+$+") [attempt "+ee+"]: "+C+`
`+N+`
`+Te})}function Ct(g,C,N,$,ee,oe,Te){g.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+ee+"]: "+C+`
`+N+`
`+oe+" "+Te})}function je(g,C,N,$){g.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ye(g,N)+($?" "+$:"")})}function Ie(g,C){g.info(function(){return"TIMEOUT: "+C})}$e.prototype.info=function(){};function Ye(g,C){if(!g.g)return C;if(!C)return null;try{const oe=JSON.parse(C);if(oe){for(g=0;g<oe.length;g++)if(Array.isArray(oe[g])){var N=oe[g];if(!(N.length<2)){var $=N[1];if(Array.isArray($)&&!($.length<1)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Te=1;Te<$.length;Te++)$[Te]=""}}}}return Pn(oe)}catch{return C}}var we={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Me={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ne;function We(){}m(We,Wr),We.prototype.g=function(){return new XMLHttpRequest},Ne=new We;function Bt(g){return encodeURIComponent(String(g))}function at(g){var C=1;g=g.split(":");const N=[];for(;C>0&&g.length;)N.push(g.shift()),C--;return g.length&&N.push(g.join(":")),N}function Rt(g,C,N,$){this.j=g,this.i=C,this.l=N,this.S=$||1,this.V=new $t(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mn}function Mn(){this.i=null,this.g="",this.h=!1}var Yt={},Vt={};function ft(g,C,N){g.M=1,g.A=ra(mi(C)),g.u=N,g.R=!0,Pr(g,null)}function Pr(g,C){g.F=Date.now(),an(g),g.B=mi(g.A);var N=g.B,$=g.S;Array.isArray($)||($=[String($)]),Bh(N.i,"t",$),g.C=0,N=g.j.L,g.h=new Mn,g.g=Em(g.j,N?C:null,!g.u),g.P>0&&(g.O=new Es(d(g.Y,g,g.g),g.P)),C=g.V,N=g.g,$=g.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Gt[0]=ee.toString()),ee=Gt);for(let oe=0;oe<ee.length;oe++){const Te=ce(N,ee[oe],$||C.handleEvent,!1,C.h||C);if(!Te)break;C.g[Te.key]=Te}C=g.J?W(g.J):{},g.u?(g.v||(g.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,C)):(g.v="GET",g.g.ea(g.B,g.v,null,C)),Wn(),it(g.i,g.v,g.B,g.l,g.S,g.u)}Rt.prototype.ba=function(g){g=g.target;const C=this.O;C&&go(g)==3?C.j():this.Y(g)},Rt.prototype.Y=function(g){try{if(g==this.g)e:{const rt=go(this.g),Ln=this.g.ya(),Wt=this.g.ca();if(!(rt<3)&&(rt!=3||this.g&&(this.h.h||this.g.la()||Sm(this.g)))){this.K||rt!=4||Ln==7||(Ln==8||Wt<=0?Wn(3):Wn(2)),vn(this);var C=this.g.ca();this.X=C;var N=Kt(this);if(this.o=C==200,Ct(this.i,this.v,this.B,this.l,this.S,rt,C),this.o){if(this.U&&!this.L){t:{if(this.g){var $,ee=this.g;if(($=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U($)){var oe=$;break t}}oe=null}if(g=oe)je(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lt(this,g);else{this.o=!1,this.m=3,mt(12),Cs(this),cs(this);break e}}if(this.R){g=!0;let qn;for(;!this.K&&this.C<N.length;)if(qn=ls(this,N),qn==Vt){rt==4&&(this.m=4,mt(14),g=!1),je(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==Yt){this.m=4,mt(15),je(this.i,this.l,N,"[Invalid Chunk]"),g=!1;break}else je(this.i,this.l,qn,null),lt(this,qn);if(fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||N.length!=0||this.h.h||(this.m=1,mt(16),g=!1),this.o=this.o&&g,!g)je(this.i,this.l,N,"[Invalid Chunked Response]"),Cs(this),cs(this);else if(N.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),pc(Te),Te.P=!0,mt(11))}}else je(this.i,this.l,N,null),lt(this,N);rt==4&&Cs(this),this.o&&!this.K&&(rt==4?Ou(this.j,this):(this.o=!1,an(this)))}else qh(this.g),C==400&&N.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),Cs(this),cs(this)}}}catch{}finally{}};function Kt(g){if(!fr(g))return g.g.la();const C=Sm(g.g);if(C==="")return"";let N="";const $=C.length,ee=go(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Cs(g),cs(g),"";g.h.i=new o.TextDecoder}for(let oe=0;oe<$;oe++)g.h.h=!0,N+=g.h.i.decode(C[oe],{stream:!(ee&&oe==$-1)});return C.length=0,g.h.g+=N,g.C=0,g.h.g}function fr(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function ls(g,C){var N=g.C,$=C.indexOf(`
`,N);return $==-1?Vt:(N=Number(C.substring(N,$)),isNaN(N)?Yt:($+=1,$+N>C.length?Vt:(C=C.slice($,$+N),g.C=$+N,C)))}Rt.prototype.cancel=function(){this.K=!0,Cs(this)};function an(g){g.T=Date.now()+g.H,yn(g,g.H)}function yn(g,C){if(g.D!=null)throw Error("WatchDog timer not null");g.D=hr(d(g.aa,g),C)}function vn(g){g.D&&(o.clearTimeout(g.D),g.D=null)}Rt.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ie(this.i,this.B),this.M!=2&&(Wn(),mt(17)),Cs(this),this.m=2,cs(this)):yn(this,this.T-g)};function cs(g){g.j.I==0||g.K||Ou(g.j,g)}function Cs(g){vn(g);var C=g.O;C&&typeof C.dispose=="function"&&C.dispose(),g.O=null,Et(g.V),g.g&&(C=g.g,g.g=null,C.abort(),C.dispose())}function lt(g,C){try{var N=g.j;if(N.I!=0&&(N.g==g||Vi(N.h,g))){if(!g.L&&Vi(N.h,g)&&N.I==3){try{var $=N.Ba.g.parse(C)}catch{$=null}if(Array.isArray($)&&$.length==3){var ee=$;if(ee[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<g.F)ju(N),Ys(N);else break e;wo(N),mt(18)}}else N.xa=ee[1],0<N.xa-N.K&&ee[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=hr(d(N.Va,N),6e3));lo(N.h)<=1&&N.ta&&(N.ta=void 0)}else Qs(N,11)}else if((g.L||N.g==g)&&ju(N),!U(C))for(ee=N.Ba.g.parse(C),C=0;C<ee.length;C++){let Wt=ee[C];const qn=Wt[0];if(!(qn<=N.K))if(N.K=qn,Wt=Wt[1],N.I==2)if(Wt[0]=="c"){N.M=Wt[1],N.ba=Wt[2];const Xs=Wt[3];Xs!=null&&(N.ka=Xs,N.j.info("VER="+N.ka));const la=Wt[4];la!=null&&(N.za=la,N.j.info("SVER="+N.za));const _o=Wt[5];_o!=null&&typeof _o=="number"&&_o>0&&($=1.5*_o,N.O=$,N.j.info("backChannelRequestTimeoutMs_="+$)),$=N;const xo=g.g;if(xo){const Vu=xo.g?xo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vu){var oe=$.h;oe.g||Vu.indexOf("spdy")==-1&&Vu.indexOf("quic")==-1&&Vu.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Rr(oe,oe.h),oe.h=null))}if($.G){const Gh=xo.g?xo.g.getResponseHeader("X-HTTP-Session-Id"):null;Gh&&($.wa=Gh,Lt($.J,$.G,Gh))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-g.F,N.j.info("Handshake RTT: "+N.T+"ms")),$=N;var Te=g;if($.na=Kh($,$.L?$.ba:null,$.W),Te.L){qs($.h,Te);var rt=Te,Ln=$.O;Ln&&(rt.H=Ln),rt.D&&(vn(rt),an(rt)),$.g=Te}else qr($);N.i.length>0&&aa(N)}else Wt[0]!="stop"&&Wt[0]!="close"||Qs(N,7);else N.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?Qs(N,7):Nu(N):Wt[0]!="noop"&&N.l&&N.l.qa(Wt),N.A=0)}}Wn(4)}catch{}}var wn=class{constructor(g,C){this.g=g,this.map=C}};function kr(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function na(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function lo(g){return g.h?1:g.g?g.g.size:0}function Vi(g,C){return g.h?g.h==C:g.g?g.g.has(C):!1}function Rr(g,C){g.g?g.g.add(C):g.h=C}function qs(g,C){g.h&&g.h==C?g.h=null:g.g&&g.g.has(C)&&g.g.delete(C)}kr.prototype.cancel=function(){if(this.i=pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function pr(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let C=g.i;for(const N of g.g.values())C=C.concat(N.G);return C}return w(g.i)}var Hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ks(g,C){if(g){g=g.split("&");for(let N=0;N<g.length;N++){const $=g[N].indexOf("=");let ee,oe=null;$>=0?(ee=g[N].substring(0,$),oe=g[N].substring($+1)):ee=g[N],C(ee,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function co(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;g instanceof co?(this.l=g.l,lc(this,g.j),this.o=g.o,this.g=g.g,uo(this,g.u),this.h=g.h,Ba(this,Wh(g.i)),this.m=g.m):g&&(C=String(g).match(Hs))?(this.l=!1,lc(this,C[1]||"",!0),this.o=cc(C[2]||""),this.g=cc(C[3]||"",!0),uo(this,C[4]),this.h=cc(C[5]||"",!0),Ba(this,C[6]||"",!0),this.m=cc(C[7]||"")):(this.l=!1,this.i=new Pt(null,this.l))}co.prototype.toString=function(){const g=[];var C=this.j;C&&g.push(uc(C,Vh,!0),":");var N=this.g;return(N||C=="file")&&(g.push("//"),(C=this.o)&&g.push(uc(C,Vh,!0),"@"),g.push(Bt(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&g.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&g.push("/"),g.push(uc(N,N.charAt(0)=="/"?dc:Fh,!0))),(N=this.i.toString())&&g.push("?",N),(N=this.m)&&g.push("#",uc(N,zh)),g.join("")},co.prototype.resolve=function(g){const C=mi(this);let N=!!g.j;N?lc(C,g.j):N=!!g.o,N?C.o=g.o:N=!!g.g,N?C.g=g.g:N=g.u!=null;var $=g.h;if(N)uo(C,g.u);else if(N=!!g.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var ee=C.h.lastIndexOf("/");ee!=-1&&($=C.h.slice(0,ee+1)+$)}if(ee=$,ee==".."||ee==".")$="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){$=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const oe=[];for(let Te=0;Te<ee.length;){const rt=ee[Te++];rt=="."?$&&Te==ee.length&&oe.push(""):rt==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),$&&Te==ee.length&&oe.push("")):(oe.push(rt),$=!0)}$=oe.join("/")}else $=ee}return N?C.h=$:N=g.i.toString()!=="",N?Ba(C,Wh(g.i)):N=!!g.m,N&&(C.m=g.m),C};function mi(g){return new co(g)}function lc(g,C,N){g.j=N?cc(C,!0):C,g.j&&(g.j=g.j.replace(/:$/,""))}function uo(g,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);g.u=C}else g.u=null}function Ba(g,C,N){C instanceof Pt?(g.i=C,Ru(g.i,g.l)):(N||(C=uc(C,Vw)),g.i=new Pt(C,g.l))}function Lt(g,C,N){g.i.set(C,N)}function ra(g){return Lt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function cc(g,C){return g?C?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function uc(g,C,N){return typeof g=="string"?(g=encodeURI(g).replace(C,Lh),N&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Lh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Vh=/[#\/\?@]/g,Fh=/[#\?:]/g,dc=/[#\?]/g,Vw=/[#\?@]/g,zh=/#/g;function Pt(g,C){this.h=this.g=null,this.i=g||null,this.j=!!C}function ho(g){g.g||(g.g=new Map,g.h=0,g.i&&Ks(g.i,function(C,N){g.add(decodeURIComponent(C.replace(/\+/g," ")),N)}))}n=Pt.prototype,n.add=function(g,C){ho(this),this.i=null,g=fo(this,g);let N=this.g.get(g);return N||this.g.set(g,N=[]),N.push(C),this.h+=1,this};function Uh(g,C){ho(g),C=fo(g,C),g.g.has(C)&&(g.i=null,g.h-=g.g.get(C).length,g.g.delete(C))}function ku(g,C){return ho(g),C=fo(g,C),g.g.has(C)}n.forEach=function(g,C){ho(this),this.g.forEach(function(N,$){N.forEach(function(ee){g.call(C,ee,$,this)},this)},this)};function $h(g,C){ho(g);let N=[];if(typeof C=="string")ku(g,C)&&(N=N.concat(g.g.get(fo(g,C))));else for(g=Array.from(g.g.values()),C=0;C<g.length;C++)N=N.concat(g[C]);return N}n.set=function(g,C){return ho(this),this.i=null,g=fo(this,g),ku(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[C]),this.h+=1,this},n.get=function(g,C){return g?(g=$h(this,g),g.length>0?String(g[0]):C):C};function Bh(g,C,N){Uh(g,C),N.length>0&&(g.i=null,g.g.set(fo(g,C),w(N)),g.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],C=Array.from(this.g.keys());for(let $=0;$<C.length;$++){var N=C[$];const ee=Bt(N);N=$h(this,N);for(let oe=0;oe<N.length;oe++){let Te=ee;N[oe]!==""&&(Te+="="+Bt(N[oe])),g.push(Te)}}return this.i=g.join("&")};function Wh(g){const C=new Pt;return C.i=g.i,g.g&&(C.g=new Map(g.g),C.h=g.h),C}function fo(g,C){return C=String(C),g.j&&(C=C.toLowerCase()),C}function Ru(g,C){C&&!g.j&&(ho(g),g.i=null,g.g.forEach(function(N,$){const ee=$.toLowerCase();$!=ee&&(Uh(this,$),Bh(this,ee,N))},g)),g.j=C}function po(g,C){const N=new $e;if(o.Image){const $=new Image;$.onload=h(Ar,N,"TestLoadImage: loaded",!0,C,$),$.onerror=h(Ar,N,"TestLoadImage: error",!1,C,$),$.onabort=h(Ar,N,"TestLoadImage: abort",!1,C,$),$.ontimeout=h(Ar,N,"TestLoadImage: timeout",!1,C,$),o.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=g}else C(!1)}function mo(g,C){const N=new $e,$=new AbortController,ee=setTimeout(()=>{$.abort(),Ar(N,"TestPingServer: timeout",!1,C)},1e4);fetch(g,{signal:$.signal}).then(oe=>{clearTimeout(ee),oe.ok?Ar(N,"TestPingServer: ok",!0,C):Ar(N,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ee),Ar(N,"TestPingServer: error",!1,C)})}function Ar(g,C,N,$,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),$(N)}catch{}}function hc(){this.g=new kn}function sa(g){this.i=g.Sb||null,this.h=g.ab||!1}m(sa,Wr),sa.prototype.g=function(){return new Gs(this.i,this.h)};function Gs(g,C){jt.call(this),this.H=g,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Gs,jt),n=Gs.prototype,n.open=function(g,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=C,this.readyState=1,Fi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(C.body=g),(this.H||o).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wa(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_m(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function _m(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var C=g.value?g.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!g.done}))&&(this.response=this.responseText+=C)}g.done?Wa(this):Fi(this),this.readyState==3&&_m(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,Wa(this))},n.Na=function(g){this.g&&(this.response=g,Wa(this))},n.ga=function(){this.g&&Wa(this)};function Wa(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Fi(g)}n.setRequestHeader=function(g,C){this.A.append(g,C)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],C=this.h.entries();for(var N=C.next();!N.done;)N=N.value,g.push(N[0]+": "+N[1]),N=C.next();return g.join(`\r
`)};function Fi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function xm(g){let C="";return G(g,function(N,$){C+=$,C+=":",C+=N,C+=`\r
`}),C}function Au(g,C,N){e:{for($ in N){var $=!1;break e}$=!0}$||(N=xm(N),typeof g=="string"?N!=null&&Bt(N):Lt(g,C,N))}function Qt(g){jt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Qt,jt);var bm=/^https?$/i,Fw=["POST","PUT"];n=Qt.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,C,N,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);C=C?C.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ne.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(C,String(g),!0),this.B=!1}catch(oe){qa(this,oe);return}if(g=N||"",N=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var ee in $)N.set(ee,$[ee]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const oe of $.keys())N.set(oe,$.get(oe));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(N.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=o.FormData&&g instanceof o.FormData,!(Array.prototype.indexOf.call(Fw,C,void 0)>=0)||$||ee||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Te]of N)this.g.setRequestHeader(oe,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(oe){qa(this,oe)}};function qa(g,C){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=C,g.o=5,Ha(g),oa(g)}function Ha(g){g.A||(g.A=!0,Nt(g,"complete"),Nt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Nt(this,"complete"),Nt(this,"abort"),oa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oa(this,!0)),Qt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},n.Xa=function(){ia(this)};function ia(g){if(g.h&&typeof i<"u"){if(g.v&&go(g)==4)setTimeout(g.Ca.bind(g),0);else if(Nt(g,"readystatechange"),go(g)==4){g.h=!1;try{const oe=g.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var N;if(!(N=C)){var $;if($=oe===0){let Te=String(g.D).match(Hs)[1]||null;!Te&&o.self&&o.self.location&&(Te=o.self.location.protocol.slice(0,-1)),$=!bm.test(Te?Te.toLowerCase():"")}N=$}if(N)Nt(g,"complete"),Nt(g,"success");else{g.o=6;try{var ee=go(g)>2?g.g.statusText:""}catch{ee=""}g.l=ee+" ["+g.ca()+"]",Ha(g)}}finally{oa(g)}}}}function oa(g,C){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const N=g.g;g.g=null,C||Nt(g,"ready");try{N.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function go(g){return g.g?g.g.readyState:0}n.ca=function(){try{return go(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var C=this.g.responseText;return g&&C.indexOf(g)==0&&(C=C.substring(g.length)),er(C)}};function Sm(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function qh(g){const C={};g=(g.g&&go(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<g.length;$++){if(U(g[$]))continue;var N=at(g[$]);const ee=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const oe=C[ee]||[];C[ee]=oe,oe.push(N)}B(C,function($){return $.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yo(g,C,N){return N&&N.internalChannelParams&&N.internalChannelParams[g]||C}function Iu(g){this.za=0,this.i=[],this.j=new $e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yo("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yo("baseRetryDelayMs",5e3,g),this.Za=yo("retryDelaySeedMs",1e4,g),this.Ta=yo("forwardChannelMaxRetries",2,g),this.va=yo("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new kr(g&&g.concurrentRequestLimit),this.Ba=new hc,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Iu.prototype,n.ka=8,n.I=1,n.connect=function(g,C,N,$){mt(0),this.W=g,this.H=C||{},N&&$!==void 0&&(this.H.OSID=N,this.H.OAID=$),this.F=this.X,this.J=Kh(this,null,this.W),aa(this)};function Nu(g){if(Du(g),g.I==3){var C=g.V++,N=mi(g.J);if(Lt(N,"SID",g.M),Lt(N,"RID",C),Lt(N,"TYPE","terminate"),vo(g,N),C=new Rt(g,g.j,C),C.M=2,C.A=ra(mi(N)),N=!1,o.navigator&&o.navigator.sendBeacon)try{N=o.navigator.sendBeacon(C.A.toString(),"")}catch{}!N&&o.Image&&(new Image().src=C.A,N=!0),N||(C.g=Em(C.j,null),C.g.ea(C.A)),C.F=Date.now(),an(C)}mc(g)}function Ys(g){g.g&&(pc(g),g.g.cancel(),g.g=null)}function Du(g){Ys(g),g.v&&(o.clearTimeout(g.v),g.v=null),ju(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&o.clearTimeout(g.m),g.m=null)}function aa(g){if(!na(g.h)&&!g.m){g.m=!0;var C=g.Ea;L||A(),z||(L(),z=!0),P.add(C,g),g.D=0}}function Tm(g,C){return lo(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=C.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=hr(d(g.Ea,g,C),Mu(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const ee=new Rt(this,this.j,g);let oe=this.o;if(this.U&&(oe?(oe=W(oe),pe(oe,this.U)):oe=this.U),this.u!==null||this.R||(ee.J=oe,oe=null),this.S)e:{for(var C=0,N=0;N<this.i.length;N++){t:{var $=this.i[N];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(C+=$,C>4096){C=N;break e}if(C===4096||N===this.i.length-1){C=N+1;break e}}C=1e3}else C=1e3;C=Hh(this,ee,C),N=mi(this.J),Lt(N,"RID",g),Lt(N,"CVER",22),this.G&&Lt(N,"X-HTTP-Session-Id",this.G),vo(this,N),oe&&(this.R?C="headers="+Bt(xm(oe))+"&"+C:this.u&&Au(N,this.u,oe)),Rr(this.h,ee),this.Ra&&Lt(N,"TYPE","init"),this.S?(Lt(N,"$req",C),Lt(N,"SID","null"),ee.U=!0,ft(ee,N,null)):ft(ee,N,C),this.I=2}}else this.I==3&&(g?fc(this,g):this.i.length==0||na(this.h)||fc(this))};function fc(g,C){var N;C?N=C.l:N=g.V++;const $=mi(g.J);Lt($,"SID",g.M),Lt($,"RID",N),Lt($,"AID",g.K),vo(g,$),g.u&&g.o&&Au($,g.u,g.o),N=new Rt(g,g.j,N,g.D+1),g.u===null&&(N.J=g.o),C&&(g.i=C.G.concat(g.i)),C=Hh(g,N,1e3),N.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Rr(g.h,N),ft(N,$,C)}function vo(g,C){g.H&&G(g.H,function(N,$){Lt(C,$,N)}),g.l&&G({},function(N,$){Lt(C,$,N)})}function Hh(g,C,N){N=Math.min(g.i.length,N);const $=g.l?d(g.l.Ka,g.l,g):null;e:{var ee=g.i;let rt=-1;for(;;){const Ln=["count="+N];rt==-1?N>0?(rt=ee[0].g,Ln.push("ofs="+rt)):rt=0:Ln.push("ofs="+rt);let Wt=!0;for(let qn=0;qn<N;qn++){var oe=ee[qn].g;const Xs=ee[qn].map;if(oe-=rt,oe<0)rt=Math.max(0,ee[qn].g-100),Wt=!1;else try{oe="req"+oe+"_"||"";try{var Te=Xs instanceof Map?Xs:Object.entries(Xs);for(const[la,_o]of Te){let xo=_o;l(_o)&&(xo=Pn(_o)),Ln.push(oe+la+"="+encodeURIComponent(xo))}}catch(la){throw Ln.push(oe+"type="+encodeURIComponent("_badmap")),la}}catch{$&&$(Xs)}}if(Wt){Te=Ln.join("&");break e}}Te=void 0}return g=g.i.splice(0,N),C.G=g,Te}function qr(g){if(!g.g&&!g.v){g.Y=1;var C=g.Da;L||A(),z||(L(),z=!0),P.add(C,g),g.A=0}}function wo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=hr(d(g.Da,g),Mu(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,Ka(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=hr(d(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),Ys(this),Ka(this))};function pc(g){g.B!=null&&(o.clearTimeout(g.B),g.B=null)}function Ka(g){g.g=new Rt(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var C=mi(g.na);Lt(C,"RID","rpc"),Lt(C,"SID",g.M),Lt(C,"AID",g.K),Lt(C,"CI",g.F?"0":"1"),!g.F&&g.ia&&Lt(C,"TO",g.ia),Lt(C,"TYPE","xmlhttp"),vo(g,C),g.u&&g.o&&Au(C,g.u,g.o),g.O&&(g.g.H=g.O);var N=g.g;g=g.ba,N.M=1,N.A=ra(mi(C)),N.u=null,N.R=!0,Pr(N,g)}n.Va=function(){this.C!=null&&(this.C=null,Ys(this),wo(this),mt(19))};function ju(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function Ou(g,C){var N=null;if(g.g==C){ju(g),pc(g),g.g=null;var $=2}else if(Vi(g.h,C))N=C.G,qs(g.h,C),$=1;else return;if(g.I!=0){if(C.o)if($==1){N=C.u?C.u.length:0,C=Date.now()-C.F;var ee=g.D;$=dr(),Nt($,new en($,N)),aa(g)}else qr(g);else if(ee=C.m,ee==3||ee==0&&C.X>0||!($==1&&Tm(g,C)||$==2&&wo(g)))switch(N&&N.length>0&&(C=g.h,C.i=C.i.concat(N)),ee){case 1:Qs(g,5);break;case 4:Qs(g,10);break;case 3:Qs(g,6);break;default:Qs(g,2)}}}function Mu(g,C){let N=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(N*=2),N*C}function Qs(g,C){if(g.j.info("Error code "+C),C==2){var N=d(g.bb,g),$=g.Ua;const ee=!$;$=new co($||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||lc($,"https"),ra($),ee?po($.toString(),N):mo($.toString(),N)}else mt(2);g.I=0,g.l&&g.l.pa(C),mc(g),Du(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function mc(g){if(g.I=0,g.ja=[],g.l){const C=pr(g.h);(C.length!=0||g.i.length!=0)&&(T(g.ja,C),T(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function Kh(g,C,N){var $=N instanceof co?mi(N):new co(N);if($.g!="")C&&($.g=C+"."+$.g),uo($,$.u);else{var ee=o.location;$=ee.protocol,C=C?C+"."+ee.hostname:ee.hostname,ee=+ee.port;const oe=new co(null);$&&lc(oe,$),C&&(oe.g=C),ee&&uo(oe,ee),N&&(oe.h=N),$=oe}return N=g.G,C=g.wa,N&&C&&Lt($,N,C),Lt($,"VER",g.ka),vo(g,$),$}function Em(g,C,N){if(C&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=g.Aa&&!g.ma?new Qt(new sa({ab:N})):new Qt(g.ma),C.Fa(g.L),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cm(){}n=Cm.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Lu(){}Lu.prototype.g=function(g,C){return new Ir(g,C)};function Ir(g,C){jt.call(this),this.g=new Iu(C),this.l=g,this.h=C&&C.messageUrlParams||null,g=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(g?g["X-WebChannel-Content-Type"]=C.messageContentType:g={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(g?g["X-WebChannel-Client-Profile"]=C.sa:g={"X-WebChannel-Client-Profile":C.sa}),this.g.U=g,(g=C&&C.Qb)&&!U(g)&&(this.g.u=g),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!U(C)&&(this.g.G=C,g=this.h,g!==null&&C in g&&(g=this.h,C in g&&delete g[C])),this.j=new Ga(this)}m(Ir,jt),Ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){Nu(this.g)},Ir.prototype.o=function(g){var C=this.g;if(typeof g=="string"){var N={};N.__data__=g,g=N}else this.v&&(N={},N.__data__=Pn(g),g=N);C.i.push(new wn(C.Ya++,g)),C.I==3&&aa(C)},Ir.prototype.N=function(){this.g.l=null,delete this.j,Nu(this.g),delete this.g,Ir.Z.N.call(this)};function Pm(g){mn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var C=g.__sm__;if(C){e:{for(const N in C){g=N;break e}g=void 0}(this.i=g)&&(g=this.i,C=C!==null&&g in C?C[g]:void 0),this.data=C}else this.data=g}m(Pm,mn);function km(){as.call(this),this.status=1}m(km,as);function Ga(g){this.g=g}m(Ga,Cm),Ga.prototype.ra=function(){Nt(this.g,"a")},Ga.prototype.qa=function(g){Nt(this.g,new Pm(g))},Ga.prototype.pa=function(g){Nt(this.g,new km)},Ga.prototype.oa=function(){Nt(this.g,"b")},Lu.prototype.createWebChannel=Lu.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,m2=function(){return new Lu},p2=function(){return dr()},f2=on,tb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,uy=we,Me.COMPLETE="complete",h2=Me,Ht.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",jt.prototype.listen=jt.prototype.J,Rf=Ht,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,d2=Qt}).apply(typeof Rg<"u"?Rg:typeof self<"u"?self:typeof window<"u"?window:{});const Gk="@firebase/firestore",Yk="4.9.2";class Jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let Ch="12.3.0";const hu=new J1("@firebase/firestore");function fd(){return hu.logLevel}function Re(n,...e){if(hu.logLevel<=_t.DEBUG){const t=e.map(dS);hu.debug(`Firestore (${Ch}): ${n}`,...t)}}function Ia(n,...e){if(hu.logLevel<=_t.ERROR){const t=e.map(dS);hu.error(`Firestore (${Ch}): ${n}`,...t)}}function Zd(n,...e){if(hu.logLevel<=_t.WARN){const t=e.map(dS);hu.warn(`Firestore (${Ch}): ${n}`,...t)}}function dS(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,g2(n,r,t)}function g2(n,e,t){let r=`FIRESTORE (${Ch}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ia(r),new Error(r)}function Ut(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||g2(e,s,r)}function st(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Fa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ea{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class y2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jr.UNAUTHENTICATED)))}shutdown(){}}class IH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class NH{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ut(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let i=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ea,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},l=u=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ea)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string",31837,{l:r}),new y2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string",2055,{h:e}),new Jr(e)}}class DH{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jH{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new DH(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Jr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OH{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ut(this.o===void 0,3512);const r=i=>{i.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ut(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Qk(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class hS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=MH(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function nb(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return P_(s)===P_(i)?xt(s,i):P_(s)?1:-1}return xt(n.length,e.length)}const LH=55296,VH=57343;function P_(n){const e=n.charCodeAt(0);return e>=LH&&e<=VH}function eh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const Xk="__name__";class Po{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Po.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Po?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Po.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return xt(e.length,t.length)}static compareSegments(e,t){const r=Po.isNumericId(e),s=Po.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Po.extractNumericId(e).compare(Po.extractNumericId(t)):nb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dl.fromString(e.substring(4,e.length-2))}}class rn extends Po{construct(e,t,r){return new rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new rn(t)}static emptyPath(){return new rn([])}}const FH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Po{construct(e,t,r){return new Mr(e,t,r)}static isValidIdentifier(e){return FH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xk}static keyField(){return new Mr([Xk])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Pe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Pe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Pe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Pe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class Be{constructor(e){this.path=e}static fromPath(e){return new Be(rn.fromString(e))}static fromName(e){return new Be(rn.fromString(e).popFirst(5))}static empty(){return new Be(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new rn(e.slice()))}}function v2(n,e,t){if(!t)throw new Pe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zH(n,e,t,r){if(e===!0&&r===!0)throw new Pe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jk(n){if(!Be.isDocumentKey(n))throw new Pe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Zk(n){if(Be.isDocumentKey(n))throw new Pe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function w2(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Zv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function no(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zv(n);throw new Pe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Zn(n,e){const t={typeString:n};return e&&(t.value=e),t}function om(n,e){if(!w2(n))throw new Pe(de.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(s&&typeof o!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new Pe(de.INVALID_ARGUMENT,t);return!0}const eR=-62135596800,tR=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*tR);return new ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eR)throw new Pe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tR}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(om(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Zn("string",ht._jsonSchemaVersion),seconds:Zn("number"),nanoseconds:Zn("number")};class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new ht(0,0))}static max(){return new nt(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sp=-1;function UH(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=nt.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Bl(s,Be.empty(),e)}function $H(n){return new Bl(n.readTime,n.key,Sp)}class Bl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bl(nt.min(),Be.empty(),Sp)}static max(){return new Bl(nt.max(),Be.empty(),Sp)}}function BH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:xt(n.largestBatchId,e.largestBatchId))}const WH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ph(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==WH)throw n;Re("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.reject(t)}static resolve(e){return new fe(((t,r)=>{t(e)}))}static reject(e){return new fe(((t,r)=>{r(e)}))}static waitFor(e){return new fe(((t,r)=>{let s=0,i=0,o=!1;e.forEach((l=>{++s,l.next((()=>{++i,o&&i===s&&t()}),(u=>r(u)))})),o=!0,i===s&&t()}))}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next((s=>s?fe.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new fe(((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;t(e[d]).next((h=>{o[d]=h,++l,l===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,t){return new fe(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}function HH(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kh(n){return n.name==="IndexedDbTransactionError"}class ew{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ew.ce=-1;const fS=-1;function tw(n){return n==null}function Qy(n){return n===0&&1/n==-1/0}function KH(n){return typeof n=="number"&&Number.isInteger(n)&&!Qy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const _2="";function GH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nR(e)),e=YH(n.get(t),e);return nR(e)}function YH(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case _2:t+="";break;default:t+=i}}return t}function nR(n){return n+_2+""}function rR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function x2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class En{constructor(e,t){this.comparator=e,this.root=t||Or.EMPTY}insert(e,t){return new En(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ag(this.root,e,this.comparator,!0)}}class Ag{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Or{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Or.RED,this.left=s??Or.EMPTY,this.right=i??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Or(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Or.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1;Or.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Or(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sR(this.data.getIterator())}getIteratorFrom(e){return new sR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new lr(this.comparator);return t.data=e,t}}class sR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ci{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new ci([])}unionWith(e){let t=new lr(Mr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ci(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return eh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class b2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new b2("Invalid base64 string: "+i):i}})(e);return new Ur(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new Ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const QH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(n){if(Ut(!!n,39018),typeof n=="string"){let e=0;const t=QH.exec(n);if(Ut(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fn(n.seconds),nanos:Fn(n.nanos)}}function Fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ql(n){return typeof n=="string"?Ur.fromBase64String(n):Ur.fromUint8Array(n)}const S2="server_timestamp",T2="__type__",E2="__previous_value__",C2="__local_write_time__";function pS(n){return(n?.mapValue?.fields||{})[T2]?.stringValue===S2}function nw(n){const e=n.mapValue.fields[E2];return pS(e)?nw(e):e}function Tp(n){const e=Wl(n.mapValue.fields[C2].timestampValue);return new ht(e.seconds,e.nanos)}class XH{constructor(e,t,r,s,i,o,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const Xy="(default)";class Ep{constructor(e,t){this.projectId=e,this.database=t||Xy}static empty(){return new Ep("","")}get isDefaultDatabase(){return this.database===Xy}isEqual(e){return e instanceof Ep&&e.projectId===this.projectId&&e.database===this.database}}const P2="__type__",JH="__max__",Ig={mapValue:{}},k2="__vector__",Jy="value";function Hl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pS(n)?4:e7(n)?9007199254740991:ZH(n)?10:11:Ge(28295,{value:n})}function Qo(n,e){if(n===e)return!0;const t=Hl(n);if(t!==Hl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tp(n).isEqual(Tp(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Wl(s.timestampValue),l=Wl(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return ql(s.bytesValue).isEqual(ql(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Fn(s.geoPointValue.latitude)===Fn(i.geoPointValue.latitude)&&Fn(s.geoPointValue.longitude)===Fn(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Fn(s.integerValue)===Fn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Fn(s.doubleValue),l=Fn(i.doubleValue);return o===l?Qy(o)===Qy(l):isNaN(o)&&isNaN(l)}return!1})(n,e);case 9:return eh(n.arrayValue.values||[],e.arrayValue.values||[],Qo);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(rR(o)!==rR(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Qo(o[u],l[u])))return!1;return!0})(n,e);default:return Ge(52216,{left:n})}}function Cp(n,e){return(n.values||[]).find((t=>Qo(t,e)))!==void 0}function th(n,e){if(n===e)return 0;const t=Hl(n),r=Hl(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=Fn(i.integerValue||i.doubleValue),u=Fn(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(n,e);case 3:return iR(n.timestampValue,e.timestampValue);case 4:return iR(Tp(n),Tp(e));case 5:return nb(n.stringValue,e.stringValue);case 6:return(function(i,o){const l=ql(i),u=ql(o);return l.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const h=xt(l[d],u[d]);if(h!==0)return h}return xt(l.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=xt(Fn(i.latitude),Fn(o.latitude));return l!==0?l:xt(Fn(i.longitude),Fn(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return oR(n.arrayValue,e.arrayValue);case 10:return(function(i,o){const l=i.fields||{},u=o.fields||{},d=l[Jy]?.arrayValue,h=u[Jy]?.arrayValue,m=xt(d?.values?.length||0,h?.values?.length||0);return m!==0?m:oR(d,h)})(n.mapValue,e.mapValue);case 11:return(function(i,o){if(i===Ig.mapValue&&o===Ig.mapValue)return 0;if(i===Ig.mapValue)return 1;if(o===Ig.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const v=nb(u[m],h[m]);if(v!==0)return v;const w=th(l[u[m]],d[h[m]]);if(w!==0)return w}return xt(u.length,h.length)})(n.mapValue,e.mapValue);default:throw Ge(23264,{he:t})}}function iR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xt(n,e);const t=Wl(n),r=Wl(e),s=xt(t.seconds,r.seconds);return s!==0?s:xt(t.nanos,r.nanos)}function oR(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=th(t[s],r[s]);if(i)return i}return xt(t.length,r.length)}function nh(n){return rb(n)}function rb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Wl(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ql(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=rb(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${rb(t.fields[o])}`;return s+"}"})(n.mapValue):Ge(61005,{value:n})}function dy(n){switch(Hl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nw(n);return e?16+dy(e):16;case 5:return 2*n.stringValue.length;case 6:return ql(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+dy(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return nc(r.fields,((i,o)=>{s+=i.length+dy(o)})),s})(n.mapValue);default:throw Ge(13486,{value:n})}}function aR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sb(n){return!!n&&"integerValue"in n}function mS(n){return!!n&&"arrayValue"in n}function lR(n){return!!n&&"nullValue"in n}function cR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hy(n){return!!n&&"mapValue"in n}function ZH(n){return(n?.mapValue?.fields||{})[P2]?.stringValue===k2}function qf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return nc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=qf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qf(n.arrayValue.values[t]);return e}return{...n}}function e7(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JH}class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qf(t)}setAll(e){let t=Mr.emptyPath(),r={},s=[];e.forEach(((o,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,r,s),r={},s=[],t=l.popLast()}o?r[l.lastSegment()]=qf(o):s.push(l.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());hy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];hy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){nc(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Ls(qf(this.value))}}function R2(n){const e=[];return nc(n.fields,((t,r)=>{const s=new Mr([t]);if(hy(r)){const i=R2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new ci(e)}class ts{constructor(e,t,r,s,i,o,l){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ts(e,0,nt.min(),nt.min(),nt.min(),Ls.empty(),0)}static newFoundDocument(e,t,r,s){return new ts(e,1,t,nt.min(),r,s,0)}static newNoDocument(e,t){return new ts(e,2,t,nt.min(),nt.min(),Ls.empty(),0)}static newUnknownDocument(e,t){return new ts(e,3,t,nt.min(),nt.min(),Ls.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ts&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zy{constructor(e,t){this.position=e,this.inclusive=t}}function uR(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),t.key):r=th(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function dR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qo(n.position[t],e.position[t]))return!1;return!0}class Pp{constructor(e,t="asc"){this.field=e,this.dir=t}}function t7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class A2{}class Jn extends A2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new r7(e,t,r):t==="array-contains"?new o7(e,r):t==="in"?new a7(e,r):t==="not-in"?new l7(e,r):t==="array-contains-any"?new c7(e,r):new Jn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new s7(e,r):new i7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(th(t,this.value)):t!==null&&Hl(this.value)===Hl(t)&&this.matchesComparison(th(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ro extends A2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ro(e,t)}matches(e){return I2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function I2(n){return n.op==="and"}function N2(n){return n7(n)&&I2(n)}function n7(n){for(const e of n.filters)if(e instanceof ro)return!1;return!0}function ib(n){if(n instanceof Jn)return n.field.canonicalString()+n.op.toString()+nh(n.value);if(N2(n))return n.filters.map((e=>ib(e))).join(",");{const e=n.filters.map((t=>ib(t))).join(",");return`${n.op}(${e})`}}function D2(n,e){return n instanceof Jn?(function(r,s){return s instanceof Jn&&r.op===s.op&&r.field.isEqual(s.field)&&Qo(r.value,s.value)})(n,e):n instanceof ro?(function(r,s){return s instanceof ro&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,l)=>i&&D2(o,s.filters[l])),!0):!1})(n,e):void Ge(19439)}function j2(n){return n instanceof Jn?(function(t){return`${t.field.canonicalString()} ${t.op} ${nh(t.value)}`})(n):n instanceof ro?(function(t){return t.op.toString()+" {"+t.getFilters().map(j2).join(" ,")+"}"})(n):"Filter"}class r7 extends Jn{constructor(e,t,r){super(e,t,r),this.key=Be.fromName(r.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class s7 extends Jn{constructor(e,t){super(e,"in",t),this.keys=O2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class i7 extends Jn{constructor(e,t){super(e,"not-in",t),this.keys=O2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function O2(n,e){return(e.arrayValue?.values||[]).map((t=>Be.fromName(t.referenceValue)))}class o7 extends Jn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mS(t)&&Cp(t.arrayValue,this.value)}}class a7 extends Jn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cp(this.value.arrayValue,t)}}class l7 extends Jn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cp(this.value.arrayValue,t)}}class c7 extends Jn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mS(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Cp(this.value.arrayValue,r)))}}class u7{constructor(e,t=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function hR(n,e=null,t=[],r=[],s=null,i=null,o=null){return new u7(n,e,t,r,s,i,o)}function gS(n){const e=st(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>ib(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),tw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>nh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>nh(r))).join(",")),e.Te=t}return e.Te}function yS(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!D2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dR(n.startAt,e.startAt)&&dR(n.endAt,e.endAt)}function ob(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Rh{constructor(e,t=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d7(n,e,t,r,s,i,o,l){return new Rh(n,e,t,r,s,i,o,l)}function vS(n){return new Rh(n)}function fR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function M2(n){return n.collectionGroup!==null}function Hf(n){const e=st(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new lr(Mr.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Pp(i,r))})),t.has(Mr.keyField().canonicalString())||e.Ie.push(new Pp(Mr.keyField(),r))}return e.Ie}function Uo(n){const e=st(n);return e.Ee||(e.Ee=h7(e,Hf(n))),e.Ee}function h7(n,e){if(n.limitType==="F")return hR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Pp(s.field,i)}));const t=n.endAt?new Zy(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zy(n.startAt.position,n.startAt.inclusive):null;return hR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ab(n,e){const t=n.filters.concat([e]);return new Rh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function lb(n,e,t){return new Rh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rw(n,e){return yS(Uo(n),Uo(e))&&n.limitType===e.limitType}function L2(n){return`${gS(Uo(n))}|lt:${n.limitType}`}function pd(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>j2(s))).join(", ")}]`),tw(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>nh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>nh(s))).join(",")),`Target(${r})`})(Uo(n))}; limitType=${n.limitType})`}function sw(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Hf(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(o,l,u){const d=uR(o,l,u);return o.inclusive?d<=0:d<0})(r.startAt,Hf(r),s)||r.endAt&&!(function(o,l,u){const d=uR(o,l,u);return o.inclusive?d>=0:d>0})(r.endAt,Hf(r),s))})(n,e)}function f7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function V2(n){return(e,t)=>{let r=!1;for(const s of Hf(n)){const i=p7(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function p7(n,e,t){const r=n.field.isKeyField()?Be.comparator(e.key,t.key):(function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?th(u,d):Ge(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}class Su{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){nc(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return x2(this.inner)}size(){return this.innerSize}}const m7=new En(Be.comparator);function Na(){return m7}const F2=new En(Be.comparator);function Af(...n){let e=F2;for(const t of n)e=e.insert(t.key,t);return e}function z2(n){let e=F2;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Vc(){return Kf()}function U2(){return Kf()}function Kf(){return new Su((n=>n.toString()),((n,e)=>n.isEqual(e)))}const g7=new En(Be.comparator),y7=new lr(Be.comparator);function bt(...n){let e=y7;for(const t of n)e=e.add(t);return e}const v7=new lr(xt);function w7(){return v7}function wS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qy(e)?"-0":e}}function $2(n){return{integerValue:""+n}}function _7(n,e){return KH(e)?$2(e):wS(n,e)}class iw{constructor(){this._=void 0}}function x7(n,e,t){return n instanceof ev?(function(s,i){const o={fields:{[T2]:{stringValue:S2},[C2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&pS(i)&&(i=nw(i)),i&&(o.fields[E2]=i),{mapValue:o}})(t,e):n instanceof kp?W2(n,e):n instanceof Rp?q2(n,e):(function(s,i){const o=B2(s,i),l=pR(o)+pR(s.Ae);return sb(o)&&sb(s.Ae)?$2(l):wS(s.serializer,l)})(n,e)}function b7(n,e,t){return n instanceof kp?W2(n,e):n instanceof Rp?q2(n,e):t}function B2(n,e){return n instanceof tv?(function(r){return sb(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class ev extends iw{}class kp extends iw{constructor(e){super(),this.elements=e}}function W2(n,e){const t=H2(e);for(const r of n.elements)t.some((s=>Qo(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Rp extends iw{constructor(e){super(),this.elements=e}}function q2(n,e){let t=H2(e);for(const r of n.elements)t=t.filter((s=>!Qo(s,r)));return{arrayValue:{values:t}}}class tv extends iw{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function pR(n){return Fn(n.integerValue||n.doubleValue)}function H2(n){return mS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function S7(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof kp&&s instanceof kp||r instanceof Rp&&s instanceof Rp?eh(r.elements,s.elements,Qo):r instanceof tv&&s instanceof tv?Qo(r.Ae,s.Ae):r instanceof ev&&s instanceof ev})(n.transform,e.transform)}class T7{constructor(e,t){this.version=e,this.transformResults=t}}class Di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ow{}function K2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _S(n.key,Di.none()):new am(n.key,n.data,Di.none());{const t=n.data,r=Ls.empty();let s=new lr(Mr.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new rc(n.key,r,new ci(s.toArray()),Di.none())}}function E7(n,e,t){n instanceof am?(function(s,i,o){const l=s.value.clone(),u=gR(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(n,e,t):n instanceof rc?(function(s,i,o){if(!fy(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=gR(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(G2(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,e,t):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Gf(n,e,t,r){return n instanceof am?(function(i,o,l,u){if(!fy(i.precondition,o))return l;const d=i.value.clone(),h=yR(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof rc?(function(i,o,l,u){if(!fy(i.precondition,o))return l;const d=yR(i.fieldTransforms,u,o),h=o.data;return h.setAll(G2(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(i,o,l){return fy(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(n,e,t)}function C7(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=B2(r.transform,s||null);i!=null&&(t===null&&(t=Ls.empty()),t.set(r.field,i))}return t||null}function mR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&eh(r,s,((i,o)=>S7(i,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class am extends ow{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class rc extends ow{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function G2(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function gR(n,e,t){const r=new Map;Ut(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,b7(o,l,t[s]))}return r}function yR(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,x7(i,o,e))}return r}class _S extends ow{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P7 extends ow{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k7{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&E7(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=U2();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=t.has(s.key)?null:l;const u=K2(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(nt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),bt())}isEqual(e){return this.batchId===e.batchId&&eh(this.mutations,e.mutations,((t,r)=>mR(t,r)))&&eh(this.baseMutations,e.baseMutations,((t,r)=>mR(t,r)))}}class xS{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return g7})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new xS(e,t,r,s)}}let R7=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class A7{constructor(e,t){this.count=e,this.unchangedNames=t}}var Kn,At;function I7(n){switch(n){case de.OK:return Ge(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function Y2(n){if(n===void 0)return Ia("GRPC error has no .code"),de.UNKNOWN;switch(n){case Kn.OK:return de.OK;case Kn.CANCELLED:return de.CANCELLED;case Kn.UNKNOWN:return de.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return de.INTERNAL;case Kn.UNAVAILABLE:return de.UNAVAILABLE;case Kn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Kn.NOT_FOUND:return de.NOT_FOUND;case Kn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Kn.ABORTED:return de.ABORTED;case Kn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Kn.DATA_LOSS:return de.DATA_LOSS;default:return Ge(39323,{code:n})}}(At=Kn||(Kn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function N7(){return new TextEncoder}const D7=new Dl([4294967295,4294967295],0);function vR(n){const e=N7().encode(n),t=new u2;return t.update(e),new Uint8Array(t.digest())}function wR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Dl([t,r],0),new Dl([s,i],0)]}class bS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new If(`Invalid padding: ${t}`);if(r<0)throw new If(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new If(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new If(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Dl.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Dl.fromNumber(r)));return s.compare(D7)===1&&(s=new Dl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=vR(e),[r,s]=wR(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new bS(i,s,t);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const t=vR(e),[r,s]=wR(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class aw{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,lm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new aw(nt.min(),s,new En(xt),Na(),bt())}}class lm{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new lm(r,t,bt(),bt(),bt())}}class py{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class Q2{constructor(e,t){this.targetId=e,this.Ce=t}}class X2{constructor(e,t,r=Ur.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class _R{constructor(){this.ve=0,this.Fe=xR(),this.Me=Ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=bt(),t=bt(),r=bt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ge(38017,{changeType:i})}})),new lm(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=xR()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class j7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Na(),this.Je=Ng(),this.He=Ng(),this.Ye=new En(xt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(ob(i))if(r===0){const o=new Be(i.path);this.et(t,o,ts.newNoDocument(o,nt.min()))}else Ut(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,l;try{o=ql(r).toUint8Array()}catch(u){if(u instanceof b2)return Zd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new bS(o,s,i)}catch(u){return Zd(u instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&ob(l.target)){const u=new Be(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,ts.newNoDocument(u,e))}i.Be&&(t.set(o,i.ke()),i.qe())}}));let r=bt();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new aw(e,t,this.Ye,this.je,r);return this.je=Na(),this.Je=Ng(),this.He=Ng(),this.Ye=new En(xt),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _R,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new lr(xt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new lr(xt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _R),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ng(){return new En(Be.comparator)}function xR(){return new En(Be.comparator)}const O7={asc:"ASCENDING",desc:"DESCENDING"},M7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L7={and:"AND",or:"OR"};class V7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cb(n,e){return n.useProto3Json||tw(e)?e:{value:e}}function nv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function F7(n,e){return nv(n,e.toTimestamp())}function $o(n){return Ut(!!n,49232),nt.fromTimestamp((function(t){const r=Wl(t);return new ht(r.seconds,r.nanos)})(n))}function SS(n,e){return ub(n,e).canonicalString()}function ub(n,e){const t=(function(s){return new rn(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Z2(n){const e=rn.fromString(n);return Ut(sO(e),10190,{key:e.toString()}),e}function db(n,e){return SS(n.databaseId,e.path)}function k_(n,e){const t=Z2(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(tO(t))}function eO(n,e){return SS(n.databaseId,e)}function z7(n){const e=Z2(n);return e.length===4?rn.emptyPath():tO(e)}function hb(n){return new rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tO(n){return Ut(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function bR(n,e,t){return{name:db(n,e),fields:t.value.mapValue.fields}}function U7(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ge(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(d,h){return d.useProto3Json?(Ut(h===void 0||typeof h=="string",58123),Ur.fromBase64String(h||"")):(Ut(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ur.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const h=d.code===void 0?de.UNKNOWN:Y2(d.code);return new Pe(h,d.message||"")})(o);t=new X2(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=k_(n,r.document.name),i=$o(r.document.updateTime),o=r.document.createTime?$o(r.document.createTime):nt.min(),l=new Ls({mapValue:{fields:r.document.fields}}),u=ts.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];t=new py(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=k_(n,r.document),i=r.readTime?$o(r.readTime):nt.min(),o=ts.newNoDocument(s,i),l=r.removedTargetIds||[];t=new py([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=k_(n,r.document),i=r.removedTargetIds||[];t=new py([],i,s,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new A7(s,i),l=r.targetId;t=new Q2(l,o)}}return t}function $7(n,e){let t;if(e instanceof am)t={update:bR(n,e.key,e.value)};else if(e instanceof _S)t={delete:db(n,e.key)};else if(e instanceof rc)t={update:bR(n,e.key,e.data),updateMask:X7(e.fieldMask)};else{if(!(e instanceof P7))return Ge(16599,{Vt:e.type});t={verify:db(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const l=o.transform;if(l instanceof ev)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof kp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tv)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Ge(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:F7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ge(27497)})(n,e.precondition)),t}function B7(n,e){return n&&n.length>0?(Ut(e!==void 0,14353),n.map((t=>(function(s,i){let o=s.updateTime?$o(s.updateTime):$o(i);return o.isEqual(nt.min())&&(o=$o(i)),new T7(o,s.transformResults||[])})(t,e)))):[]}function W7(n,e){return{documents:[eO(n,e.path)]}}function q7(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=eO(n,s);const i=(function(d){if(d.length!==0)return rO(ro.create(d,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const o=(function(d){if(d.length!==0)return d.map((h=>(function(v){return{field:md(v.field),direction:G7(v.dir)}})(h)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=cb(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function H7(n){let e=z7(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ut(r===1,65062);const h=t.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=(function(m){const v=nO(m);return v instanceof ro&&N2(v)?v.getFilters():[v]})(t.where));let o=[];t.orderBy&&(o=(function(m){return m.map((v=>(function(T){return new Pp(gd(T.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(t.orderBy));let l=null;t.limit&&(l=(function(m){let v;return v=typeof m=="object"?m.value:m,tw(v)?null:v})(t.limit));let u=null;t.startAt&&(u=(function(m){const v=!!m.before,w=m.values||[];return new Zy(w,v)})(t.startAt));let d=null;return t.endAt&&(d=(function(m){const v=!m.before,w=m.values||[];return new Zy(w,v)})(t.endAt)),d7(e,s,o,i,l,"F",u,d)}function K7(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nO(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=gd(t.unaryFilter.field);return Jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gd(t.unaryFilter.field);return Jn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gd(t.unaryFilter.field);return Jn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gd(t.unaryFilter.field);return Jn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Jn.create(gd(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ro.create(t.compositeFilter.filters.map((r=>nO(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(t.compositeFilter.op))})(n):Ge(30097,{filter:n})}function G7(n){return O7[n]}function Y7(n){return M7[n]}function Q7(n){return L7[n]}function md(n){return{fieldPath:n.canonicalString()}}function gd(n){return Mr.fromServerFormat(n.fieldPath)}function rO(n){return n instanceof Jn?(function(t){if(t.op==="=="){if(cR(t.value))return{unaryFilter:{field:md(t.field),op:"IS_NAN"}};if(lR(t.value))return{unaryFilter:{field:md(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cR(t.value))return{unaryFilter:{field:md(t.field),op:"IS_NOT_NAN"}};if(lR(t.value))return{unaryFilter:{field:md(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:md(t.field),op:Y7(t.op),value:t.value}}})(n):n instanceof ro?(function(t){const r=t.getFilters().map((s=>rO(s)));return r.length===1?r[0]:{compositeFilter:{op:Q7(t.op),filters:r}}})(n):Ge(54877,{filter:n})}function X7(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class wl{constructor(e,t,r,s,i=nt.min(),o=nt.min(),l=Ur.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J7{constructor(e){this.yt=e}}function Z7(n){const e=H7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lb(e,e.limit,"L"):e}class eK{constructor(){this.Cn=new tK}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Bl.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Bl.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class tK{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new lr(rn.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new lr(rn.comparator)).toArray()}}const SR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iO=41943040;class Os{static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(iO,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class rh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rh(0)}static cr(){return new rh(-1)}}const TR="LruGarbageCollector",nK=1048576;function ER([n,e],[t,r]){const s=xt(n,t);return s===0?xt(e,r):s}class rK{constructor(e){this.Ir=e,this.buffer=new lr(ER),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ER(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sK{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(TR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){kh(t)?Re(TR,"Ignoring IndexedDB error during garbage collection: ",t):await Ph(t)}await this.Vr(3e5)}))}}class iK{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(ew.ce);const r=new rK(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(SR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SR):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,o,l,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,t)))).next((m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),fd()<=_t.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function oK(n,e){return new iK(n,e)}class aK{constructor(){this.changes=new Su((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ts.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lK{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cK{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Gf(r.mutation,s,ci.empty(),ht.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,bt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=bt()){const s=Vc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let o=Af();return i.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=Vc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,bt())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,l)=>{t.set(o,l)}))}))}computeViews(e,t,r,s){let i=Na();const o=Kf(),l=(function(){return Kf()})();return t.forEach(((u,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof rc)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Gf(h.mutation,d,h.mutation.getFieldMask(),ht.now())):o.set(d.key,ci.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((d,h)=>o.set(d,h))),t.forEach(((d,h)=>l.set(d,new lK(h,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,t){const r=Kf();let s=new En(((o,l)=>o-l)),i=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const l of o)l.keys().forEach((u=>{const d=t.get(u);if(d===null)return;let h=r.get(u)||ci.empty();h=l.applyToLocalView(d,h),r.set(u,h);const m=(s.get(l.batchId)||bt()).add(u);s=s.insert(l.batchId,m)}))})).next((()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,h=u.value,m=U2();h.forEach((v=>{if(!i.has(v)){const w=K2(t.get(v),r.get(v));w!==null&&m.set(v,w),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return fe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):M2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):fe.resolve(Vc());let l=Sp,u=i;return o.next((d=>fe.forEach(d,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{u=u.insert(h,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,u,d,bt()))).next((h=>({batchId:l,changes:z2(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next((r=>{let s=Af();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Af();return this.indexManager.getCollectionParents(e,i).next((l=>fe.forEach(l,(u=>{const d=(function(m,v){return new Rh(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((h=>{h.forEach(((m,v)=>{o=o.insert(m,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((o=>{i.forEach(((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,ts.newInvalidDocument(h)))}));let l=Af();return o.forEach(((u,d)=>{const h=i.get(u);h!==void 0&&Gf(h.mutation,d,ci.empty(),ht.now()),sw(t,d)&&(l=l.insert(u,d))})),l}))}}class uK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:$o(s.createTime)}})(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:Z7(s.bundledQuery),readTime:$o(s.readTime)}})(t)),fe.resolve()}}class dK{constructor(){this.overlays=new En(Be.comparator),this.qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vc();return fe.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),fe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const s=Vc(),i=t.length+1,o=new Be(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new En(((d,h)=>d-h));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Vc(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Vc(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,h)=>l.set(d,h))),!(l.size()>=s)););return fe.resolve(l)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new R7(t,r));let i=this.qr.get(t);i===void 0&&(i=bt(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}class hK{constructor(){this.sessionToken=Ur.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}class TS{constructor(){this.Qr=new lr(_r.$r),this.Ur=new lr(_r.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new _r(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new _r(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Be(new rn([])),r=new _r(t,e),s=new _r(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Be(new rn([])),r=new _r(t,e),s=new _r(t,e+1);let i=bt();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const t=new _r(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class _r{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Be.comparator(e.key,t.key)||xt(e.Yr,t.Yr)}static Kr(e,t){return xt(e.Yr,t.Yr)||Be.comparator(e.key,t.key)}}class fK{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new lr(_r.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new k7(i,t,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new _r(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,t){return fe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return fe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?fS:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _r(t,0),s=new _r(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const l=this.Xr(o.Yr);i.push(l)})),fe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(xt);return t.forEach((s=>{const i=new _r(s,0),o=new _r(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{r=r.add(l.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Be.isDocumentKey(i)||(i=i.child(""));const o=new _r(new Be(i),0);let l=new lr(xt);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.Yr)),!0)}),o),fe.resolve(this.ti(l))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ut(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(t.mutations,(s=>{const i=new _r(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new _r(t,0),s=this.Zr.firstAfterOrEqual(r);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pK{constructor(e){this.ri=e,this.docs=(function(){return new En(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():ts.newInvalidDocument(t))}getEntries(e,t){let r=Na();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ts.newInvalidDocument(s))})),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Na();const o=t.path,l=new Be(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||BH($H(h),r)<=0||(s.has(h.key)||sw(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return fe.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Ge(9500)}ii(e,t){return fe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new mK(this)}getSize(e){return fe.resolve(this.size)}}class mK extends aK{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),fe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class gK{constructor(e){this.persistence=e,this.si=new Su((t=>gS(t)),yS),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.oi=0,this._i=new TS,this.targetCount=0,this.ai=rh.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),fe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new rh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Pr(t),fe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)})),fe.waitFor(i).next((()=>s))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),fe.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this._i.containsKey(t))}}class oO{constructor(e,t){this.ui={},this.overlays={},this.ci=new ew(0),this.li=!1,this.li=!0,this.hi=new hK,this.referenceDelegate=e(this),this.Pi=new gK(this),this.indexManager=new eK,this.remoteDocumentCache=(function(s){return new pK(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new J7(t),this.Ii=new uK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dK,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new fK(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const s=new yK(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class yK extends qH{constructor(e){super(),this.currentSequenceNumber=e}}class ES{constructor(e){this.persistence=e,this.Ri=new TS,this.Vi=null}static mi(e){return new ES(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const s=Be.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,nt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return fe.or([()=>fe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class rv{constructor(e,t){this.persistence=e,this.pi=new Su((r=>GH(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=oK(this,t)}static mi(e,t){return new rv(e,t)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return fe.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?fe.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,t).next((l=>{l||(r++,i.removeEntry(o,nt.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dy(e.data.value)),t}br(e,t,r){return fe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return fe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class CS{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=bt(),s=bt();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new CS(e,t.fromCache,r,s)}}class vK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wK{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return c8()?8:HH(os())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new vK;return this.Ss(e,t,o).next((l=>{if(i.result=l,this.Vs)return this.bs(e,t,o,l.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(fd()<=_t.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",pd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(fd()<=_t.DEBUG&&Re("QueryEngine","Query:",pd(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(fd()<=_t.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",pd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Uo(t))):fe.resolve())}ys(e,t){if(fR(t))return fe.resolve(null);let r=Uo(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=lb(t,null,"F"),r=Uo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=bt(...i);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(t,l);return this.Cs(t,d,o,u.readTime)?this.ys(e,lb(t,null,"F")):this.vs(e,d,t,u)}))))})))))}ws(e,t,r,s){return fR(t)||s.isEqual(nt.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(t,i);return this.Cs(t,o,r,s)?fe.resolve(null):(fd()<=_t.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pd(t)),this.vs(e,o,t,UH(s,Sp)).next((l=>l)))}))}Ds(e,t){let r=new lr(V2(e));return t.forEach(((s,i)=>{sw(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return fd()<=_t.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",pd(t)),this.ps.getDocumentsMatchingQuery(e,t,Bl.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const PS="LocalStore",_K=3e8;class xK{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new En(xt),this.xs=new Su((i=>gS(i)),yS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cK(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function bK(n,e,t,r){return new xK(n,e,t,r)}async function aO(n,e){const t=st(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],l=[];let u=bt();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function SK(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,h){const m=d.batch,v=m.keys();let w=fe.resolve();return v.forEach((T=>{w=w.next((()=>h.getEntry(u,T))).next((_=>{const S=d.docVersions.get(T);Ut(S!==null,48541),_.version.compareTo(S)<0&&(m.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))}))})),w.next((()=>l.mutationQueue.removeMutationBatch(u,m)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=bt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function lO(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function TK(n,e){const t=st(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const l=[];e.targetChanges.forEach(((h,m)=>{const v=s.get(m);if(!v)return;l.push(t.Pi.removeMatchingKeys(i,h.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,h.addedDocuments,m))));let w=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(Ur.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),s=s.insert(m,w),(function(_,S,R){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=_K?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(v,w,h)&&l.push(t.Pi.updateTargetData(i,w))}));let u=Na(),d=bt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))})),l.push(EK(i,o,e.documentUpdates).next((h=>{u=h.ks,d=h.qs}))),!r.isEqual(nt.min())){const h=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(h)}return fe.waitFor(l).next((()=>o.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,u,d))).next((()=>u))})).then((i=>(t.Ms=s,i)))}function EK(n,e,t){let r=bt(),s=bt();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let o=Na();return t.forEach(((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(nt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Re(PS,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:s}}))}function CK(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fS),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function PK(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,fe.resolve(s)):t.Pi.allocateTargetId(r).next((o=>(s=new wl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function fb(n,e,t){const r=st(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!kh(o))throw o;Re(PS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function CR(n,e,t){const r=st(n);let s=nt.min(),i=bt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,h){const m=st(u),v=m.xs.get(h);return v!==void 0?fe.resolve(m.Ms.get(v)):m.Pi.getTargetData(d,h)})(r,o,Uo(e)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{i=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,t?s:nt.min(),t?i:bt()))).next((l=>(kK(r,f7(e),l),{documents:l,Qs:i})))))}function kK(n,e,t){let r=n.Os.get(e)||nt.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class PR{constructor(){this.activeTargetIds=w7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RK{constructor(){this.Mo=new PR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new PR,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AK{Oo(e){}shutdown(){}}const kR="ConnectivityMonitor";class RR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(kR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(kR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dg=null;function pb(){return Dg===null?Dg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dg++,"0x"+Dg.toString(16)}const R_="RestConnection",IK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Xy?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const o=pb(),l=this.zo(e,t.toUriEncodedString());Re(R_,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(l),h=Sh(d);return this.Jo(e,l,u,r,h).then((m=>(Re(R_,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw Zd(R_,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m}))}Ho(e,t,r,s,i,o){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ch})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=IK[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class DK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Qr="WebChannelConnection";class jK extends NK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const o=pb();return new Promise(((l,u)=>{const d=new d2;d.setWithCredentials(!0),d.listenOnce(h2.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case uy.NO_ERROR:const m=d.getResponseJson();Re(Qr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case uy.TIMEOUT:Re(Qr,`RPC '${e}' ${o} timed out`),u(new Pe(de.DEADLINE_EXCEEDED,"Request time out"));break;case uy.HTTP_ERROR:const v=d.getStatus();if(Re(Qr,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w?.error;if(T&&T.status&&T.message){const _=(function(R){const k=R.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(k)>=0?k:de.UNKNOWN})(T.status);u(new Pe(_,T.message))}else u(new Pe(de.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Pe(de.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Re(Qr,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);Re(Qr,`RPC '${e}' ${o} sending request:`,s),d.send(t,"POST",h,r,15)}))}T_(e,t,r){const s=pb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=m2(),l=p2(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const h=i.join("");Re(Qr,`Creating RPC '${e}' stream ${s}: ${h}`,u);const m=o.createWebChannel(h,u);this.I_(m);let v=!1,w=!1;const T=new DK({Yo:S=>{w?Re(Qr,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(v||(Re(Qr,`Opening RPC '${e}' stream ${s} transport.`),m.open(),v=!0),Re(Qr,`RPC '${e}' stream ${s} sending:`,S),m.send(S))},Zo:()=>m.close()}),_=(S,R,k)=>{S.listen(R,(j=>{try{k(j)}catch(I){setTimeout((()=>{throw I}),0)}}))};return _(m,Rf.EventType.OPEN,(()=>{w||(Re(Qr,`RPC '${e}' stream ${s} transport opened.`),T.o_())})),_(m,Rf.EventType.CLOSE,(()=>{w||(w=!0,Re(Qr,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(m))})),_(m,Rf.EventType.ERROR,(S=>{w||(w=!0,Zd(Qr,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),T.a_(new Pe(de.UNAVAILABLE,"The operation could not be completed")))})),_(m,Rf.EventType.MESSAGE,(S=>{if(!w){const R=S.data[0];Ut(!!R,16349);const k=R,j=k?.error||k[0]?.error;if(j){Re(Qr,`RPC '${e}' stream ${s} received error:`,j);const I=j.status;let L=(function(A){const D=Kn[A];if(D!==void 0)return Y2(D)})(I),z=j.message;L===void 0&&(L=de.INTERNAL,z="Unknown error status: "+I+" with message "+j.message),w=!0,T.a_(new Pe(L,z)),m.close()}else Re(Qr,`RPC '${e}' stream ${s} received:`,R),T.u_(R)}})),_(l,f2.STAT_EVENT,(S=>{S.stat===tb.PROXY?Re(Qr,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===tb.NOPROXY&&Re(Qr,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function A_(){return typeof document<"u"?document:null}function lw(n){return new V7(n,!0)}class cO{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const AR="PersistentStream";class uO{constructor(e,t,r,s,i,o,l,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cO(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Ia(t.toString()),Ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Pe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(AR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Re(AR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OK extends uO{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=U7(this.serializer,e),r=(function(i){if(!("targetChange"in i))return nt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?nt.min():o.readTime?$o(o.readTime):nt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=hb(this.serializer),t.addTarget=(function(i,o){let l;const u=o.target;if(l=ob(u)?{documents:W7(i,u)}:{query:q7(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=J2(i,o.resumeToken);const d=cb(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(nt.min())>0){l.readTime=nv(i,o.snapshotVersion.toTimestamp());const d=cb(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=K7(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=hb(this.serializer),t.removeTarget=e,this.q_(t)}}class MK extends uO{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=B7(e.writeResults,e.commitTime),r=$o(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=hb(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>$7(this.serializer,r)))};this.q_(t)}}class LK{}class VK extends LK{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Pe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,ub(t,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(de.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,ub(t,r),s,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(de.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FK{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ia(t),this.aa=!1):Re("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fu="RemoteStore";class zK{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Tu(this)&&(Re(fu,"Restarting streams for network reachability change."),await(async function(u){const d=st(u);d.Ea.add(4),await cm(d),d.Ra.set("Unknown"),d.Ea.delete(4),await cw(d)})(this))}))})),this.Ra=new FK(r,s)}}async function cw(n){if(Tu(n))for(const e of n.da)await e(!0)}async function cm(n){for(const e of n.da)await e(!1)}function dO(n,e){const t=st(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),IS(t)?AS(t):Ah(t).O_()&&RS(t,e))}function kS(n,e){const t=st(n),r=Ah(t);t.Ia.delete(e),r.O_()&&hO(t,e),t.Ia.size===0&&(r.O_()?r.L_():Tu(t)&&t.Ra.set("Unknown"))}function RS(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ah(n).Y_(e)}function hO(n,e){n.Va.Ue(e),Ah(n).Z_(e)}function AS(n){n.Va=new j7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ah(n).start(),n.Ra.ua()}function IS(n){return Tu(n)&&!Ah(n).x_()&&n.Ia.size>0}function Tu(n){return st(n).Ea.size===0}function fO(n){n.Va=void 0}async function UK(n){n.Ra.set("Online")}async function $K(n){n.Ia.forEach(((e,t)=>{RS(n,e)}))}async function BK(n,e){fO(n),IS(n)?(n.Ra.ha(e),AS(n)):n.Ra.set("Unknown")}async function WK(n,e,t){if(n.Ra.set("Online"),e instanceof X2&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))})(n,e)}catch(r){Re(fu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sv(n,r)}else if(e instanceof py?n.Va.Ze(e):e instanceof Q2?n.Va.st(e):n.Va.tt(e),!t.isEqual(nt.min()))try{const r=await lO(n.localStore);t.compareTo(r)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,d)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(Ur.EMPTY_BYTE_STRING,h.snapshotVersion)),hO(i,u);const m=new wl(h.target,u,d,h.sequenceNumber);RS(i,m)})),i.remoteSyncer.applyRemoteEvent(l)})(n,t)}catch(r){Re(fu,"Failed to raise snapshot:",r),await sv(n,r)}}async function sv(n,e,t){if(!kh(e))throw e;n.Ea.add(1),await cm(n),n.Ra.set("Offline"),t||(t=()=>lO(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Re(fu,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cw(n)}))}function pO(n,e){return e().catch((t=>sv(n,t,e)))}async function uw(n){const e=st(n),t=Kl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fS;for(;qK(e);)try{const s=await CK(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,HK(e,s)}catch(s){await sv(e,s)}mO(e)&&gO(e)}function qK(n){return Tu(n)&&n.Ta.length<10}function HK(n,e){n.Ta.push(e);const t=Kl(n);t.O_()&&t.X_&&t.ea(e.mutations)}function mO(n){return Tu(n)&&!Kl(n).x_()&&n.Ta.length>0}function gO(n){Kl(n).start()}async function KK(n){Kl(n).ra()}async function GK(n){const e=Kl(n);for(const t of n.Ta)e.ea(t.mutations)}async function YK(n,e,t){const r=n.Ta.shift(),s=xS.from(r,e,t);await pO(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await uw(n)}async function QK(n,e){e&&Kl(n).X_&&await(async function(r,s){if((function(o){return I7(o)&&o!==de.ABORTED})(s.code)){const i=r.Ta.shift();Kl(r).B_(),await pO(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await uw(r)}})(n,e),mO(n)&&gO(n)}async function IR(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),Re(fu,"RemoteStore received new credentials");const r=Tu(t);t.Ea.add(3),await cm(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cw(t)}async function XK(n,e){const t=st(n);e?(t.Ea.delete(2),await cw(t)):e||(t.Ea.add(2),await cm(t),t.Ra.set("Unknown"))}function Ah(n){return n.ma||(n.ma=(function(t,r,s){const i=st(t);return i.sa(),new OK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:UK.bind(null,n),t_:$K.bind(null,n),r_:BK.bind(null,n),H_:WK.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),IS(n)?AS(n):n.Ra.set("Unknown")):(await n.ma.stop(),fO(n))}))),n.ma}function Kl(n){return n.fa||(n.fa=(function(t,r,s){const i=st(t);return i.sa(),new MK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:KK.bind(null,n),r_:QK.bind(null,n),ta:GK.bind(null,n),na:YK.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await uw(n)):(await n.fa.stop(),n.Ta.length>0&&(Re(fu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class NS{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,l=new NS(e,t,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function DS(n,e){if(Ia("AsyncQueue",`${e}: ${n}`),kh(n))return new Pe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Nd{static emptySet(e){return new Nd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Be.comparator(t.key,r.key):(t,r)=>Be.comparator(t.key,r.key),this.keyedMap=Af(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class NR{constructor(){this.ga=new En(Be.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class sh{constructor(e,t,r,s,i,o,l,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach((l=>{o.push({type:0,doc:l})})),new sh(e,t,Nd.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class JK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZK{constructor(){this.queries=DR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=st(t),i=s.queries;s.queries=DR(),i.forEach(((o,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new Pe(de.ABORTED,"Firestore shutting down"))}}function DR(){return new Su((n=>L2(n)),rw)}async function yO(n,e){const t=st(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new JK,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const l=DS(o,`Initialization of query '${pd(e.query)}' failed`);return void e.onError(l)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&jS(t)}async function vO(n,e){const t=st(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function eG(n,e){const t=st(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&jS(t)}function tG(n,e,t){const r=st(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function jS(n){n.Ca.forEach((e=>{e.next()}))}var mb,jR;(jR=mb||(mb={})).Ma="default",jR.Cache="cache";class wO{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mb.Cache}}class _O{constructor(e){this.key=e}}class xO{constructor(e){this.key=e}}class nG{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=bt(),this.mutatedKeys=bt(),this.eu=V2(e),this.tu=new Nd(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new NR,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,m)=>{const v=s.get(h),w=sw(this.query,m)?m:null,T=!!v&&this.mutatedKeys.has(v.key),_=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;v&&w?v.data.isEqual(w.data)?T!==_&&(r.track({type:3,doc:w}),S=!0):this.su(v,w)||(r.track({type:2,doc:w}),S=!0,(u&&this.eu(w,u)>0||d&&this.eu(w,d)<0)&&(l=!0)):!v&&w?(r.track({type:0,doc:w}),S=!0):v&&!w&&(r.track({type:1,doc:v}),S=!0,(u||d)&&(l=!0)),S&&(w?(o=o.add(w),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,m)=>(function(w,T){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:S})}};return _(w)-_(T)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),s=s??!1;const l=t&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new sh(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new xO(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new _O(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=bt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const OS="SyncEngine";class rG{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class sG{constructor(e){this.key=e,this.hu=!1}}class iG{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Su((l=>L2(l)),rw),this.Iu=new Map,this.Eu=new Set,this.du=new En(Be.comparator),this.Au=new Map,this.Ru=new TS,this.Vu={},this.mu=new Map,this.fu=rh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oG(n,e,t=!0){const r=PO(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await bO(r,e,t,!0),s}async function aG(n,e){const t=PO(n);await bO(t,e,!0,!1)}async function bO(n,e,t,r){const s=await PK(n.localStore,Uo(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let l;return r&&(l=await lG(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&dO(n.remoteStore,s),l}async function lG(n,e,t,r,s){n.pu=(m,v,w)=>(async function(_,S,R,k){let j=S.view.ru(R);j.Cs&&(j=await CR(_.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,j))));const I=k&&k.targetChanges.get(S.targetId),L=k&&k.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(j,_.isPrimaryClient,I,L);return MR(_,S.targetId,z.au),z.snapshot})(n,m,v,w);const i=await CR(n.localStore,e,!0),o=new nG(e,i.Qs),l=o.ru(i.documents),u=lm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=o.applyChanges(l,n.isPrimaryClient,u);MR(n,t,d.au);const h=new rG(e,t,o);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function cG(n,e,t){const r=st(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!rw(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await fb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&kS(r.remoteStore,s.targetId),gb(r,s.targetId)})).catch(Ph)):(gb(r,s.targetId),await fb(r.localStore,s.targetId,!0))}async function uG(n,e){const t=st(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kS(t.remoteStore,r.targetId))}async function dG(n,e,t){const r=vG(n);try{const s=await(function(o,l){const u=st(o),d=ht.now(),h=l.reduce(((w,T)=>w.add(T.key)),bt());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=Na(),_=bt();return u.Ns.getEntries(w,h).next((S=>{T=S,T.forEach(((R,k)=>{k.isValidDocument()||(_=_.add(R))}))})).next((()=>u.localDocuments.getOverlayedDocuments(w,T))).next((S=>{m=S;const R=[];for(const k of l){const j=C7(k,m.get(k.key).overlayedDocument);j!=null&&R.push(new rc(k.key,j,R2(j.value.mapValue),Di.exists(!0)))}return u.mutationQueue.addMutationBatch(w,d,R,l)})).next((S=>{v=S;const R=S.applyToLocalDocumentSet(m,_);return u.documentOverlayCache.saveOverlays(w,S.batchId,R)}))})).then((()=>({batchId:v.batchId,changes:z2(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new En(xt)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d})(r,s.batchId,t),await um(r,s.changes),await uw(r.remoteStore)}catch(s){const i=DS(s,"Failed to persist write");t.reject(i)}}async function SO(n,e){const t=st(n);try{const r=await TK(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=t.Au.get(i);o&&(Ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ut(o.hu,14607):s.removedDocuments.size>0&&(Ut(o.hu,42227),o.hu=!1))})),await um(t,r,e)}catch(r){await Ph(r)}}function OR(n,e,t){const r=st(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)})),(function(o,l){const u=st(o);u.onlineState=l;let d=!1;u.queries.forEach(((h,m)=>{for(const v of m.Sa)v.va(l)&&(d=!0)})),d&&jS(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hG(n,e,t){const r=st(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new En(Be.comparator);o=o.insert(i,ts.newNoDocument(i,nt.min()));const l=bt().add(i),u=new aw(nt.min(),new Map,new En(xt),o,l);await SO(r,u),r.du=r.du.remove(i),r.Au.delete(e),MS(r)}else await fb(r.localStore,e,!1).then((()=>gb(r,e,t))).catch(Ph)}async function fG(n,e){const t=st(n),r=e.batch.batchId;try{const s=await SK(t.localStore,e);EO(t,r,null),TO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await um(t,s)}catch(s){await Ph(s)}}async function pG(n,e,t){const r=st(n);try{const s=await(function(o,l){const u=st(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return u.mutationQueue.lookupMutationBatch(d,l).next((m=>(Ut(m!==null,37113),h=m.keys(),u.mutationQueue.removeMutationBatch(d,m)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>u.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);EO(r,e,t),TO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await um(r,s)}catch(s){await Ph(s)}}function TO(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function EO(n,e,t){const r=st(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function gb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||CO(n,r)}))}function CO(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(kS(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),MS(n))}function MR(n,e,t){for(const r of t)r instanceof _O?(n.Ru.addReference(r.key,e),mG(n,r)):r instanceof xO?(Re(OS,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||CO(n,r.key)):Ge(19791,{wu:r})}function mG(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Re(OS,"New document in limbo: "+t),n.Eu.add(r),MS(n))}function MS(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Be(rn.fromString(e)),r=n.fu.next();n.Au.set(r,new sG(t)),n.du=n.du.insert(t,r),dO(n.remoteStore,new wl(Uo(vS(t.path)),r,"TargetPurposeLimboResolution",ew.ce))}}async function um(n,e,t){const r=st(n),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{o.push(r.pu(u,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const h=d?!d.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(d){s.push(d);const h=CS.As(u.targetId,d);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,d){const h=st(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>fe.forEach(d,(v=>fe.forEach(v.Es,(w=>h.persistence.referenceDelegate.addReference(m,v.targetId,w))).next((()=>fe.forEach(v.ds,(w=>h.persistence.referenceDelegate.removeReference(m,v.targetId,w)))))))))}catch(m){if(!kh(m))throw m;Re(PS,"Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const w=h.Ms.get(v),T=w.snapshotVersion,_=w.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(v,_)}}})(r.localStore,i))}async function gG(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){Re(OS,"User change. New user:",e.toKey());const r=await aO(t.localStore,e);t.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new Pe(de.CANCELLED,o))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await um(t,r.Ls)}}function yG(n,e){const t=st(n),r=t.Au.get(e);if(r&&r.hu)return bt().add(r.key);{let s=bt();const i=t.Iu.get(e);if(!i)return s;for(const o of i){const l=t.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function PO(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hG.bind(null,e),e.Pu.H_=eG.bind(null,e.eventManager),e.Pu.yu=tG.bind(null,e.eventManager),e}function vG(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pG.bind(null,e),e}class iv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bK(this.persistence,new wK,e.initialUser,this.serializer)}Cu(e){return new oO(ES.mi,this.serializer)}Du(e){return new RK}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}iv.provider={build:()=>new iv};class wG extends iv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ut(this.persistence.referenceDelegate instanceof rv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sK(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new oO((r=>rv.mi(r,t)),this.serializer)}}class yb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gG.bind(null,this.syncEngine),await XK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZK})()}createDatastore(e){const t=lw(e.databaseInfo.databaseId),r=(function(i){return new jK(i)})(e.databaseInfo);return(function(i,o,l,u){return new VK(i,o,l,u)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,o,l){return new zK(r,s,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>OR(this.syncEngine,t,0)),(function(){return RR.v()?new RR:new AK})())}createSyncEngine(e,t){return(function(s,i,o,l,u,d,h){const m=new iG(s,i,o,l,u,d);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=st(t);Re(fu,"RemoteStore shutting down."),r.Ea.add(5),await cm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yb.provider={build:()=>new yb};class kO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ia("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Gl="FirestoreClient";class _G{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Jr.UNAUTHENTICATED,this.clientId=hS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Re(Gl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Re(Gl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=DS(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function I_(n,e){n.asyncQueue.verifyOperationInProgress(),Re(Gl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await aO(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function LR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await xG(n);Re(Gl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>IR(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>IR(e.remoteStore,s))),n._onlineComponents=e}async function xG(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re(Gl,"Using user provided OfflineComponentProvider");try{await I_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Zd("Error using user provided cache. Falling back to memory cache: "+t),await I_(n,new iv)}}else Re(Gl,"Using default OfflineComponentProvider"),await I_(n,new wG(void 0));return n._offlineComponents}async function RO(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re(Gl,"Using user provided OnlineComponentProvider"),await LR(n,n._uninitializedComponentsProvider._online)):(Re(Gl,"Using default OnlineComponentProvider"),await LR(n,new yb))),n._onlineComponents}function bG(n){return RO(n).then((e=>e.syncEngine))}async function AO(n){const e=await RO(n),t=e.eventManager;return t.onListen=oG.bind(null,e.syncEngine),t.onUnlisten=cG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aG.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uG.bind(null,e.syncEngine),t}function SG(n,e,t={}){const r=new Ea;return n.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const h=new kO({next:v=>{h.Nu(),o.enqueueAndForget((()=>vO(i,m)));const w=v.docs.has(l);!w&&v.fromCache?d.reject(new Pe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&u&&u.source==="server"?d.reject(new Pe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new wO(vS(l.path),h,{includeMetadataChanges:!0,qa:!0});return yO(i,m)})(await AO(n),n.asyncQueue,e,t,r))),r.promise}function TG(n,e,t={}){const r=new Ea;return n.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const h=new kO({next:v=>{h.Nu(),o.enqueueAndForget((()=>vO(i,m))),v.fromCache&&u.source==="server"?d.reject(new Pe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new wO(l,h,{includeMetadataChanges:!0,qa:!0});return yO(i,m)})(await AO(n),n.asyncQueue,e,t,r))),r.promise}function IO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const VR=new Map;const NO="firestore.googleapis.com",FR=!0;class zR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NO,this.ssl=FR}else this.host=e.host,this.ssl=e.ssl??FR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nK)throw new Pe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IO(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Pe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Pe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Pe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dw{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new AH;switch(r.type){case"firstParty":return new jH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=VR.get(t);r&&(Re("ComponentProvider","Removing Datastore"),VR.delete(t),r.terminate())})(this),Promise.resolve()}}function EG(n,e,t,r={}){n=no(n,dw);const s=Sh(e),i=n._getSettings(),o={...i,emulatorOptions:n._getEmulatorOptions()},l=`${e}:${t}`;s&&(Cj(`https://${l}`),Pj("Firestore",!0)),i.host!==NO&&i.host!==l&&Zd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!cu(u,o)&&(n._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Jr.MOCK_USER;else{d=e8(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Pe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Jr(m)}n._authCredentials=new IH(new y2(d,h))}}class Eu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eu(this.firestore,e,this._query)}}class Un{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}toJSON(){return{type:Un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(om(t,Un._jsonSchema))return new Un(e,r||null,new Be(rn.fromString(t.referencePath)))}}Un._jsonSchemaVersion="firestore/documentReference/1.0",Un._jsonSchema={type:Zn("string",Un._jsonSchemaVersion),referencePath:Zn("string")};class jl extends Eu{constructor(e,t,r){super(e,t,vS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Be(e))}withConverter(e){return new jl(this.firestore,e,this._path)}}function Dn(n,e,...t){if(n=zr(n),v2("collection","path",e),n instanceof dw){const r=rn.fromString(e,...t);return Zk(r),new jl(n,null,r)}{if(!(n instanceof Un||n instanceof jl))throw new Pe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return Zk(r),new jl(n.firestore,null,r)}}function ut(n,e,...t){if(n=zr(n),arguments.length===1&&(e=hS.newId()),v2("doc","path",e),n instanceof dw){const r=rn.fromString(e,...t);return Jk(r),new Un(n,null,new Be(r))}{if(!(n instanceof Un||n instanceof jl))throw new Pe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return Jk(r),new Un(n.firestore,n instanceof jl?n.converter:null,new Be(r))}}const UR="AsyncQueue";class $R{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cO(this,"async_queue_retry"),this._c=()=>{const r=A_();r&&Re(UR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=A_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=A_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kh(e))throw e;Re(UR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ia("INTERNAL UNHANDLED ERROR: ",BR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=NS.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Ge(47125,{Pc:BR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function BR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Cu extends dw{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new $R,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $R(e),this._firestoreClient=void 0,await e}}}function CG(n,e){const t=typeof n=="object"?n:Ij(),r=typeof n=="string"?n:Xy,s=eS(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=J9("firestore");i&&EG(s,...i)}return s}function LS(n){if(n._terminated)throw new Pe(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PG(n),n._firestoreClient}function PG(n){const e=n._freezeSettings(),t=(function(s,i,o,l){return new XH(s,i,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,IO(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new _G(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}class Pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pi(Ur.fromBase64String(e))}catch(t){throw new Pe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pi(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(om(e,Pi._jsonSchema))return Pi.fromBase64String(e.bytes)}}Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:Zn("string",Pi._jsonSchemaVersion),bytes:Zn("string")};class hw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class VS{constructor(e){this._methodName=e}}class Bo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bo._jsonSchemaVersion}}static fromJSON(e){if(om(e,Bo._jsonSchema))return new Bo(e.latitude,e.longitude)}}Bo._jsonSchemaVersion="firestore/geoPoint/1.0",Bo._jsonSchema={type:Zn("string",Bo._jsonSchemaVersion),latitude:Zn("number"),longitude:Zn("number")};class Wo{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(om(e,Wo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Wo(e.vectorValues);throw new Pe(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wo._jsonSchemaVersion="firestore/vectorValue/1.0",Wo._jsonSchema={type:Zn("string",Wo._jsonSchemaVersion),vectorValues:Zn("object")};const kG=/^__.*__$/;class RG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new am(e,this.data,t,this.fieldTransforms)}}class DO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:n})}}class FS{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new FS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ov(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jO(this.Ac)&&kG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lw(e)}Cc(e,t,r,s=!1){return new FS({Ac:e,methodName:t,Dc:r,path:Mr.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fw(n){const e=n._freezeSettings(),t=lw(n._databaseId);return new AG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OO(n,e,t,r,s,i={}){const o=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);zS("Data must be an object, but it was:",o,r);const l=MO(r,o);let u,d;if(i.merge)u=new ci(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const v=vb(e,m,t);if(!o.contains(v))throw new Pe(de.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);VO(h,v)||h.push(v)}u=new ci(h),d=o.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,d=o.fieldTransforms;return new RG(new Ls(l),u,d)}class pw extends VS{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pw}}function IG(n,e,t,r){const s=n.Cc(1,e,t);zS("Data must be an object, but it was:",s,r);const i=[],o=Ls.empty();nc(r,((u,d)=>{const h=US(e,u,t);d=zr(d);const m=s.yc(h);if(d instanceof pw)i.push(h);else{const v=dm(d,m);v!=null&&(i.push(h),o.set(h,v))}}));const l=new ci(i);return new DO(o,l,s.fieldTransforms)}function NG(n,e,t,r,s,i){const o=n.Cc(1,e,t),l=[vb(e,r,t)],u=[s];if(i.length%2!=0)throw new Pe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)l.push(vb(e,i[v])),u.push(i[v+1]);const d=[],h=Ls.empty();for(let v=l.length-1;v>=0;--v)if(!VO(d,l[v])){const w=l[v];let T=u[v];T=zr(T);const _=o.yc(w);if(T instanceof pw)d.push(w);else{const S=dm(T,_);S!=null&&(d.push(w),h.set(w,S))}}const m=new ci(d);return new DO(h,m,o.fieldTransforms)}function DG(n,e,t,r=!1){return dm(t,n.Cc(r?4:3,e))}function dm(n,e){if(LO(n=zr(n)))return zS("Unsupported field value:",e,n),MO(n,e);if(n instanceof VS)return(function(r,s){if(!jO(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const l of r){let u=dm(l,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=zr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ht.fromDate(r);return{timestampValue:nv(s.serializer,i)}}if(r instanceof ht){const i=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nv(s.serializer,i)}}if(r instanceof Bo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pi)return{bytesValue:J2(s.serializer,r._byteString)};if(r instanceof Un){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:SS(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Wo)return(function(o,l){return{mapValue:{fields:{[P2]:{stringValue:k2},[Jy]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return wS(l.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Zv(r)}`)})(n,e)}function MO(n,e){const t={};return x2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nc(n,((r,s)=>{const i=dm(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function LO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Bo||n instanceof Pi||n instanceof Un||n instanceof VS||n instanceof Wo)}function zS(n,e,t){if(!LO(t)||!w2(t)){const r=Zv(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function vb(n,e,t){if((e=zr(e))instanceof hw)return e._internalPath;if(typeof e=="string")return US(n,e);throw ov("Field path arguments must be of type string or ",n,!1,void 0,t)}const jG=new RegExp("[~\\*/\\[\\]]");function US(n,e,t){if(e.search(jG)>=0)throw ov(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hw(...e.split("."))._internalPath}catch{throw ov(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ov(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Pe(de.INVALID_ARGUMENT,l+n+u)}function VO(n,e){return n.some((t=>t.isEqual(e)))}class FO{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OG extends FO{data(){return super.data()}}function mw(n,e){return typeof e=="string"?US(n,e):e instanceof hw?e._internalPath:e._delegate._internalPath}function MG(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $S{}class zO extends $S{}function Vs(n,e,...t){let r=[];e instanceof $S&&r.push(e),r=r.concat(t),(function(i){const o=i.filter((u=>u instanceof BS)).length,l=i.filter((u=>u instanceof gw)).length;if(o>1||o>0&&l>0)throw new Pe(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class gw extends zO{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gw(e,t,r)}_apply(e){const t=this._parse(e);return UO(e._query,t),new Eu(e.firestore,e.converter,ab(e._query,t))}_parse(e){const t=fw(e.firestore);return(function(i,o,l,u,d,h,m){let v;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qR(m,h);const T=[];for(const _ of m)T.push(WR(u,i,_));v={arrayValue:{values:T}}}else v=WR(u,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qR(m,h),v=DG(l,o,m,h==="in"||h==="not-in");return Jn.create(d,h,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function In(n,e,t){const r=e,s=mw("where",n);return gw._create(s,r,t)}class BS extends $S{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new BS(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ro.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)UO(o,u),o=ab(o,u)})(e._query,t),new Eu(e.firestore,e.converter,ab(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class WS extends zO{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WS(e,t)}_apply(e){const t=(function(s,i,o){if(s.startAt!==null)throw new Pe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Pe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pp(i,o)})(e._query,this._field,this._direction);return new Eu(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Rh(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function Yf(n,e="asc"){const t=e,r=mw("orderBy",n);return WS._create(r,t)}function WR(n,e,t){if(typeof(t=zr(t))=="string"){if(t==="")throw new Pe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M2(e)&&t.indexOf("/")!==-1)throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rn.fromString(t));if(!Be.isDocumentKey(r))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aR(n,new Be(r))}if(t instanceof Un)return aR(n,t._key);throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zv(t)}.`)}function qR(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UO(n,e){const t=(function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Pe(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LG{convertValue(e,t="none"){switch(Hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ql(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return nc(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[Jy].arrayValue?.values?.map((r=>Fn(r.doubleValue)));return new Wo(t)}convertGeoPoint(e){return new Bo(Fn(e.latitude),Fn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=nw(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tp(e));default:return null}}convertTimestamp(e){const t=Wl(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rn.fromString(e);Ut(sO(r),9688,{name:e});const s=new Ep(r.get(1),r.get(3)),i=new Be(r.popFirst(5));return s.isEqual(t)||Ia(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function $O(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Nf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qc extends FO{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new my(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qc._jsonSchemaVersion="firestore/documentSnapshot/1.0",qc._jsonSchema={type:Zn("string",qc._jsonSchemaVersion),bundleSource:Zn("string","DocumentSnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class my extends qc{data(e={}){return super.data(e)}}class Dd{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Nf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new my(this._firestore,this._userDataWriter,r.key,r,new Nf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((l=>{const u=new my(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Nf(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new my(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Nf(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:VG(l.type),doc:u,oldIndex:d,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}function Ms(n){n=no(n,Un);const e=no(n.firestore,Cu);return SG(LS(e),n._key).then((t=>FG(e,n,t)))}Dd._jsonSchemaVersion="firestore/querySnapshot/1.0",Dd._jsonSchema={type:Zn("string",Dd._jsonSchemaVersion),bundleSource:Zn("string","QuerySnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class BO extends LG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function Nn(n){n=no(n,Eu);const e=no(n.firestore,Cu),t=LS(e),r=new BO(e);return MG(n._query),TG(t,n._query).then((s=>new Dd(e,r,n,s)))}function vs(n,e,t){n=no(n,Un);const r=no(n.firestore,Cu),s=$O(n.converter,e,t);return yw(r,[OO(fw(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Di.none())])}function Qf(n,e,t,...r){n=no(n,Un);const s=no(n.firestore,Cu),i=fw(s);let o;return o=typeof(e=zr(e))=="string"||e instanceof hw?NG(i,"updateDoc",n._key,e,t,r):IG(i,"updateDoc",n._key,e),yw(s,[o.toMutation(n._key,Di.exists(!0))])}function ki(n){return yw(no(n.firestore,Cu),[new _S(n._key,Di.none())])}function HR(n,e){const t=no(n.firestore,Cu),r=ut(n),s=$O(n.converter,e);return yw(t,[OO(fw(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Di.exists(!1))]).then((()=>r))}function yw(n,e){return(function(r,s){const i=new Ea;return r.asyncQueue.enqueueAndForget((async()=>dG(await bG(r),s,i))),i.promise})(LS(n),e)}function FG(n,e,t){const r=t.docs.get(e._key),s=new BO(n);return new qc(n,s,e._key,r,new Nf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Ch=s})(Th),Xd(new uu("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Cu(new NH(r.getProvider("auth-internal")),new OH(o,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Pe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ep(d.options.projectId,h)})(o,s),o);return i={useFetchStreams:t,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Nl(Gk,Yk,e),Nl(Gk,Yk,"esm2020")})();const zG={apiKey:"AIzaSyBNMAggMPpnf738WRpp564Q0D9aH6TeW_g",authDomain:"archive-52697.firebaseapp.com",projectId:"archive-52697",storageBucket:"archive-52697.firebasestorage.app",messagingSenderId:"57803144743",appId:"1:57803144743:web:fe60fbaf4f40c97c849802",measurementId:"G-86K881WRD5"},WO=Aj(zG),N_=CH(WO),UG=new _a,Fe=CG(WO);class $G{async getUserRole(e){try{const t=await Ms(ut(Fe,"users",e));return t.exists()&&t.data().role||"user"}catch(t){return console.error("Error getting user role:",t),"user"}}async getUserProfile(e){try{const t=await Ms(ut(Fe,"users",e));if(t.exists()){const r=t.data();return{uid:r.uid,email:r.email,displayName:r.displayName,role:r.role||"user",createdAt:r.createdAt?.toDate()||new Date,lastLogin:r.lastLogin?.toDate()||new Date}}return null}catch(t){return console.error("Error getting user profile:",t),null}}async initializeUserProfile(e,t,r,s){try{const i=ut(Fe,"users",e);(await Ms(i)).exists()?await vs(i,{lastLogin:new Date,displayName:r,photoURL:s||""},{merge:!0}):await vs(i,{uid:e,email:t,displayName:r,photoURL:s||"",role:"user",createdAt:new Date,lastLogin:new Date})}catch(i){console.error("Error initializing user profile:",i)}}async updateUserRole(e,t){try{const r=ut(Fe,"users",e);await vs(r,{role:t},{merge:!0})}catch(r){throw console.error("Error updating user role:",r),r}}async isAdmin(e){return await this.getUserRole(e)==="admin"}}const wb=new $G,qO=b.createContext(void 0),It=()=>{const n=b.useContext(qO);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},BG=({children:n})=>{const[e,t]=b.useState(null),[r,s]=b.useState(!0),[i,o]=b.useState(null);b.useEffect(()=>pq(N_,async m=>{if(t(m),m){await wb.initializeUserProfile(m.uid,m.email||"",m.displayName,m.photoURL);const v=await wb.getUserRole(m.uid);o(v)}else o(null);s(!1)}),[]);const l=async()=>{try{await Oq(N_,UG)}catch(h){throw console.error("Error signing in with Google:",h),h}},u=async()=>{try{await mq(N_)}catch(h){throw console.error("Error signing out:",h),h}},d=i==="admin";return p.jsx(qO.Provider,{value:{user:e,loading:r,userRole:i,isAdmin:d,signInWithGoogle:l,signOut:u},children:n})},WG=({children:n})=>{const{user:e,loading:t}=It();return t?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?p.jsx(p.Fragment,{children:n}):p.jsx(I9,{to:"/login",replace:!0})},qS=b.createContext({});function HS(n){const e=b.useRef(null);return e.current===null&&(e.current=n()),e.current}const KS=typeof window<"u",HO=KS?b.useLayoutEffect:b.useEffect,vw=b.createContext(null);function GS(n,e){n.indexOf(e)===-1&&n.push(e)}function YS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Da=(n,e,t)=>t>e?e:t<n?n:t;let QS=()=>{};const ja={},KO=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function GO(n){return typeof n=="object"&&n!==null}const YO=n=>/^0[^.\s]+$/u.test(n);function XS(n){let e;return()=>(e===void 0&&(e=n()),e)}const ji=n=>n,qG=(n,e)=>t=>e(n(t)),hm=(...n)=>n.reduce(qG),Ap=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class JS{constructor(){this.subscriptions=[]}add(e){return GS(this.subscriptions,e),()=>YS(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qo=n=>n*1e3,Ri=n=>n/1e3;function QO(n,e){return e?n*(1e3/e):0}const XO=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,HG=1e-7,KG=12;function GG(n,e,t,r,s){let i,o,l=0;do o=e+(t-e)/2,i=XO(o,r,s)-n,i>0?t=o:e=o;while(Math.abs(i)>HG&&++l<KG);return o}function fm(n,e,t,r){if(n===e&&t===r)return ji;const s=i=>GG(i,0,1,n,t);return i=>i===0||i===1?i:XO(s(i),e,r)}const JO=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,ZO=n=>e=>1-n(1-e),eM=fm(.33,1.53,.69,.99),ZS=ZO(eM),tM=JO(ZS),nM=n=>(n*=2)<1?.5*ZS(n):.5*(2-Math.pow(2,-10*(n-1))),eT=n=>1-Math.sin(Math.acos(n)),rM=ZO(eT),sM=JO(eT),YG=fm(.42,0,1,1),QG=fm(0,0,.58,1),iM=fm(.42,0,.58,1),XG=n=>Array.isArray(n)&&typeof n[0]!="number",oM=n=>Array.isArray(n)&&typeof n[0]=="number",JG={linear:ji,easeIn:YG,easeInOut:iM,easeOut:QG,circIn:eT,circInOut:sM,circOut:rM,backIn:ZS,backInOut:tM,backOut:eM,anticipate:nM},ZG=n=>typeof n=="string",KR=n=>{if(oM(n)){QS(n.length===4);const[e,t,r,s]=n;return fm(e,t,r,s)}else if(ZG(n))return JG[n];return n},jg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eY(n,e){let t=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(h){o.has(h)&&(d.schedule(h),n()),h(l)}const d={schedule:(h,m=!1,v=!1)=>{const T=v&&s?t:r;return m&&o.add(h),T.has(h)||T.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[t,r]=[r,t],t.forEach(u),t.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const tY=40;function aM(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,o=jg.reduce((j,I)=>(j[I]=eY(i),j),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:h,update:m,preRender:v,render:w,postRender:T}=o,_=()=>{const j=ja.useManualTiming?s.timestamp:performance.now();t=!1,ja.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,tY),1)),s.timestamp=j,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),h.process(s),m.process(s),v.process(s),w.process(s),T.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(_))},S=()=>{t=!0,r=!0,s.isProcessing||n(_)};return{schedule:jg.reduce((j,I)=>{const L=o[I];return j[I]=(z,P=!1,A=!1)=>(t||S(),L.schedule(z,P,A)),j},{}),cancel:j=>{for(let I=0;I<jg.length;I++)o[jg[I]].cancel(j)},state:s,steps:o}}const{schedule:fn,cancel:Yl,state:jr,steps:D_}=aM(typeof requestAnimationFrame<"u"?requestAnimationFrame:ji,!0);let gy;function nY(){gy=void 0}const Fs={now:()=>(gy===void 0&&Fs.set(jr.isProcessing||ja.useManualTiming?jr.timestamp:performance.now()),gy),set:n=>{gy=n,queueMicrotask(nY)}},lM=n=>e=>typeof e=="string"&&e.startsWith(n),cM=lM("--"),rY=lM("var(--"),tT=n=>rY(n)?sY.test(n.split("/*")[0].trim()):!1,sY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ih={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ip={...Ih,transform:n=>Da(0,1,n)},Og={...Ih,default:1},Xf=n=>Math.round(n*1e5)/1e5,nT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iY(n){return n==null}const oY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rT=(n,e)=>t=>!!(typeof t=="string"&&oY.test(t)&&t.startsWith(n)||e&&!iY(t)&&Object.prototype.hasOwnProperty.call(t,e)),uM=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(nT);return{[n]:parseFloat(s),[e]:parseFloat(i),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},aY=n=>Da(0,255,n),j_={...Ih,transform:n=>Math.round(aY(n))},Fc={test:rT("rgb","red"),parse:uM("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+j_.transform(n)+", "+j_.transform(e)+", "+j_.transform(t)+", "+Xf(Ip.transform(r))+")"};function lY(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const _b={test:rT("#"),parse:lY,transform:Fc.transform},pm=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),hl=pm("deg"),Ho=pm("%"),Qe=pm("px"),cY=pm("vh"),uY=pm("vw"),GR={...Ho,parse:n=>Ho.parse(n)/100,transform:n=>Ho.transform(n*100)},wd={test:rT("hsl","hue"),parse:uM("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ho.transform(Xf(e))+", "+Ho.transform(Xf(t))+", "+Xf(Ip.transform(r))+")"},Yn={test:n=>Fc.test(n)||_b.test(n)||wd.test(n),parse:n=>Fc.test(n)?Fc.parse(n):wd.test(n)?wd.parse(n):_b.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fc.transform(n):wd.transform(n),getAnimatableNone:n=>{const e=Yn.parse(n);return e.alpha=0,Yn.transform(e)}},dY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hY(n){return isNaN(n)&&typeof n=="string"&&(n.match(nT)?.length||0)+(n.match(dY)?.length||0)>0}const dM="number",hM="color",fY="var",pY="var(",YR="${}",mY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Np(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(mY,u=>(Yn.test(u)?(r.color.push(i),s.push(hM),t.push(Yn.parse(u))):u.startsWith(pY)?(r.var.push(i),s.push(fY),t.push(u)):(r.number.push(i),s.push(dM),t.push(parseFloat(u))),++i,YR)).split(YR);return{values:t,split:l,indexes:r,types:s}}function fM(n){return Np(n).values}function pM(n){const{split:e,types:t}=Np(n),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=t[o];l===dM?i+=Xf(s[o]):l===hM?i+=Yn.transform(s[o]):i+=s[o]}return i}}const gY=n=>typeof n=="number"?0:Yn.test(n)?Yn.getAnimatableNone(n):n;function yY(n){const e=fM(n);return pM(n)(e.map(gY))}const Ql={test:hY,parse:fM,createTransformer:pM,getAnimatableNone:yY};function O_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function vY({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,i=0,o=0;if(!e)s=i=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;s=O_(u,l,n+1/3),i=O_(u,l,n),o=O_(u,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function av(n,e){return t=>t>0?e:n}const Sn=(n,e,t)=>n+(e-n)*t,M_=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},wY=[_b,Fc,wd],_Y=n=>wY.find(e=>e.test(n));function QR(n){const e=_Y(n);if(!e)return!1;let t=e.parse(n);return e===wd&&(t=vY(t)),t}const XR=(n,e)=>{const t=QR(n),r=QR(e);if(!t||!r)return av(n,e);const s={...t};return i=>(s.red=M_(t.red,r.red,i),s.green=M_(t.green,r.green,i),s.blue=M_(t.blue,r.blue,i),s.alpha=Sn(t.alpha,r.alpha,i),Fc.transform(s))},xb=new Set(["none","hidden"]);function xY(n,e){return xb.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function bY(n,e){return t=>Sn(n,e,t)}function sT(n){return typeof n=="number"?bY:typeof n=="string"?tT(n)?av:Yn.test(n)?XR:EY:Array.isArray(n)?mM:typeof n=="object"?Yn.test(n)?XR:SY:av}function mM(n,e){const t=[...n],r=t.length,s=n.map((i,o)=>sT(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)t[o]=s[o](i);return t}}function SY(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=sT(n[s])(n[s],e[s]));return s=>{for(const i in r)t[i]=r[i](s);return t}}function TY(n,e){const t=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=n.indexes[i][r[i]],l=n.values[o]??0;t[s]=l,r[i]++}return t}const EY=(n,e)=>{const t=Ql.createTransformer(e),r=Np(n),s=Np(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?xb.has(n)&&!s.values.length||xb.has(e)&&!r.values.length?xY(n,e):hm(mM(TY(r,s),s.values),t):av(n,e)};function gM(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Sn(n,e,t):sT(n)(n,e)}const CY=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>fn.update(e,t),stop:()=>Yl(e),now:()=>jr.isProcessing?jr.timestamp:Fs.now()}},yM=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let i=0;i<s;i++)r+=Math.round(n(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},lv=2e4;function iT(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<lv;)e+=t,r=n.next(e);return e>=lv?1/0:e}function PY(n,e=100,t){const r=t({...n,keyframes:[0,e]}),s=Math.min(iT(r),lv);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Ri(s)}}const kY=5;function vM(n,e,t){const r=Math.max(e-kY,0);return QO(t-n(r),e-r)}const An={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},L_=.001;function RY({duration:n=An.duration,bounce:e=An.bounce,velocity:t=An.velocity,mass:r=An.mass}){let s,i,o=1-e;o=Da(An.minDamping,An.maxDamping,o),n=Da(An.minDuration,An.maxDuration,Ri(n)),o<1?(s=d=>{const h=d*o,m=h*n,v=h-t,w=bb(d,o),T=Math.exp(-m);return L_-v/w*T},i=d=>{const m=d*o*n,v=m*t+t,w=Math.pow(o,2)*Math.pow(d,2)*n,T=Math.exp(-m),_=bb(Math.pow(d,2),o);return(-s(d)+L_>0?-1:1)*((v-w)*T)/_}):(s=d=>{const h=Math.exp(-d*n),m=(d-t)*n+1;return-L_+h*m},i=d=>{const h=Math.exp(-d*n),m=(t-d)*(n*n);return h*m});const l=5/n,u=IY(s,i,l);if(n=qo(n),isNaN(u))return{stiffness:An.stiffness,damping:An.damping,duration:n};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:n}}}const AY=12;function IY(n,e,t){let r=t;for(let s=1;s<AY;s++)r=r-n(r)/e(r);return r}function bb(n,e){return n*Math.sqrt(1-e*e)}const NY=["duration","bounce"],DY=["stiffness","damping","mass"];function JR(n,e){return e.some(t=>n[t]!==void 0)}function jY(n){let e={velocity:An.velocity,stiffness:An.stiffness,damping:An.damping,mass:An.mass,isResolvedFromDuration:!1,...n};if(!JR(n,DY)&&JR(n,NY))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,i=2*Da(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:An.mass,stiffness:s,damping:i}}else{const t=RY(n);e={...e,...t,mass:An.mass},e.isResolvedFromDuration=!0}return e}function cv(n=An.visualDuration,e=An.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const i=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:h,duration:m,velocity:v,isResolvedFromDuration:w}=jY({...t,velocity:-Ri(t.velocity||0)}),T=v||0,_=d/(2*Math.sqrt(u*h)),S=o-i,R=Ri(Math.sqrt(u/h)),k=Math.abs(S)<5;r||(r=k?An.restSpeed.granular:An.restSpeed.default),s||(s=k?An.restDelta.granular:An.restDelta.default);let j;if(_<1){const L=bb(R,_);j=z=>{const P=Math.exp(-_*R*z);return o-P*((T+_*R*S)/L*Math.sin(L*z)+S*Math.cos(L*z))}}else if(_===1)j=L=>o-Math.exp(-R*L)*(S+(T+R*S)*L);else{const L=R*Math.sqrt(_*_-1);j=z=>{const P=Math.exp(-_*R*z),A=Math.min(L*z,300);return o-P*((T+_*R*S)*Math.sinh(A)+L*S*Math.cosh(A))/L}}const I={calculatedDuration:w&&m||null,next:L=>{const z=j(L);if(w)l.done=L>=m;else{let P=L===0?T:0;_<1&&(P=L===0?qo(T):vM(j,L,z));const A=Math.abs(P)<=r,D=Math.abs(o-z)<=s;l.done=A&&D}return l.value=l.done?o:z,l},toString:()=>{const L=Math.min(iT(I),lv),z=yM(P=>I.next(L*P).value,L,30);return L+"ms "+z},toTransition:()=>{}};return I}cv.applyToOptions=n=>{const e=PY(n,100,cv);return n.ease=e.ease,n.duration=qo(e.duration),n.type="keyframes",n};function Sb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:h}){const m=n[0],v={done:!1,value:m},w=A=>l!==void 0&&A<l||u!==void 0&&A>u,T=A=>l===void 0?u:u===void 0||Math.abs(l-A)<Math.abs(u-A)?l:u;let _=t*e;const S=m+_,R=o===void 0?S:o(S);R!==S&&(_=R-m);const k=A=>-_*Math.exp(-A/r),j=A=>R+k(A),I=A=>{const D=k(A),O=j(A);v.done=Math.abs(D)<=d,v.value=v.done?R:O};let L,z;const P=A=>{w(v.value)&&(L=A,z=cv({keyframes:[v.value,T(v.value)],velocity:vM(j,A,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return P(0),{calculatedDuration:null,next:A=>{let D=!1;return!z&&L===void 0&&(D=!0,I(A),P(A)),L!==void 0&&A>=L?z.next(A-L):(!D&&I(A),v)}}}function OY(n,e,t){const r=[],s=t||ja.mix||gM,i=n.length-1;for(let o=0;o<i;o++){let l=s(n[o],n[o+1]);if(e){const u=Array.isArray(e)?e[o]||ji:e;l=hm(u,l)}r.push(l)}return r}function MY(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const i=n.length;if(QS(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[i-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=OY(e,r,s),u=l.length,d=h=>{if(o&&h<n[0])return e[0];let m=0;if(u>1)for(;m<n.length-2&&!(h<n[m+1]);m++);const v=Ap(n[m],n[m+1],h);return l[m](v)};return t?h=>d(Da(n[0],n[i-1],h)):d}function LY(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Ap(0,e,r);n.push(Sn(t,1,s))}}function VY(n){const e=[0];return LY(e,n.length-1),e}function FY(n,e){return n.map(t=>t*e)}function zY(n,e){return n.map(()=>e||iM).splice(0,n.length-1)}function Jf({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=XG(r)?r.map(KR):KR(r),i={done:!1,value:e[0]},o=FY(t&&t.length===e.length?t:VY(e),n),l=MY(o,e,{ease:Array.isArray(s)?s:zY(e,s)});return{calculatedDuration:n,next:u=>(i.value=l(u),i.done=u>=n,i)}}const UY=n=>n!==null;function oT(n,{repeat:e,repeatType:t="loop"},r,s=1){const i=n.filter(UY),l=s<0||e&&t!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const $Y={decay:Sb,inertia:Sb,tween:Jf,keyframes:Jf,spring:cv};function wM(n){typeof n.type=="string"&&(n.type=$Y[n.type])}class aT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const BY=n=>n/100;class lT extends aT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Fs.now()&&this.tick(Fs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;wM(e);const{type:t=Jf,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const u=t||Jf;u!==Jf&&typeof l[0]!="number"&&(this.mixKeyframes=hm(BY,gM(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=iT(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:v,repeatDelay:w,type:T,onUpdate:_,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const R=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?R<0:R>s;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,I=r;if(m){const A=Math.min(this.currentTime,s)/l;let D=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(v==="reverse"?(O=1-O,w&&(O-=w/l)):v==="mirror"&&(I=o)),j=Da(0,1,O)*l}const L=k?{done:!1,value:h[0]}:I.next(j);i&&(L.value=i(L.value));let{done:z}=L;!k&&u!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return P&&T!==Sb&&(L.value=oT(h,this.options,S,this.speed)),_&&_(L.value),P&&this.finish(),L}then(e,t){return this.finished.then(e,t)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(this.currentTime)}set time(e){e=qo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Fs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=CY,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function WY(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const zc=n=>n*180/Math.PI,Tb=n=>{const e=zc(Math.atan2(n[1],n[0]));return Eb(e)},qY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Tb,rotateZ:Tb,skewX:n=>zc(Math.atan(n[1])),skewY:n=>zc(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Eb=n=>(n=n%360,n<0&&(n+=360),n),ZR=Tb,eA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),tA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),HY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eA,scaleY:tA,scale:n=>(eA(n)+tA(n))/2,rotateX:n=>Eb(zc(Math.atan2(n[6],n[5]))),rotateY:n=>Eb(zc(Math.atan2(-n[2],n[0]))),rotateZ:ZR,rotate:ZR,skewX:n=>zc(Math.atan(n[4])),skewY:n=>zc(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Cb(n){return n.includes("scale")?1:0}function Pb(n,e){if(!n||n==="none")return Cb(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(t)r=HY,s=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=qY,s=l}if(!s)return Cb(e);const i=r[e],o=s[1].split(",").map(GY);return typeof i=="function"?i(o):o[i]}const KY=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Pb(t,e)};function GY(n){return parseFloat(n.trim())}const Nh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dh=new Set(Nh),nA=n=>n===Ih||n===Qe,YY=new Set(["x","y","z"]),QY=Nh.filter(n=>!YY.has(n));function XY(n){const e=[];return QY.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Hc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Pb(e,"x"),y:(n,{transform:e})=>Pb(e,"y")};Hc.translateX=Hc.x;Hc.translateY=Hc.y;const Kc=new Set;let kb=!1,Rb=!1,Ab=!1;function _M(){if(Rb){const n=Array.from(Kc).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=XY(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([i,o])=>{r.getValue(i)?.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rb=!1,kb=!1,Kc.forEach(n=>n.complete(Ab)),Kc.clear()}function xM(){Kc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Rb=!0)})}function JY(){Ab=!0,xM(),_M(),Ab=!1}class cT{constructor(e,t,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Kc.add(this),kb||(kb=!0,fn.read(xM),fn.resolveKeyframes(_M))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&t){const l=r.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}WY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kc.delete(this)}cancel(){this.state==="scheduled"&&(Kc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZY=n=>n.startsWith("--");function eQ(n,e,t){ZY(e)?n.style.setProperty(e,t):n.style[e]=t}const tQ=XS(()=>window.ScrollTimeline!==void 0),nQ={};function rQ(n,e){const t=XS(n);return()=>nQ[e]??t()}const bM=rQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Df=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,rA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Df([0,.65,.55,1]),circOut:Df([.55,0,1,.45]),backIn:Df([.31,.01,.66,-.59]),backOut:Df([.33,1.53,.69,.99])};function SM(n,e){if(n)return typeof n=="function"?bM()?yM(n,e):"ease-out":oM(n)?Df(n):Array.isArray(n)?n.map(t=>SM(t,e)||rA.easeOut):rA[n]}function sQ(n,e,t,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const h={[e]:t};u&&(h.offset=u);const m=SM(l,s);Array.isArray(m)&&(h.easing=m);const v={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),n.animate(h,v)}function TM(n){return typeof n=="function"&&"applyToOptions"in n}function iQ({type:n,...e}){return TM(n)&&bM()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oQ extends aT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,QS(typeof e.type!="string");const d=iQ(e);this.animation=sQ(t,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=oT(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):eQ(t,r,h),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&tQ()?(this.animation.timeline=e,ji):t(this)}}const EM={anticipate:nM,backInOut:tM,circInOut:sM};function aQ(n){return n in EM}function lQ(n){typeof n.ease=="string"&&aQ(n.ease)&&(n.ease=EM[n.ease])}const sA=10;class cQ extends oQ{constructor(e){lQ(e),wM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new lT({...o,autoplay:!1}),u=qo(this.finishedTime??this.time);t.setWithVelocity(l.sample(u-sA).value,l.sample(u).value,sA),l.stop()}}const iA=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ql.test(n)||n==="0")&&!n.startsWith("url("));function uQ(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function dQ(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=n[n.length-1],o=iA(s,e),l=iA(i,e);return!o||!l?!1:uQ(n)||(t==="spring"||TM(t))&&r}function Ib(n){n.duration=0,n.type="keyframes"}const hQ=new Set(["opacity","clipPath","filter","transform"]),fQ=XS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pQ(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:s,damping:i,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return fQ()&&t&&hQ.has(t)&&(t!=="transform"||!d)&&!u&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const mQ=40;class gQ extends aT{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:h,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fs.now();const v={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:i,repeatType:o,name:u,motionValue:d,element:h,...m},w=h?.KeyframeResolver||cT;this.keyframeResolver=new w(l,(T,_,S)=>this.onKeyframesResolved(T,_,v,!S),u,d,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:h}=r;this.resolvedAt=Fs.now(),dQ(e,i,o,l)||((ja.instantAnimations||!u)&&h?.(oT(e,r,t)),e[0]=e[e.length-1],Ib(r),r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>mQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},w=!d&&pQ(v)?new cQ({...v,element:v.motionValue.owner.current}):new lT(v);w.finished.then(()=>this.notifyFinished()).catch(ji),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),JY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const yQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vQ(n){const e=yQ.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function CM(n,e,t=1){const[r,s]=vQ(n);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return KO(o)?parseFloat(o):o}return tT(s)?CM(s,e,t+1):s}function uT(n,e){return n?.[e]??n?.default??n}const PM=new Set(["width","height","top","left","right","bottom",...Nh]),wQ={test:n=>n==="auto",parse:n=>n},kM=n=>e=>e.test(n),RM=[Ih,Qe,Ho,hl,uY,cY,wQ],oA=n=>RM.find(kM(n));function _Q(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||YO(n):!0}const xQ=new Set(["brightness","contrast","saturate","opacity"]);function bQ(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(nT)||[];if(!r)return n;const s=t.replace(r,"");let i=xQ.has(e)?1:0;return r!==t&&(i*=100),e+"("+i+s+")"}const SQ=/\b([a-z-]*)\(.*?\)/gu,Nb={...Ql,getAnimatableNone:n=>{const e=n.match(SQ);return e?e.map(bQ).join(" "):n}},aA={...Ih,transform:Math.round},TQ={rotate:hl,rotateX:hl,rotateY:hl,rotateZ:hl,scale:Og,scaleX:Og,scaleY:Og,scaleZ:Og,skew:hl,skewX:hl,skewY:hl,distance:Qe,translateX:Qe,translateY:Qe,translateZ:Qe,x:Qe,y:Qe,z:Qe,perspective:Qe,transformPerspective:Qe,opacity:Ip,originX:GR,originY:GR,originZ:Qe},dT={borderWidth:Qe,borderTopWidth:Qe,borderRightWidth:Qe,borderBottomWidth:Qe,borderLeftWidth:Qe,borderRadius:Qe,radius:Qe,borderTopLeftRadius:Qe,borderTopRightRadius:Qe,borderBottomRightRadius:Qe,borderBottomLeftRadius:Qe,width:Qe,maxWidth:Qe,height:Qe,maxHeight:Qe,top:Qe,right:Qe,bottom:Qe,left:Qe,padding:Qe,paddingTop:Qe,paddingRight:Qe,paddingBottom:Qe,paddingLeft:Qe,margin:Qe,marginTop:Qe,marginRight:Qe,marginBottom:Qe,marginLeft:Qe,backgroundPositionX:Qe,backgroundPositionY:Qe,...TQ,zIndex:aA,fillOpacity:Ip,strokeOpacity:Ip,numOctaves:aA},EQ={...dT,color:Yn,backgroundColor:Yn,outlineColor:Yn,fill:Yn,stroke:Yn,borderColor:Yn,borderTopColor:Yn,borderRightColor:Yn,borderBottomColor:Yn,borderLeftColor:Yn,filter:Nb,WebkitFilter:Nb},AM=n=>EQ[n];function IM(n,e){let t=AM(n);return t!==Nb&&(t=Ql),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const CQ=new Set(["auto","none","0"]);function PQ(n,e,t){let r=0,s;for(;r<n.length&&!s;){const i=n[r];typeof i=="string"&&!CQ.has(i)&&Np(i).values.length&&(s=n[r]),r++}if(s&&t)for(const i of e)n[i]=IM(t,s)}class kQ extends cT{constructor(e,t,r,s,i){super(e,t,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),tT(d))){const h=CM(d,t.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!PM.has(r)||e.length!==2)return;const[s,i]=e,o=oA(s),l=oA(i);if(o!==l)if(nA(o)&&nA(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Hc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||_Q(e[s]))&&r.push(s);r.length&&PQ(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Hc[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function RQ(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const s=t?.[n]??r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const NM=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function DM(n){return GO(n)&&"offsetHeight"in n}const lA=30,AQ=n=>!isNaN(parseFloat(n));class IQ{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Fs.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Fs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=AQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new JS);const r=this.events[e].add(t);return e==="change"?()=>{r(),fn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lA)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,lA);return QO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ih(n,e){return new IQ(n,e)}const{schedule:hT}=aM(queueMicrotask,!1),Yi={x:!1,y:!1};function jM(){return Yi.x||Yi.y}function NQ(n){return n==="x"||n==="y"?Yi[n]?null:(Yi[n]=!0,()=>{Yi[n]=!1}):Yi.x||Yi.y?null:(Yi.x=Yi.y=!0,()=>{Yi.x=Yi.y=!1})}function OM(n,e){const t=RQ(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function cA(n){return!(n.pointerType==="touch"||jM())}function DQ(n,e,t={}){const[r,s,i]=OM(n,t),o=l=>{if(!cA(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const h=m=>{cA(m)&&(d(m),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const MM=(n,e)=>e?n===e?!0:MM(n,e.parentElement):!1,fT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,jQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OQ(n){return jQ.has(n.tagName)||n.tabIndex!==-1}const yy=new WeakSet;function uA(n){return e=>{e.key==="Enter"&&n(e)}}function V_(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const MQ=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=uA(()=>{if(yy.has(t))return;V_(t,"down");const s=uA(()=>{V_(t,"up")}),i=()=>V_(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function dA(n){return fT(n)&&!jM()}function LQ(n,e,t={}){const[r,s,i]=OM(n,t),o=l=>{const u=l.currentTarget;if(!dA(l))return;yy.add(u);const d=e(u,l),h=(w,T)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),yy.has(u)&&yy.delete(u),dA(w)&&typeof d=="function"&&d(w,{success:T})},m=w=>{h(w,u===window||u===document||t.useGlobalTarget||MM(u,w.target))},v=w=>{h(w,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",v,s)};return r.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),DM(l)&&(l.addEventListener("focus",d=>MQ(d,s)),!OQ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function LM(n){return GO(n)&&"ownerSVGElement"in n}function VQ(n){return LM(n)&&n.tagName==="svg"}const ss=n=>!!(n&&n.getVelocity),FQ=[...RM,Yn,Ql],zQ=n=>FQ.find(kM(n)),pT=b.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function hA(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function UQ(...n){return e=>{let t=!1;const r=n.map(s=>{const i=hA(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():hA(n[s],null)}}}}function $Q(...n){return b.useCallback(UQ(...n),n)}class BQ extends b.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,s=DM(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WQ({children:n,isPresent:e,anchorX:t,root:r}){const s=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(pT),u=$Q(i,n?.ref);return b.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:v,right:w}=o.current;if(e||!i.current||!d||!h)return;const T=t==="left"?`left: ${v}`:`right: ${w}`;i.current.dataset.motionPopId=s;const _=document.createElement("style");l&&(_.nonce=l);const S=r??document.head;return S.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${T}px !important;
            top: ${m}px !important;
          }
        `),()=>{S.contains(_)&&S.removeChild(_)}},[e]),p.jsx(BQ,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(n,{ref:u})})}const qQ=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:u})=>{const d=HS(HQ),h=b.useId();let m=!0,v=b.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:t,custom:s,onExitComplete:w=>{d.set(w,!0);for(const T of d.values())if(!T)return;r&&r()},register:w=>(d.set(w,!1),()=>d.delete(w))}),[t,d,r]);return i&&m&&(v={...v}),b.useMemo(()=>{d.forEach((w,T)=>d.set(T,!1))},[t]),b.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),o==="popLayout"&&(n=p.jsx(WQ,{isPresent:t,anchorX:l,root:u,children:n})),p.jsx(vw.Provider,{value:v,children:n})};function HQ(){return new Map}function VM(n=!0){const e=b.useContext(vw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,i=b.useId();b.useEffect(()=>{if(n)return s(i)},[n]);const o=b.useCallback(()=>n&&r&&r(i),[i,r,n]);return!t&&r?[!1,o]:[!0]}const Mg=n=>n.key||"";function fA(n){const e=[];return b.Children.forEach(n,t=>{b.isValidElement(t)&&e.push(t)}),e}const uv=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:u})=>{const[d,h]=VM(o),m=b.useMemo(()=>fA(n),[n]),v=o&&!d?[]:m.map(Mg),w=b.useRef(!0),T=b.useRef(m),_=HS(()=>new Map),[S,R]=b.useState(m),[k,j]=b.useState(m);HO(()=>{w.current=!1,T.current=m;for(let z=0;z<k.length;z++){const P=Mg(k[z]);v.includes(P)?_.delete(P):_.get(P)!==!0&&_.set(P,!1)}},[k,v.length,v.join("-")]);const I=[];if(m!==S){let z=[...m];for(let P=0;P<k.length;P++){const A=k[P],D=Mg(A);v.includes(D)||(z.splice(P,0,A),I.push(A))}return i==="wait"&&I.length&&(z=I),j(fA(z)),R(m),null}const{forceRender:L}=b.useContext(qS);return p.jsx(p.Fragment,{children:k.map(z=>{const P=Mg(z),A=o&&!d?!1:m===k||v.includes(P),D=()=>{if(_.has(P))_.set(P,!0);else return;let O=!0;_.forEach(V=>{V||(O=!1)}),O&&(L?.(),j(T.current),o&&h?.(),r&&r())};return p.jsx(qQ,{isPresent:A,initial:!w.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:u,onExitComplete:A?void 0:D,anchorX:l,children:z},P)})})},FM=b.createContext({strict:!1}),pA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oh={};for(const n in pA)oh[n]={isEnabled:e=>pA[n].some(t=>!!e[t])};function KQ(n){for(const e in n)oh[e]={...oh[e],...n[e]}}const GQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dv(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||GQ.has(n)}let zM=n=>!dv(n);function YQ(n){typeof n=="function"&&(zM=e=>e.startsWith("on")?!dv(e):n(e))}try{YQ(require("@emotion/is-prop-valid").default)}catch{}function QQ(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(zM(s)||t===!0&&dv(s)||!e&&!dv(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}const ww=b.createContext({});function _w(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Dp(n){return typeof n=="string"||Array.isArray(n)}const mT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gT=["initial",...mT];function xw(n){return _w(n.animate)||gT.some(e=>Dp(n[e]))}function UM(n){return!!(xw(n)||n.variants)}function XQ(n,e){if(xw(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Dp(t)?t:void 0,animate:Dp(r)?r:void 0}}return n.inherit!==!1?e:{}}function JQ(n){const{initial:e,animate:t}=XQ(n,b.useContext(ww));return b.useMemo(()=>({initial:e,animate:t}),[mA(e),mA(t)])}function mA(n){return Array.isArray(n)?n.join(" "):n}function gA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Sf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Qe.test(n))n=parseFloat(n);else return n;const t=gA(n,e.target.x),r=gA(n,e.target.y);return`${t}% ${r}%`}},ZQ={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Ql.parse(n);if(s.length>5)return r;const i=Ql.createTransformer(n),o=typeof s[0]!="number"?1:0,l=t.x.scale*e.x,u=t.y.scale*e.y;s[0+o]/=l,s[1+o]/=u;const d=Sn(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}},Db={borderRadius:{...Sf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sf,borderTopRightRadius:Sf,borderBottomLeftRadius:Sf,borderBottomRightRadius:Sf,boxShadow:ZQ};function $M(n,{layout:e,layoutId:t}){return Dh.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Db[n]||n==="opacity")}const eX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tX=Nh.length;function nX(n,e,t){let r="",s=!0;for(let i=0;i<tX;i++){const o=Nh[i],l=n[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const d=NM(l,dT[o]);if(!u){s=!1;const h=eX[o]||o;r+=`${h}(${d}) `}t&&(e[o]=d)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function yT(n,e,t){const{style:r,vars:s,transformOrigin:i}=n;let o=!1,l=!1;for(const u in e){const d=e[u];if(Dh.has(u)){o=!0;continue}else if(cM(u)){s[u]=d;continue}else{const h=NM(d,dT[u]);u.startsWith("origin")?(l=!0,i[u]=h):r[u]=h}}if(e.transform||(o||t?r.transform=nX(e,n.transform,t):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:h=0}=i;r.transformOrigin=`${u} ${d} ${h}`}}const vT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BM(n,e,t){for(const r in e)!ss(e[r])&&!$M(r,t)&&(n[r]=e[r])}function rX({transformTemplate:n},e){return b.useMemo(()=>{const t=vT();return yT(t,e,n),Object.assign({},t.vars,t.style)},[e])}function sX(n,e){const t=n.style||{},r={};return BM(r,t,n),Object.assign(r,rX(n,e)),r}function iX(n,e){const t={},r=sX(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const oX={offset:"stroke-dashoffset",array:"stroke-dasharray"},aX={offset:"strokeDashoffset",array:"strokeDasharray"};function lX(n,e,t=1,r=0,s=!0){n.pathLength=1;const i=s?oX:aX;n[i.offset]=Qe.transform(-r);const o=Qe.transform(e),l=Qe.transform(t);n[i.array]=`${o} ${l}`}function WM(n,{attrX:e,attrY:t,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},u,d,h){if(yT(n,l,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v}=n;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=h?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),s!==void 0&&lX(m,s,i,o,!1)}const qM=()=>({...vT(),attrs:{}}),HM=n=>typeof n=="string"&&n.toLowerCase()==="svg";function cX(n,e,t,r){const s=b.useMemo(()=>{const i=qM();return WM(i,e,HM(r),n.transformTemplate,n.style),{...i.attrs,style:{...i.style}}},[e]);if(n.style){const i={};BM(i,n.style,n),s.style={...i,...s.style}}return s}const uX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wT(n){return typeof n!="string"||n.includes("-")?!1:!!(uX.indexOf(n)>-1||/[A-Z]/u.test(n))}function dX(n,e,t,{latestValues:r},s,i=!1){const l=(wT(n)?cX:iX)(e,r,s,n),u=QQ(e,typeof n=="string",i),d=n!==b.Fragment?{...u,...l,ref:t}:{},{children:h}=e,m=b.useMemo(()=>ss(h)?h.get():h,[h]);return b.createElement(n,{...d,children:m})}function yA(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function _T(n,e,t,r){if(typeof e=="function"){const[s,i]=yA(r);e=e(t!==void 0?t:n.custom,s,i)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,i]=yA(r);e=e(t!==void 0?t:n.custom,s,i)}return e}function vy(n){return ss(n)?n.get():n}function hX({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,s){return{latestValues:fX(t,r,s,n),renderState:e()}}function fX(n,e,t,r){const s={},i=r(n,{});for(const v in i)s[v]=vy(i[v]);let{initial:o,animate:l}=n;const u=xw(n),d=UM(n);e&&d&&!u&&n.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!_w(m)){const v=Array.isArray(m)?m:[m];for(let w=0;w<v.length;w++){const T=_T(n,v[w]);if(T){const{transitionEnd:_,transition:S,...R}=T;for(const k in R){let j=R[k];if(Array.isArray(j)){const I=h?j.length-1:0;j=j[I]}j!==null&&(s[k]=j)}for(const k in _)s[k]=_[k]}}}return s}const KM=n=>(e,t)=>{const r=b.useContext(ww),s=b.useContext(vw),i=()=>hX(n,e,r,s);return t?i():HS(i)};function xT(n,e,t){const{style:r}=n,s={};for(const i in r)(ss(r[i])||e.style&&ss(e.style[i])||$M(i,n)||t?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const pX=KM({scrapeMotionValuesFromProps:xT,createRenderState:vT});function GM(n,e,t){const r=xT(n,e,t);for(const s in n)if(ss(n[s])||ss(e[s])){const i=Nh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=n[s]}return r}const mX=KM({scrapeMotionValuesFromProps:GM,createRenderState:qM}),gX=Symbol.for("motionComponentSymbol");function _d(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function yX(n,e,t){return b.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):_d(t)&&(t.current=r))},[e])}const bT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vX="framerAppearId",YM="data-"+bT(vX),QM=b.createContext({});function wX(n,e,t,r,s){const{visualElement:i}=b.useContext(ww),o=b.useContext(FM),l=b.useContext(vw),u=b.useContext(pT).reducedMotion,d=b.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:i,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,m=b.useContext(QM);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&_X(d.current,t,s,m);const v=b.useRef(!1);b.useInsertionEffect(()=>{h&&v.current&&h.update(t,l)});const w=t[YM],T=b.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return HO(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),T.current&&h.animationState&&h.animationState.animateChanges())}),b.useEffect(()=>{h&&(!T.current&&h.animationState&&h.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),T.current=!1),h.enteringChildren=void 0)}),h}function _X(n,e,t,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:XM(n.parent)),n.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&_d(l),visualElement:n,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:d})}function XM(n){if(n)return n.options.allowProjection!==!1?n.projection:XM(n.parent)}function F_(n,{forwardMotionProps:e=!1}={},t,r){t&&KQ(t);const s=wT(n)?mX:pX;function i(l,u){let d;const h={...b.useContext(pT),...l,layoutId:xX(l)},{isStatic:m}=h,v=JQ(l),w=s(l,m);if(!m&&KS){bX();const T=SX(h);d=T.MeasureLayout,v.visualElement=wX(n,w,h,r,T.ProjectionNode)}return p.jsxs(ww.Provider,{value:v,children:[d&&v.visualElement?p.jsx(d,{visualElement:v.visualElement,...h}):null,dX(n,l,yX(w,v.visualElement,u),w,m,e)]})}i.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=b.forwardRef(i);return o[gX]=n,o}function xX({layoutId:n}){const e=b.useContext(qS).id;return e&&n!==void 0?e+"-"+n:n}function bX(n,e){b.useContext(FM).strict}function SX(n){const{drag:e,layout:t}=oh;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function TX(n,e){if(typeof Proxy>"u")return F_;const t=new Map,r=(i,o)=>F_(i,o,n,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(t.has(o)||t.set(o,F_(o,void 0,n,e)),t.get(o))})}function JM({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function EX({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function CX(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function z_(n){return n===void 0||n===1}function jb({scale:n,scaleX:e,scaleY:t}){return!z_(n)||!z_(e)||!z_(t)}function Dc(n){return jb(n)||ZM(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function ZM(n){return vA(n.x)||vA(n.y)}function vA(n){return n&&n!=="0%"}function hv(n,e,t){const r=n-t,s=e*r;return t+s}function wA(n,e,t,r,s){return s!==void 0&&(n=hv(n,s,r)),hv(n,t,r)+e}function Ob(n,e=0,t=1,r,s){n.min=wA(n.min,e,t,r,s),n.max=wA(n.max,e,t,r,s)}function eL(n,{x:e,y:t}){Ob(n.x,e.translate,e.scale,e.originPoint),Ob(n.y,t.translate,t.scale,t.originPoint)}const _A=.999999999999,xA=1.0000000000001;function PX(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=t[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&bd(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,eL(n,o)),r&&Dc(i.latestValues)&&bd(n,i.latestValues))}e.x<xA&&e.x>_A&&(e.x=1),e.y<xA&&e.y>_A&&(e.y=1)}function xd(n,e){n.min=n.min+e,n.max=n.max+e}function bA(n,e,t,r,s=.5){const i=Sn(n.min,n.max,s);Ob(n,e,t,i,r)}function bd(n,e){bA(n.x,e.x,e.scaleX,e.scale,e.originX),bA(n.y,e.y,e.scaleY,e.scale,e.originY)}function tL(n,e){return JM(CX(n.getBoundingClientRect(),e))}function kX(n,e,t){const r=tL(n,t),{scroll:s}=e;return s&&(xd(r.x,s.offset.x),xd(r.y,s.offset.y)),r}const SA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sd=()=>({x:SA(),y:SA()}),TA=()=>({min:0,max:0}),sr=()=>({x:TA(),y:TA()}),Mb={current:null},nL={current:!1};function RX(){if(nL.current=!0,!!KS)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Mb.current=n.matches;n.addEventListener("change",e),e()}else Mb.current=!1}const AX=new WeakMap;function IX(n,e,t){for(const r in e){const s=e[r],i=t[r];if(ss(s))n.addValue(r,s);else if(ss(i))n.addValue(r,ih(s,{owner:n}));else if(i!==s)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(r);n.addValue(r,ih(o!==void 0?o:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const EA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NX{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Fs.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,fn.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=xw(t),this.isVariantNode=UM(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in m){const w=m[v];u[v]!==void 0&&ss(w)&&w.set(u[v])}}mount(e){this.current=e,AX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),nL.current||RX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mb.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yl(this.notifyUpdate),Yl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Dh.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&fn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oh){const t=oh[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<EA.length;r++){const s=EA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=IX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ih(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(KO(r)||YO(r))?r=parseFloat(r):!zQ(r)&&Ql.test(t)&&(r=IM(e,t)),this.setBaseTarget(e,ss(r)?r.get():r)),ss(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const i=_T(this.props,t,this.presenceContext?.custom);i&&(r=i[e])}if(t&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ss(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new JS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){hT.render(this.render)}}class rL extends NX{constructor(){super(...arguments),this.KeyframeResolver=kQ}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ss(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function sL(n,{style:e,vars:t},r,s){const i=n.style;let o;for(o in e)i[o]=e[o];s?.applyProjectionStyles(i,r);for(o in t)i.setProperty(o,t[o])}function DX(n){return window.getComputedStyle(n)}class jX extends rL{constructor(){super(...arguments),this.type="html",this.renderInstance=sL}readValueFromInstance(e,t){if(Dh.has(t))return this.projection?.isProjecting?Cb(t):KY(e,t);{const r=DX(e),s=(cM(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return tL(e,t)}build(e,t,r){yT(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return xT(e,t,r)}}const iL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OX(n,e,t,r){sL(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(iL.has(s)?s:bT(s),e.attrs[s])}class MX extends rL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Dh.has(t)){const r=AM(t);return r&&r.default||0}return t=iL.has(t)?t:bT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return GM(e,t,r)}build(e,t,r){WM(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,s){OX(e,t,r,s)}mount(e){this.isSVGTag=HM(e.tagName),super.mount(e)}}const LX=(n,e)=>wT(n)?new MX(e):new jX(e,{allowProjection:n!==b.Fragment});function jd(n,e,t){const r=n.getProps();return _T(r,e,t!==void 0?t:r.custom,n)}const Lb=n=>Array.isArray(n);function VX(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ih(t))}function FX(n){return Lb(n)?n[n.length-1]||0:n}function zX(n,e){const t=jd(n,e);let{transitionEnd:r={},transition:s={},...i}=t||{};i={...i,...r};for(const o in i){const l=FX(i[o]);VX(n,o,l)}}function UX(n){return!!(ss(n)&&n.add)}function Vb(n,e){const t=n.getValue("willChange");if(UX(t))return t.add(e);if(!t&&ja.WillChange){const r=new ja.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function oL(n){return n.props[YM]}const $X=n=>n!==null;function BX(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter($X),i=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[i]}const WX={type:"spring",stiffness:500,damping:25,restSpeed:10},qX=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),HX={type:"keyframes",duration:.8},KX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GX=(n,{keyframes:e})=>e.length>2?HX:Dh.has(n)?n.startsWith("scale")?qX(e[1]):WX:KX;function YX({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const ST=(n,e,t,r={},s,i)=>o=>{const l=uT(r,n)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-qo(u);const h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:i?void 0:s};YX(l)||Object.assign(h,GX(n,h)),h.duration&&(h.duration=qo(h.duration)),h.repeatDelay&&(h.repeatDelay=qo(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Ib(h),h.delay===0&&(m=!0)),(ja.instantAnimations||ja.skipAnimations)&&(m=!0,Ib(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const v=BX(h.keyframes,l);if(v!==void 0){fn.update(()=>{h.onUpdate(v),h.onComplete()});return}}return l.isSync?new lT(h):new gQ(h)};function QX({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function aL(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:i=n.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(i=r);const u=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const h in l){const m=n.getValue(h,n.latestValues[h]??null),v=l[h];if(v===void 0||d&&QX(d,h))continue;const w={delay:t,...uT(i||{},h)},T=m.get();if(T!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===T&&!w.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const R=oL(n);if(R){const k=window.MotionHandoffAnimation(R,h,fn);k!==null&&(w.startTime=k,_=!0)}}Vb(n,h),m.start(ST(h,m,v,n.shouldReduceMotion&&PM.has(h)?{type:!1}:w,n,_));const S=m.animation;S&&u.push(S)}return o&&Promise.all(u).then(()=>{fn.update(()=>{o&&zX(n,o)})}),u}function lL(n,e,t,r=0,s=1){const i=Array.from(n).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=n.size,l=(o-1)*r;return typeof t=="function"?t(i,o):s===1?i*r:l-i*r}function Fb(n,e,t={}){const r=jd(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const i=r?()=>Promise.all(aL(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=s;return XX(n,e,u,d,h,m,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(t.delay)])}function XX(n,e,t=0,r=0,s=0,i=1,o){const l=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),l.push(Fb(u,e,{...o,delay:t+(typeof r=="function"?0:r)+lL(n.variantChildren,u,r,s,i)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function JX(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Fb(n,i,t));r=Promise.all(s)}else if(typeof e=="string")r=Fb(n,e,t);else{const s=typeof e=="function"?jd(n,e,t.custom):e;r=Promise.all(aL(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function cL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const ZX=gT.length;function uL(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?uL(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<ZX;t++){const r=gT[t],s=n.props[r];(Dp(s)||s===!1)&&(e[r]=s)}return e}const eJ=[...mT].reverse(),tJ=mT.length;function nJ(n){return e=>Promise.all(e.map(({animation:t,options:r})=>JX(n,t,r)))}function rJ(n){let e=nJ(n),t=CA(),r=!0;const s=u=>(d,h)=>{const m=jd(n,h,u==="exit"?n.presenceContext?.custom:void 0);if(m){const{transition:v,transitionEnd:w,...T}=m;d={...d,...T,...w}}return d};function i(u){e=u(n)}function o(u){const{props:d}=n,h=uL(n.parent)||{},m=[],v=new Set;let w={},T=1/0;for(let S=0;S<tJ;S++){const R=eJ[S],k=t[R],j=d[R]!==void 0?d[R]:h[R],I=Dp(j),L=R===u?k.isActive:null;L===!1&&(T=S);let z=j===h[R]&&j!==d[R]&&I;if(z&&r&&n.manuallyAnimateOnMount&&(z=!1),k.protectedKeys={...w},!k.isActive&&L===null||!j&&!k.prevProp||_w(j)||typeof j=="boolean")continue;const P=sJ(k.prevProp,j);let A=P||R===u&&k.isActive&&!z&&I||S>T&&I,D=!1;const O=Array.isArray(j)?j:[j];let V=O.reduce(s(R),{});L===!1&&(V={});const{prevResolvedValues:F={}}=k,U={...F,...V},X=J=>{A=!0,v.has(J)&&(D=!0,v.delete(J)),k.needsAnimating[J]=!0;const q=n.getValue(J);q&&(q.liveStyle=!1)};for(const J in U){const q=V[J],G=F[J];if(w.hasOwnProperty(J))continue;let B=!1;Lb(q)&&Lb(G)?B=!cL(q,G):B=q!==G,B?q!=null?X(J):v.add(J):q!==void 0&&v.has(J)?X(J):k.protectedKeys[J]=!0}k.prevProp=j,k.prevResolvedValues=V,k.isActive&&(w={...w,...V}),r&&n.blockInitialAnimation&&(A=!1);const re=z&&P;A&&(!re||D)&&m.push(...O.map(J=>{const q={type:R};if(typeof J=="string"&&r&&!re&&n.manuallyAnimateOnMount&&n.parent){const{parent:G}=n,B=jd(G,J);if(G.enteringChildren&&B){const{delayChildren:W}=B.transition||{};q.delay=lL(G.enteringChildren,n,W)}}return{animation:J,options:q}}))}if(v.size){const S={};if(typeof d.initial!="boolean"){const R=jd(n,Array.isArray(d.initial)?d.initial[0]:d.initial);R&&R.transition&&(S.transition=R.transition)}v.forEach(R=>{const k=n.getBaseTarget(R),j=n.getValue(R);j&&(j.liveStyle=!0),S[R]=k??null}),m.push({animation:S})}let _=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(m):Promise.resolve()}function l(u,d){if(t[u].isActive===d)return Promise.resolve();n.variantChildren?.forEach(m=>m.animationState?.setActive(u,d)),t[u].isActive=d;const h=o(u);for(const m in t)t[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>t,reset:()=>{t=CA()}}}function sJ(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!cL(e,n):!1}function kc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CA(){return{animate:kc(!0),whileInView:kc(),whileHover:kc(),whileTap:kc(),whileDrag:kc(),whileFocus:kc(),exit:kc()}}class sc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iJ extends sc{constructor(e){super(e),e.animationState||(e.animationState=rJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_w(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let oJ=0;class aJ extends sc{constructor(){super(...arguments),this.id=oJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lJ={animation:{Feature:iJ},exit:{Feature:aJ}};function jp(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function mm(n){return{point:{x:n.pageX,y:n.pageY}}}const cJ=n=>e=>fT(e)&&n(e,mm(e));function Zf(n,e,t,r){return jp(n,e,cJ(t),r)}const dL=1e-4,uJ=1-dL,dJ=1+dL,hL=.01,hJ=0-hL,fJ=0+hL;function xs(n){return n.max-n.min}function pJ(n,e,t){return Math.abs(n-e)<=t}function PA(n,e,t,r=.5){n.origin=r,n.originPoint=Sn(e.min,e.max,n.origin),n.scale=xs(t)/xs(e),n.translate=Sn(t.min,t.max,n.origin)-n.originPoint,(n.scale>=uJ&&n.scale<=dJ||isNaN(n.scale))&&(n.scale=1),(n.translate>=hJ&&n.translate<=fJ||isNaN(n.translate))&&(n.translate=0)}function ep(n,e,t,r){PA(n.x,e.x,t.x,r?r.originX:void 0),PA(n.y,e.y,t.y,r?r.originY:void 0)}function kA(n,e,t){n.min=t.min+e.min,n.max=n.min+xs(e)}function mJ(n,e,t){kA(n.x,e.x,t.x),kA(n.y,e.y,t.y)}function RA(n,e,t){n.min=e.min-t.min,n.max=n.min+xs(e)}function fv(n,e,t){RA(n.x,e.x,t.x),RA(n.y,e.y,t.y)}function bi(n){return[n("x"),n("y")]}const fL=({current:n})=>n?n.ownerDocument.defaultView:null,AA=(n,e)=>Math.abs(n-e);function gJ(n,e){const t=AA(n.x,e.x),r=AA(n.y,e.y);return Math.sqrt(t**2+r**2)}class pL{constructor(e,t,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=$_(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=gJ(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!T)return;const{point:_}=v,{timestamp:S}=jr;this.history.push({..._,timestamp:S});const{onStart:R,onMove:k}=this.handlers;w||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=U_(w,this.transformPagePoint),fn.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:T,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=$_(v.type==="pointercancel"?this.lastMoveEventInfo:U_(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,R),_&&_(v,R)},!fT(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=mm(e),u=U_(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=jr;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,$_(u,this.history)),this.removeListeners=hm(Zf(this.contextWindow,"pointermove",this.handlePointerMove),Zf(this.contextWindow,"pointerup",this.handlePointerUp),Zf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yl(this.updatePoint)}}function U_(n,e){return e?{point:e(n.point)}:n}function IA(n,e){return{x:n.x-e.x,y:n.y-e.y}}function $_({point:n},e){return{point:n,delta:IA(n,mL(e)),offset:IA(n,yJ(e)),velocity:vJ(e,.1)}}function yJ(n){return n[0]}function mL(n){return n[n.length-1]}function vJ(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=mL(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>qo(e)));)t--;if(!r)return{x:0,y:0};const i=Ri(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wJ(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Sn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Sn(t,n,r.max):Math.min(n,t)),n}function NA(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function _J(n,{top:e,left:t,bottom:r,right:s}){return{x:NA(n.x,t,s),y:NA(n.y,e,r)}}function DA(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function xJ(n,e){return{x:DA(n.x,e.x),y:DA(n.y,e.y)}}function bJ(n,e){let t=.5;const r=xs(n),s=xs(e);return s>r?t=Ap(e.min,e.max-r,n.min):r>s&&(t=Ap(n.min,n.max-s,e.min)),Da(0,1,t)}function SJ(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const zb=.35;function TJ(n=zb){return n===!1?n=0:n===!0&&(n=zb),{x:jA(n,"left","right"),y:jA(n,"top","bottom")}}function jA(n,e,t){return{min:OA(n,e),max:OA(n,t)}}function OA(n,e){return typeof n=="number"?n:n[e]||0}const EJ=new WeakMap;class CJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(mm(m).point)},o=(m,v)=>{const{drag:w,dragPropagation:T,onDragStart:_}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NQ(w),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(R=>{let k=this.getAxisMotionValue(R).get()||0;if(Ho.test(k)){const{projection:j}=this.visualElement;if(j&&j.layout){const I=j.layout.layoutBox[R];I&&(k=xs(I)*(parseFloat(k)/100))}}this.originPoint[R]=k}),_&&fn.postRender(()=>_(m,v)),Vb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:_,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:R}=v;if(T&&this.currentDirection===null){this.currentDirection=PJ(R),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),S&&S(m,v)},u=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>bi(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new pL(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:fL(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,s=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&fn.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Lg(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=wJ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&_d(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=_J(r.layoutBox,e):this.constraints=!1,this.elastic=TJ(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bi(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=SJ(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!_d(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=kX(r,s.root,this.visualElement.getTransformPagePoint());let o=xJ(s.layout.layoutBox,i);if(t){const l=t(EX(o));this.hasMutatedConstraints=!!l,l&&(o=JM(l))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=bi(h=>{if(!Lg(h,t,this.currentDirection))return;let m=u&&u[h]||{};o&&(m={min:0,max:0});const v=s?200:1e6,w=s?40:1e7,T={type:"inertia",velocity:r?e[h]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,T)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Vb(this.visualElement,e),r.start(ST(e,r,0,t,this.visualElement,!1))}stopAnimation(){bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bi(t=>{const{drag:r}=this.getProps();if(!Lg(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[t];i.set(e[t]-Sn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!_d(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};bi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();s[o]=bJ({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bi(o=>{if(!Lg(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Sn(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;EJ.set(this.visualElement,this);const e=this.visualElement.current,t=Zf(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();_d(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),fn.read(r);const o=jp(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(bi(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=u[h].translate,m.set(m.get()+u[h].translate))}),this.visualElement.render())}));return()=>{o(),t(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=zb,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Lg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function PJ(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class kJ extends sc{constructor(e){super(e),this.removeGroupControls=ji,this.removeListeners=ji,this.controls=new CJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ji}unmount(){this.removeGroupControls(),this.removeListeners()}}const MA=n=>(e,t)=>{n&&fn.postRender(()=>n(e,t))};class RJ extends sc{constructor(){super(...arguments),this.removePointerDownListener=ji}onPointerDown(e){this.session=new pL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:MA(e),onStart:MA(t),onMove:r,onEnd:(i,o)=>{delete this.session,s&&fn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Zf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let B_=!1;class AJ extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),r&&r.register&&s&&r.register(i),B_&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,B_=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||fn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;B_=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gL(n){const[e,t]=VM(),r=b.useContext(qS);return p.jsx(AJ,{...n,layoutGroup:r,switchLayoutGroup:b.useContext(QM),isPresent:e,safeToRemove:t})}function IJ(n,e,t){const r=ss(n)?n:ih(n);return r.start(ST("",r,e,t)),r.animation}const NJ=(n,e)=>n.depth-e.depth;class DJ{constructor(){this.children=[],this.isDirty=!1}add(e){GS(this.children,e),this.isDirty=!0}remove(e){YS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NJ),this.isDirty=!1,this.children.forEach(e)}}function jJ(n,e){const t=Fs.now(),r=({timestamp:s})=>{const i=s-t;i>=e&&(Yl(r),n(i-e))};return fn.setup(r,!0),()=>Yl(r)}const yL=["TopLeft","TopRight","BottomLeft","BottomRight"],OJ=yL.length,LA=n=>typeof n=="string"?parseFloat(n):n,VA=n=>typeof n=="number"||Qe.test(n);function MJ(n,e,t,r,s,i){s?(n.opacity=Sn(0,t.opacity??1,LJ(r)),n.opacityExit=Sn(e.opacity??1,0,VJ(r))):i&&(n.opacity=Sn(e.opacity??1,t.opacity??1,r));for(let o=0;o<OJ;o++){const l=`border${yL[o]}Radius`;let u=FA(e,l),d=FA(t,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||VA(u)===VA(d)?(n[l]=Math.max(Sn(LA(u),LA(d),r),0),(Ho.test(d)||Ho.test(u))&&(n[l]+="%")):n[l]=d}(e.rotate||t.rotate)&&(n.rotate=Sn(e.rotate||0,t.rotate||0,r))}function FA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const LJ=vL(0,.5,rM),VJ=vL(.5,.95,ji);function vL(n,e,t){return r=>r<n?0:r>e?1:t(Ap(n,e,r))}function zA(n,e){n.min=e.min,n.max=e.max}function Ki(n,e){zA(n.x,e.x),zA(n.y,e.y)}function UA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function $A(n,e,t,r,s){return n-=e,n=hv(n,1/t,r),s!==void 0&&(n=hv(n,1/s,r)),n}function FJ(n,e=0,t=1,r=.5,s,i=n,o=n){if(Ho.test(e)&&(e=parseFloat(e),e=Sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Sn(i.min,i.max,r);n===i&&(l-=e),n.min=$A(n.min,e,t,l,s),n.max=$A(n.max,e,t,l,s)}function BA(n,e,[t,r,s],i,o){FJ(n,e[t],e[r],e[s],e.scale,i,o)}const zJ=["x","scaleX","originX"],UJ=["y","scaleY","originY"];function WA(n,e,t,r){BA(n.x,e,zJ,t?t.x:void 0,r?r.x:void 0),BA(n.y,e,UJ,t?t.y:void 0,r?r.y:void 0)}function qA(n){return n.translate===0&&n.scale===1}function wL(n){return qA(n.x)&&qA(n.y)}function HA(n,e){return n.min===e.min&&n.max===e.max}function $J(n,e){return HA(n.x,e.x)&&HA(n.y,e.y)}function KA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function _L(n,e){return KA(n.x,e.x)&&KA(n.y,e.y)}function GA(n){return xs(n.x)/xs(n.y)}function YA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class BJ{constructor(){this.members=[]}add(e){GS(this.members,e),e.scheduleRender()}remove(e){if(YS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WJ(n,e,t){let r="";const s=n.x.translate/e.x,i=n.y.translate/e.y,o=t?.z||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:v,skewX:w,skewY:T}=t;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),v&&(r+=`rotateY(${v}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const l=n.x.scale*e.x,u=n.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const W_=["","X","Y","Z"],qJ=1e3;let HJ=0;function q_(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function xL(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=oL(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:i}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",fn,!(s||i))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&xL(r)}function bL({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e?.()){this.id=HJ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(YJ),this.nodes.forEach(ZJ),this.nodes.forEach(eZ),this.nodes.forEach(QJ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new DJ)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new JS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=LM(o)&&!VQ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),n){let h,m=0;const v=()=>this.root.updateBlockedByResize=!1;fn.read(()=>{m=window.innerWidth}),n(o,()=>{const w=window.innerWidth;w!==m&&(m=w,this.root.updateBlockedByResize=!0,h&&h(),h=jJ(v,250),wy.hasAnimatedSinceResize&&(wy.hasAnimatedSinceResize=!1,this.nodes.forEach(JA)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||iZ,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=d.getProps(),R=!this.targetLayout||!_L(this.targetLayout,w),k=!m&&v;if(this.options.layoutRoot||this.resumeFrom||k||m&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...uT(T,"layout"),onPlay:_,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(h,k)}else m||JA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JJ),this.nodes.forEach(KJ),this.nodes.forEach(GJ)):this.nodes.forEach(XA),this.clearAllSnapshots();const l=Fs.now();jr.delta=Da(0,1e3/60,l-jr.timestamp),jr.timestamp=l,jr.isProcessing=!0,D_.update.process(jr),D_.preRender.process(jr),D_.render.process(jr),jr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XJ),this.sharedNodes.forEach(nZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xs(this.snapshot.measuredBox.x)&&!xs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=sr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!wL(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Dc(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),oZ(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return sr();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aZ))){const{scroll:d}=this.root;d&&(xd(l.x,d.offset.x),xd(l.y,d.offset.y))}return l}removeElementScroll(o){const l=sr();if(Ki(l,o),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Ki(l,o),xd(l.x,h.offset.x),xd(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const u=sr();Ki(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&bd(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Dc(h.latestValues)&&bd(u,h.latestValues)}return Dc(this.latestValues)&&bd(u,this.latestValues),u}removeTransform(o){const l=sr();Ki(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Dc(d.latestValues))continue;jb(d.latestValues)&&d.updateSnapshot();const h=sr(),m=d.measurePageBox();Ki(h,m),WA(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Dc(this.latestValues)&&WA(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!this.layout||!(h||m))return;this.resolvedRelativeTargetAt=jr.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sr(),this.targetWithTransforms=sr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ki(this.target,this.layout.layoutBox),eL(this.target,this.targetDelta)):Ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||jb(this.parent.latestValues)||ZM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sr(),this.relativeTargetOrigin=sr(),fv(this.relativeTargetOrigin,l,u),Ki(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===jr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ki(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;PX(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=sr());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UA(this.prevProjectionDelta.x,this.projectionDelta.x),UA(this.prevProjectionDelta.y,this.projectionDelta.y)),ep(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!YA(this.projectionDelta.x,this.prevProjectionDelta.x)||!YA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sd(),this.projectionDelta=Sd(),this.projectionDeltaWithTransform=Sd()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},m=Sd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=sr(),w=u?u.source:void 0,T=this.layout?this.layout.source:void 0,_=w!==T,S=this.getStack(),R=!S||S.members.length<=1,k=!!(_&&!R&&this.options.crossfade===!0&&!this.path.some(sZ));this.animationProgress=0;let j;this.mixTargetDelta=I=>{const L=I/1e3;ZA(m.x,o.x,L),ZA(m.y,o.y,L),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fv(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rZ(this.relativeTarget,this.relativeTargetOrigin,v,L),j&&$J(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=sr()),Ki(j,this.relativeTarget)),_&&(this.animationValues=h,MJ(h,d,this.latestValues,L,k,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fn.update(()=>{wy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ih(0)),this.currentAnimation=IJ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:h}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&SL(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||sr();const m=xs(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const v=xs(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}Ki(l,u),bd(l,h),ep(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BJ),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&q_("z",o,d,this.animationValues);for(let h=0;h<W_.length;h++)q_(`rotate${W_[h]}`,o,d,this.animationValues),q_(`skew${W_[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=vy(l?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=vy(l?.pointerEvents)||""),this.hasProjected&&!Dc(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=WJ(this.projectionDeltaWithTransform,this.treeScale,h);u&&(m=u(h,m)),o.transform=m;const{x:v,y:w}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const T in Db){if(h[T]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:R}=Db[T],k=m==="none"?h[T]:_(h[T],d);if(S){const j=S.length;for(let I=0;I<j;I++)o[S[I]]=k}else R?this.options.visualElement.renderState.vars[T]=k:o[T]=k}this.options.layoutId&&(o.pointerEvents=d===this?vy(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(QA),this.root.sharedNodes.clear()}}}function KJ(n){n.updateLayout()}function GJ(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:s}=n.options,i=e.source!==n.layout.source;s==="size"?bi(h=>{const m=i?e.measuredBox[h]:e.layoutBox[h],v=xs(m);m.min=t[h].min,m.max=m.min+v}):SL(s,e.layoutBox,t)&&bi(h=>{const m=i?e.measuredBox[h]:e.layoutBox[h],v=xs(t[h]);m.max=m.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+v)});const o=Sd();ep(o,t,e.layoutBox);const l=Sd();i?ep(l,n.applyTransform(r,!0),e.measuredBox):ep(l,t,e.layoutBox);const u=!wL(o);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:v}=h;if(m&&v){const w=sr();fv(w,e.layoutBox,m.layoutBox);const T=sr();fv(T,t,v.layoutBox),_L(w,T)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=w,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function YJ(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function QJ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function XJ(n){n.clearSnapshot()}function QA(n){n.clearMeasurements()}function XA(n){n.isLayoutDirty=!1}function JJ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function JA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function ZJ(n){n.resolveTargetDelta()}function eZ(n){n.calcProjection()}function tZ(n){n.resetSkewAndRotation()}function nZ(n){n.removeLeadSnapshot()}function ZA(n,e,t){n.translate=Sn(e.translate,0,t),n.scale=Sn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function eI(n,e,t,r){n.min=Sn(e.min,t.min,r),n.max=Sn(e.max,t.max,r)}function rZ(n,e,t,r){eI(n.x,e.x,t.x,r),eI(n.y,e.y,t.y,r)}function sZ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const iZ={duration:.45,ease:[.4,0,.1,1]},tI=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),nI=tI("applewebkit/")&&!tI("chrome/")?Math.round:ji;function rI(n){n.min=nI(n.min),n.max=nI(n.max)}function oZ(n){rI(n.x),rI(n.y)}function SL(n,e,t){return n==="position"||n==="preserve-aspect"&&!pJ(GA(e),GA(t),.2)}function aZ(n){return n!==n.root&&n.scroll?.wasRoot}const lZ=bL({attachResizeListener:(n,e)=>jp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),H_={current:void 0},TL=bL({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!H_.current){const n=new lZ({});n.mount(window),n.setOptions({layoutScroll:!0}),H_.current=n}return H_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),cZ={pan:{Feature:RJ},drag:{Feature:kJ,ProjectionNode:TL,MeasureLayout:gL}};function sI(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,i=r[s];i&&fn.postRender(()=>i(e,mm(e)))}class uZ extends sc{mount(){const{current:e}=this.node;e&&(this.unmount=DQ(e,(t,r)=>(sI(this.node,r,"Start"),s=>sI(this.node,s,"End"))))}unmount(){}}class dZ extends sc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hm(jp(this.node.current,"focus",()=>this.onFocus()),jp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iI(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),i=r[s];i&&fn.postRender(()=>i(e,mm(e)))}class hZ extends sc{mount(){const{current:e}=this.node;e&&(this.unmount=LQ(e,(t,r)=>(iI(this.node,r,"Start"),(s,{success:i})=>iI(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ub=new WeakMap,K_=new WeakMap,fZ=n=>{const e=Ub.get(n.target);e&&e(n)},pZ=n=>{n.forEach(fZ)};function mZ({root:n,...e}){const t=n||document;K_.has(t)||K_.set(t,{});const r=K_.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(pZ,{root:n,...e})),r[s]}function gZ(n,e,t){const r=mZ(e);return Ub.set(n,t),r.observe(n),()=>{Ub.delete(n),r.unobserve(n)}}const yZ={some:0,all:1};class vZ extends sc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:yZ[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),v=d?h:m;v&&v(u)};return gZ(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(wZ(e,t))&&this.startObserver()}unmount(){}}function wZ({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const _Z={inView:{Feature:vZ},tap:{Feature:hZ},focus:{Feature:dZ},hover:{Feature:uZ}},xZ={layout:{ProjectionNode:TL,MeasureLayout:gL}},bZ={...lJ,..._Z,...cZ,...xZ},sn=TX(bZ,LX),TT=Fv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ae=b.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},i)=>{const o=r?u5:"button";return p.jsx(o,{className:ot(TT({variant:e,size:t,className:n})),ref:i,...s})});Ae.displayName="Button";const tt=n=>typeof n=="string",Tf=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},oI=n=>n==null?"":""+n,SZ=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},TZ=/###/g,aI=n=>n&&n.indexOf("###")>-1?n.replace(TZ,"."):n,lI=n=>!n||tt(n),tp=(n,e,t)=>{const r=tt(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(lI(n))return{};const i=aI(r[s]);!n[i]&&t&&(n[i]=new t),Object.prototype.hasOwnProperty.call(n,i)?n=n[i]:n={},++s}return lI(n)?{}:{obj:n,k:aI(r[s])}},cI=(n,e,t)=>{const{obj:r,k:s}=tp(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=tp(n,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=tp(n,o,Object),l?.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=t},EZ=(n,e,t,r)=>{const{obj:s,k:i}=tp(n,e,Object);s[i]=s[i]||[],s[i].push(t)},pv=(n,e)=>{const{obj:t,k:r}=tp(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},CZ=(n,e,t)=>{const r=pv(n,t);return r!==void 0?r:pv(e,t)},EL=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?tt(n[r])||n[r]instanceof String||tt(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):EL(n[r],e[r],t):n[r]=e[r]);return n},id=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var PZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const kZ=n=>tt(n)?n.replace(/[&<>"'\/]/g,e=>PZ[e]):n;class RZ{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const AZ=[" ",",","?","!",";"],IZ=new RZ(20),NZ=(n,e,t)=>{e=e||"",t=t||"";const r=AZ.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(r.length===0)return!0;const s=IZ.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(n);if(!i){const o=n.indexOf(t);o>0&&!s.test(n.substring(0,o))&&(i=!0)}return i},$b=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let s=n;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,l="";for(let u=i;u<r.length;++u)if(u!==i&&(l+=t),l+=r[u],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<r.length-1)continue;i+=u-i+1;break}s=o}return s},Op=n=>n?.replace("_","-"),DZ={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class mv{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||DZ,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(tt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new mv(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new mv(this.logger,e)}}var Mo=new mv;class bw{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[e,...t])})}}class uI extends bw{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,s={}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],r&&(Array.isArray(r)?l.push(...r):tt(r)&&i?l.push(...r.split(i)):l.push(r)));const u=pv(this.data,l);return!u&&!t&&!r&&e.indexOf(".")>-1&&(e=l[0],t=l[1],r=l.slice(2).join(".")),u||!o||!tt(r)?u:$b(this.data?.[e]?.[t],r,i)}addResource(e,t,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,t];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),s=t,t=l[1]),this.addNamespaces(t),cI(this.data,l,s),i.silent||this.emit("added",e,t,r,s)}addResources(e,t,r,s={silent:!1}){for(const i in r)(tt(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,i,o={silent:!1,skipCopy:!1}){let l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),s=r,r=t,t=l[1]),this.addNamespaces(t);let u=pv(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?EL(u,r,i):u={...u,...r},cI(this.data,l,u),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var CL={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(i=>{e=this.processors[i]?.process(e,t,r,s)??e}),e}};const PL=Symbol("i18next/PATH_KEY");function jZ(){const n=[],e=Object.create(null);let t;return e.get=(r,s)=>(t?.revoke?.(),s===PL?n:(n.push(s),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Bb(n,e){const{[PL]:t}=n(jZ());return t.join(e?.keySeparator??".")}const dI={},G_=n=>!tt(n)&&typeof n!="boolean"&&typeof n!="number";class gv extends bw{constructor(e,t={}){super(),SZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Mo.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const s=this.resolve(e,r);if(s?.res===void 0)return!1;const i=G_(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!NZ(e,r,s);if(o&&!l){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:tt(i)?[i]:i};const d=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),e=d.join(s)}return{key:e,namespaces:tt(i)?[i]:i}}translate(e,t,r){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Bb(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],s),d=u[u.length-1];let h=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const m=s.lng||this.language,v=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return v?i?{res:`${d}${h}${l}`,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${h}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:l;const w=this.resolve(e,s);let T=w?.res;const _=w?.usedKey||l,S=w?.exactUsedKey||l,R=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,I=s.count!==void 0&&!tt(s.count),L=gv.hasDefaultValue(s),z=I?this.pluralResolver.getSuffix(m,s.count,s):"",P=s.ordinal&&I?this.pluralResolver.getSuffix(m,s.count,{ordinal:!1}):"",A=I&&!s.ordinal&&s.count===0,D=A&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${z}`]||s[`defaultValue${P}`]||s.defaultValue;let O=T;j&&!T&&L&&(O=D);const V=G_(O),F=Object.prototype.toString.apply(O);if(j&&O&&V&&R.indexOf(F)<0&&!(tt(k)&&Array.isArray(O))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,O,{...s,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(w.res=U,w.usedParams=this.getUsedParamsDetails(s),w):U}if(o){const U=Array.isArray(O),X=U?[]:{},re=U?S:_;for(const ne in O)if(Object.prototype.hasOwnProperty.call(O,ne)){const J=`${re}${o}${ne}`;L&&!T?X[ne]=this.translate(J,{...s,defaultValue:G_(D)?D[ne]:void 0,joinArrays:!1,ns:u}):X[ne]=this.translate(J,{...s,joinArrays:!1,ns:u}),X[ne]===J&&(X[ne]=O[ne])}T=X}}else if(j&&tt(k)&&Array.isArray(T))T=T.join(k),T&&(T=this.extendTranslation(T,e,s,r));else{let U=!1,X=!1;!this.isValidLookup(T)&&L&&(U=!0,T=D),this.isValidLookup(T)||(X=!0,T=l);const ne=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:T,J=L&&D!==T&&this.options.updateMissing;if(X||U||J){if(this.logger.log(J?"updateKey":"missingKey",m,d,l,J?D:T),o){const W=this.resolve(l,{...s,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let W=0;W<G.length;W++)q.push(G[W]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(s.lng||this.language):q.push(s.lng||this.language);const B=(W,Q,pe)=>{const he=L&&pe!==T?pe:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(W,d,Q,he,J,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(W,d,Q,he,J,s),this.emit("missingKey",W,d,Q,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?q.forEach(W=>{const Q=this.pluralResolver.getSuffixes(W,s);A&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(pe=>{B([W],l+pe,s[`defaultValue${pe}`]||D)})}):B(q,l,D))}T=this.extendTranslation(T,e,s,w,r),X&&T===l&&this.options.appendNamespaceToMissingKey&&(T=`${d}${h}${l}`),(X||U)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${h}${l}`:l,U?T:void 0,s))}return i?(w.res=T,w.usedParams=this.getUsedParamsDetails(s),w):T}extendTranslation(e,t,r,s,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=tt(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const m=e.match(this.interpolator.nestingRegexp);d=m&&m.length}let h=r.replace&&!tt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const m=e.match(this.interpolator.nestingRegexp),v=m&&m.length;d<v&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>i?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):this.translate(...m,t),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=tt(o)?[o]:o;return e!=null&&l?.length&&r.applyPostProcessor!==!1&&(e=CL.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,s,i,o,l;return tt(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(u,t),h=d.key;s=h;let m=d.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const v=t.count!==void 0&&!tt(t.count),w=v&&!t.ordinal&&t.count===0,T=t.context!==void 0&&(tt(t.context)||typeof t.context=="number")&&t.context!=="",_=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(S=>{this.isValidLookup(r)||(l=S,!dI[`${_[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(dI[`${_[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${_.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(R=>{if(this.isValidLookup(r))return;o=R;const k=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,h,R,S,t);else{let I;v&&(I=this.pluralResolver.getSuffix(R,t.count,t));const L=`${this.options.pluralSeparator}zero`,z=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(t.ordinal&&I.indexOf(z)===0&&k.push(h+I.replace(z,this.options.pluralSeparator)),k.push(h+I),w&&k.push(h+L)),T){const P=`${h}${this.options.contextSeparator||"_"}${t.context}`;k.push(P),v&&(t.ordinal&&I.indexOf(z)===0&&k.push(P+I.replace(z,this.options.pluralSeparator)),k.push(P+I),w&&k.push(P+L))}}let j;for(;j=k.pop();)this.isValidLookup(r)||(i=j,r=this.getResource(R,S,j,t))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!tt(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of t)delete s[i]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class hI{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Mo.create("languageUtils")}getScriptPartFromCode(e){if(e=Op(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Op(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(tt(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return t=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),tt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return tt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):tt(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const fI={zero:0,one:1,two:2,few:3,many:4,other:5},pI={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class OZ{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Mo.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Op(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),pI;if(!e.match(/-|_/))return pI;const u=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(u,t)}return this.pluralRulesCache[i]=o,o}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>fI[s]-fI[i]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const mI=(n,e,t,r=".",s=!0)=>{let i=CZ(n,e,t);return!i&&s&&tt(t)&&(i=$b(n,t,r),i===void 0&&(i=$b(e,t,r))),i},Y_=n=>n.replace(/\$/g,"$$$$");class MZ{constructor(e={}){this.logger=Mo.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:u,formatSeparator:d,unescapeSuffix:h,unescapePrefix:m,nestingPrefix:v,nestingPrefixEscaped:w,nestingSuffix:T,nestingSuffixEscaped:_,nestingOptionsSeparator:S,maxReplaces:R,alwaysFormat:k}=e.interpolation;this.escape=t!==void 0?t:kZ,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?id(i):o||"{{",this.suffix=l?id(l):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=h?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=v?id(v):w||id("$t("),this.nestingSuffix=T?id(T):_||id(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=R||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let i,o,l;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=w=>{if(w.indexOf(this.formatSeparator)<0){const R=mI(t,u,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,r,{...s,...t,interpolationkey:w}):R}const T=w.split(this.formatSeparator),_=T.shift().trim(),S=T.join(this.formatSeparator).trim();return this.format(mI(t,u,_,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...s,...t,interpolationkey:_})};this.resetRegExp();const h=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Y_(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Y_(this.escape(w)):Y_(w)}].forEach(w=>{for(l=0;i=w.regex.exec(e);){const T=i[1].trim();if(o=d(T),o===void 0)if(typeof h=="function"){const S=h(e,i,s);o=tt(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,T))o="";else if(m){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${e}`),o="";else!tt(o)&&!this.useRawValueToEscape&&(o=oI(o));const _=w.safeValue(o);if(e=e.replace(i[0],_),m?(w.regex.lastIndex+=o.length,w.regex.lastIndex-=i[0].length):w.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t,r={}){let s,i,o;const l=(u,d)=>{const h=this.nestingOptionsSeparator;if(u.indexOf(h)<0)return u;const m=u.split(new RegExp(`${h}[ ]*{`));let v=`{${m[1]}`;u=m[0],v=this.interpolate(v,o);const w=v.match(/'/g),T=v.match(/"/g);((w?.length??0)%2===0&&!T||T.length%2!==0)&&(v=v.replace(/'/g,'"'));try{o=JSON.parse(v),d&&(o={...d,...o})}catch(_){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,_),`${u}${h}${v}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(e);){let u=[];o={...r},o=o.replace&&!tt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(d!==-1&&(u=s[1].slice(d).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),s[1]=s[1].slice(0,d)),i=t(l.call(this,s[1].trim(),o),o),i&&s[0]===e&&!tt(i))return i;tt(i)||(i=oI(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u.length&&(i=u.reduce((h,m)=>this.format(h,m,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const LZ=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(o=>{if(o){const[l,...u]=o.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();t[h]||(t[h]=d),d==="false"&&(t[h]=!1),d==="true"&&(t[h]=!0),isNaN(d)||(t[h]=parseInt(d,10))}})}return{formatName:e,formatOptions:t}},gI=n=>{const e={};return(t,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=e[o];return l||(l=n(Op(r),s),e[o]=l),l(t)}},VZ=n=>(e,t,r)=>n(Op(t),r)(e);class FZ{constructor(e={}){this.logger=Mo.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?gI:VZ;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return l=>o.format(l)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return l=>o.format(l)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return l=>o.format(l)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return l=>o.format(l,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return l=>o.format(l)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=gI(t)}format(e,t,r,s={}){const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,u)=>{const{formatName:d,formatOptions:h}=LZ(u);if(this.formats[d]){let m=l;try{const v=s?.formatParams?.[s.interpolationkey]||{},w=v.locale||v.lng||s.locale||s.lng||r;m=this.formats[d](l,w,{...h,...s,...v})}catch(v){this.logger.warn(v)}return m}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const zZ=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class UZ extends bw{constructor(e,t,r,s={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Mo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,t,r,s){const i={},o={},l={},u={};return e.forEach(d=>{let h=!0;t.forEach(m=>{const v=`${d}|${m}`;!r.reload&&this.store.hasResourceBundle(d,m)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?o[v]===void 0&&(o[v]=!0):(this.state[v]=1,h=!1,o[v]===void 0&&(o[v]=!0),i[v]===void 0&&(i[v]=!0),u[m]===void 0&&(u[m]=!0)))}),h||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,t,r){const s=e.split("|"),i=s[0],o=s[1];t&&this.emit("failedLoading",i,o,t),!t&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const l={};this.queue.forEach(u=>{EZ(u.loaded,[i],o),zZ(u,e),t&&u.errors.push(t),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{l[d]||(l[d]={});const h=u.loaded[d];h.length&&h.forEach(m=>{l[d][m]===void 0&&(l[d][m]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,t,r,s=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const l=(d,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(d&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,i*2,o)},i);return}o(d,h)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const d=u(e,t);d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}return}return u(e,t,l)}prepareLoading(e,t,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();tt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),tt(t)&&(t=[t]);const i=this.queueLoad(e,t,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${t}loading namespace ${i} for language ${s} failed`,o),!o&&l&&this.logger.log(`${t}loaded namespace ${i} for language ${s}`,l),this.loaded(e,o,l)})}saveMissing(e,t,r,s,i,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const u={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let h;d.length===5?h=d(e,t,r,s,u):h=d(e,t,r,s),h&&typeof h.then=="function"?h.then(m=>l(null,m)).catch(l):l(null,h)}catch(h){l(h)}else d(e,t,r,s,l,u)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const yI=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),tt(n[1])&&(e.defaultValue=n[1]),tt(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),vI=n=>(tt(n.ns)&&(n.ns=[n.ns]),tt(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),tt(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Vg=()=>{},$Z=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class np extends bw{constructor(e={},t){if(super(),this.options=vI(e),this.services={},this.logger=Mo,this.modules={external:[]},$Z(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(tt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=yI();this.options={...r,...this.options,...vI(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Mo.init(s(this.modules.logger),this.options):Mo.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=FZ;const h=new hI(this.options);this.store=new uI(this.options.resources,this.options);const m=this.services;m.logger=Mo,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new OZ(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=s(d),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new MZ(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new UZ(s(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(w,...T)=>{this.emit(w,...T)}),this.modules.languageDetector&&(m.languageDetector=s(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=s(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new gv(this.services,this.options),this.translator.on("*",(w,...T)=>{this.emit(w,...T)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Vg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...h)=>this.store[d](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...h)=>(this.store[d](...h),this)});const l=Tf(),u=()=>{const d=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),t(h,m)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e,t=Vg){let r=t;const s=tt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>o(u)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,t,r){const s=Tf();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Vg),this.services.backendConnector.reload(e,t,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&CL.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Tf();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,u)=>{u?this.isLanguageChangingTo===e&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),t&&t(l,(...d)=>this.t(...d))},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=tt(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(tt(l)?[l]:l);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,h=>{i(h,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,t,r){const s=(i,o,...l)=>{let u;typeof o!="object"?u=this.options.overloadTranslationOptionHandler([i,o].concat(l)):u={...o},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||s.keyPrefix);const d=this.options.keySeparator||".";let h;return u.keyPrefix&&Array.isArray(i)?h=i.map(m=>(typeof m=="function"&&(m=Bb(m,{...this.options,...o})),`${u.keyPrefix}${d}${m}`)):(typeof i=="function"&&(i=Bb(i,{...this.options,...o})),h=u.keyPrefix?`${u.keyPrefix}${d}${i}`:i),this.t(h,u)};return tt(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,u)=>{const d=this.services.backendConnector.state[`${l}|${u}`];return d===-1||d===0||d===2};if(t.precheck){const l=t.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,t){const r=Tf();return this.options.ns?(tt(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Tf();tt(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const i=s.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new hI(yI());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const r=new np(e,t);return r.createInstance=np.createInstance,r}cloneInstance(e={},t=Vg){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new np(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const l=Object.keys(this.store.data).reduce((u,d)=>(u[d]={...this.store.data[d]},u[d]=Object.keys(u[d]).reduce((h,m)=>(h[m]={...u[d][m]},h),u[d]),u),{});i.store=new uI(l,s),i.services.resourceStore=i.store}return i.translator=new gv(i.services,s),i.translator.on("*",(l,...u)=>{i.emit(l,...u)}),i.init(s,t),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ss=np.createInstance();Ss.createInstance;Ss.dir;Ss.init;Ss.loadResources;Ss.reloadResources;Ss.use;Ss.changeLanguage;Ss.getFixedT;Ss.t;Ss.exists;Ss.setDefaultNamespace;Ss.hasLoadedNamespace;Ss.loadNamespaces;Ss.loadLanguages;const BZ=(n,e,t,r)=>{const s=[t,{code:e,...r||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);pu(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...s):console?.warn&&console.warn(...s)},wI={},kL=(n,e,t,r)=>{pu(t)&&wI[t]||(pu(t)&&(wI[t]=new Date),BZ(n,e,t,r))},RL=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Wb=(n,e,t)=>{n.loadNamespaces(e,RL(n,t))},_I=(n,e,t,r)=>{if(pu(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Wb(n,t,r);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,RL(n,r))},WZ=(n,e,t={})=>!e.languages||!e.languages.length?(kL(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}),pu=n=>typeof n=="string",qZ=n=>typeof n=="object"&&n!==null,HZ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,KZ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},GZ=n=>KZ[n],YZ=n=>n.replace(HZ,GZ);let qb={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:YZ};const QZ=(n={})=>{qb={...qb,...n}},XZ=()=>qb;let AL;const JZ=n=>{AL=n},ZZ=()=>AL,eee={type:"3rdParty",init(n){QZ(n.options.react),JZ(n)}},tee=b.createContext();class nee{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Q_={exports:{}},X_={};var xI;function ree(){if(xI)return X_;xI=1;var n=Ov();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,i=n.useLayoutEffect,o=n.useDebugValue;function l(m,v){var w=v(),T=r({inst:{value:w,getSnapshot:v}}),_=T[0].inst,S=T[1];return i(function(){_.value=w,_.getSnapshot=v,u(_)&&S({inst:_})},[m,w,v]),s(function(){return u(_)&&S({inst:_}),m(function(){u(_)&&S({inst:_})})},[m]),o(w),w}function u(m){var v=m.getSnapshot;m=m.value;try{var w=v();return!t(m,w)}catch{return!0}}function d(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return X_.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,X_}var bI;function see(){return bI||(bI=1,Q_.exports=ree()),Q_.exports}var iee=see();const oee=(n,e)=>pu(e)?e:qZ(e)&&pu(e.defaultValue)?e.defaultValue:Array.isArray(n)?n[n.length-1]:n,aee={t:oee,ready:!1},lee=()=>()=>{},Ts=(n,e={})=>{const{i18n:t}=e,{i18n:r,defaultNS:s}=b.useContext(tee)||{},i=t||r||ZZ();i&&!i.reportNamespaces&&(i.reportNamespaces=new nee),i||kL(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=b.useMemo(()=>({...XZ(),...i?.options?.react,...e}),[i,e]),{useSuspense:l,keyPrefix:u}=o,d=s||i?.options?.defaultNS,h=pu(d)?[d]:d||["translation"],m=b.useMemo(()=>h,h);i?.reportNamespaces?.addUsedNamespaces?.(m);const v=b.useRef(0),w=b.useCallback(D=>{if(!i)return lee;const{bindI18n:O,bindI18nStore:V}=o,F=()=>{v.current+=1,D()};return O&&i.on(O,F),V&&i.store.on(V,F),()=>{O&&O.split(" ").forEach(U=>i.off(U,F)),V&&V.split(" ").forEach(U=>i.store.off(U,F))}},[i,o]),T=b.useRef(),_=b.useCallback(()=>{if(!i)return aee;const D=!!(i.isInitialized||i.initializedStoreOnce)&&m.every(re=>WZ(re,i,o)),O=e.lng||i.language,V=v.current,F=T.current;if(F&&F.ready===D&&F.lng===O&&F.keyPrefix===u&&F.revision===V)return F;const X={t:i.getFixedT(O,o.nsMode==="fallback"?m:m[0],u),ready:D,lng:O,keyPrefix:u,revision:V};return T.current=X,X},[i,m,u,o,e.lng]),[S,R]=b.useState(0),{t:k,ready:j}=iee.useSyncExternalStore(w,_,_);b.useEffect(()=>{if(i&&!j&&!l){const D=()=>R(O=>O+1);e.lng?_I(i,e.lng,m,D):Wb(i,m,D)}},[i,e.lng,m,j,l,S]);const I=i||{},L=b.useRef(null),z=b.useRef(),P=D=>{const O=Object.getOwnPropertyDescriptors(D);O.__original&&delete O.__original;const V=Object.create(Object.getPrototypeOf(D),O);if(!Object.prototype.hasOwnProperty.call(V,"__original"))try{Object.defineProperty(V,"__original",{value:D,writable:!1,enumerable:!1,configurable:!1})}catch{}return V},A=b.useMemo(()=>{const D=I,O=D?.language;let V=D;D&&(L.current&&L.current.__original===D?z.current!==O?(V=P(D),L.current=V,z.current=O):V=L.current:(V=P(D),L.current=V,z.current=O));const F=[k,V,j];return F.t=k,F.i18n=V,F.ready=j,F},[k,I,j,I.resolvedLanguage,I.language,I.languages]);if(i&&l&&!j)throw new Promise(D=>{const O=()=>D();e.lng?_I(i,e.lng,m,O):Wb(i,m,O)});return A},cee=()=>{const n=tc(),e=Br(),[t,r]=b.useState(null),{isAdmin:s,signOut:i}=It(),{t:o}=Ts(),l=[{path:"/",icon:iU,label:o("nav.dashboard")},{path:"/movies",icon:Kd,label:o("nav.movies")},{path:"/series",icon:Dy,label:o("nav.series")},{path:"/collections",icon:Rx,label:o("nav.collections")},{path:"/profile",icon:jo,label:o("nav.profile")}],u=[{path:"/admin/users",icon:Ax,label:o("nav.admin"),adminOnly:!0}],d=s?[...l,...u]:l,h=async()=>{try{await i(),e("/login")}catch(m){console.error("Error signing out:",m)}};return p.jsxs("aside",{className:"hidden lg:flex flex-col fixed left-0 top-0 z-40 h-screen w-64 bg-background-secondary border-r border-border",children:[p.jsx("div",{className:"flex items-center h-16 px-6 border-b border-border",children:p.jsxs(X1,{to:"/",className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center",children:p.jsx(Kd,{className:"w-5 h-5 text-primary-foreground"})}),p.jsx("span",{className:"text-xl font-bold",children:"Archiwum"})]})}),p.jsx("nav",{className:"flex-1 py-8 overflow-y-auto",children:p.jsx("ul",{className:"space-y-2 px-4",children:d.map(m=>{const v=n.pathname===m.path,w=m.icon;return p.jsx("li",{children:p.jsxs(uee,{to:m.path,isActive:v,isHovered:t===m.path,onHoverStart:()=>r(m.path),onHoverEnd:()=>r(null),onClick:()=>{},children:[p.jsx(w,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{children:m.label})]})},m.path)})})}),p.jsx("div",{className:"p-4 border-t border-border",children:p.jsxs(Ae,{variant:"ghost",onClick:()=>{const m=new CustomEvent("openFriendsSidebar");window.dispatchEvent(m)},className:"w-full justify-start gap-3 text-foreground-secondary hover:text-primary hover:bg-secondary/50",children:[p.jsx(Ix,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{children:"Znajomi"})]})}),p.jsx("div",{className:"px-4 pb-4",children:p.jsxs(Ae,{variant:"ghost",onClick:h,className:"w-full justify-start gap-3 text-foreground-secondary hover:text-destructive hover:bg-destructive/10",children:[p.jsx(rD,{className:"w-5 h-5 shrink-0"}),p.jsx("span",{children:"Wyloguj"})]})})]})},uee=({to:n,isActive:e,isHovered:t,onHoverStart:r,onHoverEnd:s,onClick:i,children:o})=>{const[l,u]=b.useState({x:0,y:0}),d=m=>{const v=m.currentTarget.getBoundingClientRect(),w=v.left+v.width/2,T=v.top+v.height/2,_=m.clientX-w,S=m.clientY-T;u({x:_*.3,y:S*.3})},h=()=>{u({x:0,y:0}),s()};return p.jsx(X1,{to:n,onClick:i,onMouseMove:d,onMouseEnter:r,onMouseLeave:h,className:ot("relative flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors duration-200 touch-manipulation",e?"bg-primary text-primary-foreground":"text-foreground-secondary hover:bg-secondary hover:text-foreground"),children:p.jsx(sn.div,{className:"flex items-center gap-3 w-full",animate:{x:l.x,y:l.y},transition:{type:"spring",stiffness:150,damping:15,mass:.1},children:o})})};function dee(){const n=tc(),e=[{path:"/movies",icon:Kd,label:"Filmy"},{path:"/series",icon:Dy,label:"Seriale"},{path:"/",icon:Fl,label:"Szukaj"}];return p.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-lg border-t border-border lg:hidden pb-safe",children:p.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:e.map(({path:t,icon:r,label:s})=>{const i=n.pathname===t;return p.jsxs(X1,{to:t,className:ot("flex flex-col items-center justify-center w-full h-full gap-1 transition-colors duration-200 touch-manipulation",i?"text-primary":"text-muted-foreground hover:text-foreground"),children:[p.jsx(r,{className:ot("w-6 h-6",i&&"fill-current")}),p.jsx("span",{className:"text-[10px] font-medium",children:s})]},t)})})})}const bs=b.forwardRef(({className:n,type:e,...t},r)=>p.jsx("input",{type:e,className:ot("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));bs.displayName="Input";var hee=b.createContext(void 0);function Sw(n){const e=b.useContext(hee);return n||e||"ltr"}function Hb(n,[e,t]){return Math.min(t,Math.max(e,n))}function fee(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var ET="ScrollArea",[IL]=io(ET),[pee,Li]=IL(ET),NL=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=n,[l,u]=b.useState(null),[d,h]=b.useState(null),[m,v]=b.useState(null),[w,T]=b.useState(null),[_,S]=b.useState(null),[R,k]=b.useState(0),[j,I]=b.useState(0),[L,z]=b.useState(!1),[P,A]=b.useState(!1),D=St(e,V=>u(V)),O=Sw(s);return p.jsx(pee,{scope:t,type:r,dir:O,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:h,content:m,onContentChange:v,scrollbarX:w,onScrollbarXChange:T,scrollbarXEnabled:L,onScrollbarXEnabledChange:z,scrollbarY:_,onScrollbarYChange:S,scrollbarYEnabled:P,onScrollbarYEnabledChange:A,onCornerWidthChange:k,onCornerHeightChange:I,children:p.jsx(Xe.div,{dir:O,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":j+"px",...n.style}})})});NL.displayName=ET;var DL="ScrollAreaViewport",jL=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,o=Li(DL,t),l=b.useRef(null),u=St(e,l,o.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),p.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style},children:p.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});jL.displayName=DL;var ta="ScrollAreaScrollbar",CT=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Li(ta,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=n.orientation==="horizontal";return b.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?p.jsx(mee,{...r,ref:e,forceMount:t}):s.type==="scroll"?p.jsx(gee,{...r,ref:e,forceMount:t}):s.type==="auto"?p.jsx(OL,{...r,ref:e,forceMount:t}):s.type==="always"?p.jsx(PT,{...r,ref:e}):null});CT.displayName=ta;var mee=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Li(ta,n.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const l=s.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),o(!0)},h=()=>{u=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),p.jsx(Mi,{present:t||i,children:p.jsx(OL,{"data-state":i?"visible":"hidden",...r,ref:e})})}),gee=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Li(ta,n.__scopeScrollArea),i=n.orientation==="horizontal",o=Ew(()=>u("SCROLL_END"),100),[l,u]=fee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,u]),b.useEffect(()=>{const d=s.viewport,h=i?"scrollLeft":"scrollTop";if(d){let m=d[h];const v=()=>{const w=d[h];m!==w&&(u("SCROLL"),o()),m=w};return d.addEventListener("scroll",v),()=>d.removeEventListener("scroll",v)}},[s.viewport,i,u,o]),p.jsx(Mi,{present:t||l!=="hidden",children:p.jsx(PT,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ue(n.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ue(n.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),OL=b.forwardRef((n,e)=>{const t=Li(ta,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,o]=b.useState(!1),l=n.orientation==="horizontal",u=Ew(()=>{if(t.viewport){const d=t.viewport.offsetWidth<t.viewport.scrollWidth,h=t.viewport.offsetHeight<t.viewport.scrollHeight;o(l?d:h)}},10);return ah(t.viewport,u),ah(t.content,u),p.jsx(Mi,{present:r||i,children:p.jsx(PT,{"data-state":i?"visible":"hidden",...s,ref:e})})}),PT=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=Li(ta,n.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[l,u]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=zL(l.viewport,l.content),h={...r,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:v=>i.current=v,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:v=>o.current=v};function m(v,w){return bee(v,o.current,l,w)}return t==="horizontal"?p.jsx(yee,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const v=s.viewport.scrollLeft,w=SI(v,l,s.dir);i.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=m(v,s.dir))}}):t==="vertical"?p.jsx(vee,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const v=s.viewport.scrollTop,w=SI(v,l);i.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=m(v))}}):null}),yee=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=Li(ta,n.__scopeScrollArea),[o,l]=b.useState(),u=b.useRef(null),d=St(e,u,i.onScrollbarXChange);return b.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),p.jsx(LL,{"data-orientation":"horizontal",...s,ref:d,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tw(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.x),onDragScroll:h=>n.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const v=i.viewport.scrollLeft+h.deltaX;n.onWheelScroll(v),$L(v,m)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:vv(o.paddingLeft),paddingEnd:vv(o.paddingRight)}})}})}),vee=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=Li(ta,n.__scopeScrollArea),[o,l]=b.useState(),u=b.useRef(null),d=St(e,u,i.onScrollbarYChange);return b.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),p.jsx(LL,{"data-orientation":"vertical",...s,ref:d,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tw(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.y),onDragScroll:h=>n.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const v=i.viewport.scrollTop+h.deltaY;n.onWheelScroll(v),$L(v,m)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:vv(o.paddingTop),paddingEnd:vv(o.paddingBottom)}})}})}),[wee,ML]=IL(ta),LL=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:m,...v}=n,w=Li(ta,t),[T,_]=b.useState(null),S=St(e,D=>_(D)),R=b.useRef(null),k=b.useRef(""),j=w.viewport,I=r.content-r.viewport,L=ar(h),z=ar(u),P=Ew(m,10);function A(D){if(R.current){const O=D.clientX-R.current.left,V=D.clientY-R.current.top;d({x:O,y:V})}}return b.useEffect(()=>{const D=O=>{const V=O.target;T?.contains(V)&&L(O,I)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[j,T,I,L]),b.useEffect(z,[r,z]),ah(T,P),ah(w.content,P),p.jsx(wee,{scope:t,scrollbar:T,hasThumb:s,onThumbChange:ar(i),onThumbPointerUp:ar(o),onThumbPositionChange:z,onThumbPointerDown:ar(l),children:p.jsx(Xe.div,{...v,ref:S,style:{position:"absolute",...v.style},onPointerDown:Ue(n.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),R.current=T.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),A(D))}),onPointerMove:Ue(n.onPointerMove,A),onPointerUp:Ue(n.onPointerUp,D=>{const O=D.target;O.hasPointerCapture(D.pointerId)&&O.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=k.current,w.viewport&&(w.viewport.style.scrollBehavior=""),R.current=null})})})}),yv="ScrollAreaThumb",VL=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=ML(yv,n.__scopeScrollArea);return p.jsx(Mi,{present:t||s.hasThumb,children:p.jsx(_ee,{ref:e,...r})})}),_ee=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=Li(yv,t),o=ML(yv,t),{onThumbPositionChange:l}=o,u=St(e,m=>o.onThumbChange(m)),d=b.useRef(void 0),h=Ew(()=>{d.current&&(d.current(),d.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const v=()=>{if(h(),!d.current){const w=See(m,l);d.current=w,l()}};return l(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[i.viewport,h,l]),p.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(n.onPointerDownCapture,m=>{const w=m.target.getBoundingClientRect(),T=m.clientX-w.left,_=m.clientY-w.top;o.onThumbPointerDown({x:T,y:_})}),onPointerUp:Ue(n.onPointerUp,o.onThumbPointerUp)})});VL.displayName=yv;var kT="ScrollAreaCorner",FL=b.forwardRef((n,e)=>{const t=Li(kT,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?p.jsx(xee,{...n,ref:e}):null});FL.displayName=kT;var xee=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=Li(kT,t),[i,o]=b.useState(0),[l,u]=b.useState(0),d=!!(i&&l);return ah(s.scrollbarX,()=>{const h=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(h),u(h)}),ah(s.scrollbarY,()=>{const h=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(h),o(h)}),d?p.jsx(Xe.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function vv(n){return n?parseInt(n,10):0}function zL(n,e){const t=n/e;return isNaN(t)?0:t}function Tw(n){const e=zL(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function bee(n,e,t,r="ltr"){const s=Tw(t),i=s/2,o=e||i,l=s-o,u=t.scrollbar.paddingStart+o,d=t.scrollbar.size-t.scrollbar.paddingEnd-l,h=t.content-t.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return UL([u,d],m)(n)}function SI(n,e,t="ltr"){const r=Tw(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-r,u=t==="ltr"?[0,o]:[o*-1,0],d=Hb(n,u);return UL([0,o],[0,l])(d)}function UL(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function $L(n,e){return n>0&&n<e}var See=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const i={left:n.scrollLeft,top:n.scrollTop},o=t.left!==i.left,l=t.top!==i.top;(o||l)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Ew(n,e){const t=ar(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function ah(n,e){const t=ar(e);Sr(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var BL=NL,Tee=jL,Eee=FL;const Kb=b.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(BL,{ref:r,className:ot("relative overflow-hidden",n),...t,children:[p.jsx(Tee,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(WL,{}),p.jsx(Eee,{})]}));Kb.displayName=BL.displayName;const WL=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>p.jsx(CT,{ref:r,orientation:e,className:ot("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:p.jsx(VL,{className:"relative flex-1 rounded-full bg-border"})}));WL.displayName=CT.displayName;var J_="focusScope.autoFocusOnMount",Z_="focusScope.autoFocusOnUnmount",TI={bubbles:!1,cancelable:!0},Cee="FocusScope",RT=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=n,[l,u]=b.useState(null),d=ar(s),h=ar(i),m=b.useRef(null),v=St(e,_=>u(_)),w=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let _=function(j){if(w.paused||!l)return;const I=j.target;l.contains(I)?m.current=I:fl(m.current,{select:!0})},S=function(j){if(w.paused||!l)return;const I=j.relatedTarget;I!==null&&(l.contains(I)||fl(m.current,{select:!0}))},R=function(j){if(document.activeElement===document.body)for(const L of j)L.removedNodes.length>0&&fl(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const k=new MutationObserver(R);return l&&k.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),k.disconnect()}}},[r,l,w.paused]),b.useEffect(()=>{if(l){CI.add(w);const _=document.activeElement;if(!l.contains(_)){const R=new CustomEvent(J_,TI);l.addEventListener(J_,d),l.dispatchEvent(R),R.defaultPrevented||(Pee(Nee(qL(l)),{select:!0}),document.activeElement===_&&fl(l))}return()=>{l.removeEventListener(J_,d),setTimeout(()=>{const R=new CustomEvent(Z_,TI);l.addEventListener(Z_,h),l.dispatchEvent(R),R.defaultPrevented||fl(_??document.body,{select:!0}),l.removeEventListener(Z_,h),CI.remove(w)},0)}}},[l,d,h,w]);const T=b.useCallback(_=>{if(!t&&!r||w.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,R=document.activeElement;if(S&&R){const k=_.currentTarget,[j,I]=kee(k);j&&I?!_.shiftKey&&R===I?(_.preventDefault(),t&&fl(j,{select:!0})):_.shiftKey&&R===j&&(_.preventDefault(),t&&fl(I,{select:!0})):R===k&&_.preventDefault()}},[t,r,w.paused]);return p.jsx(Xe.div,{tabIndex:-1,...o,ref:v,onKeyDown:T})});RT.displayName=Cee;function Pee(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(fl(r,{select:e}),document.activeElement!==t)return}function kee(n){const e=qL(n),t=EI(e,n),r=EI(e.reverse(),n);return[t,r]}function qL(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function EI(n,e){for(const t of n)if(!Ree(t,{upTo:e}))return t}function Ree(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Aee(n){return n instanceof HTMLInputElement&&"select"in n}function fl(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Aee(n)&&e&&n.select()}}var CI=Iee();function Iee(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=PI(n,e),n.unshift(e)},remove(e){n=PI(n,e),n[0]?.resume()}}}function PI(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Nee(n){return n.filter(e=>e.tagName!=="A")}var ex=0;function HL(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??kI()),document.body.insertAdjacentElement("beforeend",n[1]??kI()),ex++,()=>{ex===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ex--}},[])}function kI(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ao=function(){return Ao=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ao.apply(this,arguments)};function KL(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Dee(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var _y="right-scroll-bar-position",xy="width-before-scroll-bar",jee="with-scroll-bars-hidden",Oee="--removed-body-scroll-bar-size";function tx(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Mee(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var Lee=typeof window<"u"?b.useLayoutEffect:b.useEffect,RI=new WeakMap;function Vee(n,e){var t=Mee(null,function(r){return n.forEach(function(s){return tx(s,r)})});return Lee(function(){var r=RI.get(t);if(r){var s=new Set(r),i=new Set(n),o=t.current;s.forEach(function(l){i.has(l)||tx(l,null)}),i.forEach(function(l){s.has(l)||tx(l,o)})}RI.set(t,n)},[n]),t}function Fee(n){return n}function zee(n,e){e===void 0&&(e=Fee);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var o=e(i,r);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){r=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(i),o=t}var u=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),t={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),t}}}};return s}function Uee(n){n===void 0&&(n={});var e=zee(null);return e.options=Ao({async:!0,ssr:!1},n),e}var GL=function(n){var e=n.sideCar,t=KL(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ao({},t))};GL.isSideCarExport=!0;function $ee(n,e){return n.useMedium(e),GL}var YL=Uee(),nx=function(){},Cw=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:nx,onWheelCapture:nx,onTouchMoveCapture:nx}),s=r[0],i=r[1],o=n.forwardProps,l=n.children,u=n.className,d=n.removeScrollBar,h=n.enabled,m=n.shards,v=n.sideCar,w=n.noRelative,T=n.noIsolation,_=n.inert,S=n.allowPinchZoom,R=n.as,k=R===void 0?"div":R,j=n.gapMode,I=KL(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=v,z=Vee([t,e]),P=Ao(Ao({},I),s);return b.createElement(b.Fragment,null,h&&b.createElement(L,{sideCar:YL,removeScrollBar:d,shards:m,noRelative:w,noIsolation:T,inert:_,setCallbacks:i,allowPinchZoom:!!S,lockRef:t,gapMode:j}),o?b.cloneElement(b.Children.only(l),Ao(Ao({},P),{ref:z})):b.createElement(k,Ao({},P,{className:u,ref:z}),l))});Cw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cw.classNames={fullWidth:xy,zeroRight:_y};var Bee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wee(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Bee();return e&&n.setAttribute("nonce",e),n}function qee(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Hee(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Kee=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Wee())&&(qee(e,t),Hee(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Gee=function(){var n=Kee();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},QL=function(){var n=Gee(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},Yee={left:0,top:0,right:0,gap:0},rx=function(n){return parseInt(n||"",10)||0},Qee=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[rx(t),rx(r),rx(s)]},Xee=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Yee;var e=Qee(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Jee=QL(),Od="data-scroll-locked",Zee=function(n,e,t,r){var s=n.left,i=n.top,o=n.right,l=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(jee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Od,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_y,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(xy,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(_y," .").concat(_y,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xy," .").concat(xy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Od,`] {
    `).concat(Oee,": ").concat(l,`px;
  }
`)},AI=function(){var n=parseInt(document.body.getAttribute(Od)||"0",10);return isFinite(n)?n:0},ete=function(){b.useEffect(function(){return document.body.setAttribute(Od,(AI()+1).toString()),function(){var n=AI()-1;n<=0?document.body.removeAttribute(Od):document.body.setAttribute(Od,n.toString())}},[])},tte=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;ete();var i=b.useMemo(function(){return Xee(s)},[s]);return b.createElement(Jee,{styles:Zee(i,!e,s,t?"":"!important")})},Gb=!1;if(typeof window<"u")try{var Fg=Object.defineProperty({},"passive",{get:function(){return Gb=!0,!0}});window.addEventListener("test",Fg,Fg),window.removeEventListener("test",Fg,Fg)}catch{Gb=!1}var od=Gb?{passive:!1}:!1,nte=function(n){return n.tagName==="TEXTAREA"},XL=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!nte(n)&&t[e]==="visible")},rte=function(n){return XL(n,"overflowY")},ste=function(n){return XL(n,"overflowX")},II=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=JL(n,r);if(s){var i=ZL(n,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},ite=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},ote=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},JL=function(n,e){return n==="v"?rte(e):ste(e)},ZL=function(n,e){return n==="v"?ite(e):ote(e)},ate=function(n,e){return n==="h"&&e==="rtl"?-1:1},lte=function(n,e,t,r,s){var i=ate(n,window.getComputedStyle(e).direction),o=i*r,l=t.target,u=e.contains(l),d=!1,h=o>0,m=0,v=0;do{if(!l)break;var w=ZL(n,l),T=w[0],_=w[1],S=w[2],R=_-S-i*T;(T||R)&&JL(n,l)&&(m+=R,v+=T);var k=l.parentNode;l=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(m)<1||!h&&Math.abs(v)<1)&&(d=!0),d},zg=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},NI=function(n){return[n.deltaX,n.deltaY]},DI=function(n){return n&&"current"in n?n.current:n},cte=function(n,e){return n[0]===e[0]&&n[1]===e[1]},ute=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},dte=0,ad=[];function hte(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(dte++)[0],i=b.useState(QL)[0],o=b.useRef(n);b.useEffect(function(){o.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var _=Dee([n.lockRef.current],(n.shards||[]).map(DI),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var l=b.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var R=zg(_),k=t.current,j="deltaX"in _?_.deltaX:k[0]-R[0],I="deltaY"in _?_.deltaY:k[1]-R[1],L,z=_.target,P=Math.abs(j)>Math.abs(I)?"h":"v";if("touches"in _&&P==="h"&&z.type==="range")return!1;var A=II(P,z);if(!A)return!0;if(A?L=P:(L=P==="v"?"h":"v",A=II(P,z)),!A)return!1;if(!r.current&&"changedTouches"in _&&(j||I)&&(r.current=L),!L)return!0;var D=r.current||L;return lte(D,S,_,D==="h"?j:I)},[]),u=b.useCallback(function(_){var S=_;if(!(!ad.length||ad[ad.length-1]!==i)){var R="deltaY"in S?NI(S):zg(S),k=e.current.filter(function(L){return L.name===S.type&&(L.target===S.target||S.target===L.shadowParent)&&cte(L.delta,R)})[0];if(k&&k.should){S.cancelable&&S.preventDefault();return}if(!k){var j=(o.current.shards||[]).map(DI).filter(Boolean).filter(function(L){return L.contains(S.target)}),I=j.length>0?l(S,j[0]):!o.current.noIsolation;I&&S.cancelable&&S.preventDefault()}}},[]),d=b.useCallback(function(_,S,R,k){var j={name:_,delta:S,target:R,should:k,shadowParent:fte(R)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(I){return I!==j})},1)},[]),h=b.useCallback(function(_){t.current=zg(_),r.current=void 0},[]),m=b.useCallback(function(_){d(_.type,NI(_),_.target,l(_,n.lockRef.current))},[]),v=b.useCallback(function(_){d(_.type,zg(_),_.target,l(_,n.lockRef.current))},[]);b.useEffect(function(){return ad.push(i),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",u,od),document.addEventListener("touchmove",u,od),document.addEventListener("touchstart",h,od),function(){ad=ad.filter(function(_){return _!==i}),document.removeEventListener("wheel",u,od),document.removeEventListener("touchmove",u,od),document.removeEventListener("touchstart",h,od)}},[]);var w=n.removeScrollBar,T=n.inert;return b.createElement(b.Fragment,null,T?b.createElement(i,{styles:ute(s)}):null,w?b.createElement(tte,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function fte(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const pte=$ee(YL,hte);var AT=b.forwardRef(function(n,e){return b.createElement(Cw,Ao({},n,{ref:e,sideCar:pte}))});AT.classNames=Cw.classNames;var mte=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ld=new WeakMap,Ug=new WeakMap,$g={},sx=0,eV=function(n){return n&&(n.host||eV(n.parentNode))},gte=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=eV(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},yte=function(n,e,t,r){var s=gte(e,Array.isArray(n)?n:[n]);$g[t]||($g[t]=new WeakMap);var i=$g[t],o=[],l=new Set,u=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var h=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(v){if(l.has(v))h(v);else try{var w=v.getAttribute(r),T=w!==null&&w!=="false",_=(ld.get(v)||0)+1,S=(i.get(v)||0)+1;ld.set(v,_),i.set(v,S),o.push(v),_===1&&T&&Ug.set(v,!0),S===1&&v.setAttribute(t,"true"),T||v.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",v,R)}})};return h(e),l.clear(),sx++,function(){o.forEach(function(m){var v=ld.get(m)-1,w=i.get(m)-1;ld.set(m,v),i.set(m,w),v||(Ug.has(m)||m.removeAttribute(r),Ug.delete(m)),w||m.removeAttribute(t)}),sx--,sx||(ld=new WeakMap,ld=new WeakMap,Ug=new WeakMap,$g={})}},tV=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=mte(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),yte(r,s,t,"aria-hidden")):function(){return null}},Pw="Dialog",[nV,rV]=io(Pw),[vte,ao]=nV(Pw),sV=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=n,l=b.useRef(null),u=b.useRef(null),[d,h]=ru({prop:r,defaultProp:s??!1,onChange:i,caller:Pw});return p.jsx(vte,{scope:e,triggerRef:l,contentRef:u,contentId:Pl(),titleId:Pl(),descriptionId:Pl(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),modal:o,children:t})};sV.displayName=Pw;var iV="DialogTrigger",oV=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ao(iV,t),i=St(e,s.triggerRef);return p.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":DT(s.open),...r,ref:i,onClick:Ue(n.onClick,s.onOpenToggle)})});oV.displayName=iV;var IT="DialogPortal",[wte,aV]=nV(IT,{forceMount:void 0}),lV=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=ao(IT,e);return p.jsx(wte,{scope:e,forceMount:t,children:b.Children.map(r,o=>p.jsx(Mi,{present:t||i.open,children:p.jsx(Mv,{asChild:!0,container:s,children:o})}))})};lV.displayName=IT;var wv="DialogOverlay",cV=b.forwardRef((n,e)=>{const t=aV(wv,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=ao(wv,n.__scopeDialog);return i.modal?p.jsx(Mi,{present:r||i.open,children:p.jsx(xte,{...s,ref:e})}):null});cV.displayName=wv;var _te=Hd("DialogOverlay.RemoveScroll"),xte=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ao(wv,t);return p.jsx(AT,{as:_te,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(Xe.div,{"data-state":DT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mu="DialogContent",uV=b.forwardRef((n,e)=>{const t=aV(mu,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=ao(mu,n.__scopeDialog);return p.jsx(Mi,{present:r||i.open,children:i.modal?p.jsx(bte,{...s,ref:e}):p.jsx(Ste,{...s,ref:e})})});uV.displayName=mu;var bte=b.forwardRef((n,e)=>{const t=ao(mu,n.__scopeDialog),r=b.useRef(null),s=St(e,t.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return tV(i)},[]),p.jsx(dV,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Ue(n.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ue(n.onFocusOutside,i=>i.preventDefault())})}),Ste=b.forwardRef((n,e)=>{const t=ao(mu,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return p.jsx(dV,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;t.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),dV=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=n,l=ao(mu,t),u=b.useRef(null),d=St(e,u);return HL(),p.jsxs(p.Fragment,{children:[p.jsx(RT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(Jp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":DT(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Ete,{titleId:l.titleId}),p.jsx(Pte,{contentRef:u,descriptionId:l.descriptionId})]})]})}),NT="DialogTitle",hV=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ao(NT,t);return p.jsx(Xe.h2,{id:s.titleId,...r,ref:e})});hV.displayName=NT;var fV="DialogDescription",pV=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ao(fV,t);return p.jsx(Xe.p,{id:s.descriptionId,...r,ref:e})});pV.displayName=fV;var mV="DialogClose",gV=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ao(mV,t);return p.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Ue(n.onClick,()=>s.onOpenChange(!1))})});gV.displayName=mV;function DT(n){return n?"open":"closed"}var yV="DialogTitleWarning",[Tte,vV]=l5(yV,{contentName:mu,titleName:NT,docsSlug:"dialog"}),Ete=({titleId:n})=>{const e=vV(yV),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Cte="DialogDescriptionWarning",Pte=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vV(Cte).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},wV=sV,_V=oV,xV=lV,jT=cV,OT=uV,MT=hV,LT=pV,VT=gV;const Xo=wV,gm=_V,kte=xV,bV=b.forwardRef(({className:n,...e},t)=>p.jsx(jT,{ref:t,className:ot("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));bV.displayName=jT.displayName;const so=b.forwardRef(({className:n,children:e,...t},r)=>{b.useEffect(()=>{const i=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",document.body.style.paddingRight="var(--scrollbar-width, 0px)",()=>{document.body.style.overflow=i,document.body.style.paddingRight=""}},[]);const s=b.useCallback(i=>{i.stopPropagation()},[]);return p.jsxs(kte,{children:[p.jsx(bV,{}),p.jsxs(OT,{ref:r,onWheel:s,className:ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,p.jsxs(VT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(Bc,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});so.displayName=OT.displayName;const Oa=({className:n,...e})=>p.jsx("div",{className:ot("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Oa.displayName="DialogHeader";const Jo=b.forwardRef(({className:n,...e},t)=>p.jsx(MT,{ref:t,className:ot("text-lg font-semibold leading-none tracking-tight",n),...e}));Jo.displayName=MT.displayName;const gu=b.forwardRef(({className:n,...e},t)=>p.jsx(LT,{ref:t,className:ot("text-sm text-muted-foreground",n),...e}));gu.displayName=LT.displayName;const Rte=Fv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ef({className:n,variant:e,...t}){return p.jsx("div",{className:ot(Rte({variant:e}),n),...t})}class Ate{async sendFriendRequest(e,t,r,s){const i=`${e}_${r}`,o=ut(Fe,"friendRequests",i),l=await Ms(o);if(l.exists()&&l.data().status==="pending")throw new Error("Zaproszenie ju zostao wysane");await vs(o,{fromUserId:e,fromUserName:t,toUserId:r,toUserName:s,status:"pending",createdAt:ht.now(),updatedAt:ht.now()})}async acceptFriendRequest(e){try{const t=ut(Fe,"friendRequests",e),r=await Ms(t);if(!r.exists())throw new Error("Zaproszenie nie istnieje");const s=r.data(),i=await Ms(ut(Fe,"users",s.fromUserId)),o=await Ms(ut(Fe,"users",s.toUserId)),l=i.exists()&&i.data().email||"",u=o.exists()&&o.data().email||"",d=ut(Fe,"users",s.fromUserId,"friends",s.toUserId),h=ut(Fe,"users",s.toUserId,"friends",s.fromUserId);await Promise.all([vs(d,{userId:s.toUserId,userName:s.toUserName,email:u,addedAt:ht.now()}),vs(h,{userId:s.fromUserId,userName:s.fromUserName,email:l,addedAt:ht.now()})]),await vs(t,{status:"accepted",updatedAt:ht.now()},{merge:!0})}catch(t){throw console.error("Error accepting friend request:",t),t}}async rejectFriendRequest(e){const t=ut(Fe,"friendRequests",e);await vs(t,{status:"rejected",updatedAt:ht.now()},{merge:!0})}async cancelFriendRequest(e){const t=ut(Fe,"friendRequests",e);await ki(t)}async removeFriend(e,t){try{const r=ut(Fe,"users",e,"friends",t),s=ut(Fe,"users",t,"friends",e);await Promise.all([ki(r),ki(s)]);const i=`${e}_${t}`,o=`${t}_${e}`;try{await ki(ut(Fe,"friendRequests",i))}catch{}try{await ki(ut(Fe,"friendRequests",o))}catch{}}catch(r){throw console.error("Error removing friend:",r),r}}async getFriends(e){const t=Dn(Fe,"users",e,"friends");return(await Nn(t)).docs.map(s=>{const i=s.data();return{userId:i.userId,userName:i.userName,email:i.email||"",addedAt:i.addedAt?.toDate()||new Date}})}async getPendingRequests(e){try{const t=Dn(Fe,"friendRequests"),r=Vs(t,In("toUserId","==",e),In("status","==","pending"));return(await Nn(r)).docs.map(o=>{const l=o.data();return{id:o.id,fromUserId:l.fromUserId,fromUserName:l.fromUserName,toUserId:l.toUserId,toUserName:l.toUserName,status:l.status,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}).sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime())}catch(t){throw console.error("Error getting pending requests:",t),t}}async getSentRequests(e){try{const t=Dn(Fe,"friendRequests"),r=Vs(t,In("fromUserId","==",e),In("status","==","pending"));return(await Nn(r)).docs.map(o=>{const l=o.data();return{id:o.id,fromUserId:l.fromUserId,fromUserName:l.fromUserName,toUserId:l.toUserId,toUserName:l.toUserName,status:l.status,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}).sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime())}catch(t){throw console.error("Error getting sent requests:",t),t}}async searchUsers(e,t){try{const r=Dn(Fe,"users"),s=await Nn(r),i=Dn(Fe,"users",t,"friends"),o=await Nn(i),l=new Set(o.docs.map(_=>_.id)),u=Dn(Fe,"friendRequests"),d=Vs(u,In("fromUserId","==",t),In("status","==","pending")),h=Vs(u,In("toUserId","==",t),In("status","==","pending")),[m,v]=await Promise.all([Nn(d),Nn(h)]),w=new Set([...m.docs.map(_=>_.data().toUserId),...v.docs.map(_=>_.data().fromUserId)]),T=e.toLowerCase();return s.docs.filter(_=>{const S=_.data(),R=(S.displayName||"").toLowerCase(),k=(S.email||"").toLowerCase();return _.id!==t&&(R.includes(T)||k.includes(T))}).map(_=>{const S=_.data();return{uid:_.id,displayName:S.displayName||"Brak nazwy",email:S.email||"",photoURL:S.photoURL||"",isFriend:l.has(_.id),hasPendingRequest:w.has(_.id)}}).slice(0,10)}catch(r){throw console.error("Error searching users:",r),r}}async areFriends(e,t){const r=ut(Fe,"users",e,"friends",t);return(await Ms(r)).exists()}async hasPendingRequest(e,t){const r=`${e}_${t}`,s=ut(Fe,"friendRequests",r),i=await Ms(s);return i.exists()?i.data().status==="pending":!1}}const za=new Ate,Ite=()=>{const{user:n}=It();return jn({queryKey:["friends",n?.uid],queryFn:()=>za.getFriends(n.uid),enabled:!!n,staleTime:120*1e3})},Nte=()=>{const{user:n}=It();return jn({queryKey:["pending-requests",n?.uid],queryFn:()=>za.getPendingRequests(n.uid),enabled:!!n,staleTime:30*1e3})},Dte=()=>{const{user:n}=It();return jn({queryKey:["sent-requests",n?.uid],queryFn:()=>za.getSentRequests(n.uid),enabled:!!n,staleTime:30*1e3})},jte=n=>{const{user:e}=It();return jn({queryKey:["search-users",n,e?.uid],queryFn:()=>za.searchUsers(n,e.uid),enabled:!!e&&n.length>=2,staleTime:60*1e3})},Ote=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({toUserId:t,toUserName:r})=>za.sendFriendRequest(n.uid,n.displayName||"Anonim",t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["sent-requests"]}),e.invalidateQueries({queryKey:["search-users"]})}})},Mte=()=>{const n=cr();return $r({mutationFn:e=>za.acceptFriendRequest(e),onSuccess:()=>{n.invalidateQueries({queryKey:["friends"]}),n.invalidateQueries({queryKey:["pending-requests"]})}})},Lte=()=>{const n=cr();return $r({mutationFn:e=>za.rejectFriendRequest(e),onSuccess:()=>{n.invalidateQueries({queryKey:["pending-requests"]})}})},Vte=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:t=>za.removeFriend(n.uid,t),onSuccess:()=>{e.invalidateQueries({queryKey:["friends"]})}})},Fte=()=>{const n=cr();return $r({mutationFn:e=>za.cancelFriendRequest(e),onSuccess:()=>{n.invalidateQueries({queryKey:["sent-requests"]})}})},zte=({isOpen:n,onClose:e})=>{const t=Br(),[r,s]=b.useState(!1),[i,o]=b.useState(""),{data:l}=Ite(),{data:u}=Nte(),{data:d,isLoading:h}=Dte(),{data:m}=jte(i),v=Ote(),w=Mte(),T=Lte(),_=Vte(),S=Fte(),R=async(z,P)=>{try{await v.mutateAsync({toUserId:z,toUserName:P}),Jt.success("Zaproszenie wysane!",{description:`Wysano zaproszenie do ${P}. Oczekuje na odpowied.`,duration:4e3}),s(!1),o("")}catch(A){Jt.error("Bd",{description:A.message||"Nie udao si wysa zaproszenia"})}},k=async z=>{try{await w.mutateAsync(z),Jt.success("Zaproszenie zaakceptowane!",{description:"Dodano nowego znajomego"})}catch{Jt.error("Bd",{description:"Nie udao si zaakceptowa zaproszenia"})}},j=async z=>{try{await T.mutateAsync(z),Jt.success("Zaproszenie odrzucone")}catch{Jt.error("Bd",{description:"Nie udao si odrzuci zaproszenia"})}},I=async z=>{try{await S.mutateAsync(z),Jt.success("Zaproszenie anulowane")}catch{Jt.error("Bd",{description:"Nie udao si anulowa zaproszenia"})}},L=async z=>{try{await _.mutateAsync(z),Jt.success("Znajomy usunity",{description:"Usunito ze znajomych"})}catch{Jt.error("Bd",{description:"Nie udao si usun znajomego"})}};return p.jsxs(p.Fragment,{children:[p.jsx(uv,{children:n&&p.jsx(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 z-40"})}),p.jsx(uv,{children:n&&p.jsx(sn.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 z-50 h-screen w-full sm:w-80 bg-background-secondary border-l border-border shadow-2xl overflow-y-auto",children:p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ix,{className:"w-5 h-5 text-primary"}),p.jsx("h2",{className:"font-bold",children:"Znajomi"}),u&&u.length>0&&p.jsx(Ef,{variant:"destructive",className:"ml-2",children:u.length})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Xo,{open:r,onOpenChange:s,children:[p.jsx(gm,{asChild:!0,children:p.jsx(Ae,{size:"icon",variant:"ghost",children:p.jsx(p_,{className:"w-4 h-4"})})}),p.jsxs(so,{children:[p.jsxs(Oa,{children:[p.jsx(Jo,{children:"Znajd znajomych"}),p.jsx(gu,{children:"Wyszukaj uytkownikw po imieniu lub emailu"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-secondary"}),p.jsx(bs,{value:i,onChange:z=>o(z.target.value),placeholder:"Szukaj...",className:"pl-10"})]}),p.jsx(Kb,{className:"h-[300px]",children:m&&m.length>0?p.jsx("div",{className:"space-y-2",children:m.map(z=>p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-background-secondary transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[z.photoURL?p.jsx("img",{src:z.photoURL,alt:z.displayName,className:"w-10 h-10 rounded-full object-cover",onError:P=>{P.currentTarget.style.display="none",P.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,p.jsx("div",{className:`w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0 ${z.photoURL?"hidden":""}`,children:p.jsx(jo,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium truncate",children:z.displayName}),p.jsx("p",{className:"text-xs text-foreground-secondary truncate",children:z.email})]})]}),z.isFriend?p.jsx(Ef,{variant:"secondary",className:"shrink-0",children:"Znajomy"}):z.hasPendingRequest?p.jsx(Ef,{variant:"outline",className:"shrink-0",children:"Oczekuje"}):p.jsxs(Ae,{size:"sm",variant:"outline",onClick:()=>R(z.uid,z.displayName),disabled:v.isPending,children:[p.jsx(p_,{className:"w-4 h-4 mr-2"}),"Dodaj"]})]},z.uid))}):i.length>=2?p.jsx("p",{className:"text-center text-foreground-secondary py-8",children:"Nie znaleziono uytkownikw"}):p.jsx("p",{className:"text-center text-foreground-secondary py-8",children:"Wpisz co najmniej 2 znaki"})})]})]})]}),p.jsx(Ae,{size:"icon",variant:"ghost",onClick:e,children:p.jsx(Bc,{className:"w-4 h-4"})})]})]}),u&&u.length>0&&p.jsxs("div",{className:"border-b border-border p-4 space-y-3",children:[p.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[p.jsx(Ef,{variant:"destructive",className:"px-2",children:u.length}),"Otrzymane zaproszenia"]}),p.jsx("div",{className:"space-y-2",children:u.map(z=>p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-primary/5 border border-primary/20",children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:p.jsx(jo,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium truncate",children:z.fromUserName}),p.jsx("p",{className:"text-xs text-foreground-secondary",children:new Date(z.createdAt).toLocaleDateString("pl-PL")})]})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(Ae,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-green-500/20",onClick:()=>k(z.id),disabled:w.isPending,children:p.jsx(zv,{className:"w-4 h-4 text-green-500"})}),p.jsx(Ae,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-destructive/20",onClick:()=>j(z.id),disabled:T.isPending,children:p.jsx(Bc,{className:"w-4 h-4 text-destructive"})})]})]},z.id))})]}),!h&&d&&d.length>0&&p.jsxs("div",{className:"border-b border-border p-4 space-y-3",children:[p.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[p.jsx(Ef,{variant:"secondary",className:"px-2",children:d.length}),"Wysane zaproszenia"]}),p.jsx("div",{className:"space-y-2",children:d.map(z=>p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-yellow-500/5 border border-yellow-500/20",children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center shrink-0",children:p.jsx(jo,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium truncate",children:z.toUserName}),p.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 flex items-center gap-1",children:[p.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-yellow-500 animate-pulse"}),"Wysano zaproszenie"]})]})]}),p.jsx(Ae,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-destructive/20",onClick:()=>I(z.id),disabled:S.isPending,title:"Anuluj zaproszenie",children:p.jsx(Bc,{className:"w-4 h-4 text-foreground-secondary"})})]},z.id))})]}),p.jsx(Kb,{className:"flex-1 p-4",children:l&&l.length>0?p.jsx("div",{className:"space-y-2",children:l.map(z=>p.jsxs("div",{className:"group flex items-center justify-between p-3 rounded-lg hover:bg-background transition-colors cursor-pointer",onClick:()=>t(`/profile/${z.userId}`),children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:p.jsx(jo,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium truncate",children:z.userName}),p.jsx("p",{className:"text-xs text-foreground-secondary truncate",children:z.email})]})]}),p.jsx(Ae,{size:"icon",variant:"ghost",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:P=>{P.stopPropagation(),L(z.userId)},children:p.jsx(zl,{className:"w-4 h-4 text-destructive"})})]},z.userId))}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Ix,{className:"w-12 h-12 text-foreground-secondary mx-auto mb-4"}),p.jsx("p",{className:"text-foreground-secondary mb-2",children:"Brak znajomych"}),p.jsxs("p",{className:"text-sm text-foreground-secondary",children:["Kliknij ",p.jsx(p_,{className:"w-4 h-4 inline"})," aby doda"]})]})})]})})})]})};function SV(n,e,t){return Math.max(n,Math.min(e,t))}class Ute{advance(e){if(!this.isRunning)return;let t=!1;if(this.lerp)this.value=(r=this.value,s=this.to,i=60*this.lerp,o=e,(function(l,u,d){return(1-d)*l+d*u})(r,s,1-Math.exp(-i*o))),Math.round(this.value)===this.to&&(this.value=this.to,t=!0);else{this.currentTime+=e;const l=SV(0,this.currentTime/this.duration,1);t=l>=1;const u=t?1:this.easing(l);this.value=this.from+(this.to-this.from)*u}var r,s,i,o;this.onUpdate?.(this.value,t),t&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,{lerp:r=.1,duration:s=1,easing:i=(u=>u),onStart:o,onUpdate:l}){this.from=this.value=e,this.to=t,this.lerp=r,this.duration=s,this.easing=i,this.currentTime=0,this.isRunning=!0,o?.(),this.onUpdate=l}}class $te{constructor({wrapper:e,content:t,autoResize:r=!0,debounce:s=250}={}){this.wrapper=e,this.content=t,r&&(this.debouncedResize=(function(i,o){let l;return function(){let u=arguments,d=this;clearTimeout(l),l=setTimeout((function(){i.apply(d,u)}),o)}})(this.resize,s),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class TV{constructor(){this.events={}}emit(e,...t){let r=this.events[e]||[];for(let s=0,i=r.length;s<i;s++)r[s](...t)}on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter((r=>t!==r))}}off(e,t){this.events[e]=this.events[e]?.filter((r=>t!==r))}destroy(){this.events={}}}const jI=100/6;class Bte{constructor(e,{wheelMultiplier:t=1,touchMultiplier:r=1}){this.element=e,this.wheelMultiplier=t,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new TV,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=e=>{const{clientX:t,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:t,clientY:r}=e.targetTouches?e.targetTouches[0]:e,s=-(t-this.touchStart.x)*this.touchMultiplier,i=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=r,this.lastDelta={x:s,y:i},this.emitter.emit("scroll",{deltaX:s,deltaY:i,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:t,deltaY:r,deltaMode:s}=e;t*=s===1?jI:s===2?this.windowWidth:1,r*=s===1?jI:s===2?this.windowHeight:1,t*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:r,event:e})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class Wte{constructor({wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:r=e,eventsTarget:s=r,smoothWheel:i=!0,syncTouch:o=!1,syncTouchLerp:l=.075,touchInertiaMultiplier:u=35,duration:d,easing:h=(j=>Math.min(1,1.001-Math.pow(2,-10*j))),lerp:m=!d&&.1,infinite:v=!1,orientation:w="vertical",gestureOrientation:T="vertical",touchMultiplier:_=1,wheelMultiplier:S=1,autoResize:R=!0,__experimental__naiveDimensions:k=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:j,deltaY:I,event:L})=>{if(L.ctrlKey)return;const z=L.type.includes("touch"),P=L.type.includes("wheel");if(this.options.syncTouch&&z&&L.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const A=j===0&&I===0,D=this.options.gestureOrientation==="vertical"&&I===0||this.options.gestureOrientation==="horizontal"&&j===0;if(A||D)return;let O=L.composedPath();if(O=O.slice(0,O.indexOf(this.rootElement)),O.find((X=>{var re,ne,J,q,G;return((re=X.hasAttribute)===null||re===void 0?void 0:re.call(X,"data-lenis-prevent"))||z&&((ne=X.hasAttribute)===null||ne===void 0?void 0:ne.call(X,"data-lenis-prevent-touch"))||P&&((J=X.hasAttribute)===null||J===void 0?void 0:J.call(X,"data-lenis-prevent-wheel"))||((q=X.classList)===null||q===void 0?void 0:q.contains("lenis"))&&!(!((G=X.classList)===null||G===void 0)&&G.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void L.preventDefault();if(this.isSmooth=this.options.syncTouch&&z||this.options.smoothWheel&&P,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();L.preventDefault();let V=I;this.options.gestureOrientation==="both"?V=Math.abs(I)>Math.abs(j)?I:j:this.options.gestureOrientation==="horizontal"&&(V=j);const F=z&&this.options.syncTouch,U=z&&L.type==="touchend"&&Math.abs(V)>5;U&&(V=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+V,Object.assign({programmatic:!1},F?{lerp:U?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const j=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-j),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:r,eventsTarget:s,smoothWheel:i,syncTouch:o,syncTouchLerp:l,touchInertiaMultiplier:u,duration:d,easing:h,lerp:m,infinite:v,gestureOrientation:T,orientation:w,touchMultiplier:_,wheelMultiplier:S,autoResize:R,__experimental__naiveDimensions:k},this.animate=new Ute,this.emitter=new TV,this.dimensions=new $te({wrapper:e,content:t,autoResize:R}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=o||i,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new Bte(s,{touchMultiplier:_,wheelMultiplier:S}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e,{offset:t=0,immediate:r=!1,lock:s=!1,duration:i=this.options.duration,easing:o=this.options.easing,lerp:l=!i&&this.options.lerp,onComplete:u,force:d=!1,programmatic:h=!0}={}){if(!this.isStopped&&!this.isLocked||d){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let m;if(typeof e=="string"?m=document.querySelector(e):e?.nodeType&&(m=e),m){if(this.options.wrapper!==window){const w=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?w.left:w.top}const v=m.getBoundingClientRect();e=(this.isHorizontal?v.left:v.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?h&&(this.targetScroll=this.animatedScroll=this.scroll):e=SV(0,e,this.limit),r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(u==null||u(this));if(!h){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:i,easing:o,lerp:l,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(m,v)=>{this.isScrolling=!0,this.velocity=m-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=m,this.setScroll(this.scroll),h&&(this.targetScroll=m),v||this.emit(),v&&(this.reset(),this.emit(),u?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,t=this.limit,(e%t+t)%t):this.animatedScroll;var e,t}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}function va(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function EV(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var hi={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},lh={duration:.5,overwrite:!1,delay:0},FT,Fr,hn,Ai=1e8,Zt=1/Ai,Yb=Math.PI*2,qte=Yb/4,Hte=0,CV=Math.sqrt,Kte=Math.cos,Gte=Math.sin,Tr=function(e){return typeof e=="string"},On=function(e){return typeof e=="function"},Ma=function(e){return typeof e=="number"},zT=function(e){return typeof e>"u"},Zo=function(e){return typeof e=="object"},zs=function(e){return e!==!1},UT=function(){return typeof window<"u"},Bg=function(e){return On(e)||Tr(e)},PV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},is=Array.isArray,Qb=/(?:-?\.?\d|\.)+/gi,kV=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Td=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ix=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,RV=/[+-]=-?[.\d]+/,AV=/[^,'"\[\]\s]+/gi,Yte=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,bn,ko,Xb,$T,fi={},_v={},IV,NV=function(e){return(_v=ch(e,fi))&&Ws},BT=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Mp=function(e,t){return!t&&console.warn(e)},DV=function(e,t){return e&&(fi[e]=t)&&_v&&(_v[e]=t)||fi},Lp=function(){return 0},Qte={suppressEvents:!0,isStart:!0,kill:!1},by={suppressEvents:!0,kill:!1},Xte={suppressEvents:!0},WT={},Ol=[],Jb={},jV,si={},ox={},OI=30,Sy=[],qT="",HT=function(e){var t=e[0],r,s;if(Zo(t)||On(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(s=Sy.length;s--&&!Sy[s].targetTest(t););r=Sy[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new sF(e[s],r)))||e.splice(s,1);return e},Gc=function(e){return e._gsap||HT(Ii(e))[0]._gsap},OV=function(e,t,r){return(r=e[t])&&On(r)?e[t]():zT(r)&&e.getAttribute&&e.getAttribute(t)||r},Us=function(e,t){return(e=e.split(",")).forEach(t)||e},zn=function(e){return Math.round(e*1e5)/1e5||0},Xn=function(e){return Math.round(e*1e7)/1e7||0},Md=function(e,t){var r=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},Jte=function(e,t){for(var r=t.length,s=0;e.indexOf(t[s])<0&&++s<r;);return s<r},xv=function(){var e=Ol.length,t=Ol.slice(0),r,s;for(Jb={},Ol.length=0,r=0;r<e;r++)s=t[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},KT=function(e){return!!(e._initted||e._startAt||e.add)},MV=function(e,t,r,s){Ol.length&&!Fr&&xv(),e.render(t,r,!!(Fr&&t<0&&KT(e))),Ol.length&&!Fr&&xv()},LV=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(AV).length<2?t:Tr(e)?e.trim():e},VV=function(e){return e},pi=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Zte=function(e){return function(t,r){for(var s in r)s in t||s==="duration"&&e||s==="ease"||(t[s]=r[s])}},ch=function(e,t){for(var r in t)e[r]=t[r];return e},MI=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Zo(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},bv=function(e,t){var r={},s;for(s in e)s in t||(r[s]=e[s]);return r},rp=function(e){var t=e.parent||bn,r=e.keyframes?Zte(is(e.keyframes)):pi;if(zs(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},ene=function(e,t){for(var r=e.length,s=r===t.length;s&&r--&&e[r]===t[r];);return r<0},FV=function(e,t,r,s,i){var o=e[s],l;if(i)for(l=t[i];o&&o[i]>l;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[s]=t,t._prev=o,t.parent=t._dp=e,t},kw=function(e,t,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var i=t._prev,o=t._next;i?i._next=o:e[r]===t&&(e[r]=o),o?o._prev=i:e[s]===t&&(e[s]=i),t._next=t._prev=t.parent=null},Xl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Yc=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},tne=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Zb=function(e,t,r,s){return e._startAt&&(Fr?e._startAt.revert(by):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},nne=function n(e){return!e||e._ts&&n(e.parent)},LI=function(e){return e._repeat?uh(e._tTime,e=e.duration()+e._rDelay)*e:0},uh=function(e,t){var r=Math.floor(e=Xn(e/t));return e&&r===e?r-1:r},Sv=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Rw=function(e){return e._end=Xn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Zt)||0))},Aw=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Xn(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Rw(e),r._dirty||Yc(r,e)),e},zV=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=Sv(e.rawTime(),t),(!t._dur||ym(0,t.totalDuration(),r)-t._tTime>Zt)&&t.render(r,!0)),Yc(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Zt}},Io=function(e,t,r,s){return t.parent&&Xl(t),t._start=Xn((Ma(r)?r:r||e!==bn?Si(e,r,t):e._time)+t._delay),t._end=Xn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),FV(e,t,"_first","_last",e._sort?"_start":0),e1(t)||(e._recent=t),s||zV(e,t),e._ts<0&&Aw(e,e._tTime),e},UV=function(e,t){return(fi.ScrollTrigger||BT("scrollTrigger",t))&&fi.ScrollTrigger.create(t,e)},$V=function(e,t,r,s,i){if(YT(e,t,i),!e._initted)return 1;if(!r&&e._pt&&!Fr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&jV!==ai.frame)return Ol.push(e),e._lazy=[i,s],1},rne=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},e1=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},sne=function(e,t,r,s){var i=e.ratio,o=t<0||!t&&(!e._start&&rne(e)&&!(!e._initted&&e1(e))||(e._ts<0||e._dp._ts<0)&&!e1(e))?0:1,l=e._rDelay,u=0,d,h,m;if(l&&e._repeat&&(u=ym(0,e._tDur,t),h=uh(u,l),e._yoyo&&h&1&&(o=1-o),h!==uh(e._tTime,l)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||Fr||s||e._zTime===Zt||!t&&e._zTime){if(!e._initted&&$V(e,t,s,r,u))return;for(m=e._zTime,e._zTime=t||(r?Zt:0),r||(r=t&&!m),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,d=e._pt;d;)d.r(o,d.d),d=d._next;t<0&&Zb(e,t,r,!0),e._onUpdate&&!r&&ui(e,"onUpdate"),u&&e._repeat&&!r&&e.parent&&ui(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Xl(e,1),!r&&!Fr&&(ui(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},ine=function(e,t,r){var s;if(r>t)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},dh=function(e,t,r,s){var i=e._repeat,o=Xn(t)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Xn(o*(i+1)+e._rDelay*i):o,l>0&&!s&&Aw(e,e._tTime=e._tDur*l),e.parent&&Rw(e),r||Yc(e.parent,e),e},VI=function(e){return e instanceof ws?Yc(e):dh(e,e._dur)},one={_start:0,endTime:Lp,totalDuration:Lp},Si=function n(e,t,r){var s=e.labels,i=e._recent||one,o=e.duration()>=Ai?i.endTime(!1):e._dur,l,u,d;return Tr(t)&&(isNaN(t)||t in s)?(u=t.charAt(0),d=t.substr(-1)==="%",l=t.indexOf("="),u==="<"||u===">"?(l>=0&&(t=t.replace(/=/,"")),(u==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(t.substr(1))||0)*(d?(l<0?i:r).totalDuration()/100:1)):l<0?(t in s||(s[t]=o),s[t]):(u=parseFloat(t.charAt(l-1)+t.substr(l+1)),d&&r&&(u=u/100*(is(r)?r[0]:r).totalDuration()),l>1?n(e,t.substr(0,l-1),r)+u:o+u)):t==null?o:+t},sp=function(e,t,r){var s=Ma(t[1]),i=(s?2:1)+(e<2?0:1),o=t[i],l,u;if(s&&(o.duration=t[1]),o.parent=r,e){for(l=o,u=r;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=zs(u.vars.inherit)&&u.parent;o.immediateRender=zs(l.immediateRender),e<2?o.runBackwards=1:o.startAt=t[i-1]}return new Qn(t[0],o,t[i+1])},ic=function(e,t){return e||e===0?t(e):t},ym=function(e,t,r){return r<e?e:r>t?t:r},ns=function(e,t){return!Tr(e)||!(t=Yte.exec(e))?"":t[1]},ane=function(e,t,r){return ic(r,function(s){return ym(e,t,s)})},t1=[].slice,BV=function(e,t){return e&&Zo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Zo(e[0]))&&!e.nodeType&&e!==ko},lne=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(s){var i;return Tr(s)&&!t||BV(s,1)?(i=r).push.apply(i,Ii(s)):r.push(s)})||r},Ii=function(e,t,r){return hn&&!t&&hn.selector?hn.selector(e):Tr(e)&&!r&&(Xb||!hh())?t1.call((t||$T).querySelectorAll(e),0):is(e)?lne(e,r):BV(e)?t1.call(e,0):e?[e]:[]},n1=function(e){return e=Ii(e)[0]||Mp("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Ii(t,r.querySelectorAll?r:r===e?Mp("Invalid scope")||$T.createElement("div"):e)}},WV=function(e){return e.sort(function(){return .5-Math.random()})},qV=function(e){if(On(e))return e;var t=Zo(e)?e:{each:e},r=Qc(t.ease),s=t.from||0,i=parseFloat(t.base)||0,o={},l=s>0&&s<1,u=isNaN(s)||l,d=t.axis,h=s,m=s;return Tr(s)?h=m={center:.5,edges:.5,end:1}[s]||0:!l&&u&&(h=s[0],m=s[1]),function(v,w,T){var _=(T||t).length,S=o[_],R,k,j,I,L,z,P,A,D;if(!S){if(D=t.grid==="auto"?0:(t.grid||[1,Ai])[1],!D){for(P=-Ai;P<(P=T[D++].getBoundingClientRect().left)&&D<_;);D<_&&D--}for(S=o[_]=[],R=u?Math.min(D,_)*h-.5:s%D,k=D===Ai?0:u?_*m/D-.5:s/D|0,P=0,A=Ai,z=0;z<_;z++)j=z%D-R,I=k-(z/D|0),S[z]=L=d?Math.abs(d==="y"?I:j):CV(j*j+I*I),L>P&&(P=L),L<A&&(A=L);s==="random"&&WV(S),S.max=P-A,S.min=A,S.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(D>_?_-1:d?d==="y"?_/D:D:Math.max(D,_/D))||0)*(s==="edges"?-1:1),S.b=_<0?i-_:i,S.u=ns(t.amount||t.each)||0,r=r&&_<0?tF(r):r}return _=(S[v]-S.min)/S.max||0,Xn(S.b+(r?r(_):_)*S.v)+S.u}},r1=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=Xn(Math.round(parseFloat(r)/e)*e*t);return(s-s%1)/t+(Ma(r)?0:ns(r))}},HV=function(e,t){var r=is(e),s,i;return!r&&Zo(e)&&(s=r=e.radius||Ai,e.values?(e=Ii(e.values),(i=!Ma(e[0]))&&(s*=s)):e=r1(e.increment)),ic(t,r?On(e)?function(o){return i=e(o),Math.abs(i-o)<=s?i:o}:function(o){for(var l=parseFloat(i?o.x:o),u=parseFloat(i?o.y:0),d=Ai,h=0,m=e.length,v,w;m--;)i?(v=e[m].x-l,w=e[m].y-u,v=v*v+w*w):v=Math.abs(e[m]-l),v<d&&(d=v,h=m);return h=!s||d<=s?e[h]:o,i||h===o||Ma(o)?h:h+ns(o)}:r1(e))},KV=function(e,t,r,s){return ic(is(e)?!t:r===!0?!!(r=0):!s,function(){return is(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*s)/s})},cne=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduce(function(i,o){return o(i)},s)}},une=function(e,t){return function(r){return e(parseFloat(r))+(t||ns(r))}},dne=function(e,t,r){return YV(e,t,0,1,r)},GV=function(e,t,r){return ic(r,function(s){return e[~~t(s)]})},hne=function n(e,t,r){var s=t-e;return is(e)?GV(e,n(0,e.length),t):ic(r,function(i){return(s+(i-e)%s)%s+e})},fne=function n(e,t,r){var s=t-e,i=s*2;return is(e)?GV(e,n(0,e.length-1),t):ic(r,function(o){return o=(i+(o-e)%i)%i||0,e+(o>s?i-o:o)})},Vp=function(e){for(var t=0,r="",s,i,o,l;~(s=e.indexOf("random(",t));)o=e.indexOf(")",s),l=e.charAt(s+7)==="[",i=e.substr(s+7,o-s-7).match(l?AV:Qb),r+=e.substr(t,s-t)+KV(l?i:+i[0],l?0:+i[1],+i[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},YV=function(e,t,r,s,i){var o=t-e,l=s-r;return ic(i,function(u){return r+((u-e)/o*l||0)})},pne=function n(e,t,r,s){var i=isNaN(e+t)?0:function(w){return(1-w)*e+w*t};if(!i){var o=Tr(e),l={},u,d,h,m,v;if(r===!0&&(s=1)&&(r=null),o)e={p:e},t={p:t};else if(is(e)&&!is(t)){for(h=[],m=e.length,v=m-2,d=1;d<m;d++)h.push(n(e[d-1],e[d]));m--,i=function(T){T*=m;var _=Math.min(v,~~T);return h[_](T-_)},r=t}else s||(e=ch(is(e)?[]:{},e));if(!h){for(u in t)GT.call(l,e,u,"get",t[u]);i=function(T){return JT(T,l)||(o?e.p:e)}}}return ic(r,i)},FI=function(e,t,r){var s=e.labels,i=Ai,o,l,u;for(o in s)l=s[o]-t,l<0==!!r&&l&&i>(l=Math.abs(l))&&(u=o,i=l);return u},ui=function(e,t,r){var s=e.vars,i=s[t],o=hn,l=e._ctx,u,d,h;if(i)return u=s[t+"Params"],d=s.callbackScope||e,r&&Ol.length&&xv(),l&&(hn=l),h=u?i.apply(d,u):i.call(d),hn=o,h},jf=function(e){return Xl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Fr),e.progress()<1&&ui(e,"onInterrupt"),e},Ed,QV=[],XV=function(e){if(e)if(e=!e.name&&e.default||e,UT()||e.headless){var t=e.name,r=On(e),s=t&&!r&&e.init?function(){this._props=[]}:e,i={init:Lp,render:JT,add:GT,kill:Ane,modifier:Rne,rawVars:0},o={targetTest:0,get:0,getSetter:XT,aliases:{},register:0};if(hh(),e!==s){if(si[t])return;pi(s,pi(bv(e,i),o)),ch(s.prototype,ch(i,bv(e,o))),si[s.prop=t]=s,e.targetTest&&(Sy.push(s),WT[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}DV(t,s),e.register&&e.register(Ws,s,$s)}else QV.push(e)},Xt=255,Of={aqua:[0,Xt,Xt],lime:[0,Xt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Xt],navy:[0,0,128],white:[Xt,Xt,Xt],olive:[128,128,0],yellow:[Xt,Xt,0],orange:[Xt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Xt,0,0],pink:[Xt,192,203],cyan:[0,Xt,Xt],transparent:[Xt,Xt,Xt,0]},ax=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Xt+.5|0},JV=function(e,t,r){var s=e?Ma(e)?[e>>16,e>>8&Xt,e&Xt]:0:Of.black,i,o,l,u,d,h,m,v,w,T;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Of[e])s=Of[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+i+i+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&Xt,s&Xt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&Xt,e&Xt]}else if(e.substr(0,3)==="hsl"){if(s=T=e.match(Qb),!t)u=+s[0]%360/360,d=+s[1]/100,h=+s[2]/100,o=h<=.5?h*(d+1):h+d-h*d,i=h*2-o,s.length>3&&(s[3]*=1),s[0]=ax(u+1/3,i,o),s[1]=ax(u,i,o),s[2]=ax(u-1/3,i,o);else if(~e.indexOf("="))return s=e.match(kV),r&&s.length<4&&(s[3]=1),s}else s=e.match(Qb)||Of.transparent;s=s.map(Number)}return t&&!T&&(i=s[0]/Xt,o=s[1]/Xt,l=s[2]/Xt,m=Math.max(i,o,l),v=Math.min(i,o,l),h=(m+v)/2,m===v?u=d=0:(w=m-v,d=h>.5?w/(2-m-v):w/(m+v),u=m===i?(o-l)/w+(o<l?6:0):m===o?(l-i)/w+2:(i-o)/w+4,u*=60),s[0]=~~(u+.5),s[1]=~~(d*100+.5),s[2]=~~(h*100+.5)),r&&s.length<4&&(s[3]=1),s},ZV=function(e){var t=[],r=[],s=-1;return e.split(Ml).forEach(function(i){var o=i.match(Td)||[];t.push.apply(t,o),r.push(s+=o.length+1)}),t.c=r,t},zI=function(e,t,r){var s="",i=(e+s).match(Ml),o=t?"hsla(":"rgba(",l=0,u,d,h,m;if(!i)return e;if(i=i.map(function(v){return(v=JV(v,t,1))&&o+(t?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),r&&(h=ZV(e),u=r.c,u.join(s)!==h.c.join(s)))for(d=e.replace(Ml,"1").split(Td),m=d.length-1;l<m;l++)s+=d[l]+(~u.indexOf(l)?i.shift()||o+"0,0,0,0)":(h.length?h:i.length?i:r).shift());if(!d)for(d=e.split(Ml),m=d.length-1;l<m;l++)s+=d[l]+i[l];return s+d[m]},Ml=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Of)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),mne=/hsl[a]?\(/,eF=function(e){var t=e.join(" "),r;if(Ml.lastIndex=0,Ml.test(t))return r=mne.test(t),e[1]=zI(e[1],r),e[0]=zI(e[0],r,ZV(e[1])),!0},Fp,ai=(function(){var n=Date.now,e=500,t=33,r=n(),s=r,i=1e3/240,o=i,l=[],u,d,h,m,v,w,T=function _(S){var R=n()-s,k=S===!0,j,I,L,z;if((R>e||R<0)&&(r+=R-t),s+=R,L=s-r,j=L-o,(j>0||k)&&(z=++m.frame,v=L-m.time*1e3,m.time=L=L/1e3,o+=j+(j>=i?4:i-j),I=1),k||(u=d(_)),I)for(w=0;w<l.length;w++)l[w](L,v,z,S)};return m={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(S){return v/(1e3/(S||60))},wake:function(){IV&&(!Xb&&UT()&&(ko=Xb=window,$T=ko.document||{},fi.gsap=Ws,(ko.gsapVersions||(ko.gsapVersions=[])).push(Ws.version),NV(_v||ko.GreenSockGlobals||!ko.gsap&&ko||{}),QV.forEach(XV)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&m.sleep(),d=h||function(S){return setTimeout(S,o-m.time*1e3+1|0)},Fp=1,T(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(u),Fp=0,d=Lp},lagSmoothing:function(S,R){e=S||1/0,t=Math.min(R||33,e)},fps:function(S){i=1e3/(S||240),o=m.time*1e3+i},add:function(S,R,k){var j=R?function(I,L,z,P){S(I,L,z,P),m.remove(j)}:S;return m.remove(S),l[k?"unshift":"push"](j),hh(),j},remove:function(S,R){~(R=l.indexOf(S))&&l.splice(R,1)&&w>=R&&w--},_listeners:l},m})(),hh=function(){return!Fp&&ai.wake()},kt={},gne=/^[\d.\-M][\d.\-,\s]/,yne=/["']/g,vne=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),s=r[0],i=1,o=r.length,l,u,d;i<o;i++)u=r[i],l=i!==o-1?u.lastIndexOf(","):u.length,d=u.substr(0,l),t[s]=isNaN(d)?d.replace(yne,"").trim():+d,s=u.substr(l+1).trim();return t},wne=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<r?e.indexOf(")",r+1):r)},_ne=function(e){var t=(e+"").split("("),r=kt[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[vne(t[1])]:wne(e).split(",").map(LV)):kt._CE&&gne.test(e)?kt._CE("",e):r},tF=function(e){return function(t){return 1-e(1-t)}},nF=function n(e,t){for(var r=e._first,s;r;)r instanceof ws?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=t)),r=r._next},Qc=function(e,t){return e&&(On(e)?e:kt[e]||_ne(e))||t},Pu=function(e,t,r,s){r===void 0&&(r=function(u){return 1-t(1-u)}),s===void 0&&(s=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var i={easeIn:t,easeOut:r,easeInOut:s},o;return Us(e,function(l){kt[l]=fi[l]=i,kt[o=l.toLowerCase()]=r;for(var u in i)kt[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=kt[l+"."+u]=i[u]}),i},rF=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},lx=function n(e,t,r){var s=t>=1?t:1,i=(r||(e?.3:.45))/(t<1?t:1),o=i/Yb*(Math.asin(1/s)||0),l=function(h){return h===1?1:s*Math.pow(2,-10*h)*Gte((h-o)*i)+1},u=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:rF(l);return i=Yb/i,u.config=function(d,h){return n(e,d,h)},u},cx=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},s=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:rF(r);return s.config=function(i){return n(e,i)},s};Us("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Pu(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});kt.Linear.easeNone=kt.none=kt.Linear.easeIn;Pu("Elastic",lx("in"),lx("out"),lx());(function(n,e){var t=1/e,r=2*t,s=2.5*t,i=function(l){return l<t?n*l*l:l<r?n*Math.pow(l-1.5/e,2)+.75:l<s?n*(l-=2.25/e)*l+.9375:n*Math.pow(l-2.625/e,2)+.984375};Pu("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);Pu("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Pu("Circ",function(n){return-(CV(1-n*n)-1)});Pu("Sine",function(n){return n===1?1:-Kte(n*qte)+1});Pu("Back",cx("in"),cx("out"),cx());kt.SteppedEase=kt.steps=fi.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,s=e+(t?0:1),i=t?1:0,o=1-Zt;return function(l){return((s*ym(0,o,l)|0)+i)*r}}};lh.ease=kt["quad.out"];Us("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return qT+=n+","+n+"Params,"});var sF=function(e,t){this.id=Hte++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:OV,this.set=t?t.getSetter:XT},zp=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,dh(this,+t.duration,1,1),this.data=t.data,hn&&(this._ctx=hn,hn.data.push(this)),Fp||ai.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,dh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(hh(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Aw(this,r),!i._dp||i.parent||zV(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Io(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Zt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),MV(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+LI(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+LI(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,s):this._repeat?uh(this._tTime,i)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-Zt?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?Sv(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Zt?0:this._rts,this.totalTime(ym(-Math.abs(this._delay),this.totalDuration(),i),s!==!1),Rw(this),tne(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(hh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Zt&&(this._tTime-=Zt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Io(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(zs(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Sv(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Xte);var s=Fr;return Fr=r,KT(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Fr=s,this},e.globalTime=function(r){for(var s=this,i=arguments.length?r:s.rawTime();s;)i=s._start+i/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,VI(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,VI(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(Si(this,r),zs(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,zs(s)),this._dur||(this._zTime=-Zt),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Zt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Zt,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=s&&i<this.endTime(!0)-Zt)},e.eventCallback=function(r,s,i){var o=this.vars;return arguments.length>1?(s?(o[r]=s,i&&(o[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(i){var o=On(r)?r:VV,l=function(){var d=s.then;s.then=null,On(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=d),i(o),s.then=d};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?l():s._prom=l})},e.kill=function(){jf(this)},n})();pi(zp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Zt,_prom:0,_ps:!1,_rts:1});var ws=(function(n){EV(e,n);function e(r,s){var i;return r===void 0&&(r={}),i=n.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=zs(r.sortChildren),bn&&Io(r.parent||bn,va(i),s),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&UV(va(i),r.scrollTrigger),i}var t=e.prototype;return t.to=function(s,i,o){return sp(0,arguments,this),this},t.from=function(s,i,o){return sp(1,arguments,this),this},t.fromTo=function(s,i,o,l){return sp(2,arguments,this),this},t.set=function(s,i,o){return i.duration=0,i.parent=this,rp(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new Qn(s,i,Si(this,o),1),this},t.call=function(s,i,o){return Io(this,Qn.delayedCall(0,s,i),o)},t.staggerTo=function(s,i,o,l,u,d,h){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=d,o.onCompleteParams=h,o.parent=this,new Qn(s,o,Si(this,u)),this},t.staggerFrom=function(s,i,o,l,u,d,h){return o.runBackwards=1,rp(o).immediateRender=zs(o.immediateRender),this.staggerTo(s,i,o,l,u,d,h)},t.staggerFromTo=function(s,i,o,l,u,d,h,m){return l.startAt=o,rp(l).immediateRender=zs(l.immediateRender),this.staggerTo(s,i,l,u,d,h,m)},t.render=function(s,i,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,d=this._dur,h=s<=0?0:Xn(s),m=this._zTime<0!=s<0&&(this._initted||!d),v,w,T,_,S,R,k,j,I,L,z,P;if(this!==bn&&h>u&&s>=0&&(h=u),h!==this._tTime||o||m){if(l!==this._time&&d&&(h+=this._time-l,s+=this._time-l),v=h,I=this._start,j=this._ts,R=!j,m&&(d||(l=this._zTime),(s||!i)&&(this._zTime=s)),this._repeat){if(z=this._yoyo,S=d+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(S*100+s,i,o);if(v=Xn(h%S),h===u?(_=this._repeat,v=d):(L=Xn(h/S),_=~~L,_&&_===L&&(v=d,_--),v>d&&(v=d)),L=uh(this._tTime,S),!l&&this._tTime&&L!==_&&this._tTime-L*S-this._dur<=0&&(L=_),z&&_&1&&(v=d-v,P=1),_!==L&&!this._lock){var A=z&&L&1,D=A===(z&&_&1);if(_<L&&(A=!A),l=A?0:h%d?d:h,this._lock=1,this.render(l||(P?0:Xn(_*S)),i,!d)._lock=0,this._tTime=h,!i&&this.parent&&ui(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),l&&l!==this._time||R!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,u=this._tDur,D&&(this._lock=2,l=A?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!R)return this;nF(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(k=ine(this,Xn(l),Xn(v)),k&&(h-=v-(v=k._start))),this._tTime=h,this._time=v,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&h&&!i&&!L&&(ui(this,"onStart"),this._tTime!==h))return this;if(v>=l&&s>=0)for(w=this._first;w;){if(T=w._next,(w._act||v>=w._start)&&w._ts&&k!==w){if(w.parent!==this)return this.render(s,i,o);if(w.render(w._ts>0?(v-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(v-w._start)*w._ts,i,o),v!==this._time||!this._ts&&!R){k=0,T&&(h+=this._zTime=-Zt);break}}w=T}else{w=this._last;for(var O=s<0?s:v;w;){if(T=w._prev,(w._act||O<=w._end)&&w._ts&&k!==w){if(w.parent!==this)return this.render(s,i,o);if(w.render(w._ts>0?(O-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(O-w._start)*w._ts,i,o||Fr&&KT(w)),v!==this._time||!this._ts&&!R){k=0,T&&(h+=this._zTime=O?-Zt:Zt);break}}w=T}}if(k&&!i&&(this.pause(),k.render(v>=l?0:-Zt)._zTime=v>=l?1:-1,this._ts))return this._start=I,Rw(this),this.render(s,i,o);this._onUpdate&&!i&&ui(this,"onUpdate",!0),(h===u&&this._tTime>=this.totalDuration()||!h&&l)&&(I===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((s||!d)&&(h===u&&this._ts>0||!h&&this._ts<0)&&Xl(this,1),!i&&!(s<0&&!l)&&(h||l||!u)&&(ui(this,h===u&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,i){var o=this;if(Ma(i)||(i=Si(this,i,s)),!(s instanceof zp)){if(is(s))return s.forEach(function(l){return o.add(l,i)}),this;if(Tr(s))return this.addLabel(s,i);if(On(s))s=Qn.delayedCall(0,s);else return this}return this!==s?Io(this,s,i):this},t.getChildren=function(s,i,o,l){s===void 0&&(s=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-Ai);for(var u=[],d=this._first;d;)d._start>=l&&(d instanceof Qn?i&&u.push(d):(o&&u.push(d),s&&u.push.apply(u,d.getChildren(!0,i,o)))),d=d._next;return u},t.getById=function(s){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===s)return i[o]},t.remove=function(s){return Tr(s)?this.removeLabel(s):On(s)?this.killTweensOf(s):(s.parent===this&&kw(this,s),s===this._recent&&(this._recent=this._last),Yc(this))},t.totalTime=function(s,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Xn(ai.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),n.prototype.totalTime.call(this,s,i),this._forcing=0,this):this._tTime},t.addLabel=function(s,i){return this.labels[s]=Si(this,i),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,i,o){var l=Qn.delayedCall(0,i||Lp,o);return l.data="isPause",this._hasPause=1,Io(this,l,Si(this,s))},t.removePause=function(s){var i=this._first;for(s=Si(this,s);i;)i._start===s&&i.data==="isPause"&&Xl(i),i=i._next},t.killTweensOf=function(s,i,o){for(var l=this.getTweensOf(s,o),u=l.length;u--;)_l!==l[u]&&l[u].kill(s,i);return this},t.getTweensOf=function(s,i){for(var o=[],l=Ii(s),u=this._first,d=Ma(i),h;u;)u instanceof Qn?Jte(u._targets,l)&&(d?(!_l||u._initted&&u._ts)&&u.globalTime(0)<=i&&u.globalTime(u.totalDuration())>i:!i||u.isActive())&&o.push(u):(h=u.getTweensOf(l,i)).length&&o.push.apply(o,h),u=u._next;return o},t.tweenTo=function(s,i){i=i||{};var o=this,l=Si(o,s),u=i,d=u.startAt,h=u.onStart,m=u.onStartParams,v=u.immediateRender,w,T=Qn.to(o,pi({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale())||Zt,onStart:function(){if(o.pause(),!w){var S=i.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale());T._dur!==S&&dh(T,S,0,1).render(T._time,!0,!0),w=1}h&&h.apply(T,m||[])}},i));return v?T.render(0):T},t.tweenFromTo=function(s,i,o){return this.tweenTo(i,pi({startAt:{time:Si(this,s)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),FI(this,Si(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),FI(this,Si(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Zt)},t.shiftChildren=function(s,i,o){o===void 0&&(o=0);for(var l=this._first,u=this.labels,d;l;)l._start>=o&&(l._start+=s,l._end+=s),l=l._next;if(i)for(d in u)u[d]>=o&&(u[d]+=s);return Yc(this)},t.invalidate=function(s){var i=this._first;for(this._lock=0;i;)i.invalidate(s),i=i._next;return n.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Yc(this)},t.totalDuration=function(s){var i=0,o=this,l=o._last,u=Ai,d,h,m;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(m=o.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),h=l._start,h>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,Io(o,l,h-l._delay,1)._lock=0):u=h,h<0&&l._ts&&(i-=h,(!m&&!o._dp||m&&m.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),u=0),l._end>i&&l._ts&&(i=l._end),l=d;dh(o,o===bn&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(bn._ts&&(MV(bn,Sv(s,bn)),jV=ai.frame),ai.frame>=OI){OI+=hi.autoSleep||120;var i=bn._first;if((!i||!i._ts)&&hi.autoSleep&&ai._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||ai.sleep()}}},e})(zp);pi(ws.prototype,{_lock:0,_hasPause:0,_forcing:0});var xne=function(e,t,r,s,i,o,l){var u=new $s(this._pt,e,t,0,1,uF,null,i),d=0,h=0,m,v,w,T,_,S,R,k;for(u.b=r,u.e=s,r+="",s+="",(R=~s.indexOf("random("))&&(s=Vp(s)),o&&(k=[r,s],o(k,e,t),r=k[0],s=k[1]),v=r.match(ix)||[];m=ix.exec(s);)T=m[0],_=s.substring(d,m.index),w?w=(w+1)%5:_.substr(-5)==="rgba("&&(w=1),T!==v[h++]&&(S=parseFloat(v[h-1])||0,u._pt={_next:u._pt,p:_||h===1?_:",",s:S,c:T.charAt(1)==="="?Md(S,T)-S:parseFloat(T)-S,m:w&&w<4?Math.round:0},d=ix.lastIndex);return u.c=d<s.length?s.substring(d,s.length):"",u.fp=l,(RV.test(s)||R)&&(u.e=0),this._pt=u,u},GT=function(e,t,r,s,i,o,l,u,d,h){On(s)&&(s=s(i||0,e,o));var m=e[t],v=r!=="get"?r:On(m)?d?e[t.indexOf("set")||!On(e["get"+t.substr(3)])?t:"get"+t.substr(3)](d):e[t]():m,w=On(m)?d?Cne:lF:QT,T;if(Tr(s)&&(~s.indexOf("random(")&&(s=Vp(s)),s.charAt(1)==="="&&(T=Md(v,s)+(ns(v)||0),(T||T===0)&&(s=T))),!h||v!==s||s1)return!isNaN(v*s)&&s!==""?(T=new $s(this._pt,e,t,+v||0,s-(v||0),typeof m=="boolean"?kne:cF,0,w),d&&(T.fp=d),l&&T.modifier(l,this,e),this._pt=T):(!m&&!(t in e)&&BT(t,s),xne.call(this,e,t,v,s,w,u||hi.stringFilter,d))},bne=function(e,t,r,s,i){if(On(e)&&(e=ip(e,i,t,r,s)),!Zo(e)||e.style&&e.nodeType||is(e)||PV(e))return Tr(e)?ip(e,i,t,r,s):e;var o={},l;for(l in e)o[l]=ip(e[l],i,t,r,s);return o},iF=function(e,t,r,s,i,o){var l,u,d,h;if(si[e]&&(l=new si[e]).init(i,l.rawVars?t[e]:bne(t[e],s,i,o,r),r,s,o)!==!1&&(r._pt=u=new $s(r._pt,i,e,0,1,l.render,l,0,l.priority),r!==Ed))for(d=r._ptLookup[r._targets.indexOf(i)],h=l._props.length;h--;)d[l._props[h]]=u;return l},_l,s1,YT=function n(e,t,r){var s=e.vars,i=s.ease,o=s.startAt,l=s.immediateRender,u=s.lazy,d=s.onUpdate,h=s.runBackwards,m=s.yoyoEase,v=s.keyframes,w=s.autoRevert,T=e._dur,_=e._startAt,S=e._targets,R=e.parent,k=R&&R.data==="nested"?R.vars.targets:S,j=e._overwrite==="auto"&&!FT,I=e.timeline,L,z,P,A,D,O,V,F,U,X,re,ne,J;if(I&&(!v||!i)&&(i="none"),e._ease=Qc(i,lh.ease),e._yEase=m?tF(Qc(m===!0?i:m,lh.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!I&&!!s.runBackwards,!I||v&&!s.stagger){if(F=S[0]?Gc(S[0]).harness:0,ne=F&&s[F.prop],L=bv(s,WT),_&&(_._zTime<0&&_.progress(1),t<0&&h&&l&&!w?_.render(-1,!0):_.revert(h&&T?by:Qte),_._lazy=0),o){if(Xl(e._startAt=Qn.set(S,pi({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!_&&zs(u),startAt:null,delay:0,onUpdate:d&&function(){return ui(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Fr||!l&&!w)&&e._startAt.revert(by),l&&T&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(h&&T&&!_){if(t&&(l=!1),P=pi({overwrite:!1,data:"isFromStart",lazy:l&&!_&&zs(u),immediateRender:l,stagger:0,parent:R},L),ne&&(P[F.prop]=ne),Xl(e._startAt=Qn.set(S,P)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Fr?e._startAt.revert(by):e._startAt.render(-1,!0)),e._zTime=t,!l)n(e._startAt,Zt,Zt);else if(!t)return}for(e._pt=e._ptCache=0,u=T&&zs(u)||u&&!T,z=0;z<S.length;z++){if(D=S[z],V=D._gsap||HT(S)[z]._gsap,e._ptLookup[z]=X={},Jb[V.id]&&Ol.length&&xv(),re=k===S?z:k.indexOf(D),F&&(U=new F).init(D,ne||L,e,re,k)!==!1&&(e._pt=A=new $s(e._pt,D,U.name,0,1,U.render,U,0,U.priority),U._props.forEach(function(q){X[q]=A}),U.priority&&(O=1)),!F||ne)for(P in L)si[P]&&(U=iF(P,L,e,re,D,k))?U.priority&&(O=1):X[P]=A=GT.call(e,D,P,"get",L[P],re,k,0,s.stringFilter);e._op&&e._op[z]&&e.kill(D,e._op[z]),j&&e._pt&&(_l=e,bn.killTweensOf(D,X,e.globalTime(t)),J=!e.parent,_l=0),e._pt&&u&&(Jb[V.id]=1)}O&&dF(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!J,v&&t<=0&&I.render(Ai,!0,!0)},Sne=function(e,t,r,s,i,o,l,u){var d=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,m,v,w;if(!d)for(d=e._ptCache[t]=[],v=e._ptLookup,w=e._targets.length;w--;){if(h=v[w][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return s1=1,e.vars[t]="+=0",YT(e,l),s1=0,u?Mp(t+" not eligible for reset"):1;d.push(h)}for(w=d.length;w--;)m=d[w],h=m._pt||m,h.s=(s||s===0)&&!i?s:h.s+(s||0)+o*h.c,h.c=r-h.s,m.e&&(m.e=zn(r)+ns(m.e)),m.b&&(m.b=h.s+ns(m.b))},Tne=function(e,t){var r=e[0]?Gc(e[0]).harness:0,s=r&&r.aliases,i,o,l,u;if(!s)return t;i=ch({},t);for(o in s)if(o in i)for(u=s[o].split(","),l=u.length;l--;)i[u[l]]=i[o];return i},Ene=function(e,t,r,s){var i=t.ease||s||"power1.inOut",o,l;if(is(t))l=r[e]||(r[e]=[]),t.forEach(function(u,d){return l.push({t:d/(t.length-1)*100,v:u,e:i})});else for(o in t)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:t[o],e:i})},ip=function(e,t,r,s,i){return On(e)?e.call(t,r,s,i):Tr(e)&&~e.indexOf("random(")?Vp(e):e},oF=qT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",aF={};Us(oF+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return aF[n]=1});var Qn=(function(n){EV(e,n);function e(r,s,i,o){var l;typeof s=="number"&&(i.duration=s,s=i,i=null),l=n.call(this,o?s:rp(s))||this;var u=l.vars,d=u.duration,h=u.delay,m=u.immediateRender,v=u.stagger,w=u.overwrite,T=u.keyframes,_=u.defaults,S=u.scrollTrigger,R=u.yoyoEase,k=s.parent||bn,j=(is(r)||PV(r)?Ma(r[0]):"length"in s)?[r]:Ii(r),I,L,z,P,A,D,O,V;if(l._targets=j.length?HT(j):Mp("GSAP target "+r+" not found. https://gsap.com",!hi.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=w,T||v||Bg(d)||Bg(h)){if(s=l.vars,I=l.timeline=new ws({data:"nested",defaults:_||{},targets:k&&k.data==="nested"?k.vars.targets:j}),I.kill(),I.parent=I._dp=va(l),I._start=0,v||Bg(d)||Bg(h)){if(P=j.length,O=v&&qV(v),Zo(v))for(A in v)~oF.indexOf(A)&&(V||(V={}),V[A]=v[A]);for(L=0;L<P;L++)z=bv(s,aF),z.stagger=0,R&&(z.yoyoEase=R),V&&ch(z,V),D=j[L],z.duration=+ip(d,va(l),L,D,j),z.delay=(+ip(h,va(l),L,D,j)||0)-l._delay,!v&&P===1&&z.delay&&(l._delay=h=z.delay,l._start+=h,z.delay=0),I.to(D,z,O?O(L,D,j):0),I._ease=kt.none;I.duration()?d=h=0:l.timeline=0}else if(T){rp(pi(I.vars.defaults,{ease:"none"})),I._ease=Qc(T.ease||s.ease||"none");var F=0,U,X,re;if(is(T))T.forEach(function(ne){return I.to(j,ne,">")}),I.duration();else{z={};for(A in T)A==="ease"||A==="easeEach"||Ene(A,T[A],z,T.easeEach);for(A in z)for(U=z[A].sort(function(ne,J){return ne.t-J.t}),F=0,L=0;L<U.length;L++)X=U[L],re={ease:X.e,duration:(X.t-(L?U[L-1].t:0))/100*d},re[A]=X.v,I.to(j,re,F),F+=re.duration;I.duration()<d&&I.to({},{duration:d-I.duration()})}}d||l.duration(d=I.duration())}else l.timeline=0;return w===!0&&!FT&&(_l=va(l),bn.killTweensOf(j),_l=0),Io(k,va(l),i),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(m||!d&&!T&&l._start===Xn(k._time)&&zs(m)&&nne(va(l))&&k.data!=="nested")&&(l._tTime=-Zt,l.render(Math.max(0,-h)||0)),S&&UV(va(l),S),l}var t=e.prototype;return t.render=function(s,i,o){var l=this._time,u=this._tDur,d=this._dur,h=s<0,m=s>u-Zt&&!h?u:s<Zt?0:s,v,w,T,_,S,R,k,j,I;if(!d)sne(this,s,i,o);else if(m!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(v=m,j=this.timeline,this._repeat){if(_=d+this._rDelay,this._repeat<-1&&h)return this.totalTime(_*100+s,i,o);if(v=Xn(m%_),m===u?(T=this._repeat,v=d):(S=Xn(m/_),T=~~S,T&&T===S?(v=d,T--):v>d&&(v=d)),R=this._yoyo&&T&1,R&&(I=this._yEase,v=d-v),S=uh(this._tTime,_),v===l&&!o&&this._initted&&T===S)return this._tTime=m,this;T!==S&&(j&&this._yEase&&nF(j,R),this.vars.repeatRefresh&&!R&&!this._lock&&v!==_&&this._initted&&(this._lock=o=1,this.render(Xn(_*T),!0).invalidate()._lock=0))}if(!this._initted){if($V(this,h?s:v,o,i,m))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&T!==S))return this;if(d!==this._dur)return this.render(s,i,o)}if(this._tTime=m,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=k=(I||this._ease)(v/d),this._from&&(this.ratio=k=1-k),!l&&m&&!i&&!S&&(ui(this,"onStart"),this._tTime!==m))return this;for(w=this._pt;w;)w.r(k,w.d),w=w._next;j&&j.render(s<0?s:j._dur*j._ease(v/this._dur),i,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!i&&(h&&Zb(this,s,i,o),ui(this,"onUpdate")),this._repeat&&T!==S&&this.vars.onRepeat&&!i&&this.parent&&ui(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(h&&!this._onUpdate&&Zb(this,s,!0,!0),(s||!d)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Xl(this,1),!i&&!(h&&!l)&&(m||l||R)&&(ui(this,m===u?"onComplete":"onReverseComplete",!0),this._prom&&!(m<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),n.prototype.invalidate.call(this,s)},t.resetTo=function(s,i,o,l,u){Fp||ai.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||YT(this,d),h=this._ease(d/this._dur),Sne(this,s,i,o,l,h,d,u)?this.resetTo(s,i,o,l,1):(Aw(this,0),this.parent||FV(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,i){if(i===void 0&&(i="all"),!s&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?jf(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Fr),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,i,_l&&_l.vars.overwrite!==!0)._first||jf(this),this.parent&&o!==this.timeline.totalDuration()&&dh(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=s?Ii(s):l,d=this._ptLookup,h=this._pt,m,v,w,T,_,S,R;if((!i||i==="all")&&ene(l,u))return i==="all"&&(this._pt=0),jf(this);for(m=this._op=this._op||[],i!=="all"&&(Tr(i)&&(_={},Us(i,function(k){return _[k]=1}),i=_),i=Tne(l,i)),R=l.length;R--;)if(~u.indexOf(l[R])){v=d[R],i==="all"?(m[R]=i,T=v,w={}):(w=m[R]=m[R]||{},T=i);for(_ in T)S=v&&v[_],S&&((!("kill"in S.d)||S.d.kill(_)===!0)&&kw(this,S,"_pt"),delete v[_]),w!=="all"&&(w[_]=1)}return this._initted&&!this._pt&&h&&jf(this),this},e.to=function(s,i){return new e(s,i,arguments[2])},e.from=function(s,i){return sp(1,arguments)},e.delayedCall=function(s,i,o,l){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(s,i,o){return sp(2,arguments)},e.set=function(s,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(s,i)},e.killTweensOf=function(s,i,o){return bn.killTweensOf(s,i,o)},e})(zp);pi(Qn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Us("staggerTo,staggerFrom,staggerFromTo",function(n){Qn[n]=function(){var e=new ws,t=t1.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var QT=function(e,t,r){return e[t]=r},lF=function(e,t,r){return e[t](r)},Cne=function(e,t,r,s){return e[t](s.fp,r)},Pne=function(e,t,r){return e.setAttribute(t,r)},XT=function(e,t){return On(e[t])?lF:zT(e[t])&&e.setAttribute?Pne:QT},cF=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},kne=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},uF=function(e,t){var r=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=t.c}t.set(t.t,t.p,s,t)},JT=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Rne=function(e,t,r,s){for(var i=this._pt,o;i;)o=i._next,i.p===s&&i.modifier(e,t,r),i=o},Ane=function(e){for(var t=this._pt,r,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?kw(this,t,"_pt"):t.dep||(r=1),t=s;return!r},Ine=function(e,t,r,s){s.mSet(e,t,s.m.call(s.tween,r,s.mt),s)},dF=function(e){for(var t=e._pt,r,s,i,o;t;){for(r=t._next,s=i;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:o)?t._prev._next=t:i=t,(t._next=s)?s._prev=t:o=t,t=r}e._pt=i},$s=(function(){function n(t,r,s,i,o,l,u,d,h){this.t=r,this.s=i,this.c=o,this.p=s,this.r=l||cF,this.d=u||this,this.set=d||QT,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,s,i){this.mSet=this.mSet||this.set,this.set=Ine,this.m=r,this.mt=i,this.tween=s},n})();Us(qT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return WT[n]=1});fi.TweenMax=fi.TweenLite=Qn;fi.TimelineLite=fi.TimelineMax=ws;bn=new ws({sortChildren:!1,defaults:lh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});hi.stringFilter=eF;var Xc=[],Ty={},Nne=[],UI=0,Dne=0,ux=function(e){return(Ty[e]||Nne).map(function(t){return t()})},i1=function(){var e=Date.now(),t=[];e-UI>2&&(ux("matchMediaInit"),Xc.forEach(function(r){var s=r.queries,i=r.conditions,o,l,u,d;for(l in s)o=ko.matchMedia(s[l]).matches,o&&(u=1),o!==i[l]&&(i[l]=o,d=1);d&&(r.revert(),u&&t.push(r))}),ux("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),UI=e,ux("matchMedia"))},hF=(function(){function n(t,r){this.selector=r&&n1(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Dne++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,s,i){On(r)&&(i=s,s=r,r=On);var o=this,l=function(){var d=hn,h=o.selector,m;return d&&d!==o&&d.data.push(o),i&&(o.selector=n1(i)),hn=o,m=s.apply(o,arguments),On(m)&&o._r.push(m),hn=d,o.selector=h,o.isReverted=!1,m};return o.last=l,r===On?l(o,function(u){return o.add(null,u)}):r?o[r]=l:l},e.ignore=function(r){var s=hn;hn=null,r(this),hn=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof n?r.push.apply(r,s.getTweens()):s instanceof Qn&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var i=this;if(r?(function(){for(var l=i.getTweens(),u=i.data.length,d;u--;)d=i.data[u],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(h){return l.splice(l.indexOf(h),1)}));for(l.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,m){return m.g-h.g||-1/0}).forEach(function(h){return h.t.revert(r)}),u=i.data.length;u--;)d=i.data[u],d instanceof ws?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Qn)&&d.revert&&d.revert(r);i._r.forEach(function(h){return h(r,i)}),i.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),s)for(var o=Xc.length;o--;)Xc[o].id===this.id&&Xc.splice(o,1)},e.revert=function(r){this.kill(r||{})},n})(),jne=(function(){function n(t){this.contexts=[],this.scope=t,hn&&hn.data.push(this)}var e=n.prototype;return e.add=function(r,s,i){Zo(r)||(r={matches:r});var o=new hF(0,i||this.scope),l=o.conditions={},u,d,h;hn&&!o.selector&&(o.selector=hn.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(d in r)d==="all"?h=1:(u=ko.matchMedia(r[d]),u&&(Xc.indexOf(o)<0&&Xc.push(o),(l[d]=u.matches)&&(h=1),u.addListener?u.addListener(i1):u.addEventListener("change",i1)));return h&&s(o,function(m){return o.add(null,m)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},n})(),Tv={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(s){return XV(s)})},timeline:function(e){return new ws(e)},getTweensOf:function(e,t){return bn.getTweensOf(e,t)},getProperty:function(e,t,r,s){Tr(e)&&(e=Ii(e)[0]);var i=Gc(e||{}).get,o=r?VV:LV;return r==="native"&&(r=""),e&&(t?o((si[t]&&si[t].get||i)(e,t,r,s)):function(l,u,d){return o((si[l]&&si[l].get||i)(e,l,u,d))})},quickSetter:function(e,t,r){if(e=Ii(e),e.length>1){var s=e.map(function(h){return Ws.quickSetter(h,t,r)}),i=s.length;return function(h){for(var m=i;m--;)s[m](h)}}e=e[0]||{};var o=si[t],l=Gc(e),u=l.harness&&(l.harness.aliases||{})[t]||t,d=o?function(h){var m=new o;Ed._pt=0,m.init(e,r?h+r:h,Ed,0,[e]),m.render(1,m),Ed._pt&&JT(1,Ed)}:l.set(e,u);return o?d:function(h){return d(e,u,r?h+r:h,l,1)}},quickTo:function(e,t,r){var s,i=Ws.to(e,pi((s={},s[t]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),o=function(u,d,h){return i.resetTo(t,u,d,h)};return o.tween=i,o},isTweening:function(e){return bn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Qc(e.ease,lh.ease)),MI(lh,e||{})},config:function(e){return MI(hi,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,s=e.plugins,i=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!si[l]&&!fi[l]&&Mp(t+" effect requires "+l+" plugin.")}),ox[t]=function(l,u,d){return r(Ii(l),pi(u||{},i),d)},o&&(ws.prototype[t]=function(l,u,d){return this.add(ox[t](l,Zo(u)?u:(d=u)&&{},this),d)})},registerEase:function(e,t){kt[e]=Qc(t)},parseEase:function(e,t){return arguments.length?Qc(e,t):kt},getById:function(e){return bn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new ws(e),s,i;for(r.smoothChildTiming=zs(e.smoothChildTiming),bn.remove(r),r._dp=0,r._time=r._tTime=bn._time,s=bn._first;s;)i=s._next,(t||!(!s._dur&&s instanceof Qn&&s.vars.onComplete===s._targets[0]))&&Io(r,s,s._start-s._delay),s=i;return Io(bn,r,0),r},context:function(e,t){return e?new hF(e,t):hn},matchMedia:function(e){return new jne(e)},matchMediaRefresh:function(){return Xc.forEach(function(e){var t=e.conditions,r,s;for(s in t)t[s]&&(t[s]=!1,r=1);r&&e.revert()})||i1()},addEventListener:function(e,t){var r=Ty[e]||(Ty[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Ty[e],s=r&&r.indexOf(t);s>=0&&r.splice(s,1)},utils:{wrap:hne,wrapYoyo:fne,distribute:qV,random:KV,snap:HV,normalize:dne,getUnit:ns,clamp:ane,splitColor:JV,toArray:Ii,selector:n1,mapRange:YV,pipe:cne,unitize:une,interpolate:pne,shuffle:WV},install:NV,effects:ox,ticker:ai,updateRoot:ws.updateRoot,plugins:si,globalTimeline:bn,core:{PropTween:$s,globals:DV,Tween:Qn,Timeline:ws,Animation:zp,getCache:Gc,_removeLinkedListItem:kw,reverting:function(){return Fr},context:function(e){return e&&hn&&(hn.data.push(e),e._ctx=hn),hn},suppressOverwrites:function(e){return FT=e}}};Us("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Tv[n]=Qn[n]});ai.add(ws.updateRoot);Ed=Tv.to({},{duration:0});var One=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Mne=function(e,t){var r=e._targets,s,i,o;for(s in t)for(i=r.length;i--;)o=e._ptLookup[i][s],o&&(o=o.d)&&(o._pt&&(o=One(o,s)),o&&o.modifier&&o.modifier(t[s],e,r[i],s))},dx=function(e,t){return{name:e,headless:1,rawVars:1,init:function(s,i,o){o._onInit=function(l){var u,d;if(Tr(i)&&(u={},Us(i,function(h){return u[h]=1}),i=u),t){u={};for(d in i)u[d]=t(i[d]);i=u}Mne(l,i)}}}},Ws=Tv.registerPlugin({name:"attr",init:function(e,t,r,s,i){var o,l,u;this.tween=r;for(o in t)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",t[o],s,i,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Fr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},dx("roundProps",r1),dx("modifiers"),dx("snap",HV))||Tv;Qn.version=ws.version=Ws.version="3.13.0";IV=1;UT()&&hh();kt.Power0;kt.Power1;kt.Power2;kt.Power3;kt.Power4;kt.Linear;kt.Quad;kt.Cubic;kt.Quart;kt.Quint;kt.Strong;kt.Elastic;kt.Back;kt.SteppedEase;kt.Bounce;kt.Sine;kt.Expo;kt.Circ;var $I,xl,Ld,ZT,Uc,BI,eE,Lne=function(){return typeof window<"u"},La={},jc=180/Math.PI,Vd=Math.PI/180,cd=Math.atan2,WI=1e8,tE=/([A-Z])/g,Vne=/(left|right|width|margin|padding|x)/i,Fne=/[\s,\(]\S/,Lo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},o1=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},zne=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Une=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},$ne=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},fF=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},pF=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Bne=function(e,t,r){return e.style[t]=r},Wne=function(e,t,r){return e.style.setProperty(t,r)},qne=function(e,t,r){return e._gsap[t]=r},Hne=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Kne=function(e,t,r,s,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},Gne=function(e,t,r,s,i){var o=e._gsap;o[t]=r,o.renderTransform(i,o)},Tn="transform",Bs=Tn+"Origin",Yne=function n(e,t){var r=this,s=this.target,i=s.style,o=s._gsap;if(e in La&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Lo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=wa(s,l)}):this.tfm[e]=o.x?o[e]:wa(s,e),e===Bs&&(this.tfm.zOrigin=o.zOrigin);else return Lo.transform.split(",").forEach(function(l){return n.call(r,l,t)});if(this.props.indexOf(Tn)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Bs,t,"")),e=Tn}(i||t)&&this.props.push(e,t,i[e])},mF=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Qne=function(){var e=this.props,t=this.target,r=t.style,s=t._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?t[e[i]](e[i+2]):t[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(tE,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),i=eE(),(!i||!i.isStart)&&!r[Tn]&&(mF(r),s.zOrigin&&r[Bs]&&(r[Bs]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},gF=function(e,t){var r={target:e,props:[],revert:Qne,save:Yne};return e._gsap||Ws.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(s){return r.save(s)}),r},yF,a1=function(e,t){var r=xl.createElementNS?xl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):xl.createElement(e);return r&&r.style?r:xl.createElement(e)},Ni=function n(e,t,r){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(tE,"-$1").toLowerCase())||s.getPropertyValue(t)||!r&&n(e,fh(t)||t,1)||""},qI="O,Moz,ms,Ms,Webkit".split(","),fh=function(e,t,r){var s=t||Uc,i=s.style,o=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(qI[o]+e in i););return o<0?null:(o===3?"ms":o>=0?qI[o]:"")+e},l1=function(){Lne()&&window.document&&($I=window,xl=$I.document,Ld=xl.documentElement,Uc=a1("div")||{style:{}},a1("div"),Tn=fh(Tn),Bs=Tn+"Origin",Uc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",yF=!!fh("perspective"),eE=Ws.core.reverting,ZT=1)},HI=function(e){var t=e.ownerSVGElement,r=a1("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),i;s.style.display="block",r.appendChild(s),Ld.appendChild(r);try{i=s.getBBox()}catch{}return r.removeChild(s),Ld.removeChild(r),i},KI=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},vF=function(e){var t,r;try{t=e.getBBox()}catch{t=HI(e),r=1}return t&&(t.width||t.height)||r||(t=HI(e)),t&&!t.width&&!t.x&&!t.y?{x:+KI(e,["x","cx","x1"])||0,y:+KI(e,["y","cy","y1"])||0,width:0,height:0}:t},wF=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&vF(e))},yu=function(e,t){if(t){var r=e.style,s;t in La&&t!==Bs&&(t=Tn),r.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(s==="--"?t:t.replace(tE,"-$1").toLowerCase())):r.removeAttribute(t)}},bl=function(e,t,r,s,i,o){var l=new $s(e._pt,t,r,0,1,o?pF:fF);return e._pt=l,l.b=s,l.e=i,e._props.push(r),l},GI={deg:1,rad:1,turn:1},Xne={grid:1,flex:1},Jl=function n(e,t,r,s){var i=parseFloat(r)||0,o=(r+"").trim().substr((i+"").length)||"px",l=Uc.style,u=Vne.test(t),d=e.tagName.toLowerCase()==="svg",h=(d?"client":"offset")+(u?"Width":"Height"),m=100,v=s==="px",w=s==="%",T,_,S,R;if(s===o||!i||GI[s]||GI[o])return i;if(o!=="px"&&!v&&(i=n(e,t,r,"px")),R=e.getCTM&&wF(e),(w||o==="%")&&(La[t]||~t.indexOf("adius")))return T=R?e.getBBox()[u?"width":"height"]:e[h],zn(w?i/T*m:i/100*T);if(l[u?"width":"height"]=m+(v?o:s),_=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!d?e:e.parentNode,R&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===xl||!_.appendChild)&&(_=xl.body),S=_._gsap,S&&w&&S.width&&u&&S.time===ai.time&&!S.uncache)return zn(i/S.width*m);if(w&&(t==="height"||t==="width")){var k=e.style[t];e.style[t]=m+s,T=e[h],k?e.style[t]=k:yu(e,t)}else(w||o==="%")&&!Xne[Ni(_,"display")]&&(l.position=Ni(e,"position")),_===e&&(l.position="static"),_.appendChild(Uc),T=Uc[h],_.removeChild(Uc),l.position="absolute";return u&&w&&(S=Gc(_),S.time=ai.time,S.width=_[h]),zn(v?T*i/m:T&&i?m/T*i:0)},wa=function(e,t,r,s){var i;return ZT||l1(),t in Lo&&t!=="transform"&&(t=Lo[t],~t.indexOf(",")&&(t=t.split(",")[0])),La[t]&&t!=="transform"?(i=$p(e,s),i=t!=="transformOrigin"?i[t]:i.svg?i.origin:Cv(Ni(e,Bs))+" "+i.zOrigin+"px"):(i=e.style[t],(!i||i==="auto"||s||~(i+"").indexOf("calc("))&&(i=Ev[t]&&Ev[t](e,t,r)||Ni(e,t)||OV(e,t)||(t==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?Jl(e,t,i,r)+r:i},Jne=function(e,t,r,s){if(!r||r==="none"){var i=fh(t,e,1),o=i&&Ni(e,i,1);o&&o!==r?(t=i,r=o):t==="borderColor"&&(r=Ni(e,"borderTopColor"))}var l=new $s(this._pt,e.style,t,0,1,uF),u=0,d=0,h,m,v,w,T,_,S,R,k,j,I,L;if(l.b=r,l.e=s,r+="",s+="",s.substring(0,6)==="var(--"&&(s=Ni(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(_=e.style[t],e.style[t]=s,s=Ni(e,t)||s,_?e.style[t]=_:yu(e,t)),h=[r,s],eF(h),r=h[0],s=h[1],v=r.match(Td)||[],L=s.match(Td)||[],L.length){for(;m=Td.exec(s);)S=m[0],k=s.substring(u,m.index),T?T=(T+1)%5:(k.substr(-5)==="rgba("||k.substr(-5)==="hsla(")&&(T=1),S!==(_=v[d++]||"")&&(w=parseFloat(_)||0,I=_.substr((w+"").length),S.charAt(1)==="="&&(S=Md(w,S)+I),R=parseFloat(S),j=S.substr((R+"").length),u=Td.lastIndex-j.length,j||(j=j||hi.units[t]||I,u===s.length&&(s+=j,l.e+=j)),I!==j&&(w=Jl(e,t,_,j)||0),l._pt={_next:l._pt,p:k||d===1?k:",",s:w,c:R-w,m:T&&T<4||t==="zIndex"?Math.round:0});l.c=u<s.length?s.substring(u,s.length):""}else l.r=t==="display"&&s==="none"?pF:fF;return RV.test(s)&&(l.e=0),this._pt=l,l},YI={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Zne=function(e){var t=e.split(" "),r=t[0],s=t[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),t[0]=YI[r]||r,t[1]=YI[s]||s,t.join(" ")},ere=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,s=r.style,i=t.u,o=r._gsap,l,u,d;if(i==="all"||i===!0)s.cssText="",u=1;else for(i=i.split(","),d=i.length;--d>-1;)l=i[d],La[l]&&(u=1,l=l==="transformOrigin"?Bs:Tn),yu(r,l);u&&(yu(r,Tn),o&&(o.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",$p(r,1),o.uncache=1,mF(s)))}},Ev={clearProps:function(e,t,r,s,i){if(i.data!=="isFromStart"){var o=e._pt=new $s(e._pt,t,r,0,0,ere);return o.u=s,o.pr=-10,o.tween=i,e._props.push(r),1}}},Up=[1,0,0,1,0,0],_F={},xF=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},QI=function(e){var t=Ni(e,Tn);return xF(t)?Up:t.substr(7).match(kV).map(zn)},nE=function(e,t){var r=e._gsap||Gc(e),s=e.style,i=QI(e),o,l,u,d;return r.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,i=[u.a,u.b,u.c,u.d,u.e,u.f],i.join(",")==="1,0,0,1,0,0"?Up:i):(i===Up&&!e.offsetParent&&e!==Ld&&!r.svg&&(u=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,l=e.nextElementSibling,Ld.appendChild(e)),i=QI(e),u?s.display=u:yu(e,"display"),d&&(l?o.insertBefore(e,l):o?o.appendChild(e):Ld.removeChild(e))),t&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},c1=function(e,t,r,s,i,o){var l=e._gsap,u=i||nE(e,!0),d=l.xOrigin||0,h=l.yOrigin||0,m=l.xOffset||0,v=l.yOffset||0,w=u[0],T=u[1],_=u[2],S=u[3],R=u[4],k=u[5],j=t.split(" "),I=parseFloat(j[0])||0,L=parseFloat(j[1])||0,z,P,A,D;r?u!==Up&&(P=w*S-T*_)&&(A=I*(S/P)+L*(-_/P)+(_*k-S*R)/P,D=I*(-T/P)+L*(w/P)-(w*k-T*R)/P,I=A,L=D):(z=vF(e),I=z.x+(~j[0].indexOf("%")?I/100*z.width:I),L=z.y+(~(j[1]||j[0]).indexOf("%")?L/100*z.height:L)),s||s!==!1&&l.smooth?(R=I-d,k=L-h,l.xOffset=m+(R*w+k*_)-R,l.yOffset=v+(R*T+k*S)-k):l.xOffset=l.yOffset=0,l.xOrigin=I,l.yOrigin=L,l.smooth=!!s,l.origin=t,l.originIsAbsolute=!!r,e.style[Bs]="0px 0px",o&&(bl(o,l,"xOrigin",d,I),bl(o,l,"yOrigin",h,L),bl(o,l,"xOffset",m,l.xOffset),bl(o,l,"yOffset",v,l.yOffset)),e.setAttribute("data-svg-origin",I+" "+L)},$p=function(e,t){var r=e._gsap||new sF(e);if("x"in r&&!t&&!r.uncache)return r;var s=e.style,i=r.scaleX<0,o="px",l="deg",u=getComputedStyle(e),d=Ni(e,Bs)||"0",h,m,v,w,T,_,S,R,k,j,I,L,z,P,A,D,O,V,F,U,X,re,ne,J,q,G,B,W,Q,pe,he,ve;return h=m=v=_=S=R=k=j=I=0,w=T=1,r.svg=!!(e.getCTM&&wF(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(s[Tn]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Tn]!=="none"?u[Tn]:"")),s.scale=s.rotate=s.translate="none"),P=nE(e,r.svg),r.svg&&(r.uncache?(q=e.getBBox(),d=r.xOrigin-q.x+"px "+(r.yOrigin-q.y)+"px",J=""):J=!t&&e.getAttribute("data-svg-origin"),c1(e,J||d,!!J||r.originIsAbsolute,r.smooth!==!1,P)),L=r.xOrigin||0,z=r.yOrigin||0,P!==Up&&(V=P[0],F=P[1],U=P[2],X=P[3],h=re=P[4],m=ne=P[5],P.length===6?(w=Math.sqrt(V*V+F*F),T=Math.sqrt(X*X+U*U),_=V||F?cd(F,V)*jc:0,k=U||X?cd(U,X)*jc+_:0,k&&(T*=Math.abs(Math.cos(k*Vd))),r.svg&&(h-=L-(L*V+z*U),m-=z-(L*F+z*X))):(ve=P[6],pe=P[7],B=P[8],W=P[9],Q=P[10],he=P[11],h=P[12],m=P[13],v=P[14],A=cd(ve,Q),S=A*jc,A&&(D=Math.cos(-A),O=Math.sin(-A),J=re*D+B*O,q=ne*D+W*O,G=ve*D+Q*O,B=re*-O+B*D,W=ne*-O+W*D,Q=ve*-O+Q*D,he=pe*-O+he*D,re=J,ne=q,ve=G),A=cd(-U,Q),R=A*jc,A&&(D=Math.cos(-A),O=Math.sin(-A),J=V*D-B*O,q=F*D-W*O,G=U*D-Q*O,he=X*O+he*D,V=J,F=q,U=G),A=cd(F,V),_=A*jc,A&&(D=Math.cos(A),O=Math.sin(A),J=V*D+F*O,q=re*D+ne*O,F=F*D-V*O,ne=ne*D-re*O,V=J,re=q),S&&Math.abs(S)+Math.abs(_)>359.9&&(S=_=0,R=180-R),w=zn(Math.sqrt(V*V+F*F+U*U)),T=zn(Math.sqrt(ne*ne+ve*ve)),A=cd(re,ne),k=Math.abs(A)>2e-4?A*jc:0,I=he?1/(he<0?-he:he):0),r.svg&&(J=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!xF(Ni(e,Tn)),J&&e.setAttribute("transform",J))),Math.abs(k)>90&&Math.abs(k)<270&&(i?(w*=-1,k+=_<=0?180:-180,_+=_<=0?180:-180):(T*=-1,k+=k<=0?180:-180)),t=t||r.uncache,r.x=h-((r.xPercent=h&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=m-((r.yPercent=m&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=v+o,r.scaleX=zn(w),r.scaleY=zn(T),r.rotation=zn(_)+l,r.rotationX=zn(S)+l,r.rotationY=zn(R)+l,r.skewX=k+l,r.skewY=j+l,r.transformPerspective=I+o,(r.zOrigin=parseFloat(d.split(" ")[2])||!t&&r.zOrigin||0)&&(s[Bs]=Cv(d)),r.xOffset=r.yOffset=0,r.force3D=hi.force3D,r.renderTransform=r.svg?nre:yF?bF:tre,r.uncache=0,r},Cv=function(e){return(e=e.split(" "))[0]+" "+e[1]},hx=function(e,t,r){var s=ns(t);return zn(parseFloat(t)+parseFloat(Jl(e,"x",r+"px",s)))+s},tre=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,bF(e,t)},Rc="0deg",Cf="0px",Ac=") ",bF=function(e,t){var r=t||this,s=r.xPercent,i=r.yPercent,o=r.x,l=r.y,u=r.z,d=r.rotation,h=r.rotationY,m=r.rotationX,v=r.skewX,w=r.skewY,T=r.scaleX,_=r.scaleY,S=r.transformPerspective,R=r.force3D,k=r.target,j=r.zOrigin,I="",L=R==="auto"&&e&&e!==1||R===!0;if(j&&(m!==Rc||h!==Rc)){var z=parseFloat(h)*Vd,P=Math.sin(z),A=Math.cos(z),D;z=parseFloat(m)*Vd,D=Math.cos(z),o=hx(k,o,P*D*-j),l=hx(k,l,-Math.sin(z)*-j),u=hx(k,u,A*D*-j+j)}S!==Cf&&(I+="perspective("+S+Ac),(s||i)&&(I+="translate("+s+"%, "+i+"%) "),(L||o!==Cf||l!==Cf||u!==Cf)&&(I+=u!==Cf||L?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+Ac),d!==Rc&&(I+="rotate("+d+Ac),h!==Rc&&(I+="rotateY("+h+Ac),m!==Rc&&(I+="rotateX("+m+Ac),(v!==Rc||w!==Rc)&&(I+="skew("+v+", "+w+Ac),(T!==1||_!==1)&&(I+="scale("+T+", "+_+Ac),k.style[Tn]=I||"translate(0, 0)"},nre=function(e,t){var r=t||this,s=r.xPercent,i=r.yPercent,o=r.x,l=r.y,u=r.rotation,d=r.skewX,h=r.skewY,m=r.scaleX,v=r.scaleY,w=r.target,T=r.xOrigin,_=r.yOrigin,S=r.xOffset,R=r.yOffset,k=r.forceCSS,j=parseFloat(o),I=parseFloat(l),L,z,P,A,D;u=parseFloat(u),d=parseFloat(d),h=parseFloat(h),h&&(h=parseFloat(h),d+=h,u+=h),u||d?(u*=Vd,d*=Vd,L=Math.cos(u)*m,z=Math.sin(u)*m,P=Math.sin(u-d)*-v,A=Math.cos(u-d)*v,d&&(h*=Vd,D=Math.tan(d-h),D=Math.sqrt(1+D*D),P*=D,A*=D,h&&(D=Math.tan(h),D=Math.sqrt(1+D*D),L*=D,z*=D)),L=zn(L),z=zn(z),P=zn(P),A=zn(A)):(L=m,A=v,z=P=0),(j&&!~(o+"").indexOf("px")||I&&!~(l+"").indexOf("px"))&&(j=Jl(w,"x",o,"px"),I=Jl(w,"y",l,"px")),(T||_||S||R)&&(j=zn(j+T-(T*L+_*P)+S),I=zn(I+_-(T*z+_*A)+R)),(s||i)&&(D=w.getBBox(),j=zn(j+s/100*D.width),I=zn(I+i/100*D.height)),D="matrix("+L+","+z+","+P+","+A+","+j+","+I+")",w.setAttribute("transform",D),k&&(w.style[Tn]=D)},rre=function(e,t,r,s,i){var o=360,l=Tr(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?jc:1),d=u-s,h=s+d+"deg",m,v;return l&&(m=i.split("_")[1],m==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),m==="cw"&&d<0?d=(d+o*WI)%o-~~(d/o)*o:m==="ccw"&&d>0&&(d=(d-o*WI)%o-~~(d/o)*o)),e._pt=v=new $s(e._pt,t,r,s,d,zne),v.e=h,v.u="deg",e._props.push(r),v},XI=function(e,t){for(var r in t)e[r]=t[r];return e},sre=function(e,t,r){var s=XI({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,u,d,h,m,v,w,T;s.svg?(d=r.getAttribute("transform"),r.setAttribute("transform",""),o[Tn]=t,l=$p(r,1),yu(r,Tn),r.setAttribute("transform",d)):(d=getComputedStyle(r)[Tn],o[Tn]=t,l=$p(r,1),o[Tn]=d);for(u in La)d=s[u],h=l[u],d!==h&&i.indexOf(u)<0&&(w=ns(d),T=ns(h),m=w!==T?Jl(r,u,d,T):parseFloat(d),v=parseFloat(h),e._pt=new $s(e._pt,l,u,m,v-m,o1),e._pt.u=T||0,e._props.push(u));XI(l,s)};Us("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",s="Bottom",i="Left",o=(e<3?[t,r,s,i]:[t+i,t+r,s+r,s+i]).map(function(l){return e<2?n+l:"border"+l+n});Ev[e>1?"border"+n:n]=function(l,u,d,h,m){var v,w;if(arguments.length<4)return v=o.map(function(T){return wa(l,T,d)}),w=v.join(" "),w.split(v[0]).length===5?v[0]:w;v=(h+"").split(" "),w={},o.forEach(function(T,_){return w[T]=v[_]=v[_]||v[(_-1)/2|0]}),l.init(u,w,m)}});var SF={name:"css",register:l1,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,s,i){var o=this._props,l=e.style,u=r.vars.startAt,d,h,m,v,w,T,_,S,R,k,j,I,L,z,P,A;ZT||l1(),this.styles=this.styles||gF(e),A=this.styles.props,this.tween=r;for(_ in t)if(_!=="autoRound"&&(h=t[_],!(si[_]&&iF(_,t,r,s,e,i)))){if(w=typeof h,T=Ev[_],w==="function"&&(h=h.call(r,s,e,i),w=typeof h),w==="string"&&~h.indexOf("random(")&&(h=Vp(h)),T)T(this,e,_,h,r)&&(P=1);else if(_.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(_)+"").trim(),h+="",Ml.lastIndex=0,Ml.test(d)||(S=ns(d),R=ns(h)),R?S!==R&&(d=Jl(e,_,d,R)+R):S&&(h+=S),this.add(l,"setProperty",d,h,s,i,0,0,_),o.push(_),A.push(_,0,l[_]);else if(w!=="undefined"){if(u&&_ in u?(d=typeof u[_]=="function"?u[_].call(r,s,e,i):u[_],Tr(d)&&~d.indexOf("random(")&&(d=Vp(d)),ns(d+"")||d==="auto"||(d+=hi.units[_]||ns(wa(e,_))||""),(d+"").charAt(1)==="="&&(d=wa(e,_))):d=wa(e,_),v=parseFloat(d),k=w==="string"&&h.charAt(1)==="="&&h.substr(0,2),k&&(h=h.substr(2)),m=parseFloat(h),_ in Lo&&(_==="autoAlpha"&&(v===1&&wa(e,"visibility")==="hidden"&&m&&(v=0),A.push("visibility",0,l.visibility),bl(this,l,"visibility",v?"inherit":"hidden",m?"inherit":"hidden",!m)),_!=="scale"&&_!=="transform"&&(_=Lo[_],~_.indexOf(",")&&(_=_.split(",")[0]))),j=_ in La,j){if(this.styles.save(_),w==="string"&&h.substring(0,6)==="var(--"&&(h=Ni(e,h.substring(4,h.indexOf(")"))),m=parseFloat(h)),I||(L=e._gsap,L.renderTransform&&!t.parseTransform||$p(e,t.parseTransform),z=t.smoothOrigin!==!1&&L.smooth,I=this._pt=new $s(this._pt,l,Tn,0,1,L.renderTransform,L,0,-1),I.dep=1),_==="scale")this._pt=new $s(this._pt,L,"scaleY",L.scaleY,(k?Md(L.scaleY,k+m):m)-L.scaleY||0,o1),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){A.push(Bs,0,l[Bs]),h=Zne(h),L.svg?c1(e,h,0,z,0,this):(R=parseFloat(h.split(" ")[2])||0,R!==L.zOrigin&&bl(this,L,"zOrigin",L.zOrigin,R),bl(this,l,_,Cv(d),Cv(h)));continue}else if(_==="svgOrigin"){c1(e,h,1,z,0,this);continue}else if(_ in _F){rre(this,L,_,v,k?Md(v,k+h):h);continue}else if(_==="smoothOrigin"){bl(this,L,"smooth",L.smooth,h);continue}else if(_==="force3D"){L[_]=h;continue}else if(_==="transform"){sre(this,h,e);continue}}else _ in l||(_=fh(_)||_);if(j||(m||m===0)&&(v||v===0)&&!Fne.test(h)&&_ in l)S=(d+"").substr((v+"").length),m||(m=0),R=ns(h)||(_ in hi.units?hi.units[_]:S),S!==R&&(v=Jl(e,_,d,R)),this._pt=new $s(this._pt,j?L:l,_,v,(k?Md(v,k+m):m)-v,!j&&(R==="px"||_==="zIndex")&&t.autoRound!==!1?$ne:o1),this._pt.u=R||0,S!==R&&R!=="%"&&(this._pt.b=d,this._pt.r=Une);else if(_ in l)Jne.call(this,e,_,d,k?k+h:h);else if(_ in e)this.add(e,_,d||e[_],k?k+h:h,s,i);else if(_!=="parseTransform"){BT(_,h);continue}j||(_ in l?A.push(_,0,l[_]):typeof e[_]=="function"?A.push(_,2,e[_]()):A.push(_,1,d||e[_])),o.push(_)}}P&&dF(this)},render:function(e,t){if(t.tween._time||!eE())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:wa,aliases:Lo,getSetter:function(e,t,r){var s=Lo[t];return s&&s.indexOf(",")<0&&(t=s),t in La&&t!==Bs&&(e._gsap.x||wa(e,"x"))?r&&BI===r?t==="scale"?Hne:qne:(BI=r||{})&&(t==="scale"?Kne:Gne):e.style&&!zT(e.style[t])?Bne:~t.indexOf("-")?Wne:XT(e,t)},core:{_removeProperty:yu,_getMatrix:nE}};Ws.utils.checkPrefix=fh;Ws.core.getStyleSaver=gF;(function(n,e,t,r){var s=Us(n+","+e+","+t,function(i){La[i]=1});Us(e,function(i){hi.units[i]="deg",_F[i]=1}),Lo[s[13]]=n+","+e,Us(r,function(i){var o=i.split(":");Lo[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Us("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){hi.units[n]="px"});Ws.registerPlugin(SF);var op=Ws.registerPlugin(SF)||Ws;op.core.Tween;function ire(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ore(n,e,t){return e&&ire(n.prototype,e),n}var Lr,Ey,li,Sl,Tl,Fd,TF,Oc,ap,EF,Ta,Gi,CF,PF=function(){return Lr||typeof window<"u"&&(Lr=window.gsap)&&Lr.registerPlugin&&Lr},kF=1,Cd=[],vt=[],Ko=[],lp=Date.now,u1=function(e,t){return t},are=function(){var e=ap.core,t=e.bridge||{},r=e._scrollers,s=e._proxies;r.push.apply(r,vt),s.push.apply(s,Ko),vt=r,Ko=s,u1=function(o,l){return t[o](l)}},Ll=function(e,t){return~Ko.indexOf(e)&&Ko[Ko.indexOf(e)+1][t]},cp=function(e){return!!~EF.indexOf(e)},fs=function(e,t,r,s,i){return e.addEventListener(t,r,{passive:s!==!1,capture:!!i})},hs=function(e,t,r,s){return e.removeEventListener(t,r,!!s)},Wg="scrollLeft",qg="scrollTop",d1=function(){return Ta&&Ta.isPressed||vt.cache++},Pv=function(e,t){var r=function s(i){if(i||i===0){kF&&(li.history.scrollRestoration="manual");var o=Ta&&Ta.isPressed;i=s.v=Math.round(i)||(Ta&&Ta.iOS?1:0),e(i),s.cacheID=vt.cache,o&&u1("ss",i)}else(t||vt.cache!==s.cacheID||u1("ref"))&&(s.cacheID=vt.cache,s.v=e());return s.v+s.offset};return r.offset=0,e&&r},_s={s:Wg,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Pv(function(n){return arguments.length?li.scrollTo(n,ir.sc()):li.pageXOffset||Sl[Wg]||Tl[Wg]||Fd[Wg]||0})},ir={s:qg,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_s,sc:Pv(function(n){return arguments.length?li.scrollTo(_s.sc(),n):li.pageYOffset||Sl[qg]||Tl[qg]||Fd[qg]||0})},js=function(e,t){return(t&&t._ctx&&t._ctx.selector||Lr.utils.toArray)(e)[0]||(typeof e=="string"&&Lr.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},lre=function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1},Zl=function(e,t){var r=t.s,s=t.sc;cp(e)&&(e=Sl.scrollingElement||Tl);var i=vt.indexOf(e),o=s===ir.sc?1:2;!~i&&(i=vt.push(e)-1),vt[i+o]||fs(e,"scroll",d1);var l=vt[i+o],u=l||(vt[i+o]=Pv(Ll(e,r),!0)||(cp(e)?s:Pv(function(d){return arguments.length?e[r]=d:e[r]})));return u.target=e,l||(u.smooth=Lr.getProperty(e,"scrollBehavior")==="smooth"),u},h1=function(e,t,r){var s=e,i=e,o=lp(),l=o,u=t||50,d=Math.max(500,u*3),h=function(T,_){var S=lp();_||S-o>u?(i=s,s=T,l=o,o=S):r?s+=T:s=i+(T-i)/(S-l)*(o-l)},m=function(){i=s=r?0:s,l=o=0},v=function(T){var _=l,S=i,R=lp();return(T||T===0)&&T!==s&&h(T),o===l||R-l>d?0:(s+(r?S:-S))/((r?R:o)-_)*1e3};return{update:h,reset:m,getVelocity:v}},Pf=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},JI=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},RF=function(){ap=Lr.core.globals().ScrollTrigger,ap&&ap.core&&are()},AF=function(e){return Lr=e||PF(),!Ey&&Lr&&typeof document<"u"&&document.body&&(li=window,Sl=document,Tl=Sl.documentElement,Fd=Sl.body,EF=[li,Sl,Tl,Fd],Lr.utils.clamp,CF=Lr.core.context||function(){},Oc="onpointerenter"in Fd?"pointer":"mouse",TF=$n.isTouch=li.matchMedia&&li.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in li||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Gi=$n.eventTypes=("ontouchstart"in Tl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Tl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return kF=0},500),RF(),Ey=1),Ey};_s.op=ir;vt.cache=0;var $n=(function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(r){Ey||AF(Lr)||console.warn("Please gsap.registerPlugin(Observer)"),ap||RF();var s=r.tolerance,i=r.dragMinimum,o=r.type,l=r.target,u=r.lineHeight,d=r.debounce,h=r.preventDefault,m=r.onStop,v=r.onStopDelay,w=r.ignore,T=r.wheelSpeed,_=r.event,S=r.onDragStart,R=r.onDragEnd,k=r.onDrag,j=r.onPress,I=r.onRelease,L=r.onRight,z=r.onLeft,P=r.onUp,A=r.onDown,D=r.onChangeX,O=r.onChangeY,V=r.onChange,F=r.onToggleX,U=r.onToggleY,X=r.onHover,re=r.onHoverEnd,ne=r.onMove,J=r.ignoreCheck,q=r.isNormalizer,G=r.onGestureStart,B=r.onGestureEnd,W=r.onWheel,Q=r.onEnable,pe=r.onDisable,he=r.onClick,ve=r.scrollSpeed,Ee=r.capture,le=r.allowClicks,xe=r.lockAxis,ce=r.onLockAxis;this.target=l=js(l)||Tl,this.vars=r,w&&(w=Lr.utils.toArray(w)),s=s||1e-9,i=i||0,T=T||1,ve=ve||1,o=o||"wheel,touch,pointer",d=d!==!1,u||(u=parseFloat(li.getComputedStyle(Fd).lineHeight)||22);var be,Ce,ue,ae,Ke,Mt,qt,se=this,pn=0,jt=0,Nt=r.passive||!h&&r.passive!==!1,dt=Zl(l,_s),ur=Zl(l,ir),Cn=dt(),Es=ur(),$t=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Gi[0]==="pointerdown",Gt=cp(l),Et=l.ownerDocument||Sl,Pn=[0,0,0],er=[0,0,0],kn=0,Wr=function(){return kn=lp()},Ht=function(Ie,Ye){return(se.event=Ie)&&w&&lre(Ie.target,w)||Ye&&$t&&Ie.pointerType!=="touch"||J&&J(Ie,Ye)},Er=function(){se._vx.reset(),se._vy.reset(),Ce.pause(),m&&m(se)},mn=function(){var Ie=se.deltaX=JI(Pn),Ye=se.deltaY=JI(er),we=Math.abs(Ie)>=s,Me=Math.abs(Ye)>=s;V&&(we||Me)&&V(se,Ie,Ye,Pn,er),we&&(L&&se.deltaX>0&&L(se),z&&se.deltaX<0&&z(se),D&&D(se),F&&se.deltaX<0!=pn<0&&F(se),pn=se.deltaX,Pn[0]=Pn[1]=Pn[2]=0),Me&&(A&&se.deltaY>0&&A(se),P&&se.deltaY<0&&P(se),O&&O(se),U&&se.deltaY<0!=jt<0&&U(se),jt=se.deltaY,er[0]=er[1]=er[2]=0),(ae||ue)&&(ne&&ne(se),ue&&(S&&ue===1&&S(se),k&&k(se),ue=0),ae=!1),Mt&&!(Mt=!1)&&ce&&ce(se),Ke&&(W(se),Ke=!1),be=0},as=function(Ie,Ye,we){Pn[we]+=Ie,er[we]+=Ye,se._vx.update(Ie),se._vy.update(Ye),d?be||(be=requestAnimationFrame(mn)):mn()},on=function(Ie,Ye){xe&&!qt&&(se.axis=qt=Math.abs(Ie)>Math.abs(Ye)?"x":"y",Mt=!0),qt!=="y"&&(Pn[2]+=Ie,se._vx.update(Ie,!0)),qt!=="x"&&(er[2]+=Ye,se._vy.update(Ye,!0)),d?be||(be=requestAnimationFrame(mn)):mn()},Cr=function(Ie){if(!Ht(Ie,1)){Ie=Pf(Ie,h);var Ye=Ie.clientX,we=Ie.clientY,Me=Ye-se.x,Ne=we-se.y,We=se.isDragging;se.x=Ye,se.y=we,(We||(Me||Ne)&&(Math.abs(se.startX-Ye)>=i||Math.abs(se.startY-we)>=i))&&(ue=We?2:1,We||(se.isDragging=!0),on(Me,Ne))}},dr=se.onPress=function(je){Ht(je,1)||je&&je.button||(se.axis=qt=null,Ce.pause(),se.isPressed=!0,je=Pf(je),pn=jt=0,se.startX=se.x=je.clientX,se.startY=se.y=je.clientY,se._vx.reset(),se._vy.reset(),fs(q?l:Et,Gi[1],Cr,Nt,!0),se.deltaX=se.deltaY=0,j&&j(se))},Je=se.onRelease=function(je){if(!Ht(je,1)){hs(q?l:Et,Gi[1],Cr,!0);var Ie=!isNaN(se.y-se.startY),Ye=se.isDragging,we=Ye&&(Math.abs(se.x-se.startX)>3||Math.abs(se.y-se.startY)>3),Me=Pf(je);!we&&Ie&&(se._vx.reset(),se._vy.reset(),h&&le&&Lr.delayedCall(.08,function(){if(lp()-kn>300&&!je.defaultPrevented){if(je.target.click)je.target.click();else if(Et.createEvent){var Ne=Et.createEvent("MouseEvents");Ne.initMouseEvent("click",!0,!0,li,1,Me.screenX,Me.screenY,Me.clientX,Me.clientY,!1,!1,!1,!1,0,null),je.target.dispatchEvent(Ne)}}})),se.isDragging=se.isGesturing=se.isPressed=!1,m&&Ye&&!q&&Ce.restart(!0),ue&&mn(),R&&Ye&&R(se),I&&I(se,we)}},Wn=function(Ie){return Ie.touches&&Ie.touches.length>1&&(se.isGesturing=!0)&&G(Ie,se.isDragging)},gn=function(){return(se.isGesturing=!1)||B(se)},mt=function(Ie){if(!Ht(Ie)){var Ye=dt(),we=ur();as((Ye-Cn)*ve,(we-Es)*ve,1),Cn=Ye,Es=we,m&&Ce.restart(!0)}},en=function(Ie){if(!Ht(Ie)){Ie=Pf(Ie,h),W&&(Ke=!0);var Ye=(Ie.deltaMode===1?u:Ie.deltaMode===2?li.innerHeight:1)*T;as(Ie.deltaX*Ye,Ie.deltaY*Ye,0),m&&!q&&Ce.restart(!0)}},hr=function(Ie){if(!Ht(Ie)){var Ye=Ie.clientX,we=Ie.clientY,Me=Ye-se.x,Ne=we-se.y;se.x=Ye,se.y=we,ae=!0,m&&Ce.restart(!0),(Me||Ne)&&on(Me,Ne)}},$e=function(Ie){se.event=Ie,X(se)},it=function(Ie){se.event=Ie,re(se)},Ct=function(Ie){return Ht(Ie)||Pf(Ie,h)&&he(se)};Ce=se._dc=Lr.delayedCall(v||.25,Er).pause(),se.deltaX=se.deltaY=0,se._vx=h1(0,50,!0),se._vy=h1(0,50,!0),se.scrollX=dt,se.scrollY=ur,se.isDragging=se.isGesturing=se.isPressed=!1,CF(this),se.enable=function(je){return se.isEnabled||(fs(Gt?Et:l,"scroll",d1),o.indexOf("scroll")>=0&&fs(Gt?Et:l,"scroll",mt,Nt,Ee),o.indexOf("wheel")>=0&&fs(l,"wheel",en,Nt,Ee),(o.indexOf("touch")>=0&&TF||o.indexOf("pointer")>=0)&&(fs(l,Gi[0],dr,Nt,Ee),fs(Et,Gi[2],Je),fs(Et,Gi[3],Je),le&&fs(l,"click",Wr,!0,!0),he&&fs(l,"click",Ct),G&&fs(Et,"gesturestart",Wn),B&&fs(Et,"gestureend",gn),X&&fs(l,Oc+"enter",$e),re&&fs(l,Oc+"leave",it),ne&&fs(l,Oc+"move",hr)),se.isEnabled=!0,se.isDragging=se.isGesturing=se.isPressed=ae=ue=!1,se._vx.reset(),se._vy.reset(),Cn=dt(),Es=ur(),je&&je.type&&dr(je),Q&&Q(se)),se},se.disable=function(){se.isEnabled&&(Cd.filter(function(je){return je!==se&&cp(je.target)}).length||hs(Gt?Et:l,"scroll",d1),se.isPressed&&(se._vx.reset(),se._vy.reset(),hs(q?l:Et,Gi[1],Cr,!0)),hs(Gt?Et:l,"scroll",mt,Ee),hs(l,"wheel",en,Ee),hs(l,Gi[0],dr,Ee),hs(Et,Gi[2],Je),hs(Et,Gi[3],Je),hs(l,"click",Wr,!0),hs(l,"click",Ct),hs(Et,"gesturestart",Wn),hs(Et,"gestureend",gn),hs(l,Oc+"enter",$e),hs(l,Oc+"leave",it),hs(l,Oc+"move",hr),se.isEnabled=se.isPressed=se.isDragging=!1,pe&&pe(se))},se.kill=se.revert=function(){se.disable();var je=Cd.indexOf(se);je>=0&&Cd.splice(je,1),Ta===se&&(Ta=0)},Cd.push(se),q&&cp(l)&&(Ta=se),se.enable(_)},ore(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n})();$n.version="3.13.0";$n.create=function(n){return new $n(n)};$n.register=AF;$n.getAll=function(){return Cd.slice()};$n.getById=function(n){return Cd.filter(function(e){return e.vars.id===n})[0]};PF()&&Lr.registerPlugin($n);var Oe,yd,yt,nn,oi,Ft,rE,kv,Bp,up,Mf,Hg,Xr,Iw,f1,ms,ZI,eN,vd,IF,fx,NF,ps,p1,DF,jF,pl,m1,sE,zd,iE,Rv,g1,px,Kg=1,Zr=Date.now,mx=Zr(),Oi=0,Lf=0,tN=function(e,t,r){var s=ri(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=s,s?e.substr(6,e.length-7):e},nN=function(e,t){return t&&(!ri(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},cre=function n(){return Lf&&requestAnimationFrame(n)},rN=function(){return Iw=1},sN=function(){return Iw=0},Ro=function(e){return e},Vf=function(e){return Math.round(e*1e5)/1e5||0},OF=function(){return typeof window<"u"},MF=function(){return Oe||OF()&&(Oe=window.gsap)&&Oe.registerPlugin&&Oe},vu=function(e){return!!~rE.indexOf(e)},LF=function(e){return(e==="Height"?iE:yt["inner"+e])||oi["client"+e]||Ft["client"+e]},VF=function(e){return Ll(e,"getBoundingClientRect")||(vu(e)?function(){return Ay.width=yt.innerWidth,Ay.height=iE,Ay}:function(){return xa(e)})},ure=function(e,t,r){var s=r.d,i=r.d2,o=r.a;return(o=Ll(e,"getBoundingClientRect"))?function(){return o()[s]}:function(){return(t?LF(i):e["client"+i])||0}},dre=function(e,t){return!t||~Ko.indexOf(e)?VF(e):function(){return Ay}},Vo=function(e,t){var r=t.s,s=t.d2,i=t.d,o=t.a;return Math.max(0,(r="scroll"+s)&&(o=Ll(e,r))?o()-VF(e)()[i]:vu(e)?(oi[r]||Ft[r])-LF(s):e[r]-e["offset"+s])},Gg=function(e,t){for(var r=0;r<vd.length;r+=3)(!t||~t.indexOf(vd[r+1]))&&e(vd[r],vd[r+1],vd[r+2])},ri=function(e){return typeof e=="string"},rs=function(e){return typeof e=="function"},Ff=function(e){return typeof e=="number"},Mc=function(e){return typeof e=="object"},kf=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},gx=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},ud=Math.abs,FF="left",zF="top",oE="right",aE="bottom",Jc="width",Zc="height",dp="Right",hp="Left",fp="Top",pp="Bottom",Gn="padding",Ei="margin",ph="Width",lE="Height",rr="px",Ci=function(e){return yt.getComputedStyle(e)},hre=function(e){var t=Ci(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},iN=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},xa=function(e,t){var r=t&&Ci(e)[f1]!=="matrix(1, 0, 0, 1, 0, 0)"&&Oe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=e.getBoundingClientRect();return r&&r.progress(0).kill(),s},Av=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},UF=function(e){var t=[],r=e.labels,s=e.duration(),i;for(i in r)t.push(r[i]/s);return t},fre=function(e){return function(t){return Oe.utils.snap(UF(e),t)}},cE=function(e){var t=Oe.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(s,i){return s-i});return r?function(s,i,o){o===void 0&&(o=.001);var l;if(!i)return t(s);if(i>0){for(s-=o,l=0;l<r.length;l++)if(r[l]>=s)return r[l];return r[l-1]}else for(l=r.length,s+=o;l--;)if(r[l]<=s)return r[l];return r[0]}:function(s,i,o){o===void 0&&(o=.001);var l=t(s);return!i||Math.abs(l-s)<o||l-s<0==i<0?l:t(i<0?s-e:s+e)}},pre=function(e){return function(t,r){return cE(UF(e))(t,r.direction)}},Yg=function(e,t,r,s){return r.split(",").forEach(function(i){return e(t,i,s)})},wr=function(e,t,r,s,i){return e.addEventListener(t,r,{passive:!s,capture:!!i})},vr=function(e,t,r,s){return e.removeEventListener(t,r,!!s)},Qg=function(e,t,r){r=r&&r.wheelHandler,r&&(e(t,"wheel",r),e(t,"touchmove",r))},oN={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Xg={toggleActions:"play",anticipatePin:0},Iv={top:0,left:0,center:.5,bottom:1,right:1},Cy=function(e,t){if(ri(e)){var r=e.indexOf("="),s=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(s*=t/100),e=e.substr(0,r-1)),e=s+(e in Iv?Iv[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Jg=function(e,t,r,s,i,o,l,u){var d=i.startColor,h=i.endColor,m=i.fontSize,v=i.indent,w=i.fontWeight,T=nn.createElement("div"),_=vu(r)||Ll(r,"pinType")==="fixed",S=e.indexOf("scroller")!==-1,R=_?Ft:r,k=e.indexOf("start")!==-1,j=k?d:h,I="border-color:"+j+";font-size:"+m+";color:"+j+";font-weight:"+w+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return I+="position:"+((S||u)&&_?"fixed;":"absolute;"),(S||u||!_)&&(I+=(s===ir?oE:aE)+":"+(o+parseFloat(v))+"px;"),l&&(I+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),T._isStart=k,T.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),T.style.cssText=I,T.innerText=t||t===0?e+"-"+t:e,R.children[0]?R.insertBefore(T,R.children[0]):R.appendChild(T),T._offset=T["offset"+s.op.d2],Py(T,0,s,k),T},Py=function(e,t,r,s){var i={display:"block"},o=r[s?"os2":"p2"],l=r[s?"p2":"os2"];e._isFlipped=s,i[r.a+"Percent"]=s?-100:0,i[r.a]=s?"1px":0,i["border"+o+ph]=1,i["border"+l+ph]=0,i[r.p]=t+"px",Oe.set(e,i)},pt=[],y1={},Wp,aN=function(){return Zr()-Oi>34&&(Wp||(Wp=requestAnimationFrame(Ca)))},dd=function(){(!ps||!ps.isPressed||ps.startX>Ft.clientWidth)&&(vt.cache++,ps?Wp||(Wp=requestAnimationFrame(Ca)):Ca(),Oi||_u("scrollStart"),Oi=Zr())},yx=function(){jF=yt.innerWidth,DF=yt.innerHeight},zf=function(e){vt.cache++,(e===!0||!Xr&&!NF&&!nn.fullscreenElement&&!nn.webkitFullscreenElement&&(!p1||jF!==yt.innerWidth||Math.abs(yt.innerHeight-DF)>yt.innerHeight*.25))&&kv.restart(!0)},wu={},mre=[],$F=function n(){return vr(wt,"scrollEnd",n)||$c(!0)},_u=function(e){return wu[e]&&wu[e].map(function(t){return t()})||mre},ni=[],BF=function(e){for(var t=0;t<ni.length;t+=5)(!e||ni[t+4]&&ni[t+4].query===e)&&(ni[t].style.cssText=ni[t+1],ni[t].getBBox&&ni[t].setAttribute("transform",ni[t+2]||""),ni[t+3].uncache=1)},uE=function(e,t){var r;for(ms=0;ms<pt.length;ms++)r=pt[ms],r&&(!t||r._ctx===t)&&(e?r.kill(1):r.revert(!0,!0));Rv=!0,t&&BF(t),t||_u("revert")},WF=function(e,t){vt.cache++,(t||!gs)&&vt.forEach(function(r){return rs(r)&&r.cacheID++&&(r.rec=0)}),ri(e)&&(yt.history.scrollRestoration=sE=e)},gs,eu=0,lN,gre=function(){if(lN!==eu){var e=lN=eu;requestAnimationFrame(function(){return e===eu&&$c(!0)})}},qF=function(){Ft.appendChild(zd),iE=!ps&&zd.offsetHeight||yt.innerHeight,Ft.removeChild(zd)},cN=function(e){return Bp(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},$c=function(e,t){if(oi=nn.documentElement,Ft=nn.body,rE=[yt,nn,oi,Ft],Oi&&!e&&!Rv){wr(wt,"scrollEnd",$F);return}qF(),gs=wt.isRefreshing=!0,vt.forEach(function(s){return rs(s)&&++s.cacheID&&(s.rec=s())});var r=_u("refreshInit");IF&&wt.sort(),t||uE(),vt.forEach(function(s){rs(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),pt.slice(0).forEach(function(s){return s.refresh()}),Rv=!1,pt.forEach(function(s){if(s._subPinOffset&&s.pin){var i=s.vars.horizontal?"offsetWidth":"offsetHeight",o=s.pin[i];s.revert(!0,1),s.adjustPinSpacing(s.pin[i]-o),s.refresh()}}),g1=1,cN(!0),pt.forEach(function(s){var i=Vo(s.scroller,s._dir),o=s.vars.end==="max"||s._endClamp&&s.end>i,l=s._startClamp&&s.start>=i;(o||l)&&s.setPositions(l?i-1:s.start,o?Math.max(l?i:s.start+1,i):s.end,!0)}),cN(!1),g1=0,r.forEach(function(s){return s&&s.render&&s.render(-1)}),vt.forEach(function(s){rs(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),WF(sE,1),kv.pause(),eu++,gs=2,Ca(2),pt.forEach(function(s){return rs(s.vars.onRefresh)&&s.vars.onRefresh(s)}),gs=wt.isRefreshing=!1,_u("refresh")},v1=0,ky=1,mp,Ca=function(e){if(e===2||!gs&&!Rv){wt.isUpdating=!0,mp&&mp.update(0);var t=pt.length,r=Zr(),s=r-mx>=50,i=t&&pt[0].scroll();if(ky=v1>i?-1:1,gs||(v1=i),s&&(Oi&&!Iw&&r-Oi>200&&(Oi=0,_u("scrollEnd")),Mf=mx,mx=r),ky<0){for(ms=t;ms-- >0;)pt[ms]&&pt[ms].update(0,s);ky=1}else for(ms=0;ms<t;ms++)pt[ms]&&pt[ms].update(0,s);wt.isUpdating=!1}Wp=0},w1=[FF,zF,aE,oE,Ei+pp,Ei+dp,Ei+fp,Ei+hp,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Ry=w1.concat([Jc,Zc,"boxSizing","max"+ph,"max"+lE,"position",Ei,Gn,Gn+fp,Gn+dp,Gn+pp,Gn+hp]),yre=function(e,t,r){Ud(r);var s=e._gsap;if(s.spacerIsNative)Ud(s.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1},vx=function(e,t,r,s){if(!e._gsap.swappedIn){for(var i=w1.length,o=t.style,l=e.style,u;i--;)u=w1[i],o[u]=r[u];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),l[aE]=l[oE]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Jc]=Av(e,_s)+rr,o[Zc]=Av(e,ir)+rr,o[Gn]=l[Ei]=l[zF]=l[FF]="0",Ud(s),l[Jc]=l["max"+ph]=r[Jc],l[Zc]=l["max"+lE]=r[Zc],l[Gn]=r[Gn],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},vre=/([A-Z])/g,Ud=function(e){if(e){var t=e.t.style,r=e.length,s=0,i,o;for((e.t._gsap||Oe.core.getCache(e.t)).uncache=1;s<r;s+=2)o=e[s+1],i=e[s],o?t[i]=o:t[i]&&t.removeProperty(i.replace(vre,"-$1").toLowerCase())}},Zg=function(e){for(var t=Ry.length,r=e.style,s=[],i=0;i<t;i++)s.push(Ry[i],r[Ry[i]]);return s.t=e,s},wre=function(e,t,r){for(var s=[],i=e.length,o=r?8:0,l;o<i;o+=2)l=e[o],s.push(l,l in t?t[l]:e[o+1]);return s.t=e.t,s},Ay={left:0,top:0},uN=function(e,t,r,s,i,o,l,u,d,h,m,v,w,T){rs(e)&&(e=e(u)),ri(e)&&e.substr(0,3)==="max"&&(e=v+(e.charAt(4)==="="?Cy("0"+e.substr(3),r):0));var _=w?w.time():0,S,R,k;if(w&&w.seek(0),isNaN(e)||(e=+e),Ff(e))w&&(e=Oe.utils.mapRange(w.scrollTrigger.start,w.scrollTrigger.end,0,v,e)),l&&Py(l,r,s,!0);else{rs(t)&&(t=t(u));var j=(e||"0").split(" "),I,L,z,P;k=js(t,u)||Ft,I=xa(k)||{},(!I||!I.left&&!I.top)&&Ci(k).display==="none"&&(P=k.style.display,k.style.display="block",I=xa(k),P?k.style.display=P:k.style.removeProperty("display")),L=Cy(j[0],I[s.d]),z=Cy(j[1]||"0",r),e=I[s.p]-d[s.p]-h+L+i-z,l&&Py(l,z,s,r-z<20||l._isStart&&z>20),r-=r-z}if(T&&(u[T]=e||-.001,e<0&&(e=0)),o){var A=e+r,D=o._isStart;S="scroll"+s.d2,Py(o,A,s,D&&A>20||!D&&(m?Math.max(Ft[S],oi[S]):o.parentNode[S])<=A+1),m&&(d=xa(l),m&&(o.style[s.op.p]=d[s.op.p]-s.op.m-o._offset+rr))}return w&&k&&(S=xa(k),w.seek(v),R=xa(k),w._caScrollDist=S[s.p]-R[s.p],e=e/w._caScrollDist*v),w&&w.seek(_),w?e:Math.round(e)},_re=/(webkit|moz|length|cssText|inset)/i,dN=function(e,t,r,s){if(e.parentNode!==t){var i=e.style,o,l;if(t===Ft){e._stOrig=i.cssText,l=Ci(e);for(o in l)!+o&&!_re.test(o)&&l[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=l[o]);i.top=r,i.left=s}else i.cssText=e._stOrig;Oe.core.getCache(e).uncache=1,t.appendChild(e)}},HF=function(e,t,r){var s=t,i=s;return function(o){var l=Math.round(e());return l!==s&&l!==i&&Math.abs(l-s)>3&&Math.abs(l-i)>3&&(o=l,r&&r()),i=s,s=Math.round(o),s}},ey=function(e,t,r){var s={};s[t.p]="+="+r,Oe.set(e,s)},hN=function(e,t){var r=Zl(e,t),s="_scroll"+t.p2,i=function o(l,u,d,h,m){var v=o.tween,w=u.onComplete,T={};d=d||r();var _=HF(r,d,function(){v.kill(),o.tween=0});return m=h&&m||0,h=h||l-d,v&&v.kill(),u[s]=l,u.inherit=!1,u.modifiers=T,T[s]=function(){return _(d+h*v.ratio+m*v.ratio*v.ratio)},u.onUpdate=function(){vt.cache++,o.tween&&Ca()},u.onComplete=function(){o.tween=0,w&&w.call(v)},v=o.tween=Oe.to(e,u),v};return e[s]=r,r.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},wr(e,"wheel",r.wheelHandler),wt.isTouch&&wr(e,"touchmove",r.wheelHandler),i},wt=(function(){function n(t,r){yd||n.register(Oe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),m1(this),this.init(t,r)}var e=n.prototype;return e.init=function(r,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Lf){this.update=this.refresh=this.kill=Ro;return}r=iN(ri(r)||Ff(r)||r.nodeType?{trigger:r}:r,Xg);var i=r,o=i.onUpdate,l=i.toggleClass,u=i.id,d=i.onToggle,h=i.onRefresh,m=i.scrub,v=i.trigger,w=i.pin,T=i.pinSpacing,_=i.invalidateOnRefresh,S=i.anticipatePin,R=i.onScrubComplete,k=i.onSnapComplete,j=i.once,I=i.snap,L=i.pinReparent,z=i.pinSpacer,P=i.containerAnimation,A=i.fastScrollEnd,D=i.preventOverlaps,O=r.horizontal||r.containerAnimation&&r.horizontal!==!1?_s:ir,V=!m&&m!==0,F=js(r.scroller||yt),U=Oe.core.getCache(F),X=vu(F),re=("pinType"in r?r.pinType:Ll(F,"pinType")||X&&"fixed")==="fixed",ne=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],J=V&&r.toggleActions.split(" "),q="markers"in r?r.markers:Xg.markers,G=X?0:parseFloat(Ci(F)["border"+O.p2+ph])||0,B=this,W=r.onRefreshInit&&function(){return r.onRefreshInit(B)},Q=ure(F,X,O),pe=dre(F,X),he=0,ve=0,Ee=0,le=Zl(F,O),xe,ce,be,Ce,ue,ae,Ke,Mt,qt,se,pn,jt,Nt,dt,ur,Cn,Es,$t,Gt,Et,Pn,er,kn,Wr,Ht,Er,mn,as,on,Cr,dr,Je,Wn,gn,mt,en,hr,$e,it;if(B._startClamp=B._endClamp=!1,B._dir=O,S*=45,B.scroller=F,B.scroll=P?P.time.bind(P):le,Ce=le(),B.vars=r,s=s||r.animation,"refreshPriority"in r&&(IF=1,r.refreshPriority===-9999&&(mp=B)),U.tweenScroll=U.tweenScroll||{top:hN(F,ir),left:hN(F,_s)},B.tweenTo=xe=U.tweenScroll[O.p],B.scrubDuration=function(we){Wn=Ff(we)&&we,Wn?Je?Je.duration(we):Je=Oe.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Wn,paused:!0,onComplete:function(){return R&&R(B)}}):(Je&&Je.progress(1).kill(),Je=0)},s&&(s.vars.lazy=!1,s._initted&&!B.isReverted||s.vars.immediateRender!==!1&&r.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),B.animation=s.pause(),s.scrollTrigger=B,B.scrubDuration(m),Cr=0,u||(u=s.vars.id)),I&&((!Mc(I)||I.push)&&(I={snapTo:I}),"scrollBehavior"in Ft.style&&Oe.set(X?[Ft,oi]:F,{scrollBehavior:"auto"}),vt.forEach(function(we){return rs(we)&&we.target===(X?nn.scrollingElement||oi:F)&&(we.smooth=!1)}),be=rs(I.snapTo)?I.snapTo:I.snapTo==="labels"?fre(s):I.snapTo==="labelsDirectional"?pre(s):I.directional!==!1?function(we,Me){return cE(I.snapTo)(we,Zr()-ve<500?0:Me.direction)}:Oe.utils.snap(I.snapTo),gn=I.duration||{min:.1,max:2},gn=Mc(gn)?up(gn.min,gn.max):up(gn,gn),mt=Oe.delayedCall(I.delay||Wn/2||.1,function(){var we=le(),Me=Zr()-ve<500,Ne=xe.tween;if((Me||Math.abs(B.getVelocity())<10)&&!Ne&&!Iw&&he!==we){var We=(we-ae)/dt,Bt=s&&!V?s.totalProgress():We,at=Me?0:(Bt-dr)/(Zr()-Mf)*1e3||0,Rt=Oe.utils.clamp(-We,1-We,ud(at/2)*at/.185),Mn=We+(I.inertia===!1?0:Rt),Yt,Vt,ft=I,Pr=ft.onStart,Kt=ft.onInterrupt,fr=ft.onComplete;if(Yt=be(Mn,B),Ff(Yt)||(Yt=Mn),Vt=Math.max(0,Math.round(ae+Yt*dt)),we<=Ke&&we>=ae&&Vt!==we){if(Ne&&!Ne._initted&&Ne.data<=ud(Vt-we))return;I.inertia===!1&&(Rt=Yt-We),xe(Vt,{duration:gn(ud(Math.max(ud(Mn-Bt),ud(Yt-Bt))*.185/at/.05||0)),ease:I.ease||"power3",data:ud(Vt-we),onInterrupt:function(){return mt.restart(!0)&&Kt&&Kt(B)},onComplete:function(){B.update(),he=le(),s&&!V&&(Je?Je.resetTo("totalProgress",Yt,s._tTime/s._tDur):s.progress(Yt)),Cr=dr=s&&!V?s.totalProgress():B.progress,k&&k(B),fr&&fr(B)}},we,Rt*dt,Vt-we-Rt*dt),Pr&&Pr(B,xe.tween)}}else B.isActive&&he!==we&&mt.restart(!0)}).pause()),u&&(y1[u]=B),v=B.trigger=js(v||w!==!0&&w),it=v&&v._gsap&&v._gsap.stRevert,it&&(it=it(B)),w=w===!0?v:js(w),ri(l)&&(l={targets:v,className:l}),w&&(T===!1||T===Ei||(T=!T&&w.parentNode&&w.parentNode.style&&Ci(w.parentNode).display==="flex"?!1:Gn),B.pin=w,ce=Oe.core.getCache(w),ce.spacer?ur=ce.pinState:(z&&(z=js(z),z&&!z.nodeType&&(z=z.current||z.nativeElement),ce.spacerIsNative=!!z,z&&(ce.spacerState=Zg(z))),ce.spacer=$t=z||nn.createElement("div"),$t.classList.add("pin-spacer"),u&&$t.classList.add("pin-spacer-"+u),ce.pinState=ur=Zg(w)),r.force3D!==!1&&Oe.set(w,{force3D:!0}),B.spacer=$t=ce.spacer,on=Ci(w),Wr=on[T+O.os2],Et=Oe.getProperty(w),Pn=Oe.quickSetter(w,O.a,rr),vx(w,$t,on),Es=Zg(w)),q){jt=Mc(q)?iN(q,oN):oN,se=Jg("scroller-start",u,F,O,jt,0),pn=Jg("scroller-end",u,F,O,jt,0,se),Gt=se["offset"+O.op.d2];var Ct=js(Ll(F,"content")||F);Mt=this.markerStart=Jg("start",u,Ct,O,jt,Gt,0,P),qt=this.markerEnd=Jg("end",u,Ct,O,jt,Gt,0,P),P&&($e=Oe.quickSetter([Mt,qt],O.a,rr)),!re&&!(Ko.length&&Ll(F,"fixedMarkers")===!0)&&(hre(X?Ft:F),Oe.set([se,pn],{force3D:!0}),Er=Oe.quickSetter(se,O.a,rr),as=Oe.quickSetter(pn,O.a,rr))}if(P){var je=P.vars.onUpdate,Ie=P.vars.onUpdateParams;P.eventCallback("onUpdate",function(){B.update(0,0,1),je&&je.apply(P,Ie||[])})}if(B.previous=function(){return pt[pt.indexOf(B)-1]},B.next=function(){return pt[pt.indexOf(B)+1]},B.revert=function(we,Me){if(!Me)return B.kill(!0);var Ne=we!==!1||!B.enabled,We=Xr;Ne!==B.isReverted&&(Ne&&(en=Math.max(le(),B.scroll.rec||0),Ee=B.progress,hr=s&&s.progress()),Mt&&[Mt,qt,se,pn].forEach(function(Bt){return Bt.style.display=Ne?"none":"block"}),Ne&&(Xr=B,B.update(Ne)),w&&(!L||!B.isActive)&&(Ne?yre(w,$t,ur):vx(w,$t,Ci(w),Ht)),Ne||B.update(Ne),Xr=We,B.isReverted=Ne)},B.refresh=function(we,Me,Ne,We){if(!((Xr||!B.enabled)&&!Me)){if(w&&we&&Oi){wr(n,"scrollEnd",$F);return}!gs&&W&&W(B),Xr=B,xe.tween&&!Ne&&(xe.tween.kill(),xe.tween=0),Je&&Je.pause(),_&&s&&(s.revert({kill:!1}).invalidate(),s.getChildren&&s.getChildren(!0,!0,!1).forEach(function(Hs){return Hs.vars.immediateRender&&Hs.render(0,!0,!0)})),B.isReverted||B.revert(!0,!0),B._subPinOffset=!1;var Bt=Q(),at=pe(),Rt=P?P.duration():Vo(F,O),Mn=dt<=.01||!dt,Yt=0,Vt=We||0,ft=Mc(Ne)?Ne.end:r.end,Pr=r.endTrigger||v,Kt=Mc(Ne)?Ne.start:r.start||(r.start===0||!v?0:w?"0 0":"0 100%"),fr=B.pinnedContainer=r.pinnedContainer&&js(r.pinnedContainer,B),ls=v&&Math.max(0,pt.indexOf(B))||0,an=ls,yn,vn,cs,Cs,lt,wn,kr,na,lo,Vi,Rr,qs,pr;for(q&&Mc(Ne)&&(qs=Oe.getProperty(se,O.p),pr=Oe.getProperty(pn,O.p));an-- >0;)wn=pt[an],wn.end||wn.refresh(0,1)||(Xr=B),kr=wn.pin,kr&&(kr===v||kr===w||kr===fr)&&!wn.isReverted&&(Vi||(Vi=[]),Vi.unshift(wn),wn.revert(!0,!0)),wn!==pt[an]&&(ls--,an--);for(rs(Kt)&&(Kt=Kt(B)),Kt=tN(Kt,"start",B),ae=uN(Kt,v,Bt,O,le(),Mt,se,B,at,G,re,Rt,P,B._startClamp&&"_startClamp")||(w?-.001:0),rs(ft)&&(ft=ft(B)),ri(ft)&&!ft.indexOf("+=")&&(~ft.indexOf(" ")?ft=(ri(Kt)?Kt.split(" ")[0]:"")+ft:(Yt=Cy(ft.substr(2),Bt),ft=ri(Kt)?Kt:(P?Oe.utils.mapRange(0,P.duration(),P.scrollTrigger.start,P.scrollTrigger.end,ae):ae)+Yt,Pr=v)),ft=tN(ft,"end",B),Ke=Math.max(ae,uN(ft||(Pr?"100% 0":Rt),Pr,Bt,O,le()+Yt,qt,pn,B,at,G,re,Rt,P,B._endClamp&&"_endClamp"))||-.001,Yt=0,an=ls;an--;)wn=pt[an],kr=wn.pin,kr&&wn.start-wn._pinPush<=ae&&!P&&wn.end>0&&(yn=wn.end-(B._startClamp?Math.max(0,wn.start):wn.start),(kr===v&&wn.start-wn._pinPush<ae||kr===fr)&&isNaN(Kt)&&(Yt+=yn*(1-wn.progress)),kr===w&&(Vt+=yn));if(ae+=Yt,Ke+=Yt,B._startClamp&&(B._startClamp+=Yt),B._endClamp&&!gs&&(B._endClamp=Ke||-.001,Ke=Math.min(Ke,Vo(F,O))),dt=Ke-ae||(ae-=.01)&&.001,Mn&&(Ee=Oe.utils.clamp(0,1,Oe.utils.normalize(ae,Ke,en))),B._pinPush=Vt,Mt&&Yt&&(yn={},yn[O.a]="+="+Yt,fr&&(yn[O.p]="-="+le()),Oe.set([Mt,qt],yn)),w&&!(g1&&B.end>=Vo(F,O)))yn=Ci(w),Cs=O===ir,cs=le(),er=parseFloat(Et(O.a))+Vt,!Rt&&Ke>1&&(Rr=(X?nn.scrollingElement||oi:F).style,Rr={style:Rr,value:Rr["overflow"+O.a.toUpperCase()]},X&&Ci(Ft)["overflow"+O.a.toUpperCase()]!=="scroll"&&(Rr.style["overflow"+O.a.toUpperCase()]="scroll")),vx(w,$t,yn),Es=Zg(w),vn=xa(w,!0),na=re&&Zl(F,Cs?_s:ir)(),T?(Ht=[T+O.os2,dt+Vt+rr],Ht.t=$t,an=T===Gn?Av(w,O)+dt+Vt:0,an&&(Ht.push(O.d,an+rr),$t.style.flexBasis!=="auto"&&($t.style.flexBasis=an+rr)),Ud(Ht),fr&&pt.forEach(function(Hs){Hs.pin===fr&&Hs.vars.pinSpacing!==!1&&(Hs._subPinOffset=!0)}),re&&le(en)):(an=Av(w,O),an&&$t.style.flexBasis!=="auto"&&($t.style.flexBasis=an+rr)),re&&(lt={top:vn.top+(Cs?cs-ae:na)+rr,left:vn.left+(Cs?na:cs-ae)+rr,boxSizing:"border-box",position:"fixed"},lt[Jc]=lt["max"+ph]=Math.ceil(vn.width)+rr,lt[Zc]=lt["max"+lE]=Math.ceil(vn.height)+rr,lt[Ei]=lt[Ei+fp]=lt[Ei+dp]=lt[Ei+pp]=lt[Ei+hp]="0",lt[Gn]=yn[Gn],lt[Gn+fp]=yn[Gn+fp],lt[Gn+dp]=yn[Gn+dp],lt[Gn+pp]=yn[Gn+pp],lt[Gn+hp]=yn[Gn+hp],Cn=wre(ur,lt,L),gs&&le(0)),s?(lo=s._initted,fx(1),s.render(s.duration(),!0,!0),kn=Et(O.a)-er+dt+Vt,mn=Math.abs(dt-kn)>1,re&&mn&&Cn.splice(Cn.length-2,2),s.render(0,!0,!0),lo||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),fx(0)):kn=dt,Rr&&(Rr.value?Rr.style["overflow"+O.a.toUpperCase()]=Rr.value:Rr.style.removeProperty("overflow-"+O.a));else if(v&&le()&&!P)for(vn=v.parentNode;vn&&vn!==Ft;)vn._pinOffset&&(ae-=vn._pinOffset,Ke-=vn._pinOffset),vn=vn.parentNode;Vi&&Vi.forEach(function(Hs){return Hs.revert(!1,!0)}),B.start=ae,B.end=Ke,Ce=ue=gs?en:le(),!P&&!gs&&(Ce<en&&le(en),B.scroll.rec=0),B.revert(!1,!0),ve=Zr(),mt&&(he=-1,mt.restart(!0)),Xr=0,s&&V&&(s._initted||hr)&&s.progress()!==hr&&s.progress(hr||0,!0).render(s.time(),!0,!0),(Mn||Ee!==B.progress||P||_||s&&!s._initted)&&(s&&!V&&(s._initted||Ee||s.vars.immediateRender!==!1)&&s.totalProgress(P&&ae<-.001&&!Ee?Oe.utils.normalize(ae,Ke,0):Ee,!0),B.progress=Mn||(Ce-ae)/dt===Ee?0:Ee),w&&T&&($t._pinOffset=Math.round(B.progress*kn)),Je&&Je.invalidate(),isNaN(qs)||(qs-=Oe.getProperty(se,O.p),pr-=Oe.getProperty(pn,O.p),ey(se,O,qs),ey(Mt,O,qs-(We||0)),ey(pn,O,pr),ey(qt,O,pr-(We||0))),Mn&&!gs&&B.update(),h&&!gs&&!Nt&&(Nt=!0,h(B),Nt=!1)}},B.getVelocity=function(){return(le()-ue)/(Zr()-Mf)*1e3||0},B.endAnimation=function(){kf(B.callbackAnimation),s&&(Je?Je.progress(1):s.paused()?V||kf(s,B.direction<0,1):kf(s,s.reversed()))},B.labelToScroll=function(we){return s&&s.labels&&(ae||B.refresh()||ae)+s.labels[we]/s.duration()*dt||0},B.getTrailing=function(we){var Me=pt.indexOf(B),Ne=B.direction>0?pt.slice(0,Me).reverse():pt.slice(Me+1);return(ri(we)?Ne.filter(function(We){return We.vars.preventOverlaps===we}):Ne).filter(function(We){return B.direction>0?We.end<=ae:We.start>=Ke})},B.update=function(we,Me,Ne){if(!(P&&!Ne&&!we)){var We=gs===!0?en:B.scroll(),Bt=we?0:(We-ae)/dt,at=Bt<0?0:Bt>1?1:Bt||0,Rt=B.progress,Mn,Yt,Vt,ft,Pr,Kt,fr,ls;if(Me&&(ue=Ce,Ce=P?le():We,I&&(dr=Cr,Cr=s&&!V?s.totalProgress():at)),S&&w&&!Xr&&!Kg&&Oi&&(!at&&ae<We+(We-ue)/(Zr()-Mf)*S?at=1e-4:at===1&&Ke>We+(We-ue)/(Zr()-Mf)*S&&(at=.9999)),at!==Rt&&B.enabled){if(Mn=B.isActive=!!at&&at<1,Yt=!!Rt&&Rt<1,Kt=Mn!==Yt,Pr=Kt||!!at!=!!Rt,B.direction=at>Rt?1:-1,B.progress=at,Pr&&!Xr&&(Vt=at&&!Rt?0:at===1?1:Rt===1?2:3,V&&(ft=!Kt&&J[Vt+1]!=="none"&&J[Vt+1]||J[Vt],ls=s&&(ft==="complete"||ft==="reset"||ft in s))),D&&(Kt||ls)&&(ls||m||!s)&&(rs(D)?D(B):B.getTrailing(D).forEach(function(cs){return cs.endAnimation()})),V||(Je&&!Xr&&!Kg?(Je._dp._time-Je._start!==Je._time&&Je.render(Je._dp._time-Je._start),Je.resetTo?Je.resetTo("totalProgress",at,s._tTime/s._tDur):(Je.vars.totalProgress=at,Je.invalidate().restart())):s&&s.totalProgress(at,!!(Xr&&(ve||we)))),w){if(we&&T&&($t.style[T+O.os2]=Wr),!re)Pn(Vf(er+kn*at));else if(Pr){if(fr=!we&&at>Rt&&Ke+1>We&&We+1>=Vo(F,O),L)if(!we&&(Mn||fr)){var an=xa(w,!0),yn=We-ae;dN(w,Ft,an.top+(O===ir?yn:0)+rr,an.left+(O===ir?0:yn)+rr)}else dN(w,$t);Ud(Mn||fr?Cn:Es),mn&&at<1&&Mn||Pn(er+(at===1&&!fr?kn:0))}}I&&!xe.tween&&!Xr&&!Kg&&mt.restart(!0),l&&(Kt||j&&at&&(at<1||!px))&&Bp(l.targets).forEach(function(cs){return cs.classList[Mn||j?"add":"remove"](l.className)}),o&&!V&&!we&&o(B),Pr&&!Xr?(V&&(ls&&(ft==="complete"?s.pause().totalProgress(1):ft==="reset"?s.restart(!0).pause():ft==="restart"?s.restart(!0):s[ft]()),o&&o(B)),(Kt||!px)&&(d&&Kt&&gx(B,d),ne[Vt]&&gx(B,ne[Vt]),j&&(at===1?B.kill(!1,1):ne[Vt]=0),Kt||(Vt=at===1?1:3,ne[Vt]&&gx(B,ne[Vt]))),A&&!Mn&&Math.abs(B.getVelocity())>(Ff(A)?A:2500)&&(kf(B.callbackAnimation),Je?Je.progress(1):kf(s,ft==="reverse"?1:!at,1))):V&&o&&!Xr&&o(B)}if(as){var vn=P?We/P.duration()*(P._caScrollDist||0):We;Er(vn+(se._isFlipped?1:0)),as(vn)}$e&&$e(-We/P.duration()*(P._caScrollDist||0))}},B.enable=function(we,Me){B.enabled||(B.enabled=!0,wr(F,"resize",zf),X||wr(F,"scroll",dd),W&&wr(n,"refreshInit",W),we!==!1&&(B.progress=Ee=0,Ce=ue=he=le()),Me!==!1&&B.refresh())},B.getTween=function(we){return we&&xe?xe.tween:Je},B.setPositions=function(we,Me,Ne,We){if(P){var Bt=P.scrollTrigger,at=P.duration(),Rt=Bt.end-Bt.start;we=Bt.start+Rt*we/at,Me=Bt.start+Rt*Me/at}B.refresh(!1,!1,{start:nN(we,Ne&&!!B._startClamp),end:nN(Me,Ne&&!!B._endClamp)},We),B.update()},B.adjustPinSpacing=function(we){if(Ht&&we){var Me=Ht.indexOf(O.d)+1;Ht[Me]=parseFloat(Ht[Me])+we+rr,Ht[1]=parseFloat(Ht[1])+we+rr,Ud(Ht)}},B.disable=function(we,Me){if(B.enabled&&(we!==!1&&B.revert(!0,!0),B.enabled=B.isActive=!1,Me||Je&&Je.pause(),en=0,ce&&(ce.uncache=1),W&&vr(n,"refreshInit",W),mt&&(mt.pause(),xe.tween&&xe.tween.kill()&&(xe.tween=0)),!X)){for(var Ne=pt.length;Ne--;)if(pt[Ne].scroller===F&&pt[Ne]!==B)return;vr(F,"resize",zf),X||vr(F,"scroll",dd)}},B.kill=function(we,Me){B.disable(we,Me),Je&&!Me&&Je.kill(),u&&delete y1[u];var Ne=pt.indexOf(B);Ne>=0&&pt.splice(Ne,1),Ne===ms&&ky>0&&ms--,Ne=0,pt.forEach(function(We){return We.scroller===B.scroller&&(Ne=1)}),Ne||gs||(B.scroll.rec=0),s&&(s.scrollTrigger=null,we&&s.revert({kill:!1}),Me||s.kill()),Mt&&[Mt,qt,se,pn].forEach(function(We){return We.parentNode&&We.parentNode.removeChild(We)}),mp===B&&(mp=0),w&&(ce&&(ce.uncache=1),Ne=0,pt.forEach(function(We){return We.pin===w&&Ne++}),Ne||(ce.spacer=0)),r.onKill&&r.onKill(B)},pt.push(B),B.enable(!1,!1),it&&it(B),s&&s.add&&!dt){var Ye=B.update;B.update=function(){B.update=Ye,vt.cache++,ae||Ke||B.refresh()},Oe.delayedCall(.01,B.update),dt=.01,ae=Ke=0}else B.refresh();w&&gre()},n.register=function(r){return yd||(Oe=r||MF(),OF()&&window.document&&n.enable(),yd=Lf),yd},n.defaults=function(r){if(r)for(var s in r)Xg[s]=r[s];return Xg},n.disable=function(r,s){Lf=0,pt.forEach(function(o){return o[s?"kill":"disable"](r)}),vr(yt,"wheel",dd),vr(nn,"scroll",dd),clearInterval(Hg),vr(nn,"touchcancel",Ro),vr(Ft,"touchstart",Ro),Yg(vr,nn,"pointerdown,touchstart,mousedown",rN),Yg(vr,nn,"pointerup,touchend,mouseup",sN),kv.kill(),Gg(vr);for(var i=0;i<vt.length;i+=3)Qg(vr,vt[i],vt[i+1]),Qg(vr,vt[i],vt[i+2])},n.enable=function(){if(yt=window,nn=document,oi=nn.documentElement,Ft=nn.body,Oe&&(Bp=Oe.utils.toArray,up=Oe.utils.clamp,m1=Oe.core.context||Ro,fx=Oe.core.suppressOverwrites||Ro,sE=yt.history.scrollRestoration||"auto",v1=yt.pageYOffset||0,Oe.core.globals("ScrollTrigger",n),Ft)){Lf=1,zd=document.createElement("div"),zd.style.height="100vh",zd.style.position="absolute",qF(),cre(),$n.register(Oe),n.isTouch=$n.isTouch,pl=$n.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),p1=$n.isTouch===1,wr(yt,"wheel",dd),rE=[yt,nn,oi,Ft],Oe.matchMedia?(n.matchMedia=function(d){var h=Oe.matchMedia(),m;for(m in d)h.add(m,d[m]);return h},Oe.addEventListener("matchMediaInit",function(){return uE()}),Oe.addEventListener("matchMediaRevert",function(){return BF()}),Oe.addEventListener("matchMedia",function(){$c(0,1),_u("matchMedia")}),Oe.matchMedia().add("(orientation: portrait)",function(){return yx(),yx})):console.warn("Requires GSAP 3.11.0 or later"),yx(),wr(nn,"scroll",dd);var r=Ft.hasAttribute("style"),s=Ft.style,i=s.borderTopStyle,o=Oe.core.Animation.prototype,l,u;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),s.borderTopStyle="solid",l=xa(Ft),ir.m=Math.round(l.top+ir.sc())||0,_s.m=Math.round(l.left+_s.sc())||0,i?s.borderTopStyle=i:s.removeProperty("border-top-style"),r||(Ft.setAttribute("style",""),Ft.removeAttribute("style")),Hg=setInterval(aN,250),Oe.delayedCall(.5,function(){return Kg=0}),wr(nn,"touchcancel",Ro),wr(Ft,"touchstart",Ro),Yg(wr,nn,"pointerdown,touchstart,mousedown",rN),Yg(wr,nn,"pointerup,touchend,mouseup",sN),f1=Oe.utils.checkPrefix("transform"),Ry.push(f1),yd=Zr(),kv=Oe.delayedCall(.2,$c).pause(),vd=[nn,"visibilitychange",function(){var d=yt.innerWidth,h=yt.innerHeight;nn.hidden?(ZI=d,eN=h):(ZI!==d||eN!==h)&&zf()},nn,"DOMContentLoaded",$c,yt,"load",$c,yt,"resize",zf],Gg(wr),pt.forEach(function(d){return d.enable(0,1)}),u=0;u<vt.length;u+=3)Qg(vr,vt[u],vt[u+1]),Qg(vr,vt[u],vt[u+2])}},n.config=function(r){"limitCallbacks"in r&&(px=!!r.limitCallbacks);var s=r.syncInterval;s&&clearInterval(Hg)||(Hg=s)&&setInterval(aN,s),"ignoreMobileResize"in r&&(p1=n.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(Gg(vr)||Gg(wr,r.autoRefreshEvents||"none"),NF=(r.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(r,s){var i=js(r),o=vt.indexOf(i),l=vu(i);~o&&vt.splice(o,l?6:2),s&&(l?Ko.unshift(yt,s,Ft,s,oi,s):Ko.unshift(i,s))},n.clearMatchMedia=function(r){pt.forEach(function(s){return s._ctx&&s._ctx.query===r&&s._ctx.kill(!0,!0)})},n.isInViewport=function(r,s,i){var o=(ri(r)?js(r):r).getBoundingClientRect(),l=o[i?Jc:Zc]*s||0;return i?o.right-l>0&&o.left+l<yt.innerWidth:o.bottom-l>0&&o.top+l<yt.innerHeight},n.positionInViewport=function(r,s,i){ri(r)&&(r=js(r));var o=r.getBoundingClientRect(),l=o[i?Jc:Zc],u=s==null?l/2:s in Iv?Iv[s]*l:~s.indexOf("%")?parseFloat(s)*l/100:parseFloat(s)||0;return i?(o.left+u)/yt.innerWidth:(o.top+u)/yt.innerHeight},n.killAll=function(r){if(pt.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),r!==!0){var s=wu.killAll||[];wu={},s.forEach(function(i){return i()})}},n})();wt.version="3.13.0";wt.saveStyles=function(n){return n?Bp(n).forEach(function(e){if(e&&e.style){var t=ni.indexOf(e);t>=0&&ni.splice(t,5),ni.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Oe.core.getCache(e),m1())}}):ni};wt.revert=function(n,e){return uE(!n,e)};wt.create=function(n,e){return new wt(n,e)};wt.refresh=function(n){return n?zf(!0):(yd||wt.register())&&$c(!0)};wt.update=function(n){return++vt.cache&&Ca(n===!0?2:0)};wt.clearScrollMemory=WF;wt.maxScroll=function(n,e){return Vo(n,e?_s:ir)};wt.getScrollFunc=function(n,e){return Zl(js(n),e?_s:ir)};wt.getById=function(n){return y1[n]};wt.getAll=function(){return pt.filter(function(n){return n.vars.id!=="ScrollSmoother"})};wt.isScrolling=function(){return!!Oi};wt.snapDirectional=cE;wt.addEventListener=function(n,e){var t=wu[n]||(wu[n]=[]);~t.indexOf(e)||t.push(e)};wt.removeEventListener=function(n,e){var t=wu[n],r=t&&t.indexOf(e);r>=0&&t.splice(r,1)};wt.batch=function(n,e){var t=[],r={},s=e.interval||.016,i=e.batchMax||1e9,o=function(d,h){var m=[],v=[],w=Oe.delayedCall(s,function(){h(m,v),m=[],v=[]}).pause();return function(T){m.length||w.restart(!0),m.push(T.trigger),v.push(T),i<=m.length&&w.progress(1)}},l;for(l in e)r[l]=l.substr(0,2)==="on"&&rs(e[l])&&l!=="onRefreshInit"?o(l,e[l]):e[l];return rs(i)&&(i=i(),wr(wt,"refresh",function(){return i=e.batchMax()})),Bp(n).forEach(function(u){var d={};for(l in r)d[l]=r[l];d.trigger=u,t.push(wt.create(d))}),t};var fN=function(e,t,r,s){return t>s?e(s):t<0&&e(0),r>s?(s-t)/(r-t):r<0?t/(t-r):1},wx=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+($n.isTouch?" pinch-zoom":""):"none",e===oi&&n(Ft,t)},ty={auto:1,scroll:1},xre=function(e){var t=e.event,r=e.target,s=e.axis,i=(t.changedTouches?t.changedTouches[0]:t).target,o=i._gsap||Oe.core.getCache(i),l=Zr(),u;if(!o._isScrollT||l-o._isScrollT>2e3){for(;i&&i!==Ft&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(ty[(u=Ci(i)).overflowY]||ty[u.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==r&&!vu(i)&&(ty[(u=Ci(i)).overflowY]||ty[u.overflowX]),o._isScrollT=l}(o._isScroll||s==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},KF=function(e,t,r,s){return $n.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:s=s&&xre,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return r&&wr(nn,$n.eventTypes[0],mN,!1,!0)},onDisable:function(){return vr(nn,$n.eventTypes[0],mN,!0)}})},bre=/(input|label|select|textarea)/i,pN,mN=function(e){var t=bre.test(e.target.tagName);(t||pN)&&(e._gsapAllow=!0,pN=t)},Sre=function(e){Mc(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,r=t.normalizeScrollX,s=t.momentum,i=t.allowNestedScroll,o=t.onRelease,l,u,d=js(e.target)||oi,h=Oe.core.globals().ScrollSmoother,m=h&&h.get(),v=pl&&(e.content&&js(e.content)||m&&e.content!==!1&&!m.smooth()&&m.content()),w=Zl(d,ir),T=Zl(d,_s),_=1,S=($n.isTouch&&yt.visualViewport?yt.visualViewport.scale*yt.visualViewport.width:yt.outerWidth)/yt.innerWidth,R=0,k=rs(s)?function(){return s(l)}:function(){return s||2.8},j,I,L=KF(d,e.type,!0,i),z=function(){return I=!1},P=Ro,A=Ro,D=function(){u=Vo(d,ir),A=up(pl?1:0,u),r&&(P=up(0,Vo(d,_s))),j=eu},O=function(){v._gsap.y=Vf(parseFloat(v._gsap.y)+w.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",w.offset=w.cacheID=0},V=function(){if(I){requestAnimationFrame(z);var q=Vf(l.deltaY/2),G=A(w.v-q);if(v&&G!==w.v+w.offset){w.offset=G-w.v;var B=Vf((parseFloat(v&&v._gsap.y)||0)-w.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+B+", 0, 1)",v._gsap.y=B+"px",w.cacheID=vt.cache,Ca()}return!0}w.offset&&O(),I=!0},F,U,X,re,ne=function(){D(),F.isActive()&&F.vars.scrollY>u&&(w()>u?F.progress(1)&&w(u):F.resetTo("scrollY",u))};return v&&Oe.set(v,{y:"+=0"}),e.ignoreCheck=function(J){return pl&&J.type==="touchmove"&&V()||_>1.05&&J.type!=="touchstart"||l.isGesturing||J.touches&&J.touches.length>1},e.onPress=function(){I=!1;var J=_;_=Vf((yt.visualViewport&&yt.visualViewport.scale||1)/S),F.pause(),J!==_&&wx(d,_>1.01?!0:r?!1:"x"),U=T(),X=w(),D(),j=eu},e.onRelease=e.onGestureStart=function(J,q){if(w.offset&&O(),!q)re.restart(!0);else{vt.cache++;var G=k(),B,W;r&&(B=T(),W=B+G*.05*-J.velocityX/.227,G*=fN(T,B,W,Vo(d,_s)),F.vars.scrollX=P(W)),B=w(),W=B+G*.05*-J.velocityY/.227,G*=fN(w,B,W,Vo(d,ir)),F.vars.scrollY=A(W),F.invalidate().duration(G).play(.01),(pl&&F.vars.scrollY>=u||B>=u-1)&&Oe.to({},{onUpdate:ne,duration:G})}o&&o(J)},e.onWheel=function(){F._ts&&F.pause(),Zr()-R>1e3&&(j=0,R=Zr())},e.onChange=function(J,q,G,B,W){if(eu!==j&&D(),q&&r&&T(P(B[2]===q?U+(J.startX-J.x):T()+q-B[1])),G){w.offset&&O();var Q=W[2]===G,pe=Q?X+J.startY-J.y:w()+G-W[1],he=A(pe);Q&&pe!==he&&(X+=he-pe),w(he)}(G||q)&&Ca()},e.onEnable=function(){wx(d,r?!1:"x"),wt.addEventListener("refresh",ne),wr(yt,"resize",ne),w.smooth&&(w.target.style.scrollBehavior="auto",w.smooth=T.smooth=!1),L.enable()},e.onDisable=function(){wx(d,!0),vr(yt,"resize",ne),wt.removeEventListener("refresh",ne),L.kill()},e.lockAxis=e.lockAxis!==!1,l=new $n(e),l.iOS=pl,pl&&!w()&&w(1),pl&&Oe.ticker.add(Ro),re=l._dc,F=Oe.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:HF(w,w(),function(){return F.pause()})},onUpdate:Ca,onComplete:re.vars.onComplete}),l};wt.sort=function(n){if(rs(n))return pt.sort(n);var e=yt.pageYOffset||0;return wt.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+yt.innerHeight}),pt.sort(n||function(t,r){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};wt.observe=function(n){return new $n(n)};wt.normalizeScroll=function(n){if(typeof n>"u")return ps;if(n===!0&&ps)return ps.enable();if(n===!1){ps&&ps.kill(),ps=n;return}var e=n instanceof $n?n:Sre(n);return ps&&ps.target===e.target&&ps.kill(),vu(e.target)&&(ps=e),e};wt.core={_getVelocityProp:h1,_inputObserver:KF,_scrollers:vt,_proxies:Ko,bridge:{ss:function(){Oi||_u("scrollStart"),Oi=Zr()},ref:function(){return Xr}}};MF()&&Oe.registerPlugin(wt);op.registerPlugin(wt);let mh=null;const GF=()=>{mh&&mh.stop()},Nv=()=>{mh&&mh.start()},Tre=()=>{b.useEffect(()=>{const n=new Wte({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),orientation:"vertical",smoothWheel:!0});return mh=n,n.on("scroll",wt.update),op.ticker.add(e=>{n.raf(e*1e3)}),op.ticker.lagSmoothing(0),()=>{n.destroy(),mh=null,op.ticker.remove(()=>{})}},[])},Ere=({children:n})=>{Tre();const[e,t]=b.useState(!1);return b.useEffect(()=>{const r=()=>{t(!0)};return window.addEventListener("openFriendsSidebar",r),()=>{window.removeEventListener("openFriendsSidebar",r)}},[]),p.jsxs("div",{className:"flex min-h-screen bg-background",children:[p.jsx(cee,{}),p.jsx(dee,{}),p.jsx("main",{className:"flex-1 lg:ml-64 p-4 pb-24 pt-8 lg:p-8 w-full overflow-x-hidden",children:n}),p.jsx(zte,{isOpen:e,onClose:()=>t(!1)})]})},Co=({children:n})=>p.jsx(WG,{children:p.jsx(Ere,{children:n})});function Cre(){const{pathname:n}=tc();return b.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function Pre(){const[n,e]=b.useState(null),[t,r]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState(!1);b.useEffect(()=>{const h=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");if(l(h),h)return;const m=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(i(m),!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return;m&&!h&&(localStorage.getItem("installPromptSeen")||r(!0));const w=T=>{T.preventDefault(),e(T),r(!0)};return window.addEventListener("beforeinstallprompt",w),()=>{window.removeEventListener("beforeinstallprompt",w)}},[]);const u=async()=>{if(!n)return;n.prompt();const{outcome:h}=await n.userChoice;h==="accepted"&&(e(null),r(!1))},d=()=>{r(!1),localStorage.setItem("installPromptSeen","true")};return!t||o?null:p.jsx(uv,{children:p.jsx(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 pb-16",onClick:d,children:p.jsxs(sn.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-popover border border-border rounded-xl shadow-lg p-6 w-full max-w-sm flex flex-col gap-4",onClick:h=>h.stopPropagation(),children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsx("div",{className:"flex gap-3",children:p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-foreground",children:"Zainstaluj Archiwum"}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s?"Dodaj do ekranu gwnego dla lepszego dowiadczenia.":"Zainstaluj aplikacj, aby korzysta offline i szybciej."})]})}),p.jsx("button",{onClick:d,className:"text-muted-foreground hover:text-foreground",children:p.jsx(Bc,{className:"w-5 h-5"})})]}),s?p.jsxs("div",{className:"text-sm bg-muted/50 p-3 rounded-lg space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:["1. Kliknij ",p.jsx(aU,{className:"w-4 h-4"})," (Udostpnij)"]}),p.jsxs("div",{className:"flex items-center gap-2",children:["2. Wybierz ",p.jsx(cU,{className:"w-4 h-4"}),' "Do ekranu pocztkowego"']})]}):p.jsx(Ae,{onClick:u,className:"w-full",children:"Zainstaluj"})]})})})}const kre="modulepreload",Rre=function(n){return"/"+n},gN={},Are=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let d=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=d;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(t.map(h=>{if(h=Rre(h),h in gN)return;gN[h]=!0;const m=h.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":kre,m||(w.as="script"),w.crossOrigin="",w.href=h,u&&w.setAttribute("nonce",u),document.head.appendChild(w),m)return new Promise((T,_)=>{w.addEventListener("load",T),w.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Nw=({text:n,className:e="",delay:t=0})=>{const r=n.split(""),s={hidden:{opacity:0},visible:(o=1)=>({opacity:1,transition:{staggerChildren:.03,delayChildren:t}})},i={visible:{opacity:1,y:0,transition:{type:"spring",damping:12,stiffness:200}},hidden:{opacity:0,y:20}};return p.jsx(sn.h1,{className:e,variants:s,initial:"hidden",animate:"visible",children:r.map((o,l)=>p.jsx(sn.span,{variants:i,children:o===" "?"":o},l))})};var Ire="Label",YF=b.forwardRef((n,e)=>p.jsx(Xe.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));YF.displayName=Ire;var QF=YF;const Nre=Fv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vr=b.forwardRef(({className:n,...e},t)=>p.jsx(QF,{ref:t,className:ot(Nre(),n),...e}));Vr.displayName=QF.displayName;class Dre{async createCollection(e,t,r){const s=Dn(Fe,"users",e,"collections");return(await HR(s,{name:t,description:r||"",createdAt:ht.now(),updatedAt:ht.now(),itemCount:0})).id}async getUserCollections(e){const t=Dn(Fe,"users",e,"collections");return(await Nn(t)).docs.map(s=>({id:s.id,name:s.data().name,description:s.data().description,createdAt:s.data().createdAt.toDate(),updatedAt:s.data().updatedAt.toDate(),itemCount:s.data().itemCount||0}))}async addItemToCollection(e,t,r){const s=Dn(Fe,"users",e,"collections",t,"items"),i=Vs(s,In("tmdbId","==",r.tmdbId),In("type","==",r.type));if(!(await Nn(i)).empty)throw new Error("Item already in collection");await HR(s,{...r,addedAt:ht.now()});const l=ut(Fe,"users",e,"collections",t),d=(await Ms(l)).data()?.itemCount||0;await Qf(l,{itemCount:d+1,updatedAt:ht.now()})}async removeItemFromCollection(e,t,r){const s=ut(Fe,"users",e,"collections",t,"items",r);await ki(s);const i=ut(Fe,"users",e,"collections",t),l=(await Ms(i)).data()?.itemCount||0;await Qf(i,{itemCount:Math.max(0,l-1),updatedAt:ht.now()})}async getCollectionItems(e,t){const r=Dn(Fe,"users",e,"collections",t,"items");return(await Nn(r)).docs.map(i=>({id:i.id,tmdbId:i.data().tmdbId,type:i.data().type,title:i.data().title,posterPath:i.data().posterPath,addedAt:i.data().addedAt.toDate()}))}async isItemInCollection(e,t,r,s){const i=Dn(Fe,"users",e,"collections",t,"items"),o=Vs(i,In("tmdbId","==",r),In("type","==",s));return!(await Nn(o)).empty}async deleteCollection(e,t){const r=Dn(Fe,"users",e,"collections",t,"items"),i=(await Nn(r)).docs.map(l=>ki(l.ref));await Promise.all(i);const o=ut(Fe,"users",e,"collections",t);await ki(o)}async updateCollection(e,t,r){const s=ut(Fe,"users",e,"collections",t);await Qf(s,{...r,updatedAt:ht.now()})}}const Ua=new Dre,jre=Object.freeze(Object.defineProperty({__proto__:null,collectionsService:Ua},Symbol.toStringTag,{value:"Module"})),vm=()=>{const{user:n}=It();return jn({queryKey:["collections",n?.uid],queryFn:()=>Ua.getUserCollections(n.uid),enabled:!!n,staleTime:300*1e3})},Ore=n=>{const{user:e}=It();return jn({queryKey:["collection-items",e?.uid,n],queryFn:()=>Ua.getCollectionItems(e.uid,n),enabled:!!e&&!!n,staleTime:300*1e3})},XF=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({name:t,description:r})=>Ua.createCollection(n.uid,t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["collections",n?.uid]})}})},Mre=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({collectionId:t,item:r})=>Ua.addItemToCollection(n.uid,t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["collections",n?.uid]}),e.invalidateQueries({queryKey:["collection-items",n?.uid,r.collectionId]}),e.invalidateQueries({queryKey:["item-in-collections",n?.uid]})}})},Lre=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({collectionId:t,itemId:r})=>Ua.removeItemFromCollection(n.uid,t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["collections",n?.uid]}),e.invalidateQueries({queryKey:["collection-items",n?.uid,r.collectionId]})}})},Vre=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:t=>Ua.deleteCollection(n.uid,t),onSuccess:()=>{e.invalidateQueries({queryKey:["collections",n?.uid]})}})},Fre=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({collectionId:t,updates:r})=>Ua.updateCollection(n.uid,t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["collections",n?.uid]})}})},zre=(n,e)=>{const{user:t}=It(),{data:r}=vm();return jn({queryKey:["item-in-collections",t?.uid,n,e],queryFn:async()=>!r||!t?[]:(await Promise.all(r.map(async i=>{const o=await Ua.isItemInCollection(t.uid,i.id,n,e);return{collectionId:i.id,isInCollection:o}}))).filter(i=>i.isInCollection).map(i=>i.collectionId),enabled:!!t&&!!r&&r.length>0,staleTime:30*1e3})},dE=({tmdbId:n,type:e,title:t,posterPath:r})=>{const{user:s}=It(),[i,o]=b.useState(!1),[l,u]=b.useState(""),[d,h]=b.useState(!1),{data:m,isLoading:v}=vm(),{data:w}=zre(n,e),T=XF(),_=Mre(),S=async()=>{if(l.trim())try{const k=await T.mutateAsync({name:l.trim()});await _.mutateAsync({collectionId:k,item:{tmdbId:n,type:e,title:t,posterPath:r}}),u(""),h(!1),o(!1)}catch(k){console.error("Error creating collection:",k)}},R=async k=>{try{await _.mutateAsync({collectionId:k,item:{tmdbId:n,type:e,title:t,posterPath:r}})}catch(j){j.message==="Item already in collection"||console.error("Error adding to collection:",j)}};return s?p.jsxs(Xo,{open:i,onOpenChange:o,children:[p.jsx(gm,{asChild:!0,children:p.jsx(Ae,{variant:"outline",size:"icon",children:p.jsx(iu,{className:"w-4 h-4"})})}),p.jsxs(so,{children:[p.jsxs(Oa,{children:[p.jsx(Jo,{children:"Dodaj do kolekcji"}),p.jsx(gu,{children:"Wybierz kolekcj lub utwrz now"})]}),p.jsx("div",{className:"space-y-4",children:v?p.jsx("div",{className:"text-center py-4",children:"adowanie..."}):p.jsxs(p.Fragment,{children:[m&&m.length>0&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(Vr,{children:"Twoje kolekcje"}),p.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.map(k=>{const j=w?.includes(k.id);return p.jsx("button",{onClick:()=>!j&&R(k.id),className:`w-full text-left p-3 rounded-lg border transition-colors ${j?"bg-green-500/10 border-green-500/30":"hover:bg-accent"} ${_.isPending?"opacity-50 cursor-not-allowed":""}`,disabled:_.isPending,children:p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"font-medium flex items-center gap-2",children:[k.name,j&&p.jsx(Px,{className:"w-5 h-5 text-green-500 shrink-0"})]}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[k.itemCount," ",k.itemCount===1?"element":"elementw"]})]})})},k.id)})})]}),d?p.jsxs("div",{className:"space-y-3",children:[p.jsx(Vr,{htmlFor:"collection-name",children:"Nazwa nowej kolekcji"}),p.jsx(bs,{id:"collection-name",value:l,onChange:k=>u(k.target.value),placeholder:"Moja kolekcja",onKeyDown:k=>k.key==="Enter"&&S()}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Ae,{onClick:S,disabled:!l.trim()||T.isPending,className:"flex-1",children:[p.jsx(zv,{className:"w-4 h-4 mr-2"}),"Utwrz i dodaj"]}),p.jsx(Ae,{variant:"outline",onClick:()=>{h(!1),u("")},children:"Anuluj"})]})]}):p.jsxs(Ae,{variant:"outline",onClick:()=>h(!0),className:"w-full",children:[p.jsx(iu,{className:"w-4 h-4 mr-2"}),"Utwrz now kolekcj"]})]})})]})]}):null},El=({id:n,title:e,posterUrl:t,year:r,rating:s,layoutId:i,tmdbId:o,type:l,posterPath:u})=>{const[d,h]=b.useState(0),[m,v]=b.useState(0),w=_=>{const S=_.currentTarget.getBoundingClientRect(),R=S.left+S.width/2,k=S.top+S.height/2,j=(_.clientX-R)/(S.width/2),I=(_.clientY-k)/(S.height/2);v(j*10),h(-I*10)},T=()=>{h(0),v(0)};return p.jsx(sn.div,{layoutId:i,className:"group relative aspect-[2/3] overflow-hidden rounded-lg bg-background-secondary cursor-pointer",style:{transformStyle:"preserve-3d",perspective:"1000px"},onMouseMove:w,onMouseLeave:T,whileHover:{scale:1.05},transition:{type:"spring",stiffness:300,damping:20},children:p.jsxs(sn.div,{style:{rotateX:d,rotateY:m},transition:{type:"spring",stiffness:400,damping:30},className:"w-full h-full",children:[p.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover",loading:"lazy"}),o&&l&&p.jsx("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",onClick:_=>_.stopPropagation(),children:p.jsx(dE,{tmdbId:o,type:l,title:e,posterPath:u||null})}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:p.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[p.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:e}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-foreground-secondary",children:[r&&p.jsx("span",{children:r}),s&&s>0&&p.jsxs(p.Fragment,{children:[p.jsx("span",{children:""}),p.jsxs("span",{className:"flex items-center gap-1",children:[" ",s.toFixed(1)]})]})]})]})})]})})};class Ure{requests=[];maxRequests;timeWindow;constructor(e=100,t=6e4){this.maxRequests=e,this.timeWindow=t}canMakeRequest(){const e=Date.now();return this.requests=this.requests.filter(t=>e-t<this.timeWindow),this.requests.length>=this.maxRequests?(console.warn("Rate limit reached. Please wait before making more requests."),!1):!0}recordRequest(){this.requests.push(Date.now())}getRemainingRequests(){const e=Date.now();return this.requests=this.requests.filter(t=>e-t<this.timeWindow),Math.max(0,this.maxRequests-this.requests.length)}getTimeUntilReset(){if(this.requests.length===0)return 0;const t=Math.min(...this.requests)+this.timeWindow;return Math.max(0,t-Date.now())}}const _x=new Ure(35,1e4),$re="7fe5eb1c5b351c67a82c01791cb9f8a1",Bre="https://api.themoviedb.org/3",Wre="https://image.tmdb.org/t/p/w500";class qre{apiKey;baseUrl;imageBaseUrl;constructor(){this.apiKey=$re,this.baseUrl=Bre,this.imageBaseUrl=Wre}async fetch(e,t={}){if(!_x.canMakeRequest()){const o=Math.ceil(_x.getTimeUntilReset()/1e3);throw new Error(`Rate limit exceeded. Please wait ${o} seconds.`)}const r=new URL(`${this.baseUrl}${e}`);r.searchParams.append("api_key",this.apiKey),r.searchParams.append("language","pl-PL"),Object.entries(t).forEach(([o,l])=>{r.searchParams.append(o,l)}),_x.recordRequest();const s=await fetch(r.toString());if(!s.ok)throw new Error(`TMDB API error: ${s.statusText}`);return await s.json()}getImageUrl(e,t="w500"){return e?`https://image.tmdb.org/t/p/${t}${e}`:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=400&h=600&fit=crop"}async searchMovies(e,t=1){return this.fetch("/search/movie",{query:e,page:t.toString()})}async searchTVShows(e,t=1){return this.fetch("/search/tv",{query:e,page:t.toString()})}async searchMulti(e,t=1){return this.fetch("/search/multi",{query:e,page:t.toString()})}async getMovieDetails(e){return this.fetch(`/movie/${e}`)}async getTVShowDetails(e){return this.fetch(`/tv/${e}`)}async getSeasonDetails(e,t){return this.fetch(`/tv/${e}/season/${t}`)}async getPopularMovies(e=1){const t=`tmdb_popular_movies_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch("/movie/popular",{page:e.toString()});return this.saveToCache(t,s,3600*1e3),s}async getPopularTVShows(e=1){const t=`tmdb_popular_tv_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch("/tv/popular",{page:e.toString()});return this.saveToCache(t,s,3600*1e3),s}async getUpcomingMovies(e=1){const t=`tmdb_upcoming_movies_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch("/movie/upcoming",{page:e.toString(),region:"PL"});return this.saveToCache(t,s,3600*1e3),s}async getTopRatedMovies(e=1){const t=`tmdb_top_rated_movies_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch("/movie/top_rated",{page:e.toString()});return this.saveToCache(t,s,3600*1e3),s}async getOnTheAirTVShows(e=1){const t=`tmdb_ontheair_tv_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch("/tv/on_the_air",{page:e.toString()});return this.saveToCache(t,s,3600*1e3),s}async getTopRatedTVShows(e=1){const t=`tmdb_top_rated_tv_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch("/tv/top_rated",{page:e.toString()});return this.saveToCache(t,s,3600*1e3),s}async getTrendingMovies(e="week"){const t=`tmdb_trending_movies_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch(`/trending/movie/${e}`);return this.saveToCache(t,s,3600*1e3),s}async getTrendingTVShows(e="week"){const t=`tmdb_trending_tv_${e}`,r=this.getFromCache(t);if(r)return r;const s=await this.fetch(`/trending/tv/${e}`);return this.saveToCache(t,s,3600*1e3),s}async discoverMovies(e){const t={page:(e.page||1).toString()};return e.with_genres&&(t.with_genres=e.with_genres),e.sort_by&&(t.sort_by=e.sort_by),e.year&&(t.primary_release_year=e.year.toString()),this.fetch("/discover/movie",t)}async discoverTVShows(e){const t={page:(e.page||1).toString()};return e.with_genres&&(t.with_genres=e.with_genres),e.sort_by&&(t.sort_by=e.sort_by),e.year&&(t.first_air_date_year=e.year.toString()),this.fetch("/discover/tv",t)}async getMovieGenres(){return this.fetch("/genre/movie/list")}async getTVGenres(){return this.fetch("/genre/tv/list")}getFromCache(e){try{const t=localStorage.getItem(e);if(!t)return null;const{data:r,timestamp:s}=JSON.parse(t);return Date.now()-s<3600*1e3?r:(localStorage.removeItem(e),null)}catch{return null}}saveToCache(e,t,r){try{localStorage.setItem(e,JSON.stringify({data:t,timestamp:Date.now()}))}catch(s){console.error("Error saving to cache:",s)}}}const zt=new qre,Hre=n=>oo({queryKey:["tmdb","search","movies",n],queryFn:({pageParam:e=1})=>zt.searchMovies(n,e),getNextPageParam:e=>e.page<e.total_pages?e.page+1:void 0,initialPageParam:1,enabled:n.length>0,staleTime:300*1e3}),Kre=n=>oo({queryKey:["tmdb","search","tv",n],queryFn:({pageParam:e=1})=>zt.searchTVShows(n,e),getNextPageParam:e=>e.page<e.total_pages?e.page+1:void 0,initialPageParam:1,enabled:n.length>0,staleTime:300*1e3}),Gre=n=>oo({queryKey:["tmdb","search","multi",n],queryFn:({pageParam:e=1})=>zt.searchMulti(n,e),getNextPageParam:e=>e.page<e.total_pages?e.page+1:void 0,initialPageParam:1,enabled:n.length>0,staleTime:300*1e3}),JF=()=>oo({queryKey:["tmdb","popular","movies"],queryFn:({pageParam:n=1})=>zt.getPopularMovies(n),getNextPageParam:n=>n.page<Math.min(n.total_pages,5)?n.page+1:void 0,initialPageParam:1,staleTime:3600*1e3,gcTime:7200*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1}),ZF=()=>oo({queryKey:["tmdb","popular","tv"],queryFn:({pageParam:n=1})=>zt.getPopularTVShows(n),getNextPageParam:n=>n.page<Math.min(n.total_pages,5)?n.page+1:void 0,initialPageParam:1,staleTime:3600*1e3,gcTime:7200*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1}),Yre=()=>oo({queryKey:["tmdb","upcoming","movies"],queryFn:({pageParam:n=1})=>zt.getUpcomingMovies(n),getNextPageParam:n=>n.page<Math.min(n.total_pages,3)?n.page+1:void 0,initialPageParam:1,staleTime:3600*1e3,gcTime:7200*1e3}),Qre=()=>oo({queryKey:["tmdb","top_rated","movies"],queryFn:({pageParam:n=1})=>zt.getTopRatedMovies(n),getNextPageParam:n=>n.page<Math.min(n.total_pages,3)?n.page+1:void 0,initialPageParam:1,staleTime:3600*1e3,gcTime:7200*1e3}),Xre=()=>oo({queryKey:["tmdb","ontheair","tv"],queryFn:({pageParam:n=1})=>zt.getOnTheAirTVShows(n),getNextPageParam:n=>n.page<Math.min(n.total_pages,3)?n.page+1:void 0,initialPageParam:1,staleTime:3600*1e3,gcTime:7200*1e3}),Jre=()=>oo({queryKey:["tmdb","top_rated","tv"],queryFn:({pageParam:n=1})=>zt.getTopRatedTVShows(n),getNextPageParam:n=>n.page<Math.min(n.total_pages,3)?n.page+1:void 0,initialPageParam:1,staleTime:3600*1e3,gcTime:7200*1e3}),Zre=n=>jn({queryKey:["tmdb","movie",n],queryFn:()=>zt.getMovieDetails(n),enabled:!!n,staleTime:600*1e3}),ese=n=>jn({queryKey:["tmdb","tv",n],queryFn:()=>zt.getTVShowDetails(n),enabled:!!n,staleTime:600*1e3}),tse=(n,e)=>jn({queryKey:["tmdb","season",n,e],queryFn:()=>zt.getSeasonDetails(n,e),enabled:!!n&&!!e,staleTime:600*1e3}),hd=n=>oo({queryKey:["tmdb","discover","movies",n],queryFn:({pageParam:e=1})=>zt.discoverMovies({...n,page:e}),getNextPageParam:e=>e.page<Math.min(e.total_pages,5)?e.page+1:void 0,initialPageParam:1,staleTime:3600*1e3}),Ic=n=>oo({queryKey:["tmdb","discover","tv",n],queryFn:({pageParam:e=1})=>zt.discoverTVShows({...n,page:e}),getNextPageParam:e=>e.page<Math.min(e.total_pages,5)?e.page+1:void 0,initialPageParam:1,staleTime:3600*1e3}),nse=()=>jn({queryKey:["tmdb","genres","movies"],queryFn:()=>zt.getMovieGenres(),staleTime:1440*60*1e3}),rse=()=>jn({queryKey:["tmdb","genres","tv"],queryFn:()=>zt.getTVGenres(),staleTime:1440*60*1e3}),sse=()=>{const n=Br(),{t:e}=Ts(),[t,r]=b.useState(""),[s,i]=b.useState(""),{data:o}=JF(),{data:l}=ZF(),{data:u,isLoading:d}=Gre(s),{data:h}=vm(),m=o?.pages[0]?.results.slice(0,6)||[],v=l?.pages[0]?.results.slice(0,6)||[],[w,T]=b.useState([]),{user:_}=It();b.useEffect(()=>{(async()=>{if(!h||h.length===0||!_){T([]);return}try{const{collectionsService:L}=await Are(async()=>{const{collectionsService:O}=await Promise.resolve().then(()=>jre);return{collectionsService:O}},void 0),z=h.map(async O=>(await L.getCollectionItems(_.uid,O.id)).map(F=>({...F,collectionName:O.name}))),D=[...(await Promise.all(z)).flat()].sort(()=>Math.random()-.5);T(D.slice(0,6))}catch(L){console.error("Error fetching collection items:",L),T([])}})()},[h,_]);const S=u?.pages[0]?.results||[],R=s.trim().length>0;b.useEffect(()=>{const I=setTimeout(()=>{i(t)},500);return()=>clearTimeout(I)},[t]);const k=I=>{I.preventDefault()},j=()=>{r(""),i("")};return p.jsxs("div",{className:"space-y-12",children:[p.jsx("div",{className:"space-y-2",children:p.jsxs("div",{className:"text-center space-y-4",children:[p.jsxs("div",{className:"relative flex items-center justify-center",children:[p.jsx(Nw,{text:e("nav.dashboard"),className:"text-5xl lg:text-6xl font-bold"}),p.jsx("div",{className:"lg:hidden absolute right-2 top-1/2 -translate-y-1/2 scale-150",children:p.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>n("/profile"),className:"rounded-full w-12 h-12",children:p.jsx(jo,{className:"w-8 h-8"})})})]}),p.jsx("p",{className:"text-xl text-foreground-secondary max-w-2xl mx-auto",children:e("dashboard.recommendations")}),p.jsx("form",{onSubmit:k,className:"max-w-2xl mx-auto mt-6",children:p.jsxs("div",{className:"relative",children:[p.jsx(Fl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),p.jsx(bs,{type:"text",placeholder:"Szukaj filmw i seriali...",value:t,onChange:I=>r(I.target.value),className:"pl-12 pr-12 py-6 text-lg bg-background-secondary border-border"}),t&&p.jsx("button",{type:"button",onClick:j,className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:p.jsx(Bc,{className:"w-5 h-5"})})]})})]})}),p.jsx(uv,{children:R&&p.jsxs(sn.section,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Fl,{className:"w-6 h-6 text-primary"}),p.jsxs("h2",{className:"text-3xl font-bold",children:['Wyniki wyszukiwania dla "',s,'"']})]})}),d&&p.jsx("div",{className:"flex items-center justify-center py-16",children:p.jsx(Cl,{className:"w-8 h-8 animate-spin text-primary"})}),!d&&S.length===0&&p.jsx("div",{className:"text-center py-16 bg-background-secondary rounded-xl",children:p.jsxs("p",{className:"text-foreground-secondary text-lg",children:['Nie znaleziono wynikw dla "',s,'"']})}),!d&&S.length>0&&p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:S.map(I=>{const L=I.media_type==="movie",z=L?I.title:I.name,P=L?I.release_date?new Date(I.release_date).getFullYear():void 0:I.first_air_date?new Date(I.first_air_date).getFullYear():void 0;return p.jsx("div",{onClick:()=>n(L?`/movie/${I.id}`:`/series/${I.id}`),children:p.jsx(El,{id:I.id.toString(),title:z||"Unknown",posterUrl:zt.getImageUrl(I.poster_path),year:P,rating:I.vote_average,tmdbId:I.id,type:L?"movie":"tv",posterPath:I.poster_path})},I.id)})})]})}),w.length>0&&p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(lU,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:"Z Twoich Kolekcji"})]}),p.jsx(Ae,{variant:"ghost",onClick:()=>n("/collections"),className:"text-primary hover:text-primary-hover",children:"Zobacz wszystkie "})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:w.map(I=>{const L=I.type==="movie";return p.jsx("div",{onClick:()=>n(L?`/movie/${I.tmdbId}`:`/series/${I.tmdbId}`),children:p.jsx(El,{id:I.tmdbId.toString(),title:I.title,posterUrl:zt.getImageUrl(I.posterPath),tmdbId:I.tmdbId,type:I.type,posterPath:I.posterPath})},`${I.tmdbId}-${I.type}-${I.id}`)})})]}),p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Kd,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:e("movies.popular")})]}),p.jsxs(Ae,{variant:"ghost",onClick:()=>n("/movies"),className:"text-primary hover:text-primary-hover",children:[e("dashboard.viewAll")," "]})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:m.map(I=>p.jsx("div",{onClick:()=>n(`/movie/${I.id}`),children:p.jsx(El,{id:I.id.toString(),title:I.title||"Unknown",posterUrl:zt.getImageUrl(I.poster_path),year:I.release_date?new Date(I.release_date).getFullYear():void 0,rating:I.vote_average,tmdbId:I.id,type:"movie",posterPath:I.poster_path})},I.id))})]}),p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Dy,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:e("series.popular")})]}),p.jsxs(Ae,{variant:"ghost",onClick:()=>n("/series"),className:"text-primary hover:text-primary-hover",children:[e("dashboard.viewAll")," "]})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:v.map(I=>p.jsx("div",{onClick:()=>n(`/series/${I.id}`),children:p.jsx(El,{id:I.id.toString(),title:I.name||"Unknown",posterUrl:zt.getImageUrl(I.poster_path),year:I.first_air_date?new Date(I.first_air_date).getFullYear():void 0,rating:I.vote_average,tmdbId:I.id,type:"tv",posterPath:I.poster_path})},I.id))})]}),p.jsxs("section",{className:"bg-background-secondary rounded-xl p-8 text-center space-y-4",children:[p.jsx(Gd,{className:"w-12 h-12 text-primary mx-auto"}),p.jsx("h2",{className:"text-2xl font-bold",children:"Odkryj najlepiej oceniane produkcje"}),p.jsx("p",{className:"text-foreground-secondary max-w-xl mx-auto",children:"Przegldaj tysice filmw i seriali z caego wiata"}),p.jsxs("div",{className:"flex gap-4 justify-center pt-4",children:[p.jsxs(Ae,{onClick:()=>n("/movies"),size:"lg",children:[p.jsx(Kd,{className:"w-5 h-5 mr-2"}),"Filmy"]}),p.jsxs(Ae,{onClick:()=>n("/series"),variant:"outline",size:"lg",children:[p.jsx(Dy,{className:"w-5 h-5 mr-2"}),e("series.title")]})]})]})]})},es=({title:n,items:e,type:t,isLoading:r})=>{const s=b.useRef(null),i=Br(),o=l=>{if(s.current){const{current:u}=s,d=l==="left"?-u.clientWidth+100:u.clientWidth-100;u.scrollBy({left:d,behavior:"smooth"})}};return r?p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"h-8 w-48 bg-muted animate-pulse rounded"}),p.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3,4,5].map(l=>p.jsx("div",{className:"min-w-[160px] h-[240px] bg-muted animate-pulse rounded-xl"},l))})]}):e.length===0?null:p.jsxs("section",{className:"space-y-4 relative group",children:[p.jsxs("div",{className:"flex items-center justify-between px-1",children:[p.jsx("h2",{className:"text-2xl font-bold",children:n}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ae,{variant:"outline",size:"icon",className:"hidden md:flex h-8 w-8 rounded-full bg-background/50 backdrop-blur-sm border-white/10 hover:bg-white/10",onClick:()=>o("left"),children:p.jsx(tU,{className:"h-4 w-4"})}),p.jsx(Ae,{variant:"outline",size:"icon",className:"hidden md:flex h-8 w-8 rounded-full bg-background/50 backdrop-blur-sm border-white/10 hover:bg-white/10",onClick:()=>o("right"),children:p.jsx(nU,{className:"h-4 w-4"})})]})]}),p.jsx("div",{ref:s,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory px-1",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map(l=>p.jsx(sn.div,{className:"min-w-[150px] sm:min-w-[180px] snap-start",whileHover:{scale:1.05},transition:{duration:.2},onClick:()=>i(t==="movie"?`/movie/${l.id}`:`/series/${l.id}`),children:p.jsx(El,{id:l.id.toString(),title:t==="movie"?l.title:l.name,posterUrl:zt.getImageUrl(l.poster_path),year:t==="movie"?l.release_date?new Date(l.release_date).getFullYear():void 0:l.first_air_date?new Date(l.first_air_date).getFullYear():void 0,rating:l.vote_average,tmdbId:l.id,type:t,posterPath:l.poster_path})},l.id))})]})},ise=()=>{const{t:n}=Ts(),[e,t]=b.useState(""),[r,s]=b.useState(""),[i,o]=b.useState(!1),[l,u]=b.useState(""),[d,h]=b.useState(""),[m,v]=b.useState("popularity.desc"),w=b.useRef(null),T=Br(),{data:_}=nse(),S=l||d||m!=="popularity.desc",R=r||S,{data:k,isLoading:j,error:I,fetchNextPage:L,hasNextPage:z,isFetchingNextPage:P}=Hre(r),{data:A,isLoading:D,error:O,fetchNextPage:V,hasNextPage:F,isFetchingNextPage:U}=hd({with_genres:l,sort_by:m,year:d?parseInt(d):void 0}),{data:X,isLoading:re}=JF(),{data:ne,isLoading:J}=Yre(),{data:q,isLoading:G}=Qre(),{data:B}=hd({with_genres:"28"}),{data:W}=hd({with_genres:"35"}),{data:Q}=hd({with_genres:"27"}),{data:pe}=hd({with_genres:"18"}),{data:he}=hd({with_genres:"878"}),ve=r?k?.pages.flatMap(ue=>ue.results)||[]:A?.pages.flatMap(ue=>ue.results)||[],Ee=r?j:D,le=r?I:O,xe=r?L:V,ce=r?z:F,be=r?P:U;b.useEffect(()=>{const ue=setTimeout(()=>{s(e)},500);return()=>clearTimeout(ue)},[e]),b.useEffect(()=>{if(!R)return;const ue=new IntersectionObserver(Ke=>{Ke[0].isIntersecting&&ce&&!be&&xe()},{threshold:.1}),ae=w.current;return ae&&ue.observe(ae),()=>{ae&&ue.unobserve(ae)}},[R,ce,be,xe]);const Ce=ue=>{u(ue),t(""),i||o(!0)};return p.jsxs("div",{className:"space-y-8 pb-20",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Nw,{text:n("movies.title"),className:"text-3xl lg:text-5xl font-bold"}),p.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>o(!i),className:`bg-background-secondary border-border hover:bg-secondary shrink-0 ${S?"text-primary border-primary":""}`,children:p.jsx(iD,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(Fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-secondary"}),p.jsx(bs,{type:"text",placeholder:n("movies.search"),value:e,onChange:ue=>t(ue.target.value),className:"pl-10 bg-background-secondary border-border w-full"})]}),p.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[p.jsx(Ae,{variant:l===""?"default":"outline",size:"sm",onClick:()=>u(""),className:"shrink-0",children:"Wszystkie"}),_?.genres.map(ue=>p.jsx(Ae,{variant:l===ue.id.toString()?"default":"outline",size:"sm",onClick:()=>Ce(ue.id.toString()),className:"shrink-0",children:ue.name},ue.id))]})]}),i&&p.jsx(sn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-background-secondary rounded-lg p-4 border border-border",children:p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Gatunek"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:l,onChange:ue=>u(ue.target.value),children:[p.jsx("option",{value:"",children:"Wszystkie"}),_?.genres.map(ue=>p.jsx("option",{value:ue.id.toString(),children:ue.name},ue.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Rok"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:d,onChange:ue=>h(ue.target.value),children:[p.jsx("option",{value:"",children:"Wszystkie"}),Array.from({length:30},(ue,ae)=>new Date().getFullYear()-ae).map(ue=>p.jsx("option",{value:ue.toString(),children:ue},ue))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Sortowanie"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:m,onChange:ue=>v(ue.target.value),children:[p.jsx("option",{value:"popularity.desc",children:"Najpopularniejsze"}),p.jsx("option",{value:"vote_average.desc",children:"Najlepiej oceniane"}),p.jsx("option",{value:"release_date.desc",children:"Najnowsze"}),p.jsx("option",{value:"title.asc",children:"Alfabetycznie A-Z"})]})]})]})}),R?p.jsxs(p.Fragment,{children:[Ee&&p.jsx("div",{className:"flex items-center justify-center py-16",children:p.jsx(Cl,{className:"w-8 h-8 animate-spin text-primary"})}),le&&p.jsx("div",{className:"text-center py-16",children:p.jsx("p",{className:"text-foreground-secondary mb-4",children:"Bd podczas adowania filmw."})}),!Ee&&!le&&ve.length>0&&p.jsx(sn.div,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},children:Array.from(new Map(ve.map(ue=>[ue.id,ue])).values()).map((ue,ae)=>p.jsx(sn.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},onClick:()=>T(`/movie/${ue.id}`),children:p.jsx(El,{id:ue.id.toString(),title:ue.title||"Unknown",posterUrl:zt.getImageUrl(ue.poster_path),year:ue.release_date?new Date(ue.release_date).getFullYear():void 0,rating:ue.vote_average,layoutId:`movie-${ue.id}`,tmdbId:ue.id,type:"movie",posterPath:ue.poster_path})},`${ue.id}-${ae}`))}),!Ee&&!le&&ve.length===0&&p.jsx("div",{className:"text-center py-16",children:p.jsx("p",{className:"text-foreground-secondary",children:"Nie znaleziono filmw dla podanych kryteriw."})}),ce&&!Ee&&p.jsx("div",{ref:w,className:"flex justify-center py-8",children:be&&p.jsx(Cl,{className:"w-6 h-6 animate-spin text-primary"})})]}):p.jsxs("div",{className:"space-y-12",children:[p.jsx(es,{title:"Popularne teraz",items:X?.pages.flatMap(ue=>ue.results)||[],type:"movie",isLoading:re}),p.jsx(es,{title:"Nadchodzce premiery",items:ne?.pages.flatMap(ue=>ue.results)||[],type:"movie",isLoading:J}),p.jsx(es,{title:"Najlepiej oceniane",items:q?.pages.flatMap(ue=>ue.results)||[],type:"movie",isLoading:G}),p.jsx(es,{title:"Kino Akcji",items:B?.pages.flatMap(ue=>ue.results)||[],type:"movie"}),p.jsx(es,{title:"Komedie",items:W?.pages.flatMap(ue=>ue.results)||[],type:"movie"}),p.jsx(es,{title:"Horrory",items:Q?.pages.flatMap(ue=>ue.results)||[],type:"movie"}),p.jsx(es,{title:"Dramaty",items:pe?.pages.flatMap(ue=>ue.results)||[],type:"movie"}),p.jsx(es,{title:"Sci-Fi",items:he?.pages.flatMap(ue=>ue.results)||[],type:"movie"})]})]})},ose=()=>{const{t:n}=Ts(),[e,t]=b.useState(""),[r,s]=b.useState(""),[i,o]=b.useState(!1),[l,u]=b.useState(""),[d,h]=b.useState(""),[m,v]=b.useState("popularity.desc"),w=b.useRef(null),T=Br(),{data:_}=rse(),S=l||d||m!=="popularity.desc",R=r||S,{data:k,isLoading:j,error:I,fetchNextPage:L,hasNextPage:z,isFetchingNextPage:P}=Kre(r),{data:A,isLoading:D,error:O,fetchNextPage:V,hasNextPage:F,isFetchingNextPage:U}=Ic({with_genres:l,sort_by:m,year:d?parseInt(d):void 0}),{data:X,isLoading:re}=ZF(),{data:ne,isLoading:J}=Xre(),{data:q,isLoading:G}=Jre(),{data:B}=Ic({with_genres:"10765"}),{data:W}=Ic({with_genres:"80"}),{data:Q}=Ic({with_genres:"35"}),{data:pe}=Ic({with_genres:"18"}),{data:he}=Ic({with_genres:"16"}),{data:ve}=Ic({with_genres:"99"}),Ee=r?k?.pages.flatMap(ae=>ae.results)||[]:A?.pages.flatMap(ae=>ae.results)||[],le=r?j:D,xe=r?I:O,ce=r?L:V,be=r?z:F,Ce=r?P:U;b.useEffect(()=>{const ae=setTimeout(()=>{s(e)},500);return()=>clearTimeout(ae)},[e]),b.useEffect(()=>{if(!R)return;const ae=new IntersectionObserver(Mt=>{Mt[0].isIntersecting&&be&&!Ce&&ce()},{threshold:.1}),Ke=w.current;return Ke&&ae.observe(Ke),()=>{Ke&&ae.unobserve(Ke)}},[R,be,Ce,ce]);const ue=ae=>{u(ae),t(""),i||o(!0)};return p.jsxs("div",{className:"space-y-8 pb-20",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Nw,{text:n("series.title"),className:"text-3xl lg:text-5xl font-bold"}),p.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>o(!i),className:`bg-background-secondary border-border hover:bg-secondary shrink-0 ${S?"text-primary border-primary":""}`,children:p.jsx(iD,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(Fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-secondary"}),p.jsx(bs,{type:"text",placeholder:n("series.search"),value:e,onChange:ae=>t(ae.target.value),className:"pl-10 bg-background-secondary border-border w-full"})]}),p.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[p.jsx(Ae,{variant:l===""?"default":"outline",size:"sm",onClick:()=>u(""),className:"shrink-0",children:"Wszystkie"}),_?.genres.map(ae=>p.jsx(Ae,{variant:l===ae.id.toString()?"default":"outline",size:"sm",onClick:()=>ue(ae.id.toString()),className:"shrink-0",children:ae.name},ae.id))]})]}),i&&p.jsx(sn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-background-secondary rounded-lg p-4 border border-border",children:p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Gatunek"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:l,onChange:ae=>u(ae.target.value),children:[p.jsx("option",{value:"",children:"Wszystkie"}),_?.genres.map(ae=>p.jsx("option",{value:ae.id.toString(),children:ae.name},ae.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Rok"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:d,onChange:ae=>h(ae.target.value),children:[p.jsx("option",{value:"",children:"Wszystkie"}),Array.from({length:30},(ae,Ke)=>new Date().getFullYear()-Ke).map(ae=>p.jsx("option",{value:ae.toString(),children:ae},ae))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-foreground-secondary mb-2 block",children:"Sortowanie"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-md px-3 py-2 text-sm text-foreground",value:m,onChange:ae=>v(ae.target.value),children:[p.jsx("option",{value:"popularity.desc",children:"Najpopularniejsze"}),p.jsx("option",{value:"vote_average.desc",children:"Najlepiej oceniane"}),p.jsx("option",{value:"first_air_date.desc",children:"Najnowsze"}),p.jsx("option",{value:"name.asc",children:"Alfabetycznie A-Z"})]})]})]})}),R?p.jsxs(p.Fragment,{children:[le&&p.jsx("div",{className:"flex items-center justify-center py-16",children:p.jsx(Cl,{className:"w-8 h-8 animate-spin text-primary"})}),xe&&p.jsx("div",{className:"text-center py-16",children:p.jsx("p",{className:"text-foreground-secondary mb-4",children:"Bd podczas adowania seriali. Sprawd klucz API."})}),!le&&!xe&&Ee.length>0&&p.jsx(sn.div,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},children:Array.from(new Map(Ee.map(ae=>[ae.id,ae])).values()).map((ae,Ke)=>p.jsx(sn.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},onClick:()=>T(`/series/${ae.id}`),children:p.jsx(El,{id:ae.id.toString(),title:ae.name||"Unknown",posterUrl:zt.getImageUrl(ae.poster_path),year:ae.first_air_date?new Date(ae.first_air_date).getFullYear():void 0,rating:ae.vote_average,layoutId:`series-${ae.id}`,tmdbId:ae.id,type:"tv",posterPath:ae.poster_path})},`${ae.id}-${Ke}`))}),!le&&!xe&&Ee.length===0&&p.jsx("div",{className:"text-center py-16",children:p.jsx("p",{className:"text-foreground-secondary mb-4",children:"Nie znaleziono seriali dla podanych kryteriw."})}),be&&!le&&p.jsx("div",{ref:w,className:"flex justify-center py-8",children:Ce&&p.jsx(Cl,{className:"w-6 h-6 animate-spin text-primary"})})]}):p.jsxs("div",{className:"space-y-12",children:[p.jsx(es,{title:"Popularne teraz",items:X?.pages.flatMap(ae=>ae.results)||[],type:"tv",isLoading:re}),p.jsx(es,{title:"Emitowane obecnie",items:ne?.pages.flatMap(ae=>ae.results)||[],type:"tv",isLoading:J}),p.jsx(es,{title:"Najlepiej oceniane",items:q?.pages.flatMap(ae=>ae.results)||[],type:"tv",isLoading:G}),p.jsx(es,{title:"Sci-Fi & Fantasy",items:B?.pages.flatMap(ae=>ae.results)||[],type:"tv"}),p.jsx(es,{title:"Krymina",items:W?.pages.flatMap(ae=>ae.results)||[],type:"tv"}),p.jsx(es,{title:"Komedia",items:Q?.pages.flatMap(ae=>ae.results)||[],type:"tv"}),p.jsx(es,{title:"Animacje",items:he?.pages.flatMap(ae=>ae.results)||[],type:"tv"}),p.jsx(es,{title:"Dokumentalne",items:ve?.pages.flatMap(ae=>ae.results)||[],type:"tv"})]})]})};var e4="AlertDialog",[ase]=io(e4,[rV]),$a=rV(),t4=n=>{const{__scopeAlertDialog:e,...t}=n,r=$a(e);return p.jsx(wV,{...r,...t,modal:!0})};t4.displayName=e4;var lse="AlertDialogTrigger",cse=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=$a(t);return p.jsx(_V,{...s,...r,ref:e})});cse.displayName=lse;var use="AlertDialogPortal",n4=n=>{const{__scopeAlertDialog:e,...t}=n,r=$a(e);return p.jsx(xV,{...r,...t})};n4.displayName=use;var dse="AlertDialogOverlay",r4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=$a(t);return p.jsx(jT,{...s,...r,ref:e})});r4.displayName=dse;var $d="AlertDialogContent",[hse,fse]=ase($d),pse=CN("AlertDialogContent"),s4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...s}=n,i=$a(t),o=b.useRef(null),l=St(e,o),u=b.useRef(null);return p.jsx(Tte,{contentName:$d,titleName:i4,docsSlug:"alert-dialog",children:p.jsx(hse,{scope:t,cancelRef:u,children:p.jsxs(OT,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:Ue(s.onOpenAutoFocus,d=>{d.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[p.jsx(pse,{children:r}),p.jsx(gse,{contentRef:o})]})})})});s4.displayName=$d;var i4="AlertDialogTitle",o4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=$a(t);return p.jsx(MT,{...s,...r,ref:e})});o4.displayName=i4;var a4="AlertDialogDescription",l4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=$a(t);return p.jsx(LT,{...s,...r,ref:e})});l4.displayName=a4;var mse="AlertDialogAction",c4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=$a(t);return p.jsx(VT,{...s,...r,ref:e})});c4.displayName=mse;var u4="AlertDialogCancel",d4=b.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:s}=fse(u4,t),i=$a(t),o=St(e,s);return p.jsx(VT,{...i,...r,ref:o})});d4.displayName=u4;var gse=({contentRef:n})=>{const e=`\`${$d}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$d}\` by passing a \`${a4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$d}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(n.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},yse=t4,vse=n4,h4=r4,f4=s4,p4=c4,m4=d4,g4=o4,y4=l4;const Dv=yse,wse=vse,v4=b.forwardRef(({className:n,...e},t)=>p.jsx(h4,{className:ot("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));v4.displayName=h4.displayName;const qp=b.forwardRef(({className:n,...e},t)=>p.jsxs(wse,{children:[p.jsx(v4,{}),p.jsx(f4,{ref:t,className:ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));qp.displayName=f4.displayName;const Hp=({className:n,...e})=>p.jsx("div",{className:ot("flex flex-col space-y-2 text-center sm:text-left",n),...e});Hp.displayName="AlertDialogHeader";const Kp=({className:n,...e})=>p.jsx("div",{className:ot("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Kp.displayName="AlertDialogFooter";const Gp=b.forwardRef(({className:n,...e},t)=>p.jsx(g4,{ref:t,className:ot("text-lg font-semibold",n),...e}));Gp.displayName=g4.displayName;const Yp=b.forwardRef(({className:n,...e},t)=>p.jsx(y4,{ref:t,className:ot("text-sm text-muted-foreground",n),...e}));Yp.displayName=y4.displayName;const Qp=b.forwardRef(({className:n,...e},t)=>p.jsx(p4,{ref:t,className:ot(TT(),n),...e}));Qp.displayName=p4.displayName;const Xp=b.forwardRef(({className:n,...e},t)=>p.jsx(m4,{ref:t,className:ot(TT({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));Xp.displayName=m4.displayName;function w4(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var _se=[" ","Enter","ArrowUp","ArrowDown"],xse=[" ","Enter"],xu="Select",[Dw,jw,bse]=k1(xu),[jh]=io(xu,[bse,Wv]),Ow=Wv(),[Sse,oc]=jh(xu),[Tse,Ese]=jh(xu),_4=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:m,disabled:v,required:w,form:T}=n,_=Ow(e),[S,R]=b.useState(null),[k,j]=b.useState(null),[I,L]=b.useState(!1),z=Sw(d),[P,A]=ru({prop:r,defaultProp:s??!1,onChange:i,caller:xu}),[D,O]=ru({prop:o,defaultProp:l,onChange:u,caller:xu}),V=b.useRef(null),F=S?T||!!S.closest("form"):!0,[U,X]=b.useState(new Set),re=Array.from(U).map(ne=>ne.props.value).join(";");return p.jsx(W$,{..._,children:p.jsxs(Sse,{required:w,scope:e,trigger:S,onTriggerChange:R,valueNode:k,onValueNodeChange:j,valueNodeHasChildren:I,onValueNodeHasChildrenChange:L,contentId:Pl(),value:D,onValueChange:O,open:P,onOpenChange:A,dir:z,triggerPointerDownPosRef:V,disabled:v,children:[p.jsx(Dw.Provider,{scope:e,children:p.jsx(Tse,{scope:n.__scopeSelect,onNativeOptionAdd:b.useCallback(ne=>{X(J=>new Set(J).add(ne))},[]),onNativeOptionRemove:b.useCallback(ne=>{X(J=>{const q=new Set(J);return q.delete(ne),q})},[]),children:t})}),F?p.jsxs(W4,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:m,value:D,onChange:ne=>O(ne.target.value),disabled:v,form:T,children:[D===void 0?p.jsx("option",{value:""}):null,Array.from(U)]},re):null]})})};_4.displayName=xu;var x4="SelectTrigger",b4=b.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,i=Ow(t),o=oc(x4,t),l=o.disabled||r,u=St(e,o.onTriggerChange),d=jw(t),h=b.useRef("touch"),[m,v,w]=H4(_=>{const S=d().filter(j=>!j.disabled),R=S.find(j=>j.value===o.value),k=K4(S,_,R);k!==void 0&&o.onValueChange(k.value)}),T=_=>{l||(o.onOpenChange(!0),w()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return p.jsx(VD,{asChild:!0,...i,children:p.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":q4(o.value)?"":void 0,...s,ref:u,onClick:Ue(s.onClick,_=>{_.currentTarget.focus(),h.current!=="mouse"&&T(_)}),onPointerDown:Ue(s.onPointerDown,_=>{h.current=_.pointerType;const S=_.target;S.hasPointerCapture(_.pointerId)&&S.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(T(_),_.preventDefault())}),onKeyDown:Ue(s.onKeyDown,_=>{const S=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&v(_.key),!(S&&_.key===" ")&&_se.includes(_.key)&&(T(),_.preventDefault())})})})});b4.displayName=x4;var S4="SelectValue",T4=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:i,placeholder:o="",...l}=n,u=oc(S4,t),{onValueNodeHasChildrenChange:d}=u,h=i!==void 0,m=St(e,u.onValueNodeChange);return Sr(()=>{d(h)},[d,h]),p.jsx(Xe.span,{...l,ref:m,style:{pointerEvents:"none"},children:q4(u.value)?p.jsx(p.Fragment,{children:o}):i})});T4.displayName=S4;var Cse="SelectIcon",E4=b.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return p.jsx(Xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});E4.displayName=Cse;var Pse="SelectPortal",C4=n=>p.jsx(Mv,{asChild:!0,...n});C4.displayName=Pse;var bu="SelectContent",P4=b.forwardRef((n,e)=>{const t=oc(bu,n.__scopeSelect),[r,s]=b.useState();if(Sr(()=>{s(new DocumentFragment)},[]),!t.open){const i=r;return i?gh.createPortal(p.jsx(k4,{scope:n.__scopeSelect,children:p.jsx(Dw.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),i):null}return p.jsx(R4,{...n,ref:e})});P4.displayName=bu;var Qi=10,[k4,ac]=jh(bu),kse="SelectContentImpl",Rse=Hd("SelectContent.RemoveScroll"),R4=b.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:v,collisionPadding:w,sticky:T,hideWhenDetached:_,avoidCollisions:S,...R}=n,k=oc(bu,t),[j,I]=b.useState(null),[L,z]=b.useState(null),P=St(e,le=>I(le)),[A,D]=b.useState(null),[O,V]=b.useState(null),F=jw(t),[U,X]=b.useState(!1),re=b.useRef(!1);b.useEffect(()=>{if(j)return tV(j)},[j]),HL();const ne=b.useCallback(le=>{const[xe,...ce]=F().map(ue=>ue.ref.current),[be]=ce.slice(-1),Ce=document.activeElement;for(const ue of le)if(ue===Ce||(ue?.scrollIntoView({block:"nearest"}),ue===xe&&L&&(L.scrollTop=0),ue===be&&L&&(L.scrollTop=L.scrollHeight),ue?.focus(),document.activeElement!==Ce))return},[F,L]),J=b.useCallback(()=>ne([A,j]),[ne,A,j]);b.useEffect(()=>{U&&J()},[U,J]);const{onOpenChange:q,triggerPointerDownPosRef:G}=k;b.useEffect(()=>{if(j){let le={x:0,y:0};const xe=be=>{le={x:Math.abs(Math.round(be.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(be.pageY)-(G.current?.y??0))}},ce=be=>{le.x<=10&&le.y<=10?be.preventDefault():j.contains(be.target)||q(!1),document.removeEventListener("pointermove",xe),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",ce,{capture:!0})}}},[j,q,G]),b.useEffect(()=>{const le=()=>q(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[q]);const[B,W]=H4(le=>{const xe=F().filter(Ce=>!Ce.disabled),ce=xe.find(Ce=>Ce.ref.current===document.activeElement),be=K4(xe,le,ce);be&&setTimeout(()=>be.ref.current.focus())}),Q=b.useCallback((le,xe,ce)=>{const be=!re.current&&!ce;(k.value!==void 0&&k.value===xe||be)&&(D(le),be&&(re.current=!0))},[k.value]),pe=b.useCallback(()=>j?.focus(),[j]),he=b.useCallback((le,xe,ce)=>{const be=!re.current&&!ce;(k.value!==void 0&&k.value===xe||be)&&V(le)},[k.value]),ve=r==="popper"?_1:A4,Ee=ve===_1?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:v,collisionPadding:w,sticky:T,hideWhenDetached:_,avoidCollisions:S}:{};return p.jsx(k4,{scope:t,content:j,viewport:L,onViewportChange:z,itemRefCallback:Q,selectedItem:A,onItemLeave:pe,itemTextRefCallback:he,focusSelectedItem:J,selectedItemText:O,position:r,isPositioned:U,searchRef:B,children:p.jsx(AT,{as:Rse,allowPinchZoom:!0,children:p.jsx(RT,{asChild:!0,trapped:k.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ue(s,le=>{k.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:p.jsx(Jp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:p.jsx(ve,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:le=>le.preventDefault(),...R,...Ee,onPlaced:()=>X(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ue(R.onKeyDown,le=>{const xe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!xe&&le.key.length===1&&W(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let be=F().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(le.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ce=le.target,ue=be.indexOf(Ce);be=be.slice(ue+1)}setTimeout(()=>ne(be)),le.preventDefault()}})})})})})})});R4.displayName=kse;var Ase="SelectItemAlignedPosition",A4=b.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,i=oc(bu,t),o=ac(bu,t),[l,u]=b.useState(null),[d,h]=b.useState(null),m=St(e,P=>h(P)),v=jw(t),w=b.useRef(!1),T=b.useRef(!0),{viewport:_,selectedItem:S,selectedItemText:R,focusSelectedItem:k}=o,j=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&_&&S&&R){const P=i.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),O=R.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=O.left-A.left,ue=D.left-Ce,ae=P.left-ue,Ke=P.width+ae,Mt=Math.max(Ke,A.width),qt=window.innerWidth-Qi,se=Hb(ue,[Qi,Math.max(Qi,qt-Mt)]);l.style.minWidth=Ke+"px",l.style.left=se+"px"}else{const Ce=A.right-O.right,ue=window.innerWidth-D.right-Ce,ae=window.innerWidth-P.right-ue,Ke=P.width+ae,Mt=Math.max(Ke,A.width),qt=window.innerWidth-Qi,se=Hb(ue,[Qi,Math.max(Qi,qt-Mt)]);l.style.minWidth=Ke+"px",l.style.right=se+"px"}const V=v(),F=window.innerHeight-Qi*2,U=_.scrollHeight,X=window.getComputedStyle(d),re=parseInt(X.borderTopWidth,10),ne=parseInt(X.paddingTop,10),J=parseInt(X.borderBottomWidth,10),q=parseInt(X.paddingBottom,10),G=re+ne+U+q+J,B=Math.min(S.offsetHeight*5,G),W=window.getComputedStyle(_),Q=parseInt(W.paddingTop,10),pe=parseInt(W.paddingBottom,10),he=P.top+P.height/2-Qi,ve=F-he,Ee=S.offsetHeight/2,le=S.offsetTop+Ee,xe=re+ne+le,ce=G-xe;if(xe<=he){const Ce=V.length>0&&S===V[V.length-1].ref.current;l.style.bottom="0px";const ue=d.clientHeight-_.offsetTop-_.offsetHeight,ae=Math.max(ve,Ee+(Ce?pe:0)+ue+J),Ke=xe+ae;l.style.height=Ke+"px"}else{const Ce=V.length>0&&S===V[0].ref.current;l.style.top="0px";const ae=Math.max(he,re+_.offsetTop+(Ce?Q:0)+Ee)+ce;l.style.height=ae+"px",_.scrollTop=xe-he+_.offsetTop}l.style.margin=`${Qi}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=F+"px",r?.(),requestAnimationFrame(()=>w.current=!0)}},[v,i.trigger,i.valueNode,l,d,_,S,R,i.dir,r]);Sr(()=>j(),[j]);const[I,L]=b.useState();Sr(()=>{d&&L(window.getComputedStyle(d).zIndex)},[d]);const z=b.useCallback(P=>{P&&T.current===!0&&(j(),k?.(),T.current=!1)},[j,k]);return p.jsx(Nse,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:z,children:p.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:p.jsx(Xe.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});A4.displayName=Ase;var Ise="SelectPopperPosition",_1=b.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=Qi,...i}=n,o=Ow(t);return p.jsx(FD,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_1.displayName=Ise;var[Nse,hE]=jh(bu,{}),x1="SelectViewport",I4=b.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,i=ac(x1,t),o=hE(x1,t),l=St(e,i.onViewportChange),u=b.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Dw.Slot,{scope:t,children:p.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ue(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=o;if(v?.current&&m){const w=Math.abs(u.current-h.scrollTop);if(w>0){const T=window.innerHeight-Qi*2,_=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),R=Math.max(_,S);if(R<T){const k=R+w,j=Math.min(T,k),I=k-j;m.style.height=j+"px",m.style.bottom==="0px"&&(h.scrollTop=I>0?I:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});I4.displayName=x1;var N4="SelectGroup",[Dse,jse]=jh(N4),Ose=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Pl();return p.jsx(Dse,{scope:t,id:s,children:p.jsx(Xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Ose.displayName=N4;var D4="SelectLabel",j4=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=jse(D4,t);return p.jsx(Xe.div,{id:s.id,...r,ref:e})});j4.displayName=D4;var jv="SelectItem",[Mse,O4]=jh(jv),M4=b.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:i,...o}=n,l=oc(jv,t),u=ac(jv,t),d=l.value===r,[h,m]=b.useState(i??""),[v,w]=b.useState(!1),T=St(e,k=>u.itemRefCallback?.(k,r,s)),_=Pl(),S=b.useRef("touch"),R=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(Mse,{scope:t,value:r,disabled:s,textId:_,isSelected:d,onItemTextChange:b.useCallback(k=>{m(j=>j||(k?.textContent??"").trim())},[]),children:p.jsx(Dw.ItemSlot,{scope:t,value:r,disabled:s,textValue:h,children:p.jsx(Xe.div,{role:"option","aria-labelledby":_,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:Ue(o.onFocus,()=>w(!0)),onBlur:Ue(o.onBlur,()=>w(!1)),onClick:Ue(o.onClick,()=>{S.current!=="mouse"&&R()}),onPointerUp:Ue(o.onPointerUp,()=>{S.current==="mouse"&&R()}),onPointerDown:Ue(o.onPointerDown,k=>{S.current=k.pointerType}),onPointerMove:Ue(o.onPointerMove,k=>{S.current=k.pointerType,s?u.onItemLeave?.():S.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(o.onPointerLeave,k=>{k.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Ue(o.onKeyDown,k=>{u.searchRef?.current!==""&&k.key===" "||(xse.includes(k.key)&&R(),k.key===" "&&k.preventDefault())})})})})});M4.displayName=jv;var Uf="SelectItemText",L4=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...i}=n,o=oc(Uf,t),l=ac(Uf,t),u=O4(Uf,t),d=Ese(Uf,t),[h,m]=b.useState(null),v=St(e,R=>m(R),u.onItemTextChange,R=>l.itemTextRefCallback?.(R,u.value,u.disabled)),w=h?.textContent,T=b.useMemo(()=>p.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:_,onNativeOptionRemove:S}=d;return Sr(()=>(_(T),()=>S(T)),[_,S,T]),p.jsxs(p.Fragment,{children:[p.jsx(Xe.span,{id:u.textId,...i,ref:v}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gh.createPortal(i.children,o.valueNode):null]})});L4.displayName=Uf;var V4="SelectItemIndicator",F4=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return O4(V4,t).isSelected?p.jsx(Xe.span,{"aria-hidden":!0,...r,ref:e}):null});F4.displayName=V4;var b1="SelectScrollUpButton",z4=b.forwardRef((n,e)=>{const t=ac(b1,n.__scopeSelect),r=hE(b1,n.__scopeSelect),[s,i]=b.useState(!1),o=St(e,r.onScrollButtonChange);return Sr(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=t.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?p.jsx($4,{...n,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=t;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});z4.displayName=b1;var S1="SelectScrollDownButton",U4=b.forwardRef((n,e)=>{const t=ac(S1,n.__scopeSelect),r=hE(S1,n.__scopeSelect),[s,i]=b.useState(!1),o=St(e,r.onScrollButtonChange);return Sr(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;i(h)};const u=t.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?p.jsx($4,{...n,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=t;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});U4.displayName=S1;var $4=b.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,i=ac("SelectScrollButton",t),o=b.useRef(null),l=jw(t),u=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>u(),[u]),Sr(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),p.jsx(Xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ue(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ue(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ue(s.onPointerLeave,()=>{u()})})}),Lse="SelectSeparator",B4=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return p.jsx(Xe.div,{"aria-hidden":!0,...r,ref:e})});B4.displayName=Lse;var T1="SelectArrow",Vse=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Ow(t),i=oc(T1,t),o=ac(T1,t);return i.open&&o.position==="popper"?p.jsx(zD,{...s,...r,ref:e}):null});Vse.displayName=T1;var Fse="SelectBubbleInput",W4=b.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const s=b.useRef(null),i=St(r,s),o=w4(e);return b.useEffect(()=>{const l=s.current;if(!l)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&h){const m=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(m)}},[o,e]),p.jsx(Xe.select,{...t,style:{...IN,...t.style},ref:i,defaultValue:e})});W4.displayName=Fse;function q4(n){return n===""||n===void 0}function H4(n){const e=ar(n),t=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const l=t.current+o;e(l),(function u(d){t.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),i=b.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,i]}function K4(n,e,t){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let o=zse(n,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==t?u:void 0}function zse(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var Use=_4,G4=b4,$se=T4,Bse=E4,Wse=C4,Y4=P4,qse=I4,Q4=j4,X4=M4,Hse=L4,Kse=F4,J4=z4,Z4=U4,ez=B4;const Bd=Use,Wd=$se,tu=b.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(G4,{ref:r,className:ot("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,p.jsx(Bse,{asChild:!0,children:p.jsx(tD,{className:"h-4 w-4 opacity-50"})})]}));tu.displayName=G4.displayName;const tz=b.forwardRef(({className:n,...e},t)=>p.jsx(J4,{ref:t,className:ot("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(rU,{className:"h-4 w-4"})}));tz.displayName=J4.displayName;const nz=b.forwardRef(({className:n,...e},t)=>p.jsx(Z4,{ref:t,className:ot("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(tD,{className:"h-4 w-4"})}));nz.displayName=Z4.displayName;const nu=b.forwardRef(({className:n,children:e,position:t="popper",...r},s)=>p.jsx(Wse,{children:p.jsxs(Y4,{ref:s,className:ot("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,onWheel:i=>i.stopPropagation(),...r,children:[p.jsx(tz,{}),p.jsx(qse,{className:ot("p-1",t==="popper"&&"w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(nz,{})]})}));nu.displayName=Y4.displayName;const Gse=b.forwardRef(({className:n,...e},t)=>p.jsx(Q4,{ref:t,className:ot("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));Gse.displayName=Q4.displayName;const xr=b.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(X4,{ref:r,className:ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...t,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Kse,{children:p.jsx(zv,{className:"h-4 w-4"})})}),p.jsx(Hse,{children:e})]}));xr.displayName=X4.displayName;const Yse=b.forwardRef(({className:n,...e},t)=>p.jsx(ez,{ref:t,className:ot("-mx-1 my-1 h-px bg-muted",n),...e}));Yse.displayName=ez.displayName;class Qse{async addLink(e,t,r,s,i){let o;t==="movie"?o=`${e}_movie`:o=`${e}_s${i?.seasonNumber}_e${i?.episodeNumber}`;const l=ut(Fe,"episodes",o);await vs(l,{tmdbId:e,type:t,seasonNumber:i?.seasonNumber||null,episodeNumber:i?.episodeNumber||null,title:i?.title||"",link:r,quality:i?.quality||"",language:i?.language||"PL",addedBy:s,addedAt:new Date,updatedAt:new Date},{merge:!0})}async addEpisodeLink(e,t,r,s,i,o){return this.addLink(e,"tv",s,i,{seasonNumber:t,episodeNumber:r,...o})}async getEpisodeLink(e,t,r){const s=`${e}_s${t}_e${r}`,i=ut(Fe,"episodes",s),o=await Ms(i);if(!o.exists())return null;const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type||"tv",seasonNumber:l.seasonNumber,episodeNumber:l.episodeNumber,title:l.title,link:l.link,links:l.links||[],quality:l.quality,language:l.language,addedBy:l.addedBy,addedAt:l.addedAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}async getSeasonEpisodes(e,t){const r=Dn(Fe,"episodes"),s=Vs(r,In("tmdbId","==",e),In("seasonNumber","==",t),Yf("episodeNumber","asc"));return(await Nn(s)).docs.map(o=>{const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type||"tv",seasonNumber:l.seasonNumber,episodeNumber:l.episodeNumber,title:l.title,link:l.link,links:l.links||[],quality:l.quality,language:l.language,addedBy:l.addedBy,addedAt:l.addedAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}})}async getSeriesEpisodes(e){const t=Dn(Fe,"episodes"),r=Vs(t,In("tmdbId","==",e),Yf("seasonNumber","asc"),Yf("episodeNumber","asc"));return(await Nn(r)).docs.map(i=>{const o=i.data();return{id:i.id,tmdbId:o.tmdbId,type:o.type||"tv",seasonNumber:o.seasonNumber,episodeNumber:o.episodeNumber,title:o.title,link:o.link,links:o.links||[],quality:o.quality,language:o.language,addedBy:o.addedBy,addedAt:o.addedAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date}})}async deleteEpisodeLink(e,t,r){const s=`${e}_s${t}_e${r}`,i=ut(Fe,"episodes",s);await ki(i)}async hasEpisodeLink(e,t,r){return await this.getEpisodeLink(e,t,r)!==null}async getMovieLinks(e){const t=Dn(Fe,"episodes"),r=Vs(t,In("tmdbId","==",e),In("type","==","movie"));return(await Nn(r)).docs.map(i=>{const o=i.data();return{id:i.id,tmdbId:o.tmdbId,type:o.type,seasonNumber:o.seasonNumber,episodeNumber:o.episodeNumber,title:o.title,link:o.link,links:o.links||[],quality:o.quality,language:o.language,addedBy:o.addedBy,addedAt:o.addedAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date}})}async deleteMovieLink(e,t){const r=ut(Fe,"episodes",t);await ki(r)}}const Oh=new Qse,Xse=(n,e)=>jn({queryKey:["episodes",n,e],queryFn:()=>Oh.getSeasonEpisodes(n,e),enabled:!!n&&!!e,staleTime:300*1e3}),Jse=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({tmdbId:t,seasonNumber:r,episodeNumber:s,link:i,options:o})=>Oh.addEpisodeLink(t,r,s,i,n.uid,o),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["episodes",r.tmdbId]}),e.invalidateQueries({queryKey:["episodes",r.tmdbId,r.seasonNumber]}),e.invalidateQueries({queryKey:["episode",r.tmdbId,r.seasonNumber,r.episodeNumber]})}})},Zse=()=>{const n=cr();return $r({mutationFn:({tmdbId:e,seasonNumber:t,episodeNumber:r})=>Oh.deleteEpisodeLink(e,t,r),onSuccess:(e,t)=>{n.invalidateQueries({queryKey:["episodes",t.tmdbId]}),n.invalidateQueries({queryKey:["episodes",t.tmdbId,t.seasonNumber]}),n.invalidateQueries({queryKey:["episode",t.tmdbId,t.seasonNumber,t.episodeNumber]})}})},eie=n=>jn({queryKey:["movie-links",n],queryFn:()=>Oh.getMovieLinks(n),enabled:!!n,staleTime:300*1e3}),tie=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({tmdbId:t,link:r,options:s})=>Oh.addLink(t,"movie",r,n.uid,s),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["movie-links",r.tmdbId]})}})},nie=()=>{const n=cr();return $r({mutationFn:({tmdbId:e,linkId:t})=>Oh.deleteMovieLink(e,t),onSuccess:(e,t)=>{n.invalidateQueries({queryKey:["movie-links",t.tmdbId]})}})},rz=n=>{const e=b.useRef(null),t=b.useCallback(async()=>{if("wakeLock"in navigator)try{e.current=await navigator.wakeLock.request("screen"),e.current.addEventListener("release",()=>{e.current=null})}catch(s){console.error("WakeLock error:",s)}},[]),r=b.useCallback(async()=>{e.current&&(await e.current.release(),e.current=null)},[]);b.useEffect(()=>(n?t():r(),()=>{r()}),[n,t,r]),b.useEffect(()=>{const s=async()=>{n&&document.visibilityState==="visible"&&!e.current&&await t()};return document.addEventListener("visibilitychange",s),()=>{document.removeEventListener("visibilitychange",s)}},[n,t])},rie=({tmdbId:n,movieTitle:e})=>{const{isAdmin:t}=It(),{t:r}=Ts(),[s,i]=b.useState(!1),[o,l]=b.useState(""),[u,d]=b.useState("1080p"),[h,m]=b.useState("PL"),[v,w]=b.useState(!1),[T,_]=b.useState(""),[S,R]=b.useState(!1),[k,j]=b.useState(null),[I,L]=b.useState(!1),[z,P]=b.useState(null),{data:A,isLoading:D}=eie(n),O=tie(),V=nie();rz(v),b.useEffect(()=>{if(s||v){GF();const q=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${q}px`}else Nv(),document.body.style.overflow="",document.body.style.paddingRight="";return()=>{Nv(),document.body.style.overflow="",document.body.style.paddingRight=""}},[s,v]);const F=(q,G)=>{G.preventDefault(),_(q),w(!0)},U=async()=>{if(o.trim())try{await O.mutateAsync({tmdbId:n,link:o.trim(),options:{title:e,quality:u,language:h}}),l(""),i(!1),Jt.success("Link dodany",{description:`${u} - ${h}`})}catch(q){console.error("Error adding movie link:",q),Jt.error("Bd podczas dodawania linku",{description:"Sprbuj ponownie"})}},X=q=>{P(q),L(!0)},re=async()=>{if(!z)return;L(!1);const q=z;P(null),Jt.promise(V.mutateAsync({tmdbId:n,linkId:q}),{loading:"Usuwanie wszystkich linkw...",success:"Wszystkie linki usunite",error:"Bd podczas usuwania"})},ne=(q,G)=>{j({linkId:q,linkIndex:G}),R(!0)},J=async()=>{if(!k)return;const{linkId:q,linkIndex:G}=k,B=A?.find(W=>W.id===q);!B||!B.links||(R(!1),j(null),Jt.promise((async()=>{const W=B.links.filter((he,ve)=>ve!==G);if(W.length===0){await V.mutateAsync({tmdbId:n,linkId:q});return}const Q=ut(Fe,"episodes",q),pe=W[0];await vs(Q,{...B,link:pe.url,quality:pe.quality||"720p",language:pe.version||"PL",links:W,updatedAt:new Date},{merge:!0}),await V.mutateAsync({tmdbId:n,linkId:q})})(),{loading:"Usuwanie linku...",success:"Link usunity",error:"Bd podczas usuwania linku"}))};return!t&&(!A||A.length===0)?null:p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold",children:r("details.manageLinks")}),t&&p.jsxs(Xo,{open:s,onOpenChange:i,modal:!0,children:[p.jsx(gm,{asChild:!0,children:p.jsxs(Ae,{size:"sm",variant:"outline",children:[p.jsx(iu,{className:"w-4 h-4 mr-2"}),r("details.addLink")]})}),p.jsxs(so,{className:"max-h-[90vh] overflow-y-auto",children:[p.jsxs(Oa,{children:[p.jsx(Jo,{children:r("details.addLink")}),p.jsx(gu,{children:e})]}),p.jsxs("div",{className:"space-y-4 overflow-visible",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"link",children:"Link do filmu"}),p.jsx(bs,{id:"link",value:o,onChange:q=>l(q.target.value),placeholder:"https://...",type:"url"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"quality",children:"Jako"}),p.jsxs(Bd,{value:u,onValueChange:d,children:[p.jsx(tu,{id:"quality",children:p.jsx(Wd,{})}),p.jsxs(nu,{children:[p.jsx(xr,{value:"2160p",children:"4K (2160p)"}),p.jsx(xr,{value:"1080p",children:"Full HD (1080p)"}),p.jsx(xr,{value:"720p",children:"HD (720p)"}),p.jsx(xr,{value:"480p",children:"SD (480p)"})]})]})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"language",children:"Jzyk"}),p.jsxs(Bd,{value:h,onValueChange:m,children:[p.jsx(tu,{id:"language",children:p.jsx(Wd,{})}),p.jsxs(nu,{children:[p.jsx(xr,{value:"PL",children:"Polski"}),p.jsx(xr,{value:"ENG",children:"Angielski"}),p.jsx(xr,{value:"PL/ENG",children:"PL/ENG"})]})]})]})]}),p.jsx(Ae,{onClick:U,disabled:!o.trim()||O.isPending,className:"w-full",children:r("details.addLink")})]})]})]})]}),D?p.jsx("div",{className:"text-center py-4 text-foreground-secondary",children:"adowanie..."}):A&&A.length>0?p.jsx("div",{className:"space-y-4",children:A.map(q=>p.jsxs("div",{className:"bg-background rounded-xl p-6 border-2 border-border hover:border-primary/50 transition-colors",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-border",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold",children:"Dostpne odtwarzacze"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:q.links&&q.links.length>0?`${q.links.length} ${q.links.length===1?"link":"linki"} streamingowe`:"Brak linkw"})]}),t&&p.jsxs(Ae,{size:"sm",variant:"ghost",onClick:()=>X(q.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:[p.jsx(zl,{className:"w-4 h-4 mr-2"}),"Usu wszystkie"]})]}),q.links&&q.links.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:q.links.map((G,B)=>p.jsxs("div",{className:"flex items-center gap-3 p-4 bg-background-secondary hover:bg-primary/5 rounded-lg border border-border hover:border-primary/50 transition-all group/link",children:[p.jsxs("button",{onClick:W=>F(G.url,W),className:"flex items-center gap-3 flex-1 min-w-0 text-left",children:[p.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center group-hover/link:bg-primary/30 transition-colors",children:p.jsx(Ny,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"font-semibold text-sm truncate",children:G.provider}),p.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[G.version&&p.jsx("span",{children:G.version}),G.quality&&p.jsxs(p.Fragment,{children:[G.version&&p.jsx("span",{children:""}),p.jsx("span",{className:"text-primary font-medium",children:G.quality})]})]})]})]}),t&&p.jsx(Ae,{size:"icon",variant:"ghost",onClick:W=>{W.stopPropagation(),ne(q.id,B)},className:"h-8 w-8 flex-shrink-0 transition-opacity text-destructive hover:bg-destructive/10",children:p.jsx(zl,{className:"w-4 h-4"})})]},B))}):q.link?p.jsxs("a",{href:q.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-background-secondary hover:bg-primary/5 rounded-lg border border-border hover:border-primary/50 transition-all",children:[p.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:p.jsx(Ny,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"font-semibold",children:"Odtwrz film"}),p.jsxs("div",{className:"text-xs text-muted-foreground",children:[q.quality,"  ",q.language]})]})]}):p.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Brak dostpnych linkw"})]},q.id))}):p.jsxs("div",{className:"text-center py-8 text-foreground-secondary",children:[p.jsx("p",{children:r("details.noLinks")}),t&&p.jsx("p",{className:"text-sm mt-2",children:r("details.addFirstLink")})]}),p.jsx(Xo,{open:v,onOpenChange:w,children:p.jsx(so,{className:"max-w-7xl w-full h-[90vh] p-0",children:p.jsx("div",{className:"relative w-full h-full bg-black",children:p.jsx("iframe",{src:T,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"Video Player"})})})}),p.jsx(Dv,{open:S,onOpenChange:R,children:p.jsxs(qp,{children:[p.jsxs(Hp,{children:[p.jsx(Gp,{children:"Usun link?"}),p.jsx(Yp,{children:"Czy na pewno chcesz usun ten link? Ta operacja jest nieodwracalna."})]}),p.jsxs(Kp,{children:[p.jsx(Xp,{children:"Anuluj"}),p.jsx(Qp,{onClick:J,children:"Usu"})]})]})}),p.jsx(Dv,{open:I,onOpenChange:L,children:p.jsxs(qp,{children:[p.jsxs(Hp,{children:[p.jsx(Gp,{children:"Usun wszystkie linki?"}),p.jsx(Yp,{children:"Czy na pewno chcesz usun wszystkie linki tego filmu? Ta operacja jest nieodwracalna."})]}),p.jsxs(Kp,{children:[p.jsx(Xp,{children:"Anuluj"}),p.jsx(Qp,{onClick:re,children:"Usu wszystkie"})]})]})})]})},sz=b.forwardRef(({className:n,...e},t)=>p.jsx("textarea",{className:ot("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));sz.displayName="Textarea";class sie{async addReview(e,t,r,s,i,o,l){const u=`${e}_${t}_${r}`,d=ut(Fe,"reviews",u);await vs(d,{tmdbId:e,type:t,userId:r,userName:s,rating:i,review:o,mediaTitle:l||"",createdAt:ht.now(),updatedAt:ht.now()},{merge:!0})}async getUserReview(e,t,r){const s=`${e}_${t}_${r}`,i=ut(Fe,"reviews",s),o=await Ms(i);if(!o.exists())return null;const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type,userId:l.userId,userName:l.userName,rating:l.rating,review:l.review,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}async getReviews(e,t){const r=Dn(Fe,"reviews"),s=Vs(r,In("tmdbId","==",e),In("type","==",t),Yf("createdAt","desc"));return(await Nn(s)).docs.map(o=>{const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type,userId:l.userId,userName:l.userName,rating:l.rating,review:l.review,mediaTitle:l.mediaTitle,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}})}async deleteReview(e,t,r){const s=`${e}_${t}_${r}`,i=ut(Fe,"reviews",s);await ki(i)}async getAverageRating(e,t){const r=await this.getReviews(e,t);return r.length===0?{average:0,count:0}:{average:r.reduce((i,o)=>i+o.rating,0)/r.length,count:r.length}}async getUserReviews(e){const t=Dn(Fe,"reviews"),r=Vs(t,In("userId","==",e));return(await Nn(r)).docs.map(o=>{const l=o.data();return{id:o.id,tmdbId:l.tmdbId,type:l.type,userId:l.userId,userName:l.userName,rating:l.rating,review:l.review,mediaTitle:l.mediaTitle,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}).sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime())}}const Mh=new sie,iie=(n,e)=>jn({queryKey:["reviews",n,e],queryFn:async()=>{try{return await Mh.getReviews(n,e)}catch(t){throw console.error("Error fetching reviews:",t),t}},enabled:!!n,staleTime:120*1e3}),oie=(n,e)=>{const{user:t}=It();return jn({queryKey:["user-review",n,e,t?.uid],queryFn:()=>Mh.getUserReview(n,e,t.uid),enabled:!!t&&!!n,staleTime:120*1e3})},aie=(n,e)=>jn({queryKey:["average-rating",n,e],queryFn:()=>Mh.getAverageRating(n,e),enabled:!!n,staleTime:120*1e3}),lie=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({tmdbId:t,type:r,rating:s,review:i,mediaTitle:o})=>Mh.addReview(t,r,n.uid,n.displayName||"Anonim",s,i,o),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["reviews",r.tmdbId,r.type]}),e.invalidateQueries({queryKey:["user-review",r.tmdbId,r.type]}),e.invalidateQueries({queryKey:["average-rating",r.tmdbId,r.type]})}})},cie=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({tmdbId:t,type:r})=>Mh.deleteReview(t,r,n.uid),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["reviews",r.tmdbId,r.type]}),e.invalidateQueries({queryKey:["user-review",r.tmdbId,r.type]}),e.invalidateQueries({queryKey:["average-rating",r.tmdbId,r.type]})}})};function br(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function uie(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const ny=43200,yN=1440;let die={};function iz(){return die}function vN(n,e){const t=iz(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=br(n),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function wN(n){const e=br(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Iy(n,e){const t=br(n),r=br(e),s=t.getTime()-r.getTime();return s<0?-1:s>0?1:s}function hie(n){return uie(n,Date.now())}function fie(n,e){const t=br(n),r=br(e),s=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return s*12+i}function pie(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function mie(n,e){return+br(n)-+br(e)}function gie(n){const e=br(n);return e.setHours(23,59,59,999),e}function yie(n){const e=br(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function vie(n){const e=br(n);return+gie(e)==+yie(e)}function wie(n,e){const t=br(n),r=br(e),s=Iy(t,r),i=Math.abs(fie(t,r));let o;if(i<1)o=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-s*i);let l=Iy(t,r)===-s;vie(br(n))&&i===1&&Iy(n,r)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function _ie(n,e,t){const r=mie(n,e)/1e3;return pie(t?.roundingMethod)(r)}const xie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bie=(n,e,t)=>{let r;const s=xie[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function qd(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Sie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Eie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cie={date:qd({formats:Sie,defaultWidth:"full"}),time:qd({formats:Tie,defaultWidth:"full"}),dateTime:qd({formats:Eie,defaultWidth:"full"})},Pie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kie=(n,e,t,r)=>Pie[n];function No(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,l=t?.width?String(t.width):o;s=n.formattingValues[l]||n.formattingValues[o]}else{const o=n.defaultWidth,l=t?.width?String(t.width):n.defaultWidth;s=n.values[l]||n.values[o]}const i=n.argumentCallback?n.argumentCallback(e):e;return s[i]}}const Rie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Aie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Iie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Die={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oie=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Mie={ordinalNumber:Oie,era:No({values:Rie,defaultWidth:"wide"}),quarter:No({values:Aie,defaultWidth:"wide",argumentCallback:n=>n-1}),month:No({values:Iie,defaultWidth:"wide"}),day:No({values:Nie,defaultWidth:"wide"}),dayPeriod:No({values:Die,defaultWidth:"wide",formattingValues:jie,defaultFormattingWidth:"wide"})};function Do(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(l)?Vie(l,m=>m.test(o)):Lie(l,m=>m.test(o));let d;d=n.valueCallback?n.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function Lie(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Vie(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function oz(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],i=e.match(n.parsePattern);if(!i)return null;let o=n.valueCallback?n.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const Fie=/^(\d+)(th|st|nd|rd)?/i,zie=/\d+/i,Uie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$ie={any:[/^b/i,/^(a|c)/i]},Bie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wie={any:[/1/i,/2/i,/3/i,/4/i]},qie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xie={ordinalNumber:oz({matchPattern:Fie,parsePattern:zie,valueCallback:n=>parseInt(n,10)}),era:Do({matchPatterns:Uie,defaultMatchWidth:"wide",parsePatterns:$ie,defaultParseWidth:"any"}),quarter:Do({matchPatterns:Bie,defaultMatchWidth:"wide",parsePatterns:Wie,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Do({matchPatterns:qie,defaultMatchWidth:"wide",parsePatterns:Hie,defaultParseWidth:"any"}),day:Do({matchPatterns:Kie,defaultMatchWidth:"wide",parsePatterns:Gie,defaultParseWidth:"any"}),dayPeriod:Do({matchPatterns:Yie,defaultMatchWidth:"any",parsePatterns:Qie,defaultParseWidth:"any"})},Jie={code:"en-US",formatDistance:bie,formatLong:Cie,formatRelative:kie,localize:Mie,match:Xie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zie(n,e,t){const r=iz(),s=t?.locale??r.locale??Jie,i=2520,o=Iy(n,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:o});let u,d;o>0?(u=br(e),d=br(n)):(u=br(n),d=br(e));const h=_ie(d,u),m=(wN(d)-wN(u))/1e3,v=Math.round((h-m)/60);let w;if(v<2)return t?.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,l):h<10?s.formatDistance("lessThanXSeconds",10,l):h<20?s.formatDistance("lessThanXSeconds",20,l):h<40?s.formatDistance("halfAMinute",0,l):h<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):v===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",v,l);if(v<45)return s.formatDistance("xMinutes",v,l);if(v<90)return s.formatDistance("aboutXHours",1,l);if(v<yN){const T=Math.round(v/60);return s.formatDistance("aboutXHours",T,l)}else{if(v<i)return s.formatDistance("xDays",1,l);if(v<ny){const T=Math.round(v/yN);return s.formatDistance("xDays",T,l)}else if(v<ny*2)return w=Math.round(v/ny),s.formatDistance("aboutXMonths",w,l)}if(w=wie(d,u),w<12){const T=Math.round(v/ny);return s.formatDistance("xMonths",T,l)}else{const T=w%12,_=Math.trunc(w/12);return T<3?s.formatDistance("aboutXYears",_,l):T<9?s.formatDistance("overXYears",_,l):s.formatDistance("almostXYears",_+1,l)}}function az(n,e){return Zie(n,hie(n),e)}function eoe(n,e,t){const r=vN(n,t),s=vN(e,t);return+r==+s}const toe={lessThanXSeconds:{one:{regular:"mniej ni sekunda",past:"mniej ni sekund",future:"mniej ni sekund"},twoFour:"mniej ni {{count}} sekundy",other:"mniej ni {{count}} sekund"},xSeconds:{one:{regular:"sekunda",past:"sekund",future:"sekund"},twoFour:"{{count}} sekundy",other:"{{count}} sekund"},halfAMinute:{one:"p minuty",twoFour:"p minuty",other:"p minuty"},lessThanXMinutes:{one:{regular:"mniej ni minuta",past:"mniej ni minut",future:"mniej ni minut"},twoFour:"mniej ni {{count}} minuty",other:"mniej ni {{count}} minut"},xMinutes:{one:{regular:"minuta",past:"minut",future:"minut"},twoFour:"{{count}} minuty",other:"{{count}} minut"},aboutXHours:{one:{regular:"okoo godziny",past:"okoo godziny",future:"okoo godzin"},twoFour:"okoo {{count}} godziny",other:"okoo {{count}} godzin"},xHours:{one:{regular:"godzina",past:"godzin",future:"godzin"},twoFour:"{{count}} godziny",other:"{{count}} godzin"},xDays:{one:{regular:"dzie",past:"dzie",future:"1 dzie"},twoFour:"{{count}} dni",other:"{{count}} dni"},aboutXWeeks:{one:"okoo tygodnia",twoFour:"okoo {{count}} tygodni",other:"okoo {{count}} tygodni"},xWeeks:{one:"tydzie",twoFour:"{{count}} tygodnie",other:"{{count}} tygodni"},aboutXMonths:{one:"okoo miesic",twoFour:"okoo {{count}} miesice",other:"okoo {{count}} miesicy"},xMonths:{one:"miesic",twoFour:"{{count}} miesice",other:"{{count}} miesicy"},aboutXYears:{one:"okoo rok",twoFour:"okoo {{count}} lata",other:"okoo {{count}} lat"},xYears:{one:"rok",twoFour:"{{count}} lata",other:"{{count}} lat"},overXYears:{one:"ponad rok",twoFour:"ponad {{count}} lata",other:"ponad {{count}} lat"},almostXYears:{one:"prawie rok",twoFour:"prawie {{count}} lata",other:"prawie {{count}} lat"}};function noe(n,e){if(e===1)return n.one;const t=e%100;if(t<=20&&t>10)return n.other;const r=t%10;return r>=2&&r<=4?n.twoFour:n.other}function xx(n,e,t){const r=noe(n,e);return(typeof r=="string"?r:r[t]).replace("{{count}}",String(e))}const roe=(n,e,t)=>{const r=toe[n];return t?.addSuffix?t.comparison&&t.comparison>0?"za "+xx(r,e,"future"):xx(r,e,"past")+" temu":xx(r,e,"regular")},soe={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},ioe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ooe={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aoe={date:qd({formats:soe,defaultWidth:"full"}),time:qd({formats:ioe,defaultWidth:"full"}),dateTime:qd({formats:ooe,defaultWidth:"full"})},loe={masculine:"ostatni",feminine:"ostatnia"},coe={masculine:"ten",feminine:"ta"},uoe={masculine:"nastpny",feminine:"nastpna"},doe={0:"feminine",1:"masculine",2:"masculine",3:"feminine",4:"masculine",5:"masculine",6:"feminine"};function _N(n,e,t,r){let s;if(eoe(e,t,r))s=coe;else if(n==="lastWeek")s=loe;else if(n==="nextWeek")s=uoe;else throw new Error(`Cannot determine adjectives for token ${n}`);const i=e.getDay(),o=doe[i];return`'${s[o]}' eeee 'o' p`}const hoe={lastWeek:_N,yesterday:"'wczoraj o' p",today:"'dzisiaj o' p",tomorrow:"'jutro o' p",nextWeek:_N,other:"P"},foe=(n,e,t,r)=>{const s=hoe[n];return typeof s=="function"?s(n,e,t,r):s},poe={narrow:["p.n.e.","n.e."],abbreviated:["p.n.e.","n.e."],wide:["przed nasz er","naszej ery"]},moe={narrow:["1","2","3","4"],abbreviated:["I kw.","II kw.","III kw.","IV kw."],wide:["I kwarta","II kwarta","III kwarta","IV kwarta"]},goe={narrow:["S","L","M","K","M","C","L","S","W","P","L","G"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie"]},yoe={narrow:["s","l","m","k","m","c","l","s","w","p","l","g"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia"]},voe={narrow:["N","P","W","","C","P","S"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},woe={narrow:["n","p","w","","c","p","s"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},_oe={narrow:{am:"a",pm:"p",midnight:"pn.",noon:"po",morning:"rano",afternoon:"popo.",evening:"wiecz.",night:"noc"},abbreviated:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"},wide:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"}},xoe={narrow:{am:"a",pm:"p",midnight:"o pn.",noon:"w po.",morning:"rano",afternoon:"po po.",evening:"wiecz.",night:"w nocy"},abbreviated:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"},wide:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"}},boe=(n,e)=>String(n),Soe={ordinalNumber:boe,era:No({values:poe,defaultWidth:"wide"}),quarter:No({values:moe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:No({values:goe,defaultWidth:"wide",formattingValues:yoe,defaultFormattingWidth:"wide"}),day:No({values:voe,defaultWidth:"wide",formattingValues:woe,defaultFormattingWidth:"wide"}),dayPeriod:No({values:_oe,defaultWidth:"wide",formattingValues:xoe,defaultFormattingWidth:"wide"})},Toe=/^(\d+)?/i,Eoe=/\d+/i,Coe={narrow:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,abbreviated:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,wide:/^(przed\s*nasz(|a)\s*er(|a)|naszej\s*ery)/i},Poe={any:[/^p/i,/^n/i]},koe={narrow:/^[1234]/i,abbreviated:/^(I|II|III|IV)\s*kw\.?/i,wide:/^(I|II|III|IV)\s*kwarta(|l)/i},Roe={narrow:[/1/i,/2/i,/3/i,/4/i],any:[/^I kw/i,/^II kw/i,/^III kw/i,/^IV kw/i]},Aoe={narrow:/^[slmkcwpg]/i,abbreviated:/^(sty|lut|mar|kwi|maj|cze|lip|sie|wrz|pa(|z)|lis|gru)/i,wide:/^(stycznia|stycze(|n)|lutego|luty|marca|marzec|kwietnia|kwiecie(|n)|maja|maj|czerwca|czerwiec|lipca|lipiec|sierpnia|sierpie(|n)|wrze(|s)nia|wrzesie(|n)|pa(|z)dziernika|pa(|z)dziernik|listopada|listopad|grudnia|grudzie(|n))/i},Ioe={narrow:[/^s/i,/^l/i,/^m/i,/^k/i,/^m/i,/^c/i,/^l/i,/^s/i,/^w/i,/^p/i,/^l/i,/^g/i],any:[/^st/i,/^lu/i,/^mar/i,/^k/i,/^maj/i,/^c/i,/^lip/i,/^si/i,/^w/i,/^p/i,/^lis/i,/^g/i]},Noe={narrow:/^[npwcs]/i,short:/^(nie|pon|wto|(|s)ro|czw|pi(|a)|sob)/i,abbreviated:/^(niedz|pon|wt|(|s)r|czw|pt|sob)\.?/i,wide:/^(niedziela|poniedzia(|l)ek|wtorek|(|s)roda|czwartek|pi(|a)tek|sobota)/i},Doe={narrow:[/^n/i,/^p/i,/^w/i,/^/i,/^c/i,/^p/i,/^s/i],abbreviated:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pt/i,/^so/i],any:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pi/i,/^so/i]},joe={narrow:/^(^a$|^p$|p(|l)n\.?|o\s*p(|l)n\.?|po(|l)\.?|w\s*po(|l)\.?|po\s*po(|l)\.?|rano|wiecz\.?|noc|w\s*nocy)/i,any:/^(am|pm|p(|l)noc|o\s*p(|l)nocy|po(|l)udnie|w\s*po(|l)udnie|popo(|l)udnie|po\s*po(|l)udniu|rano|wieczr|wieczorem|noc|w\s*nocy)/i},Ooe={narrow:{am:/^a$/i,pm:/^p$/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i},any:{am:/^am/i,pm:/^pm/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i}},Moe={ordinalNumber:oz({matchPattern:Toe,parsePattern:Eoe,valueCallback:n=>parseInt(n,10)}),era:Do({matchPatterns:Coe,defaultMatchWidth:"wide",parsePatterns:Poe,defaultParseWidth:"any"}),quarter:Do({matchPatterns:koe,defaultMatchWidth:"wide",parsePatterns:Roe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Do({matchPatterns:Aoe,defaultMatchWidth:"wide",parsePatterns:Ioe,defaultParseWidth:"any"}),day:Do({matchPatterns:Noe,defaultMatchWidth:"wide",parsePatterns:Doe,defaultParseWidth:"any"}),dayPeriod:Do({matchPatterns:joe,defaultMatchWidth:"any",parsePatterns:Ooe,defaultParseWidth:"any"})},lz={code:"pl",formatDistance:roe,formatLong:aoe,formatRelative:foe,localize:Soe,match:Moe,options:{weekStartsOn:1,firstWeekContainsDate:4}},cz=({tmdbId:n,type:e,mediaTitle:t})=>{const{user:r}=It(),[s,i]=b.useState(!1),[o,l]=b.useState(0),[u,d]=b.useState(0),[h,m]=b.useState(""),{data:v,isLoading:w}=iie(n,e),{data:T}=oie(n,e),{data:_}=aie(n,e),S=lie(),R=cie(),k=async()=>{if(o===0){alert("Wybierz ocen");return}try{await S.mutateAsync({tmdbId:n,type:e,rating:o,review:h.trim(),mediaTitle:t}),i(!1),l(0),m("")}catch(z){console.error("Error adding review:",z),alert("Bd podczas dodawania recenzji")}},j=()=>{T&&(l(T.rating),m(T.review),i(!0))},I=async()=>{if(confirm("Czy na pewno chcesz usun swoj recenzj?"))try{await R.mutateAsync({tmdbId:n,type:e})}catch(z){console.error("Error deleting review:",z),alert("Bd podczas usuwania recenzji")}},L=({value:z,onChange:P,readonly:A=!1})=>p.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(D=>p.jsx("button",{type:"button",disabled:A,onClick:()=>!A&&P?.(D),onMouseEnter:()=>!A&&d(D),onMouseLeave:()=>!A&&d(0),className:`transition-colors ${A?"cursor-default":"cursor-pointer hover:scale-110"}`,children:p.jsx(Gd,{className:`w-6 h-6 ${D<=(A?z:u||z)?"fill-yellow-400 text-yellow-400":"text-gray-400"}`})},D))});return p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8 space-y-6",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Recenzje"}),_&&_.count>0&&p.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[p.jsx("div",{className:"flex",children:[1,2,3,4,5].map(z=>p.jsx(Gd,{className:`w-5 h-5 ${z<=Math.round(_.average)?"fill-yellow-400 text-yellow-400":"text-gray-400"}`},z))}),p.jsx("span",{className:"text-lg font-semibold",children:_.average.toFixed(1)}),p.jsxs("span",{className:"text-sm text-foreground-secondary",children:["(",_.count," ",_.count===1?"recenzja":"recenzji",")"]})]})]})}),r&&p.jsx("div",{className:"border border-border rounded-lg p-4 space-y-4",children:T&&!s?p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"Twoja recenzja"}),p.jsx(L,{value:T.rating,readonly:!0})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ae,{size:"icon",variant:"ghost",onClick:j,children:p.jsx(sD,{className:"w-4 h-4"})}),p.jsx(Ae,{size:"icon",variant:"ghost",onClick:I,children:p.jsx(zl,{className:"w-4 h-4 text-destructive"})})]})]}),T.review&&p.jsx("p",{className:"text-foreground-secondary",children:T.review})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium mb-2",children:"Twoja ocena"}),p.jsx(L,{value:o,onChange:l})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium mb-2",children:"Recenzja (opcjonalnie)"}),p.jsx(sz,{value:h,onChange:z=>m(z.target.value),placeholder:"Podziel si swoj opini...",rows:4,maxLength:500}),p.jsxs("p",{className:"text-xs text-foreground-secondary mt-1",children:[h.length,"/500 znakw"]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ae,{onClick:k,disabled:o===0||S.isPending,children:T?"Zaktualizuj":"Dodaj recenzj"}),s&&p.jsx(Ae,{variant:"outline",onClick:()=>{i(!1),l(0),m("")},children:"Anuluj"})]})]})}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Wszystkie recenzje"}),w?p.jsx("p",{className:"text-center text-foreground-secondary py-8",children:"adowanie recenzji..."}):(()=>{const z=v?.filter(P=>P.userId!==r?.uid)||[];return z.length>0?z.map(P=>p.jsxs("div",{className:"border border-border rounded-lg p-4 space-y-2",children:[p.jsx("div",{className:"flex items-start justify-between",children:p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:P.userName}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx(L,{value:P.rating,readonly:!0}),p.jsx("span",{className:"text-xs text-foreground-secondary",children:az(P.createdAt,{addSuffix:!0,locale:lz})})]})]})}),P.review&&p.jsx("p",{className:"text-foreground-secondary",children:P.review})]},P.id)):p.jsx("p",{className:"text-center text-foreground-secondary py-8",children:r?"Brak innych recenzji. Bd pierwszy!":"Brak recenzji"})})()]})]})},Loe=({data:n})=>{const e=Br();return p.jsxs("div",{className:"relative h-[50vh] md:h-[60vh] -mx-6 lg:-mx-8 -mt-6 lg:-mt-8 mb-8 overflow-hidden",children:[p.jsx("div",{className:"absolute top-6 left-6 z-10",children:p.jsxs(Ae,{variant:"ghost",onClick:()=>e("/movies"),className:"gap-2 bg-black/50 hover:bg-black/70 backdrop-blur-sm",children:[p.jsx(su,{className:"w-4 h-4"}),"Powrt"]})}),p.jsx("img",{src:zt.getImageUrl(n.backdrop_path||n.poster_path,"original"),alt:n.title,className:"w-full h-full object-cover object-top"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 lg:p-8",children:p.jsxs("div",{className:"max-w-4xl",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:n.title}),n.tagline&&p.jsx("p",{className:"text-xl text-foreground-secondary italic mb-6",children:n.tagline})]})})]})};var Mw="Checkbox",[Voe]=io(Mw),[Foe,fE]=Voe(Mw);function zoe(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:u,required:d,value:h="on",internal_do_not_use_render:m}=n,[v,w]=ru({prop:t,defaultProp:s??!1,onChange:u,caller:Mw}),[T,_]=b.useState(null),[S,R]=b.useState(null),k=b.useRef(!1),j=T?!!o||!!T.closest("form"):!0,I={checked:v,disabled:i,setChecked:w,control:T,setControl:_,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:k,required:d,defaultChecked:Vl(s)?!1:s,isFormControl:j,bubbleInput:S,setBubbleInput:R};return p.jsx(Foe,{scope:e,...I,children:Uoe(m)?m(I):r})}var uz="CheckboxTrigger",dz=b.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:o,disabled:l,checked:u,required:d,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:T}=fE(uz,n),_=St(s,h),S=b.useRef(u);return b.useEffect(()=>{const R=i?.form;if(R){const k=()=>m(S.current);return R.addEventListener("reset",k),()=>R.removeEventListener("reset",k)}},[i,m]),p.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":Vl(u)?"mixed":u,"aria-required":d,"data-state":gz(u),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:_,onKeyDown:Ue(e,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:Ue(t,R=>{m(k=>Vl(k)?!0:!k),T&&w&&(v.current=R.isPropagationStopped(),v.current||R.stopPropagation())})})});dz.displayName=uz;var pE=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:u,onCheckedChange:d,form:h,...m}=n;return p.jsx(zoe,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:r,form:h,value:u,internal_do_not_use_render:({isFormControl:v})=>p.jsxs(p.Fragment,{children:[p.jsx(dz,{...m,ref:e,__scopeCheckbox:t}),v&&p.jsx(mz,{__scopeCheckbox:t})]})})});pE.displayName=Mw;var hz="CheckboxIndicator",fz=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=fE(hz,t);return p.jsx(Mi,{present:r||Vl(i.checked)||i.checked===!0,children:p.jsx(Xe.span,{"data-state":gz(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});fz.displayName=hz;var pz="CheckboxBubbleInput",mz=b.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:u,name:d,value:h,form:m,bubbleInput:v,setBubbleInput:w}=fE(pz,n),T=St(t,w),_=w4(i),S=kD(r);b.useEffect(()=>{const k=v;if(!k)return;const j=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(j,"checked").set,z=!s.current;if(_!==i&&L){const P=new Event("click",{bubbles:z});k.indeterminate=Vl(i),L.call(k,Vl(i)?!1:i),k.dispatchEvent(P)}},[v,_,i,s]);const R=b.useRef(Vl(i)?!1:i);return p.jsx(Xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??R.current,required:l,disabled:u,name:d,value:h,form:m,...e,tabIndex:-1,ref:T,style:{...e.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});mz.displayName=pz;function Uoe(n){return typeof n=="function"}function Vl(n){return n==="indeterminate"}function gz(n){return Vl(n)?"indeterminate":n?"checked":"unchecked"}const E1=b.forwardRef(({className:n,...e},t)=>p.jsx(pE,{ref:t,className:ot("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(fz,{className:ot("flex items-center justify-center text-current"),children:p.jsx(zv,{className:"h-4 w-4"})})}));E1.displayName=pE.displayName;function yz({movieId:n,title:e,type:t,year:r}){const{user:s,isAdmin:i}=It(),{t:o}=Ts(),[l,u]=b.useState(!1),[d,h]=b.useState(!1),[m,v]=b.useState(!1),[w,T]=b.useState([]),[_,S]=b.useState(new Set),[R,k]=b.useState([]),[j,I]=b.useState(!1),[L,z]=b.useState("");if(!i)return null;const P="https://desktop-posj0te.tail771563.ts.net/api",A=async re=>{h(!0);const ne=re||e;try{const q=await(await fetch(`${P}/scrape/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:ne,type:t==="series"?"serial":"film",year:r})})).json();if(q.success&&q.episodes&&q.episodes.length>0){if(T(q.episodes||[]),t==="series"){const G=[...new Set(q.episodes.map(B=>B.episode.match(/S(\d+)/)?.[0]||""))].filter(Boolean);k(G)}else t==="movie"&&q.episodes.length===1&&S(new Set([q.episodes[0].episode]));u(!0),I(!1),Jt.success(`Znaleziono ${q.episodes.length} odcinkw`,{description:"Wybierz odcinki do pobrania linkw",icon:p.jsx(Px,{className:"w-5 h-5"})})}else re?Jt.error("Nie znaleziono wynikw",{description:"Sprbuj innego tytuu",icon:p.jsx(zP,{className:"w-5 h-5"})}):(I(!0),z(e),Jt.warning("Nie znaleziono wynikw",{description:"Sprbuj wpisa tytu rcznie",icon:p.jsx(Tg,{className:"w-5 h-5"})}))}catch(J){console.error("Search error:",J),Jt.error("Nie mona poczy si z scraperem",{description:"Sprawd czy backend dziaa na porcie 5001",icon:p.jsx(Tg,{className:"w-5 h-5"}),duration:5e3})}finally{h(!1)}},D=()=>{L.trim()&&A(L.trim())},O=re=>{const ne=new Set(_);ne.has(re)?ne.delete(re):ne.add(re),S(ne)},V=re=>{const ne=w.filter(q=>q.episode.startsWith(re)).map(q=>q.episode),J=new Set(_);ne.forEach(q=>J.add(q)),S(J)},F=()=>{S(new Set(w.map(re=>re.episode)))},U=()=>{S(new Set)},X=async()=>{if(_.size===0){Jt.warning("Wybierz przynajmniej jeden odcinek",{icon:p.jsx(Tg,{className:"w-5 h-5"})});return}v(!0);try{const re=w.filter(q=>_.has(q.episode)),J=await(await fetch(`${P}/scrape/links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({episodes:re})})).json();if(J.success){for(const q of J.results)if(!(!q.links||q.links.length===0))if(t==="series"){const G=q.episode.match(/S(\d+)E(\d+)/i);if(!G)continue;const B=parseInt(G[1]),W=parseInt(G[2]),Q=`${n.replace("tmdb_","")}_s${B}_e${W}`,pe=q.links[0],he=ut(Fe,"episodes",Q);await vs(he,{tmdbId:parseInt(n.replace("tmdb_","")),type:"tv",seasonNumber:B,episodeNumber:W,title:`Odcinek ${W}`,link:pe.url,quality:pe.quality||"720p",language:pe.version||"PL",links:q.links.map(ve=>({url:ve.url,provider:ve.provider,quality:ve.quality||"720p",version:ve.version||"PL",dateAdded:ve.date_added||""})),addedBy:s?.uid,addedAt:new Date,updatedAt:new Date})}else{const G=`${n.replace("tmdb_","")}_movie`,B=q.links[0],W=ut(Fe,"episodes",G);await vs(W,{tmdbId:parseInt(n.replace("tmdb_","")),type:"movie",seasonNumber:null,episodeNumber:null,title:e,link:B.url,quality:B.quality||"720p",language:B.version||"PL",links:q.links.map(Q=>({url:Q.url,provider:Q.provider,quality:Q.quality||"720p",version:Q.version||"PL",dateAdded:Q.date_added||""})),addedBy:s?.uid,addedAt:new Date,updatedAt:new Date})}Jt.success(`Pobrano linki dla ${J.results.length} odcinkw`,{description:"Strona zostanie odwieona za chwil...",icon:p.jsx(Px,{className:"w-5 h-5"}),duration:3e3}),u(!1),S(new Set),setTimeout(()=>{window.location.reload()},2e3)}else Jt.error("Nie udao si pobra linkw",{description:J.error||"Sprawd logi w konsoli",icon:p.jsx(zP,{className:"w-5 h-5"})})}catch(re){console.error("Scrape error:",re),Jt.error("Nie mona pobra linkw",{description:"Sprawd czy backend dziaa i czy jeste zalogowany",icon:p.jsx(Tg,{className:"w-5 h-5"}),duration:5e3})}finally{v(!1)}};return p.jsxs(p.Fragment,{children:[p.jsx(Ae,{onClick:()=>A(),disabled:d,variant:"outline",size:"sm",children:d?p.jsxs(p.Fragment,{children:[p.jsx(Cl,{className:"mr-2 h-4 w-4 animate-spin"}),"Wyszukiwanie..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Fl,{className:"mr-2 h-4 w-4"}),"Przeszukaj"]})}),p.jsx(Xo,{open:j,onOpenChange:I,children:p.jsxs(so,{className:"max-w-md",children:[p.jsx(Oa,{children:p.jsx(Jo,{children:"Wpisz tytu rcznie"})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:['Nie znaleziono wynikw dla "',e,'". Sprbuj wpisa tytu w innej formie.']}),p.jsx(bs,{value:L,onChange:re=>z(re.target.value),placeholder:"Wpisz tytu...",onKeyDown:re=>{re.key==="Enter"&&D()}}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx(Ae,{variant:"outline",onClick:()=>I(!1),children:"Anuluj"}),p.jsx(Ae,{onClick:D,disabled:d||!L.trim(),children:d?p.jsxs(p.Fragment,{children:[p.jsx(Cl,{className:"mr-2 h-4 w-4 animate-spin"}),"Szukam..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Fl,{className:"mr-2 h-4 w-4"}),"Szukaj"]})})]})]})]})}),p.jsx(Xo,{open:l,onOpenChange:u,children:p.jsxs(so,{className:"max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[p.jsx(Oa,{className:"flex-shrink-0",children:p.jsxs(Jo,{children:["Wybierz ",t==="series"?"odcinki":"film"," do pobrania"]})}),p.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto",children:t==="movie"&&w.length===1?p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{className:"bg-primary/10 border-2 border-primary rounded-lg p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(E1,{checked:_.has(w[0].episode),onCheckedChange:()=>O(w[0].episode),className:"h-6 w-6"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold",children:w[0].title}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Gotowy do pobrania linkw"})]})]}),p.jsx(UP,{className:"w-8 h-8 text-primary"})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:'Kliknij "Pobierz linki" aby pobra wszystkie dostpne linki streamingowe dla tego filmu.'})]})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-2 flex-wrap",children:[p.jsx(Ae,{onClick:F,variant:"outline",size:"sm",children:o("common.selectAll")}),p.jsx(Ae,{onClick:U,variant:"outline",size:"sm",children:o("common.deselectAll")}),t==="series"&&R.map(re=>p.jsxs(Ae,{onClick:()=>V(re),variant:"outline",size:"sm",children:["Zaznacz ",re]},re))]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:w.map(re=>p.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded hover:bg-accent cursor-pointer",onClick:()=>O(re.episode),children:[p.jsx(E1,{checked:_.has(re.episode),onCheckedChange:()=>O(re.episode)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"font-medium text-sm",children:re.episode}),p.jsx("div",{className:"text-xs text-muted-foreground truncate",children:re.title})]})]},re.episode))})]})}),p.jsxs("div",{className:"flex items-center justify-between pt-4 border-t flex-shrink-0",children:[p.jsxs("div",{className:"text-sm text-muted-foreground",children:["Wybrano: ",_.size," / ",w.length]}),p.jsx(Ae,{onClick:X,disabled:m||_.size===0,children:m?p.jsxs(p.Fragment,{children:[p.jsx(Cl,{className:"mr-2 h-4 w-4 animate-spin"}),"Pobieranie..."]}):p.jsxs(p.Fragment,{children:[p.jsx(UP,{className:"mr-2 h-4 w-4"}),"Pobierz linki (",_.size,")"]})})]})]})})]})}const $oe=({data:n})=>p.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[p.jsx(dE,{tmdbId:n.id,type:"movie",title:n.title,posterPath:n.poster_path}),p.jsx(yz,{movieId:`tmdb_${n.id}`,title:n.title,type:"movie",year:n.release_date?new Date(n.release_date).getFullYear():void 0}),n.vote_average>0&&p.jsxs("div",{className:"flex items-center gap-2 bg-primary/20 px-4 py-2 rounded-lg",children:[p.jsx(Gd,{className:"w-5 h-5 text-primary fill-current"}),p.jsx("span",{className:"text-2xl font-bold",children:n.vote_average.toFixed(1)}),p.jsx("span",{className:"text-foreground-secondary text-sm",children:"/ 10"})]}),n.release_date&&p.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[p.jsx(eD,{className:"w-5 h-5"}),p.jsx("span",{className:"text-lg",children:new Date(n.release_date).getFullYear()})]}),n.runtime&&p.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[p.jsx(nD,{className:"w-5 h-5"}),p.jsxs("span",{className:"text-lg",children:[n.runtime," min"]})]}),n.status&&p.jsx("div",{className:"px-4 py-2 bg-background-secondary rounded-lg text-lg",children:n.status})]}),Boe=({data:n})=>{const{t:e}=Ts(),t=[];return n.popularity>0&&t.push({label:e("common.rating"),value:n.popularity.toFixed(0)}),n.vote_count>0&&t.push({label:e("common.rating"),value:n.vote_count.toLocaleString()}),n.budget&&n.budget>0&&t.push({label:e("details.budget"),value:`$${(n.budget/1e6).toFixed(0)}M`}),n.revenue&&n.revenue>0&&t.push({label:e("details.revenue"),value:`$${(n.revenue/1e6).toFixed(0)}M`}),n.spoken_languages&&n.spoken_languages.length>0&&t.push({label:e("details.originalLanguage"),value:n.spoken_languages.map(r=>r.name).join(", ")}),n.production_companies&&n.production_companies.length>0&&t.push({label:e("details.productionCompanies"),value:n.production_companies[0].name}),t.length===0?null:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((r,s)=>p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6",children:[p.jsx("h3",{className:"text-sm text-foreground-secondary mb-2",children:r.label}),p.jsx("p",{className:"text-2xl font-bold",children:r.value})]},s))})},Woe=()=>{const{id:n}=Gv(),e=Br(),{data:t,isLoading:r,error:s}=Zre(parseInt(n||"0")),{t:i}=Ts(),{isAdmin:o}=It();return r?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s||!t?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[p.jsx("p",{className:"text-foreground-secondary",children:i("movies.noResults")}),p.jsxs(Ae,{onClick:()=>e("/movies"),children:[p.jsx(su,{className:"w-4 h-4 mr-2"}),i("common.back")]})]}):p.jsxs(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen",children:[p.jsx(Loe,{data:t}),p.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[p.jsx($oe,{data:t}),t.genres&&t.genres.length>0&&p.jsx("div",{className:"flex flex-wrap gap-3",children:t.genres.map(l=>p.jsx("span",{className:"px-4 py-2 bg-primary/10 text-primary rounded-full text-base font-medium",children:l.name},l.id))}),o&&p.jsx(rie,{tmdbId:t.id,movieTitle:t.title}),p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:i("common.overview")}),p.jsx("p",{className:"text-foreground-secondary text-lg leading-relaxed",children:t.overview||i("common.noDescription")})]}),p.jsx(Boe,{data:t}),p.jsx(cz,{tmdbId:t.id,type:"movie",mediaTitle:t.title})]})]})};class qoe{getEpisodeId(e,t,r){return`${e}_s${t}_e${r}`}async markAsWatched(e,t,r,s){const i=this.getEpisodeId(t,r,s),o=ut(Fe,"users",e,"watchedEpisodes",i);await vs(o,{tmdbId:t,seasonNumber:r,episodeNumber:s,watchedAt:ht.now()})}async markAsUnwatched(e,t,r,s){const i=this.getEpisodeId(t,r,s),o=ut(Fe,"users",e,"watchedEpisodes",i);await ki(o)}async getWatchedEpisodesForShow(e,t){const r=Dn(Fe,"users",e,"watchedEpisodes"),s=Vs(r,In("tmdbId","==",t));return(await Nn(s)).docs.map(o=>({odcinekId:o.id,tmdbId:o.data().tmdbId,seasonNumber:o.data().seasonNumber,episodeNumber:o.data().episodeNumber,watchedAt:o.data().watchedAt.toDate()}))}async isEpisodeWatched(e,t,r,s){const i=this.getEpisodeId(t,r,s);return ut(Fe,"users",e,"watchedEpisodes",i),!(await Nn(Vs(Dn(Fe,"users",e,"watchedEpisodes"),In("__name__","==",i)))).empty}}const vz=new qoe,Hoe=n=>{const{user:e}=It();return jn({queryKey:["watchedEpisodes",e?.uid,n],queryFn:()=>vz.getWatchedEpisodesForShow(e.uid,n),enabled:!!e&&!!n,staleTime:30*1e3})},Koe=()=>{const{user:n}=It(),e=cr();return $r({mutationFn:({tmdbId:t,seasonNumber:r,episodeNumber:s})=>n?vz.markAsWatched(n.uid,t,r,s):Promise.reject(new Error("User not logged in")),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["watchedEpisodes",n?.uid,r.tmdbId]})},onError:t=>{console.error("Error marking episode as watched:",t)}})},Goe=({tmdbId:n,seasonNumber:e,episodeCount:t,seasonName:r})=>{const{isAdmin:s,user:i}=It(),{t:o}=Ts(),[l,u]=b.useState(!1),[d,h]=b.useState(1),[m,v]=b.useState(""),[w,T]=b.useState("1080p"),[_,S]=b.useState("PL"),[R,k]=b.useState(!1),[j,I]=b.useState(""),[L,z]=b.useState(!1),[P,A]=b.useState(null),[D,O]=b.useState(!1),[V,F]=b.useState(null),{data:U,isLoading:X}=Xse(n,e),{data:re}=tse(n,e),ne=Jse(),J=Zse(),{data:q}=Hoe(n),G=Koe(),B=new Set(q?.map(ce=>`${ce.seasonNumber}_${ce.episodeNumber}`)||[]);rz(R),b.useEffect(()=>{if(l||R){GF();const ce=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${ce}px`}else Nv(),document.body.style.overflow="",document.body.style.paddingRight="";return()=>{Nv(),document.body.style.overflow="",document.body.style.paddingRight=""}},[l,R]);const W=(ce,be,Ce)=>{Ce.preventDefault(),I(ce),k(!0),i&&G.mutate({tmdbId:n,seasonNumber:e,episodeNumber:be})},Q=async()=>{if(!m.trim())return;const ce=re?.episodes?.find(be=>be.episode_number===d)?.name||"";try{await ne.mutateAsync({tmdbId:n,seasonNumber:e,episodeNumber:d,link:m.trim(),options:{title:ce,quality:w,language:_}}),v(""),u(!1),Jt.success(o("common.success"),{description:`${o("details.episode")} ${d} - ${w}`})}catch(be){console.error("Error adding episode link:",be),Jt.error(o("common.error"),{description:"Sprbuj ponownie"})}},pe=ce=>{F(ce),O(!0)},he=async()=>{if(V===null)return;O(!1);const ce=V;F(null),Jt.promise(J.mutateAsync({tmdbId:n,seasonNumber:e,episodeNumber:ce}),{loading:"Usuwanie wszystkich linkw...",success:"Wszystkie linki usunite",error:"Bd podczas usuwania"})},ve=(ce,be)=>{A({episodeNumber:ce,linkIndex:be}),z(!0)},Ee=async()=>{if(!P)return;const{episodeNumber:ce,linkIndex:be}=P,Ce=xe.get(ce);!Ce||!Ce.links||(z(!1),A(null),Jt.promise((async()=>{const ue=Ce.links.filter((qt,se)=>se!==be);if(ue.length===0){await J.mutateAsync({tmdbId:n,seasonNumber:e,episodeNumber:ce});return}const ae=`${n}_s${e}_e${ce}`,Ke=ut(Fe,"episodes",ae),Mt=ue[0];await vs(Ke,{...Ce,link:Mt.url,quality:Mt.quality||"720p",language:Mt.version||"PL",links:ue,updatedAt:new Date},{merge:!0}),await J.mutateAsync({tmdbId:n,seasonNumber:e,episodeNumber:ce})})(),{loading:"Usuwanie linku...",success:"Link usunity",error:"Bd podczas usuwania linku"}))},le=Array.from({length:t},(ce,be)=>be+1),xe=new Map(U?.map(ce=>[ce.episodeNumber,ce])||[]);return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-lg font-semibold",children:r}),s&&p.jsxs(Xo,{open:l,onOpenChange:u,modal:!0,children:[p.jsx(gm,{asChild:!0,children:p.jsxs(Ae,{size:"sm",variant:"outline",children:[p.jsx(iu,{className:"w-4 h-4 mr-2"}),"Dodaj link"]})}),p.jsxs(so,{className:"max-h-[90vh] overflow-y-auto",children:[p.jsxs(Oa,{children:[p.jsx(Jo,{children:"Dodaj link do odcinka"}),p.jsxs(gu,{children:[r," - Dodaj lub zaktualizuj link do odcinka"]})]}),p.jsxs("div",{className:"space-y-4 overflow-visible",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"episode",children:"Odcinek"}),p.jsxs(Bd,{value:d.toString(),onValueChange:ce=>h(parseInt(ce)),children:[p.jsx(tu,{id:"episode",children:p.jsx(Wd,{})}),p.jsx(nu,{className:"max-h-[300px]",position:"popper",sideOffset:5,children:le.map(ce=>p.jsxs(xr,{value:ce.toString(),children:["Odcinek ",ce,xe.has(ce)&&" "]},ce))})]})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"link",children:"Link do odcinka"}),p.jsx(bs,{id:"link",value:m,onChange:ce=>v(ce.target.value),placeholder:"https://...",type:"url"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"quality",children:"Jako"}),p.jsxs(Bd,{value:w,onValueChange:T,children:[p.jsx(tu,{id:"quality",children:p.jsx(Wd,{})}),p.jsxs(nu,{children:[p.jsx(xr,{value:"2160p",children:"4K (2160p)"}),p.jsx(xr,{value:"1080p",children:"Full HD (1080p)"}),p.jsx(xr,{value:"720p",children:"HD (720p)"}),p.jsx(xr,{value:"480p",children:"SD (480p)"})]})]})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"language",children:"Jzyk"}),p.jsxs(Bd,{value:_,onValueChange:S,children:[p.jsx(tu,{id:"language",children:p.jsx(Wd,{})}),p.jsxs(nu,{children:[p.jsx(xr,{value:"PL",children:"Polski"}),p.jsx(xr,{value:"ENG",children:"Angielski"}),p.jsx(xr,{value:"PL/ENG",children:"PL/ENG"})]})]})]})]}),p.jsx(Ae,{onClick:Q,disabled:!m.trim()||ne.isPending,className:"w-full",children:xe.has(d)?"Zaktualizuj link":"Dodaj link"})]})]})]})]}),X?p.jsx("div",{className:"text-center py-4 text-foreground-secondary",children:"adowanie..."}):p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:re?.episodes?.map(ce=>{const be=xe.get(ce.episode_number);return p.jsxs("div",{className:`bg-background rounded-xl p-4 border transition-all group ${B.has(`${e}_${ce.episode_number}`)?"border-green-500/50 shadow-sm shadow-green-500/10":be?"border-border shadow-sm":"border-border/50 opacity-70"}`,children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"flex items-center gap-2 mb-1",children:p.jsxs("span",{className:"text-xs font-bold text-primary",children:["Odcinek ",ce.episode_number]})}),p.jsx("h4",{className:"font-bold text-sm line-clamp-2 leading-snug",children:ce.name||`Odcinek ${ce.episode_number}`})]}),s&&be&&p.jsx(Ae,{size:"icon",variant:"ghost",onClick:()=>pe(ce.episode_number),className:"h-8 w-8 text-destructive hover:bg-destructive/10 -mt-1 -mr-1",children:p.jsx(zl,{className:"w-4 h-4"})}),s&&!be&&p.jsx(Ae,{size:"icon",variant:"ghost",onClick:()=>{h(ce.episode_number),u(!0)},className:"h-8 w-8 text-muted-foreground hover:text-primary -mt-1 -mr-1",title:"Dodaj link",children:p.jsx(iu,{className:"w-4 h-4"})})]}),be?p.jsx("div",{className:"space-y-0 mt-auto border-t border-border/50",children:be.links&&be.links.length>0?be.links.map((Ce,ue)=>p.jsxs("div",{className:"flex items-center gap-2 hover:bg-primary/5 py-3 border-b border-border/50 last:border-0 transition-colors group/link",children:[p.jsxs("button",{onClick:ae=>W(Ce.url,ce.episode_number,ae),className:"flex items-center gap-2 text-sm text-primary hover:underline flex-1 min-w-0 text-left",children:[p.jsx(Ny,{className:"w-4 h-4 flex-shrink-0"}),p.jsxs("span",{className:"flex-1 min-w-0 truncate font-medium",children:[Ce.provider,Ce.version&&p.jsxs("span",{className:"text-foreground-secondary ml-1.5 opacity-80 decoration-0 font-normal",children:["  ",Ce.version]})]})]}),s&&p.jsx(Ae,{size:"icon",variant:"ghost",onClick:ae=>{ae.stopPropagation(),ve(ce.episode_number,ue)},className:"h-6 w-6 text-destructive/70 hover:text-destructive hover:bg-destructive/10",children:p.jsx(zl,{className:"w-3.5 h-3.5"})})]},ue)):be.link?p.jsxs("button",{onClick:Ce=>W(be.link,ce.episode_number,Ce),className:"w-full flex items-center justify-center gap-2 p-2.5 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-sm font-semibold",children:[p.jsx(Ny,{className:"w-4 h-4 fill-current"}),"Odtwrz"]}):null}):p.jsx("div",{className:"mt-auto",children:p.jsx("p",{className:"text-[11px] text-muted-foreground italic",children:"Brak dostpnych linkw"})})]},ce.id)})}),p.jsx(Xo,{open:R,onOpenChange:k,children:p.jsxs(so,{className:"max-w-7xl w-full h-[90vh] p-0","aria-describedby":void 0,children:[p.jsx(Jo,{className:"sr-only",children:"Odtwarzacz wideo"}),p.jsx("div",{className:"relative w-full h-full bg-black",children:p.jsx("iframe",{src:j,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"Video Player"})})]})}),p.jsx(Dv,{open:L,onOpenChange:z,children:p.jsxs(qp,{children:[p.jsxs(Hp,{children:[p.jsx(Gp,{children:"Usun link?"}),p.jsx(Yp,{children:"Czy na pewno chcesz usun ten link? Ta operacja jest nieodwracalna."})]}),p.jsxs(Kp,{children:[p.jsx(Xp,{children:"Anuluj"}),p.jsx(Qp,{onClick:Ee,children:"Usu"})]})]})}),p.jsx(Dv,{open:D,onOpenChange:O,children:p.jsxs(qp,{children:[p.jsxs(Hp,{children:[p.jsx(Gp,{children:"Usun wszystkie linki?"}),p.jsx(Yp,{children:"Czy na pewno chcesz usun wszystkie linki tego odcinka? Ta operacja jest nieodwracalna."})]}),p.jsxs(Kp,{children:[p.jsx(Xp,{children:"Anuluj"}),p.jsx(Qp,{onClick:he,children:"Usu wszystkie"})]})]})})]})},Yoe=()=>{const{id:n}=Gv(),e=Br(),{data:t,isLoading:r,error:s}=ese(parseInt(n||"0")),[i,o]=b.useState(null),[l,u]=b.useState(!1),{t:d}=Ts(),{isAdmin:h}=It();return r?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s||!t?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[p.jsx("p",{className:"text-foreground-secondary",children:d("series.noResults")}),p.jsxs(Ae,{onClick:()=>e("/series"),children:[p.jsx(su,{className:"w-4 h-4 mr-2"}),d("common.back")]})]}):p.jsxs(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen",children:[p.jsxs("div",{className:"relative h-[50vh] md:h-[60vh] -mx-6 lg:-mx-8 -mt-6 lg:-mt-8 mb-8 overflow-hidden",children:[p.jsx("div",{className:"absolute top-6 left-6 z-10",children:p.jsxs(Ae,{variant:"ghost",onClick:()=>e("/series"),className:"gap-2 bg-black/50 hover:bg-black/70 backdrop-blur-sm",children:[p.jsx(su,{className:"w-4 h-4"}),d("common.back")]})}),p.jsx("img",{src:zt.getImageUrl(t.backdrop_path||t.poster_path,"original"),alt:t.name,className:"w-full h-full object-cover object-top"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 lg:p-8",children:p.jsxs("div",{className:"max-w-4xl",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:t.name}),t.tagline&&p.jsx("p",{className:"text-xl text-foreground-secondary italic mb-6",children:t.tagline})]})})]}),p.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[p.jsx(dE,{tmdbId:t.id,type:"tv",title:t.name,posterPath:t.poster_path}),p.jsx(yz,{movieId:`tmdb_${t.id}`,title:t.name,type:"series",year:t.first_air_date?new Date(t.first_air_date).getFullYear():void 0}),t.vote_average>0&&p.jsxs("div",{className:"flex items-center gap-2 bg-primary/20 px-4 py-2 rounded-lg",children:[p.jsx(Gd,{className:"w-5 h-5 text-primary fill-current"}),p.jsx("span",{className:"text-2xl font-bold",children:t.vote_average.toFixed(1)}),p.jsx("span",{className:"text-foreground-secondary text-sm",children:"/ 10"})]}),t.first_air_date&&p.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[p.jsx(eD,{className:"w-5 h-5"}),p.jsx("span",{className:"text-lg",children:new Date(t.first_air_date).getFullYear()})]}),t.episode_run_time&&t.episode_run_time[0]&&p.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[p.jsx(nD,{className:"w-5 h-5"}),p.jsxs("span",{className:"text-lg",children:[t.episode_run_time[0]," min"]})]}),t.status&&p.jsx("div",{className:"px-4 py-2 bg-background-secondary rounded-lg text-lg",children:t.status})]}),t.genres&&t.genres.length>0&&p.jsx("div",{className:"flex flex-wrap gap-3",children:t.genres.map(m=>p.jsx("span",{className:"px-4 py-2 bg-primary/10 text-primary rounded-full text-base font-medium",children:m.name},m.id))}),t.number_of_seasons&&t.number_of_seasons>0&&p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Sezony i Odcinki"}),p.jsx("div",{className:"space-y-4",children:t.seasons?.filter(m=>m.season_number>0).slice(0,l?void 0:3).map(m=>p.jsxs("div",{className:"bg-background rounded-lg border border-border overflow-hidden",children:[p.jsxs("button",{onClick:()=>o(i===m.season_number?null:m.season_number),className:"w-full p-4 flex items-center gap-4 hover:bg-background/80 transition-colors",children:[m.poster_path&&p.jsx("img",{src:zt.getImageUrl(m.poster_path,"w200"),alt:m.name,className:"w-12 h-18 object-cover rounded"}),p.jsxs("div",{className:"flex-1 text-left",children:[p.jsx("h3",{className:"font-semibold text-lg",children:m.name}),p.jsxs("p",{className:"text-sm text-foreground-secondary",children:[m.episode_count," ",m.episode_count===1?"odcinek":"odcinkw",m.air_date&&`  ${new Date(m.air_date).getFullYear()}`]})]}),p.jsx("div",{className:"text-foreground-secondary",children:i===m.season_number?"":""})]}),i===m.season_number&&h&&p.jsx("div",{className:"p-4 border-t border-border",children:p.jsx(Goe,{tmdbId:t.id,seasonNumber:m.season_number,episodeCount:m.episode_count,seasonName:m.name})})]},m.id))}),t.seasons&&t.seasons.filter(m=>m.season_number>0).length>3&&p.jsx("div",{className:"mt-4 flex justify-center",children:p.jsx(Ae,{variant:"outline",onClick:()=>u(!l),className:"w-full sm:w-auto",children:l?p.jsx(p.Fragment,{children:d("common.showLess")}):p.jsxs(p.Fragment,{children:[d("common.showMore")," (",t.seasons.filter(m=>m.season_number>0).length,")"]})})}),p.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:p.jsxs("p",{className:"text-foreground-secondary",children:[p.jsx("span",{className:"font-semibold",children:t.number_of_seasons})," ",t.number_of_seasons===1?"sezon":"sezonw"," ",p.jsx("span",{className:"font-semibold ml-1",children:t.number_of_episodes})," ",t.number_of_episodes===1?"odcinek":"odcinkw"," cznie"]})})]}),p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 lg:p-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:d("common.overview")}),p.jsx("p",{className:"text-foreground-secondary text-lg leading-relaxed",children:t.overview||d("common.noDescription")})]}),(()=>{const m=[];return t.popularity>0&&m.push({label:"Popularno",value:t.popularity.toFixed(0)}),t.vote_count>0&&m.push({label:"Liczba gosw",value:t.vote_count.toLocaleString()}),t.spoken_languages&&t.spoken_languages.length>0&&m.push({label:"Jzyki",value:t.spoken_languages.map(v=>v.name).join(", ")}),t.production_companies&&t.production_companies.length>0&&m.push({label:"Produkcja",value:t.production_companies[0].name}),m.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((v,w)=>p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6",children:[p.jsx("h3",{className:"text-sm text-foreground-secondary mb-2",children:v.label}),p.jsx("p",{className:"text-2xl font-bold",children:v.value})]},w))}):null})(),p.jsx(cz,{tmdbId:t.id,type:"tv",mediaTitle:t.name})]})]})},Qoe=()=>{const{t:n}=Ts(),e=Br(),{data:t,isLoading:r}=vm(),s=XF(),i=Vre(),o=Fre(),[l,u]=b.useState(""),[d,h]=b.useState(""),[m,v]=b.useState(null),[w,T]=b.useState(!1),[_,S]=b.useState(!1),R=async()=>{if(l.trim())try{await s.mutateAsync({name:l.trim(),description:d.trim()||void 0}),u(""),h(""),T(!1)}catch(I){console.error("Error creating collection:",I)}},k=async()=>{if(!(!m||!m.name.trim()))try{await o.mutateAsync({collectionId:m.id,updates:{name:m.name.trim(),description:m.description?.trim()||void 0}}),v(null),S(!1)}catch(I){console.error("Error updating collection:",I)}},j=async I=>{if(confirm("Czy na pewno chcesz usun t kolekcj? Wszystkie elementy zostan usunite."))try{await i.mutateAsync(I)}catch(L){console.error("Error deleting collection:",L)}};return r?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):p.jsxs(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:n("collections.myCollections")}),p.jsx("p",{className:"text-foreground-secondary",children:n("collections.myCollections")})]}),p.jsxs(Xo,{open:w,onOpenChange:T,children:[p.jsx(gm,{asChild:!0,children:p.jsxs(Ae,{children:[p.jsx(iu,{className:"w-4 h-4 mr-2"}),n("collections.createNew")]})}),p.jsxs(so,{children:[p.jsxs(Oa,{children:[p.jsx(Jo,{children:n("collections.create")}),p.jsx(gu,{children:"Nadaj nazw swojej nowej kolekcji"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"name",children:n("collections.name")}),p.jsx(bs,{id:"name",value:l,onChange:I=>u(I.target.value),placeholder:n("collections.name"),onKeyDown:I=>I.key==="Enter"&&R()})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"description",children:n("collections.description")}),p.jsx(bs,{id:"description",value:d,onChange:I=>h(I.target.value),placeholder:"Opis kolekcji"})]}),p.jsx(Ae,{onClick:R,disabled:!l.trim()||s.isPending,className:"w-full",children:n("collections.save")})]})]})]})]}),!t||t.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[p.jsx(sU,{className:"w-20 h-20 text-foreground-secondary mb-4"}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Brak kolekcji"}),p.jsx("p",{className:"text-foreground-secondary mb-6",children:"Utwrz swoj pierwsz kolekcj, aby zacz organizowa filmy i seriale"}),p.jsxs(Ae,{onClick:()=>T(!0),children:[p.jsx(iu,{className:"w-4 h-4 mr-2"}),"Utwrz pierwsz kolekcj"]})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(I=>p.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-background-secondary rounded-xl p-6 hover:bg-background-secondary/80 transition-colors cursor-pointer group",onClick:()=>e(`/collections/${I.id}`),children:[p.jsx("div",{className:"flex items-start justify-between mb-4",children:p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-xl font-bold mb-1 group-hover:text-primary transition-colors",children:I.name}),I.description&&p.jsx("p",{className:"text-sm text-foreground-secondary line-clamp-2",children:I.description})]})}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("span",{className:"text-sm text-foreground-secondary",children:[I.itemCount," ",I.itemCount===1?"element":"elementw"]}),p.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx(Ae,{size:"icon",variant:"ghost",onClick:L=>{L.stopPropagation(),v({id:I.id,name:I.name,description:I.description}),S(!0)},children:p.jsx(sD,{className:"w-4 h-4"})}),p.jsx(Ae,{size:"icon",variant:"ghost",onClick:L=>{L.stopPropagation(),j(I.id)},children:p.jsx(zl,{className:"w-4 h-4"})})]})]})]},I.id))}),p.jsx(Xo,{open:_,onOpenChange:S,children:p.jsxs(so,{children:[p.jsxs(Oa,{children:[p.jsx(Jo,{children:"Edytuj kolekcj"}),p.jsx(gu,{children:"Zmie nazw lub opis kolekcji"})]}),m&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"edit-name",children:"Nazwa"}),p.jsx(bs,{id:"edit-name",value:m.name,onChange:I=>v({...m,name:I.target.value}),placeholder:n("collections.name")})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"edit-description",children:"Opis (opcjonalnie)"}),p.jsx(bs,{id:"edit-description",value:m.description||"",onChange:I=>v({...m,description:I.target.value}),placeholder:"Opis kolekcji"})]}),p.jsx(Ae,{onClick:k,disabled:!m.name.trim()||o.isPending,className:"w-full",children:"Zapisz zmiany"})]})]})})]})},Xoe=()=>{const{id:n}=Gv(),e=Br(),{t}=Ts(),{data:r}=vm(),{data:s,isLoading:i}=Ore(n||""),o=Lre(),l=r?.find(h=>h.id===n),u=async h=>{if(n)try{await o.mutateAsync({collectionId:n,itemId:h})}catch(m){console.error("Error removing item:",m)}},d=h=>{h.type==="movie"?e(`/movie/${h.tmdbId}`):e(`/series/${h.tmdbId}`)};return i?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):p.jsxs(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs(Ae,{variant:"ghost",onClick:()=>e("/collections"),children:[p.jsx(su,{className:"w-4 h-4 mr-2"}),t("common.back")]})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:l?.name||t("collections.title")}),l?.description&&p.jsx("p",{className:"text-foreground-secondary",children:l.description}),p.jsxs("p",{className:"text-sm text-foreground-secondary mt-2",children:[s?.length||0," ",t("collections.items")]})]}),!s||s.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[p.jsx("p",{className:"text-foreground-secondary mb-4",children:t("collections.noCollections")}),p.jsx("p",{className:"text-sm text-foreground-secondary",children:t("collections.createFirst")})]}):p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:s.map(h=>p.jsxs(sn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative",children:[p.jsxs("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden cursor-pointer",onClick:()=>d(h),children:[p.jsx("img",{src:h.posterPath?zt.getImageUrl(h.posterPath,"w500"):"https://via.placeholder.com/500x750?text=No+Image",alt:h.title,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),p.jsx(Ae,{size:"icon",variant:"destructive",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:m=>{m.stopPropagation(),u(h.id)},children:p.jsx(zl,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"mt-2",children:[p.jsx("h3",{className:"font-medium text-sm line-clamp-2 group-hover:text-primary transition-colors",children:h.title}),p.jsx("p",{className:"text-xs text-foreground-secondary",children:h.type==="movie"?t("movies.title"):t("series.title")})]})]},h.id))})]})},Joe=()=>{const{isAdmin:n}=It(),e=Br(),{t}=Ts(),[r,s]=b.useState([]),[i,o]=b.useState(!0);b.useEffect(()=>{if(!n){e("/");return}l()},[n,e]);const l=async()=>{try{const d=Dn(Fe,"users"),h=Vs(d,Yf("createdAt","desc")),v=(await Nn(h)).docs.map(w=>{const T=w.data();return{uid:T.uid,email:T.email,displayName:T.displayName,role:T.role||"user",createdAt:T.createdAt?.toDate()||new Date,lastLogin:T.lastLogin?.toDate()||new Date}});s(v)}catch(d){console.error("Error loading users:",d)}finally{o(!1)}},u=async(d,h)=>{try{await wb.updateUserRole(d,h),s(r.map(m=>m.uid===d?{...m,role:h}:m))}catch(m){console.error("Error updating role:",m),alert("Bd podczas zmiany roli")}};return n?i?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):p.jsxs(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ax,{className:"w-8 h-8 text-primary"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold",children:t("admin.userManagement")}),p.jsx("p",{className:"text-foreground-secondary",children:t("admin.title")})]})]}),p.jsx("div",{className:"bg-background-secondary rounded-xl overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-background border-b border-border",children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left p-4 font-semibold",children:t("profile.user")}),p.jsx("th",{className:"text-left p-4 font-semibold",children:t("profile.email")}),p.jsx("th",{className:"text-left p-4 font-semibold",children:t("admin.role")}),p.jsx("th",{className:"text-left p-4 font-semibold",children:"Utworzono"}),p.jsx("th",{className:"text-left p-4 font-semibold",children:"Ostatnie logowanie"})]})}),p.jsx("tbody",{children:r.map(d=>p.jsxs("tr",{className:"border-b border-border hover:bg-background/50",children:[p.jsx("td",{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:d.role==="admin"?p.jsx(kx,{className:"w-5 h-5 text-primary"}):p.jsx(jo,{className:"w-5 h-5 text-foreground-secondary"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:d.displayName||"Brak nazwy"}),p.jsxs("p",{className:"text-xs text-foreground-secondary",children:[d.uid.slice(0,8),"..."]})]})]})}),p.jsx("td",{className:"p-4 text-foreground-secondary",children:d.email}),p.jsx("td",{className:"p-4",children:p.jsxs(Bd,{value:d.role,onValueChange:h=>u(d.uid,h),children:[p.jsx(tu,{className:"w-32",children:p.jsx(Wd,{})}),p.jsxs(nu,{children:[p.jsx(xr,{value:"user",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(jo,{className:"w-4 h-4"}),"User"]})}),p.jsx(xr,{value:"admin",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(kx,{className:"w-4 h-4"}),"Admin"]})})]})]})}),p.jsx("td",{className:"p-4 text-foreground-secondary text-sm",children:d.createdAt.toLocaleDateString("pl-PL")}),p.jsx("td",{className:"p-4 text-foreground-secondary text-sm",children:d.lastLogin.toLocaleDateString("pl-PL")})]},d.uid))})]})})}),p.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-6",children:[p.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[p.jsx(Ax,{className:"w-5 h-5"}),"Informacje o rolach"]}),p.jsxs("ul",{className:"space-y-2 text-sm text-foreground-secondary",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"User"})," - Standardowy uytkownik z dostpem do filmw, seriali i kolekcji"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Admin"})," - Peny dostp + zarzdzanie uytkownikami"]})]})]})]}):null},Zoe=({review:n})=>{const[e,t]=b.useState("");return b.useEffect(()=>{(async()=>{try{if(n.type==="movie"){const s=await zt.getMovieDetails(n.tmdbId);t(s.title);const i=ut(Fe,"reviews",n.id);await Qf(i,{mediaTitle:s.title})}else{const s=await zt.getTVShowDetails(n.tmdbId);t(s.name||"");const i=ut(Fe,"reviews",n.id);await Qf(i,{mediaTitle:s.name})}}catch(s){console.error("Error fetching title:",s),t(`${n.type==="movie"?"Film":"Serial"} #${n.tmdbId}`)}})()},[n]),e?p.jsx("span",{className:"text-sm text-primary font-medium",children:e}):null},eae=()=>{const{userId:n}=Gv(),e=Br(),{data:t,isLoading:r}=jn({queryKey:["user-profile",n],queryFn:async()=>{const u=await Ms(ut(Fe,"users",n));if(!u.exists())throw new Error("User not found");return u.data()},enabled:!!n}),{data:s,isLoading:i}=jn({queryKey:["user-collections",n],queryFn:async()=>{const u=Dn(Fe,"users",n,"collections");return(await Nn(u)).docs.map(h=>({id:h.id,...h.data()}))},enabled:!!n,staleTime:300*1e3}),{data:o}=jn({queryKey:["all-collection-items",n,s?.map(u=>u.id)],queryFn:async()=>{if(!s||s.length===0)return{};const u={};return await Promise.all(s.map(async d=>{const h=Dn(Fe,"users",n,"collections",d.id,"items"),m=await Nn(h);u[d.id]=m.docs.slice(0,6).map(v=>v.data())})),u},enabled:!!n&&!!s&&s.length>0,staleTime:300*1e3}),{data:l}=jn({queryKey:["user-reviews",n],queryFn:()=>Mh.getUserReviews(n),enabled:!!n,staleTime:300*1e3});return r?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?p.jsxs(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs(Ae,{variant:"ghost",onClick:()=>e(-1),children:[p.jsx(su,{className:"w-4 h-4 mr-2"}),"Powrt"]})}),p.jsxs("div",{className:"bg-background-secondary rounded-xl p-8 flex items-center gap-6",children:[p.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/20 flex items-center justify-center",children:p.jsx(jo,{className:"w-12 h-12 text-primary"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:t.displayName}),p.jsx("p",{className:"text-foreground-secondary",children:t.email})]})]}),l&&l.length>0&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(oU,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:"Recenzje"}),p.jsxs("span",{className:"text-foreground-secondary",children:["(",l.length,")"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(u=>(u.mediaTitle,p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 space-y-3 cursor-pointer hover:bg-secondary/50 transition-colors",onClick:()=>e(u.type==="movie"?`/movie/${u.tmdbId}`:`/series/${u.tmdbId}`),children:[p.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(d=>p.jsx(Gd,{className:`w-5 h-5 ${d<=u.rating?"fill-yellow-400 text-yellow-400":"text-gray-400"}`},d)),p.jsx("span",{className:"text-xs text-foreground-secondary ml-2",children:az(u.createdAt,{addSuffix:!0,locale:lz})})]}),u.review&&p.jsx("p",{className:"text-foreground-secondary line-clamp-3",children:u.review}),u.mediaTitle?p.jsx("p",{className:"text-sm text-primary font-medium",children:u.mediaTitle}):p.jsx(Zoe,{review:u})]},u.id)))})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Rx,{className:"w-6 h-6 text-primary"}),p.jsx("h2",{className:"text-3xl font-bold",children:"Kolekcje"}),p.jsxs("span",{className:"text-foreground-secondary",children:["(",s?.length||0,")"]})]}),s&&s.length>0?p.jsx("div",{className:"space-y-6",children:s.map(u=>p.jsxs("div",{className:"bg-background-secondary rounded-xl p-6",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"text-2xl font-bold mb-1",children:u.name}),u.description&&p.jsx("p",{className:"text-foreground-secondary",children:u.description}),p.jsxs("p",{className:"text-sm text-foreground-secondary mt-2",children:[u.itemCount," ",u.itemCount===1?"element":"elementw"]})]}),o?.[u.id]&&o[u.id].length>0&&p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:o[u.id].map(d=>p.jsx("div",{onClick:()=>e(d.type==="movie"?`/movie/${d.tmdbId}`:`/series/${d.tmdbId}`),children:p.jsx(El,{id:d.tmdbId.toString(),title:d.title,posterUrl:d.posterPath?zt.getImageUrl(d.posterPath,"w500"):"https://via.placeholder.com/500x750?text=No+Image",tmdbId:d.tmdbId,type:d.type,posterPath:d.posterPath})},`${d.tmdbId}-${d.type}`))})]},u.id))}):p.jsxs("div",{className:"text-center py-12 bg-background-secondary rounded-xl",children:[p.jsx(Rx,{className:"w-16 h-16 text-foreground-secondary mx-auto mb-4"}),p.jsx("p",{className:"text-foreground-secondary",children:"Ten uytkownik nie ma jeszcze kolekcji"})]})]})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[p.jsx("p",{className:"text-foreground-secondary",children:"Nie znaleziono uytkownika"}),p.jsxs(Ae,{onClick:()=>e(-1),children:[p.jsx(su,{className:"w-4 h-4 mr-2"}),"Powrt"]})]})};var bx="rovingFocusGroup.onEntryFocus",tae={bubbles:!1,cancelable:!0},wm="RovingFocusGroup",[C1,wz,nae]=k1(wm),[rae,_z]=io(wm,[nae]),[sae,iae]=rae(wm),xz=b.forwardRef((n,e)=>p.jsx(C1.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(C1.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(oae,{...n,ref:e})})}));xz.displayName=wm;var oae=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=n,v=b.useRef(null),w=St(e,v),T=Sw(i),[_,S]=ru({prop:o,defaultProp:l??null,onChange:u,caller:wm}),[R,k]=b.useState(!1),j=ar(d),I=wz(t),L=b.useRef(!1),[z,P]=b.useState(0);return b.useEffect(()=>{const A=v.current;if(A)return A.addEventListener(bx,j),()=>A.removeEventListener(bx,j)},[j]),p.jsx(sae,{scope:t,orientation:r,dir:T,loop:s,currentTabStopId:_,onItemFocus:b.useCallback(A=>S(A),[S]),onItemShiftTab:b.useCallback(()=>k(!0),[]),onFocusableItemAdd:b.useCallback(()=>P(A=>A+1),[]),onFocusableItemRemove:b.useCallback(()=>P(A=>A-1),[]),children:p.jsx(Xe.div,{tabIndex:R||z===0?-1:0,"data-orientation":r,...m,ref:w,style:{outline:"none",...n.style},onMouseDown:Ue(n.onMouseDown,()=>{L.current=!0}),onFocus:Ue(n.onFocus,A=>{const D=!L.current;if(A.target===A.currentTarget&&D&&!R){const O=new CustomEvent(bx,tae);if(A.currentTarget.dispatchEvent(O),!O.defaultPrevented){const V=I().filter(ne=>ne.focusable),F=V.find(ne=>ne.active),U=V.find(ne=>ne.id===_),re=[F,U,...V].filter(Boolean).map(ne=>ne.ref.current);Tz(re,h)}}L.current=!1}),onBlur:Ue(n.onBlur,()=>k(!1))})})}),bz="RovingFocusGroupItem",Sz=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=n,u=Pl(),d=i||u,h=iae(bz,t),m=h.currentTabStopId===d,v=wz(t),{onFocusableItemAdd:w,onFocusableItemRemove:T,currentTabStopId:_}=h;return b.useEffect(()=>{if(r)return w(),()=>T()},[r,w,T]),p.jsx(C1.ItemSlot,{scope:t,id:d,focusable:r,active:s,children:p.jsx(Xe.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Ue(n.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:Ue(n.onFocus,()=>h.onItemFocus(d)),onKeyDown:Ue(n.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const R=cae(S,h.orientation,h.dir);if(R!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let j=v().filter(I=>I.focusable).map(I=>I.ref.current);if(R==="last")j.reverse();else if(R==="prev"||R==="next"){R==="prev"&&j.reverse();const I=j.indexOf(S.currentTarget);j=h.loop?uae(j,I+1):j.slice(I+1)}setTimeout(()=>Tz(j))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:_!=null}):o})})});Sz.displayName=bz;var aae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lae(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function cae(n,e,t){const r=lae(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aae[r]}function Tz(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function uae(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var dae=xz,hae=Sz,Lw="Tabs",[fae]=io(Lw,[_z]),Ez=_z(),[pae,mE]=fae(Lw),Cz=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=n,h=Sw(l),[m,v]=ru({prop:r,onChange:s,defaultProp:i??"",caller:Lw});return p.jsx(pae,{scope:t,baseId:Pl(),value:m,onValueChange:v,orientation:o,dir:h,activationMode:u,children:p.jsx(Xe.div,{dir:h,"data-orientation":o,...d,ref:e})})});Cz.displayName=Lw;var Pz="TabsList",kz=b.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...s}=n,i=mE(Pz,t),o=Ez(t);return p.jsx(dae,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:p.jsx(Xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});kz.displayName=Pz;var Rz="TabsTrigger",Az=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:s=!1,...i}=n,o=mE(Rz,t),l=Ez(t),u=Dz(o.baseId,r),d=jz(o.baseId,r),h=r===o.value;return p.jsx(hae,{asChild:!0,...l,focusable:!s,active:h,children:p.jsx(Xe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:Ue(n.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:Ue(n.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:Ue(n.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!s&&m&&o.onValueChange(r)})})})});Az.displayName=Rz;var Iz="TabsContent",Nz=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:s,children:i,...o}=n,l=mE(Iz,t),u=Dz(l.baseId,r),d=jz(l.baseId,r),h=r===l.value,m=b.useRef(h);return b.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),p.jsx(Mi,{present:s||h,children:({present:v})=>p.jsx(Xe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:d,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:m.current?"0s":void 0},children:v&&i})})});Nz.displayName=Iz;function Dz(n,e){return`${n}-trigger-${e}`}function jz(n,e){return`${n}-content-${e}`}var mae=Cz,Oz=kz,Mz=Az,Lz=Nz;const gae=mae,Vz=b.forwardRef(({className:n,...e},t)=>p.jsx(Oz,{ref:t,className:ot("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));Vz.displayName=Oz.displayName;const Fz=b.forwardRef(({className:n,...e},t)=>p.jsx(Mz,{ref:t,className:ot("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n),...e}));Fz.displayName=Mz.displayName;const zz=b.forwardRef(({className:n,...e},t)=>p.jsx(Lz,{ref:t,className:ot("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));zz.displayName=Lz.displayName;const yae=()=>{const{user:n,isAdmin:e,signOut:t}=It(),r=Br(),{t:s,i18n:i}=Ts(),o=u=>{i.changeLanguage(u),localStorage.setItem("language",u)},l=async()=>{try{await t(),r("/login")}catch(u){console.error("Error signing out:",u)}};return p.jsxs("div",{className:"space-y-8 max-w-4xl",children:[p.jsx(Nw,{text:s("profile.settings"),className:"text-4xl lg:text-5xl font-bold"}),p.jsxs(gae,{defaultValue:"account",className:"w-full",children:[p.jsx(Vz,{className:"grid w-full grid-cols-1 bg-background-secondary",children:p.jsx(Fz,{value:"account",children:s("profile.account")})}),p.jsxs(zz,{value:"account",className:"space-y-6 mt-6",children:[p.jsxs("div",{className:"bg-background-secondary rounded-lg p-6 border border-border space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-lg font-bold",children:s("profile.accountInfo")}),p.jsx("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${e?"bg-primary/20 text-primary":"bg-background text-foreground-secondary"}`,children:e?p.jsxs(p.Fragment,{children:[p.jsx(kx,{className:"w-4 h-4"}),s("profile.administrator")]}):p.jsxs(p.Fragment,{children:[p.jsx(jo,{className:"w-4 h-4"}),s("profile.user")]})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"email",children:s("profile.email")}),p.jsx(bs,{id:"email",type:"email",value:n?.email||"",className:"mt-1.5 bg-background",readOnly:!0})]}),p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"name",children:s("profile.name")}),p.jsx(bs,{id:"name",type:"text",value:n?.displayName||"",className:"mt-1.5 bg-background"})]})]})]}),p.jsxs("div",{className:"pt-4 border-t border-border",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:s("profile.preferences")}),p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{children:[p.jsx(Vr,{htmlFor:"language",children:s("profile.language")}),p.jsxs("select",{id:"language",value:i.language,onChange:u=>o(u.target.value),className:"w-full mt-1.5 bg-background border-border rounded-md px-3 py-2 text-sm",children:[p.jsx("option",{value:"pl",children:"Polski"}),p.jsx("option",{value:"en",children:"English"})]})]})})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(Ae,{variant:"outline",children:s("profile.cancel")}),p.jsx(Ae,{className:"bg-primary hover:bg-primary-hover",children:s("profile.save")})]})]}),p.jsxs("div",{className:"bg-background-secondary rounded-lg p-6 border border-border",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:s("profile.session")}),p.jsx("p",{className:"text-foreground-secondary mb-4",children:s("profile.sessionDescription")}),p.jsxs(Ae,{onClick:l,variant:"destructive",className:"w-full sm:w-auto",children:[p.jsx(rD,{className:"w-4 h-4 mr-2"}),s("auth.signOut")]})]})]})]})]})},vae=()=>{const{signInWithGoogle:n,user:e}=It(),t=Br(),[r,s]=b.useState(!1),{t:i}=Ts();b.useEffect(()=>{e&&t("/")},[e,t]);const o=async()=>{s(!0);try{await n()}catch(l){console.error("Login failed:",l);let u="Nie udao si zalogowa. Sprbuj ponownie.";l.code==="auth/configuration-not-found"?u="Bd konfiguracji Firebase. Sprawd czy domena jest autoryzowana w Firebase Console.":l.code==="auth/popup-closed-by-user"?u="Logowanie anulowane.":l.code==="auth/popup-blocked"&&(u="Popup zosta zablokowany przez przegldark."),Jt.error(u)}finally{s(!1)}};return p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:p.jsx(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:p.jsxs("div",{className:"bg-background-secondary border border-border rounded-2xl p-8 shadow-xl",children:[p.jsx("div",{className:"flex justify-center mb-8",children:p.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary flex items-center justify-center",children:p.jsx(Kd,{className:"w-10 h-10 text-primary-foreground"})})}),p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Archiwum"}),p.jsx("p",{className:"text-foreground-secondary",children:i("auth.loginDescription")})]}),p.jsxs(Ae,{onClick:o,disabled:r,className:"w-full bg-primary hover:bg-primary-hover text-primary-foreground py-6 text-lg",size:"lg",children:[p.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r?"Logowanie...":i("auth.signInWithGoogle")]}),p.jsx("p",{className:"text-center text-sm text-foreground-secondary mt-6",children:"Logujc si, akceptujesz nasze warunki uytkowania"})]})})})},wae=()=>p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})}),_ae=new CB,xae=()=>p.jsx(IB,{client:_ae,children:p.jsx(BG,{children:p.jsxs(lB,{children:[p.jsx(qU,{}),p.jsx(S6,{}),p.jsxs(z9,{basename:"/",children:[p.jsx(Cre,{}),p.jsx(Pre,{}),p.jsxs(D9,{children:[p.jsx(ti,{path:"/login",element:p.jsx(vae,{})}),p.jsx(ti,{path:"/",element:p.jsx(Co,{children:p.jsx(sse,{})})}),p.jsx(ti,{path:"/movies",element:p.jsx(Co,{children:p.jsx(ise,{})})}),p.jsx(ti,{path:"/series",element:p.jsx(Co,{children:p.jsx(ose,{})})}),p.jsx(ti,{path:"/movie/:id",element:p.jsx(Co,{children:p.jsx(Woe,{})})}),p.jsx(ti,{path:"/series/:id",element:p.jsx(Co,{children:p.jsx(Yoe,{})})}),p.jsx(ti,{path:"/collections",element:p.jsx(Co,{children:p.jsx(Qoe,{})})}),p.jsx(ti,{path:"/collections/:id",element:p.jsx(Co,{children:p.jsx(Xoe,{})})}),p.jsx(ti,{path:"/admin/users",element:p.jsx(Co,{children:p.jsx(Joe,{})})}),p.jsx(ti,{path:"/profile/:userId",element:p.jsx(Co,{children:p.jsx(eae,{})})}),p.jsx(ti,{path:"/profile",element:p.jsx(Co,{children:p.jsx(yae,{})})}),p.jsx(ti,{path:"*",element:p.jsx(wae,{})})]})]})]})})}),bae={dashboard:"Panel",movies:"Filmy",series:"Seriale",collections:"Kolekcje",profile:"Profil",admin:"Admin"},Sae={signIn:"Zaloguj si",signInWithGoogle:"Zaloguj si przez Google",signOut:"Wyloguj si",welcome:"Witaj ponownie",loginDescription:"Zaloguj si, aby kontynuowa"},Tae={settings:"Ustawienia",account:"Konto",accountInfo:"Informacje o koncie",email:"Email",name:"Imi i nazwisko",preferences:"Preferencje",language:"Jzyk",session:"Sesja",sessionDescription:"Wyloguj si ze swojego konta",cancel:"Anuluj",save:"Zapisz",administrator:"Administrator",user:"Uytkownik"},Eae={title:"Filmy",popular:"Popularne",topRated:"Najwyej oceniane",upcoming:"Nadchodzce",nowPlaying:"Teraz w kinach",search:"Szukaj filmw...",noResults:"Nie znaleziono filmw",loading:"adowanie...",addToCollection:"Dodaj do kolekcji",scrape:"Przeszukaj"},Cae={title:"Seriale",popular:"Popularne",topRated:"Najwyej oceniane",onTheAir:"Na antenie",airingToday:"Dzisiaj w TV",search:"Szukaj seriali...",noResults:"Nie znaleziono seriali",loading:"adowanie...",seasons:"Sezony",episodes:"Odcinki"},Pae={title:"Kolekcje",myCollections:"Moje kolekcje",create:"Utwrz kolekcj",createNew:"Nowa kolekcja",name:"Nazwa",description:"Opis",cancel:"Anuluj",save:"Zapisz",delete:"Usu",edit:"Edytuj",items:"elementw",noCollections:"Nie masz jeszcze adnych kolekcji",createFirst:"Utwrz swoj pierwsz kolekcj"},kae={welcome:"Witaj",stats:"Statystyki",recentActivity:"Ostatnia aktywno",friends:"Znajomi",recommendations:"Odkryj najpopularniejsze filmy i seriale",yourCollections:"Twoje kolekcje",viewAll:"Zobacz wszystkie",noCollectionsYet:"Nie masz jeszcze adnych kolekcji",createFirstCollection:"Utwrz swoj pierwsz kolekcj"},Rae={title:"Znajomi",myFriends:"Moi znajomi",friendRequests:"Zaproszenia",searchUsers:"Szukaj uytkownikw",addFriend:"Dodaj znajomego",removeFriend:"Usu znajomego",acceptRequest:"Akceptuj",rejectRequest:"Odrzu",pending:"Oczekujce",noFriends:"Nie masz jeszcze znajomych",noRequests:"Brak zaprosze"},Aae={title:"Panel Administratora",users:"Uytkownicy",manageUsers:"Zarzdzaj uytkownikami",userManagement:"Zarzdzanie uytkownikami",role:"Rola",changeRole:"Zmie rol",totalUsers:"cznie uytkownikw"},Iae={loading:"adowanie...",error:"Bd",success:"Sukces",close:"Zamknij",back:"Wstecz",next:"Dalej",previous:"Poprzedni",search:"Szukaj",filter:"Filtruj",sort:"Sortuj",year:"Rok",rating:"Ocena",genre:"Gatunek",duration:"Czas trwania",overview:"Opis",all:"Wszystkie",selectAll:"Zaznacz wszystkie",deselectAll:"Odznacz wszystkie",noDescription:"Brak opisu.",noName:"Brak nazwy",showMore:"Poka wicej",showLess:"Poka mniej",confirmDelete:"Czy na pewno chcesz usun?",update:"Zaktualizuj",add:"Dodaj"},Nae={cast:"Obsada",crew:"Ekipa",director:"Reyser",writer:"Scenarzysta",producer:"Producent",releaseDate:"Data premiery",runtime:"Czas trwania",budget:"Budet",revenue:"Przychody",status:"Status",originalLanguage:"Jzyk oryginalny",productionCompanies:"Firmy produkcyjne",reviews:"Recenzje",addReview:"Dodaj recenzj",yourReview:"Twoja recenzja",writeReview:"Napisz recenzj...",submit:"Wylij",delete:"Usu",edit:"Edytuj",season:"Sezon",episode:"Odcinek",episodes:"Odcinki",aired:"Emisja",addLink:"Dodaj link",manageLinks:"Zarzdzaj linkami",quality:"Jako",language:"Jzyk",link:"Link",play:"Odtwrz",noLinks:"Brak dostpnych linkw",addFirstLink:"Dodaj pierwszy link do tego odcinka"},Dae={nav:bae,auth:Sae,profile:Tae,movies:Eae,series:Cae,collections:Pae,dashboard:kae,friends:Rae,admin:Aae,common:Iae,details:Nae},jae={dashboard:"Dashboard",movies:"Movies",series:"Series",collections:"Collections",profile:"Profile",admin:"Admin"},Oae={signIn:"Sign In",signInWithGoogle:"Sign in with Google",signOut:"Sign Out",welcome:"Welcome back",loginDescription:"Sign in to continue"},Mae={settings:"Settings",account:"Account",accountInfo:"Account Information",email:"Email",name:"Full Name",preferences:"Preferences",language:"Language",session:"Session",sessionDescription:"Sign out of your account",cancel:"Cancel",save:"Save",administrator:"Administrator",user:"User"},Lae={title:"Movies",popular:"Popular",topRated:"Top Rated",upcoming:"Upcoming",nowPlaying:"Now Playing",search:"Search movies...",noResults:"No movies found",loading:"Loading...",addToCollection:"Add to Collection",scrape:"Scrape"},Vae={title:"Series",popular:"Popular",topRated:"Top Rated",onTheAir:"On The Air",airingToday:"Airing Today",search:"Search series...",noResults:"No series found",loading:"Loading...",seasons:"Seasons",episodes:"Episodes"},Fae={title:"Collections",myCollections:"My Collections",create:"Create Collection",createNew:"New Collection",name:"Name",description:"Description",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",items:"items",noCollections:"You don't have any collections yet",createFirst:"Create your first collection"},zae={welcome:"Welcome",stats:"Statistics",recentActivity:"Recent Activity",friends:"Friends",recommendations:"Discover the most popular movies and series",yourCollections:"Your Collections",viewAll:"View All",noCollectionsYet:"You don't have any collections yet",createFirstCollection:"Create your first collection"},Uae={title:"Friends",myFriends:"My Friends",friendRequests:"Friend Requests",searchUsers:"Search Users",addFriend:"Add Friend",removeFriend:"Remove Friend",acceptRequest:"Accept",rejectRequest:"Reject",pending:"Pending",noFriends:"You don't have any friends yet",noRequests:"No friend requests"},$ae={title:"Admin Panel",users:"Users",manageUsers:"Manage Users",userManagement:"User Management",role:"Role",changeRole:"Change Role",totalUsers:"Total Users"},Bae={loading:"Loading...",error:"Error",success:"Success",close:"Close",back:"Back",next:"Next",previous:"Previous",search:"Search",filter:"Filter",sort:"Sort",year:"Year",rating:"Rating",genre:"Genre",duration:"Duration",overview:"Overview",all:"All",selectAll:"Select All",deselectAll:"Deselect All",noDescription:"No description available.",noName:"No name",showMore:"Show More",showLess:"Show Less",confirmDelete:"Are you sure you want to delete?",update:"Update",add:"Add"},Wae={cast:"Cast",crew:"Crew",director:"Director",writer:"Writer",producer:"Producer",releaseDate:"Release Date",runtime:"Runtime",budget:"Budget",revenue:"Revenue",status:"Status",originalLanguage:"Original Language",productionCompanies:"Production Companies",reviews:"Reviews",addReview:"Add Review",yourReview:"Your Review",writeReview:"Write a review...",submit:"Submit",delete:"Delete",edit:"Edit",season:"Season",episode:"Episode",episodes:"Episodes",aired:"Aired",addLink:"Add Link",manageLinks:"Manage Links",quality:"Quality",language:"Language",link:"Link",play:"Play",noLinks:"No links available",addFirstLink:"Add the first link to this episode"},qae={nav:jae,auth:Oae,profile:Mae,movies:Lae,series:Vae,collections:Fae,dashboard:zae,friends:Uae,admin:$ae,common:Bae,details:Wae},Hae=localStorage.getItem("language")||"pl";Ss.use(eee).init({resources:{pl:{translation:Dae},en:{translation:qae}},lng:Hae,fallbackLng:"pl",interpolation:{escapeValue:!1}});t5.createRoot(document.getElementById("root")).render(p.jsx(xae,{}));
